webpackJsonp([2],{107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.targetOrigin,o=a.open,i=t.muiTheme,l=n.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:i.zIndex.popover,opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:l+" "+n.vertical,transition:M.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),l=n(i),r=a(2),s=n(r),u=a(3),d=n(u),c=a(6),p=n(c),f=a(5),h=n(f),m=a(7),y=n(m),v=a(0),T=n(v),g=a(1),b=n(g),D=a(24),S=n(D),k=a(12),M=n(k),x=a(21),_=(n(x),function(e){function t(){var e,a,n,o;(0,s.default)(this,t);for(var i=arguments.length,r=Array(i),u=0;u<i;u++)r[u]=arguments[u];return a=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),n.state={open:!1},o=a,(0,p.default)(n,o)}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style,n=e.zDepth,i=o(this.props,this.context,this.state);return T.default.createElement(S.default,{style:(0,y.default)(i.root,a),zDepth:n,className:t},this.props.children)}}]),t}(v.Component));_.defaultProps={style:{},zDepth:1},_.contextTypes={muiTheme:b.default.object.isRequired},_.propTypes={},t.default=_},115:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=t.DropDownMenu=void 0;var o=a(149),i=n(o),l=a(89),r=n(l);t.DropDownMenu=i.default,t.MenuItem=r.default,t.default=i.default},145:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=t.muiTheme.checkbox;return{icon:{height:24,width:24},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:E.default.easeOut("450ms","opacity","0ms")+", "+E.default.easeOut("0ms","transform","450ms"),fill:a.checkedColor},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:E.default.easeOut("0ms","opacity","0ms")+", "+E.default.easeOut("800ms","transform","0ms")},checkWhenDisabled:{fill:a.disabledColor},box:{position:"absolute",opacity:1,fill:a.boxColor,transition:E.default.easeOut("1000ms","opacity","200ms")},boxWhenSwitched:{opacity:0,transition:E.default.easeOut("650ms","opacity","150ms"),fill:a.checkedColor},boxWhenDisabled:{fill:e.checked?"transparent":a.disabledColor},label:{color:e.disabled?a.labelDisabledColor:a.labelColor}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(157),_=n(x),C=a(12),E=n(C),w=a(167),O=n(w),P=a(168),R=n(P),W=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={switched:!1},n.handleStateChange=function(e){n.setState({switched:e})},n.handleCheck=function(e,t){n.props.onCheck&&n.props.onCheck(e,t)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.checked,a=e.defaultChecked,n=e.valueLink;(t||a||n&&n.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.checked!==e.checked&&this.setState({switched:e.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"render",value:function(){var e=this.props,t=e.iconStyle,a=(e.onCheck,e.checkedIcon),n=e.uncheckedIcon,i=(0,s.default)(e,["iconStyle","onCheck","checkedIcon","uncheckedIcon"]),r=o(this.props,this.context),u=(0,b.default)(r.box,this.state.switched&&r.boxWhenSwitched,t,this.props.disabled&&r.boxWhenDisabled),d=(0,b.default)(r.check,this.state.switched&&r.checkWhenSwitched,t,this.props.disabled&&r.checkWhenDisabled),c=a?S.default.cloneElement(a,{style:(0,b.default)(d,a.props.style)}):S.default.createElement(R.default,{style:d}),p=n?S.default.cloneElement(n,{style:(0,b.default)(u,n.props.style)}):S.default.createElement(O.default,{style:u}),f=S.default.createElement("div",null,p,c),h=this.state.switched?d.fill:u.fill,m=(0,b.default)(r.icon,t),y=(0,b.default)(r.label,this.props.labelStyle),v={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:f,rippleColor:h,iconStyle:m,onSwitch:this.handleCheck,labelStyle:y,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return S.default.createElement(_.default,(0,l.default)({},i,v))}}]),t}(D.Component);W.defaultProps={labelPosition:"right",disabled:!1},W.contextTypes={muiTheme:M.default.object.isRequired},W.propTypes={},t.default=W},146:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.autoScrollBodyContent,n=e.open,o=t.muiTheme,i=o.baseTheme,l=i.spacing,r=i.palette,s=o.dialog,u=o.zIndex,d=l.desktopGutter,c="1px solid "+r.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:u.dialog,top:0,left:n?0:-1e4,width:"100%",height:"100%",transition:n?R.default.easeOut("0ms","left","0ms"):R.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:R.default.easeOut(),position:"relative",width:"75%",maxWidth:12*l.desktopKeylineIncrement,margin:"0 auto",zIndex:u.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:a?-1:0},overlay:{zIndex:u.dialogOverlay},title:{margin:0,padding:d+"px "+d+"px 20px "+d+"px",color:r.textColor,fontSize:s.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:a?-1:0},body:{fontSize:s.bodyFontSize,color:s.bodyColor,padding:(e.title?0:d)+"px "+d+"px "+d+"px",boxSizing:"border-box",overflowY:a?"auto":"hidden",borderTop:a?c:"none",borderBottom:a?c:"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(15),_=n(x),C=a(26),E=n(C),w=a(25),O=n(w),P=a(12),R=n(P),W=a(108),F=n(W),Y=a(159),A=n(Y),L=a(24),H=n(L),j=a(97),N=n(j),I=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={style:{}},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(e){this.componentWillAppear(e)}},{key:"componentWillAppear",value:function(e){var t=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+t.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(e,450)}},{key:"componentWillLeave",value:function(e){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.style,a=e.children,n=(0,s.default)(e,["style","children"]),o=this.context.muiTheme.prepareStyles;return S.default.createElement("div",(0,l.default)({},n,{style:o((0,b.default)({},this.state.style,t))}),a)}}]),t}(D.Component);I.contextTypes={muiTheme:M.default.object.isRequired},I.propTypes={};var z=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.handleTouchTapOverlay=function(){n.requestClose(!1)},n.handleKeyUp=function(e){"esc"===(0,O.default)(e)&&n.requestClose(!1)},n.handleResize=function(){n.positionDialog()},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var e=this.props,t=e.actions,a=e.autoDetectWindowHeight,n=e.autoScrollBodyContent,i=e.bodyStyle,l=e.open,r=e.repositionOnUpdate,s=e.title;if(l){var u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=_.default.findDOMNode(this),c=_.default.findDOMNode(this.refs.dialogWindow),p=_.default.findDOMNode(this.refs.dialogContent);c.style.height="",p.style.height="";var f=c.offsetHeight,h=(u-f)/2-64;if(h<16&&(h=16),!r&&d.style.paddingTop||(d.style.paddingTop=h+"px"),a||n){var m=o(this.props,this.context);m.body=(0,b.default)(m.body,i);var y=u-128;s&&(y-=p.previousSibling.offsetHeight),S.default.Children.count(t)&&(y-=p.nextSibling.offsetHeight),p.style.maxHeight=y+"px",y>f&&(p.style.borderBottom="none",p.style.borderTop="none")}}}},{key:"requestClose",value:function(e){!e&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!e)}},{key:"render",value:function(){var e=this.props,t=e.actions,a=e.actionsContainerClassName,n=e.actionsContainerStyle,i=e.bodyClassName,r=e.bodyStyle,s=e.children,u=e.className,d=e.contentClassName,c=e.contentStyle,p=e.overlayClassName,f=e.overlayStyle,h=e.open,m=e.paperClassName,y=e.paperProps,v=e.style,T=e.titleClassName,g=e.titleStyle,D=e.title,k=this.context.muiTheme.prepareStyles,M=o(this.props,this.context);M.root=(0,b.default)(M.root,v),M.content=(0,b.default)(M.content,c),M.body=(0,b.default)(M.body,r),M.actionsContainer=(0,b.default)(M.actionsContainer,n),M.overlay=(0,b.default)(M.overlay,f),M.title=(0,b.default)(M.title,g);var x=S.default.Children.count(t)>0&&S.default.createElement("div",{className:a,style:k(M.actionsContainer)},S.default.Children.toArray(t)),_=D;return S.default.isValidElement(D)?_=S.default.cloneElement(D,{className:D.props.className||T,style:k((0,b.default)(M.title,D.props.style))}):"string"==typeof D&&(_=S.default.createElement("h3",{className:T,style:k(M.title)},D)),S.default.createElement("div",{className:u,style:k(M.root)},h&&S.default.createElement(E.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),S.default.createElement(N.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},h&&S.default.createElement(I,{className:d,style:M.content},S.default.createElement(H.default,(0,l.default)({className:m,zDepth:4},y),_,S.default.createElement("div",{ref:"dialogContent",className:i,style:k(M.body)},s),x))),S.default.createElement(F.default,{show:h,className:p,style:M.overlay,onTouchTap:this.handleTouchTapOverlay}))}}]),t}(D.Component);z.contextTypes={muiTheme:M.default.object.isRequired},z.propTypes={};var K=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.renderLayer=function(){return S.default.createElement(z,n.props)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return S.default.createElement(A.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),t}(D.Component);K.contextTypes={muiTheme:M.default.object.isRequired},K.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},K.propTypes={},t.default=K},149:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.disabled,n=t.muiTheme.baseTheme.spacing,o=t.muiTheme.baseTheme.palette,i=t.muiTheme.dropDownMenu.accentColor;return{control:{cursor:a?"not-allowed":"pointer",height:"100%",position:"relative",width:"100%"},icon:{fill:i,position:"absolute",right:n.desktopGutterLess,top:(n.iconSize-24)/2+n.desktopGutterMini/2},iconChildren:{fill:"inherit"},label:{color:a?o.disabledColor:o.textColor,height:n.desktopToolbarHeight+"px",lineHeight:n.desktopToolbarHeight+"px",overflow:"hidden",opacity:1,position:"relative",paddingLeft:n.desktopGutter,paddingRight:2*n.iconSize+n.desktopGutterMini,textOverflow:"ellipsis",top:0,whiteSpace:"nowrap"},labelWhenOpen:{opacity:0,top:n.desktopToolbarHeight/8},root:{display:"inline-block",fontSize:n.desktopDropDownMenuFontSize,height:n.desktopSubheaderHeight,fontFamily:t.muiTheme.baseTheme.fontFamily,outline:"none",position:"relative",transition:E.default.easeOut()},rootWhenOpen:{opacity:1},underline:{borderTop:"solid 1px "+i,bottom:1,left:0,margin:"-1px "+n.desktopGutter+"px",right:0,position:"absolute"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(15),_=n(x),C=a(12),E=n(C),w=a(164),O=n(w),P=a(90),R=n(P),W=a(155),F=n(W),Y=a(66),A=n(Y),L=a(107),H=n(L),j=a(25),N=n(j),I=a(69),z=n(I),K=a(38),q=n(K),U=a(21),B=(n(U),function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.rootNode=void 0,n.arrowNode=void 0,n.handleTouchTapControl=function(e){e.preventDefault(),n.props.disabled||n.setState({open:!n.state.open,anchorEl:n.rootNode})},n.handleRequestCloseMenu=function(){n.close(!1)},n.handleEscKeyDownMenu=function(){n.close(!0)},n.handleKeyDown=function(e){switch((0,N.default)(e)){case"up":case"down":case"space":case"enter":e.preventDefault(),n.setState({open:!0,anchorEl:n.rootNode})}},n.handleItemTouchTap=function(e,t,a){n.props.multiple?n.state.open||n.setState({open:!0}):(e.persist(),n.setState({open:!1},function(){n.props.onChange&&n.props.onChange(e,a,t.props.value),n.close(z.default.isKeyboard(e))}))},n.handleChange=function(e,t){n.props.multiple&&n.props.onChange&&n.props.onChange(e,void 0,t)},n.close=function(e){n.setState({open:!1},function(){if(n.props.onClose&&n.props.onClose(),e){var t=n.arrowNode;_.default.findDOMNode(t).focus(),t.setKeyboardFocus(!0)}})},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.autoWidth&&this.setWidth(),this.props.openImmediately&&setTimeout(function(){return e.setState({open:!0,anchorEl:e.rootNode})},0)}},{key:"componentWillReceiveProps",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getInputNode",value:function(){var e=this,t=this.rootNode;return t.focus=function(){e.props.disabled||e.setState({open:!e.state.open,anchorEl:e.rootNode})},t}},{key:"setWidth",value:function(){var e=this.rootNode;this.props.style&&this.props.style.hasOwnProperty("width")||(e.style.width="auto")}},{key:"render",value:function(){var e=this,t=this.props,a=t.animated,n=t.animation,i=t.autoWidth,r=t.multiple,u=t.children,d=t.className,c=t.disabled,p=t.iconStyle,f=t.labelStyle,h=t.listStyle,m=t.maxHeight,y=t.menuStyle,v=t.selectionRenderer,T=(t.onClose,t.openImmediately,t.menuItemStyle),g=t.selectedMenuItemStyle,D=t.style,k=t.underlineStyle,M=t.value,x=t.iconButton,_=t.anchorOrigin,C=t.targetOrigin,E=(0,s.default)(t,["animated","animation","autoWidth","multiple","children","className","disabled","iconStyle","labelStyle","listStyle","maxHeight","menuStyle","selectionRenderer","onClose","openImmediately","menuItemStyle","selectedMenuItemStyle","style","underlineStyle","value","iconButton","anchorOrigin","targetOrigin"]),w=this.state,O=w.anchorEl,P=w.open,W=this.context.muiTheme.prepareStyles,Y=o(this.props,this.context),L="";if(r){var j=[],N=[];S.default.Children.forEach(u,function(e){e&&M&&M.indexOf(e.props.value)>-1&&(v?(j.push(e.props.value),N.push(e)):j.push(e.props.label||e.props.primaryText))}),L=[],L=v?v(j,N):j.join(", ")}else S.default.Children.forEach(u,function(e){e&&M===e.props.value&&(L=v?v(M,e):e.props.label||e.props.primaryText)});var I=void 0;return I=O&&!i?(0,b.default)({width:O.clientWidth},y):y,S.default.createElement("div",(0,l.default)({},E,{ref:function(t){e.rootNode=t},className:d,style:W((0,b.default)({},Y.root,P&&Y.rootWhenOpen,D))}),S.default.createElement(F.default,{style:Y.control,onTouchTap:this.handleTouchTapControl},S.default.createElement("div",{style:W((0,b.default)({},Y.label,P&&Y.labelWhenOpen,f))},L),S.default.createElement(q.default,{disabled:c,onKeyDown:this.handleKeyDown,ref:function(t){e.arrowNode=t},style:(0,b.default)({},Y.icon,p),iconStyle:Y.iconChildren},x),S.default.createElement("div",{style:W((0,b.default)({},Y.underline,k))})),S.default.createElement(A.default,{anchorOrigin:_,targetOrigin:C,anchorEl:O,animation:n||H.default,open:P,animated:a,onRequestClose:this.handleRequestCloseMenu},S.default.createElement(R.default,{multiple:r,maxHeight:m,desktop:!0,value:M,onEscKeyDown:this.handleEscKeyDownMenu,style:I,listStyle:h,onItemTouchTap:this.handleItemTouchTap,onChange:this.handleChange,menuItemStyle:T,selectedMenuItemStyle:g,autoWidth:i,width:!i&&I?I.width:null},u)))}}]),t}(D.Component));B.muiName="DropDownMenu",B.defaultProps={animated:!0,autoWidth:!0,disabled:!1,iconButton:S.default.createElement(O.default,null),openImmediately:!1,maxHeight:500,multiple:!1,anchorOrigin:{vertical:"top",horizontal:"left"}},B.contextTypes={muiTheme:M.default.object.isRequired},B.propTypes={},t.default=B},152:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=t.muiTheme,o=n.baseTheme.spacing.desktopSubheaderHeight,i=n.zIndex,l=a.open;return{root:{position:"fixed",left:"50%",display:"flex",bottom:0,zIndex:i.snackbar,visibility:l?"visible":"hidden",transform:l?"translate(-50%, 0)":"translate(-50%, "+o+"px)",transition:_.default.easeOut("400ms","transform")+", "+_.default.easeOut("400ms","visibility")}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(12),_=n(x),C=a(156),E=n(C),w=a(153),O=n(w),P=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.componentClickAway=function(){n.timerTransitionId||(null!==n.props.open&&n.props.onRequestClose?n.props.onRequestClose("clickaway"):n.setState({open:!1}))},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.open&&e.open&&(e.message!==this.props.message||e.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){t.setState({message:e.message,action:e.action,open:!0})},400);else{var a=e.open;this.setState({open:null!==a?a:this.state.open,message:e.message,action:e.action})}}},{key:"componentDidUpdate",value:function(e,t){t.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var e=this,t=this.props.autoHideDuration;t>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==e.props.open&&e.props.onRequestClose?e.props.onRequestClose("timeout"):e.setState({open:!1})},t))}},{key:"setTransitionTimer",value:function(){var e=this;this.timerTransitionId=setTimeout(function(){e.timerTransitionId=void 0},400)}},{key:"render",value:function(){var e=this.props,t=(e.autoHideDuration,e.contentStyle),a=e.bodyStyle,n=(e.message,e.onRequestClose,e.onActionTouchTap),i=e.style,r=(0,s.default)(e,["autoHideDuration","contentStyle","bodyStyle","message","onRequestClose","onActionTouchTap","style"]),u=this.state,d=u.action,c=u.message,p=u.open,f=this.context.muiTheme.prepareStyles,h=o(this.props,this.context,this.state);return S.default.createElement(E.default,{onClickAway:p?this.componentClickAway:null},S.default.createElement("div",(0,l.default)({},r,{style:f((0,b.default)(h.root,i))}),S.default.createElement(O.default,{action:d,contentStyle:t,message:c,open:p,onActionTouchTap:n,style:a})))}}]),t}(D.Component);P.contextTypes={muiTheme:M.default.object.isRequired},P.propTypes={},t.default=P},153:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.open,n=e.width,o=t.muiTheme,i=o.baseTheme,l=i.spacing,r=l.desktopGutter,s=l.desktopSubheaderHeight,u=i.fontFamily,d=o.snackbar,c=d.backgroundColor,p=d.textColor,f=d.actionColor,h=o.borderRadius,m=n===v.SMALL;return{root:{fontFamily:u,backgroundColor:c,padding:"0 "+r+"px",height:s,lineHeight:s+"px",borderRadius:m?0:h,maxWidth:m?"inherit":568,minWidth:m?"inherit":288,width:m?"calc(100vw - "+2*r+"px)":"auto",flexGrow:m?1:0},content:{fontSize:14,color:p,opacity:a?1:0,transition:a?y.default.easeOut("500ms","opacity","100ms"):y.default.easeOut("400ms","opacity")},action:{color:f,float:"right",marginTop:6,marginRight:-16,marginLeft:r,backgroundColor:"transparent"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarBody=void 0;var i=a(8),l=n(i),r=a(9),s=n(r),u=a(7),d=n(u),c=a(0),p=n(c),f=a(1),h=n(f),m=a(12),y=n(m),v=a(169),T=n(v),g=a(29),b=n(g),D=function(e,t){var a=e.action,n=e.contentStyle,i=e.message,r=(e.open,e.onActionTouchTap),u=e.style,c=(0,s.default)(e,["action","contentStyle","message","open","onActionTouchTap","style"]),f=t.muiTheme.prepareStyles,h=o(e,t),m=a&&p.default.createElement(b.default,{style:h.action,label:a,onTouchTap:r});return p.default.createElement("div",(0,l.default)({},c,{style:f((0,d.default)(h.root,u))}),p.default.createElement("div",{style:f((0,d.default)(h.content,n))},p.default.createElement("span",null,i),m))};t.SnackbarBody=D,D.propTypes={},D.contextTypes={muiTheme:h.default.object.isRequired},t.default=(0,T.default)()(D)},154:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(9),i=n(o),l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),p=a(6),f=n(p),h=a(5),m=n(h),y=a(7),v=n(y),T=a(0),g=n(T),b=a(1),D=n(b),S={box:{boxSizing:"border-box"}},k=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.beforeStyle,a=e.afterStyle,n=(e.beforeElementType,e.afterElementType,e.elementType,(0,i.default)(e,["beforeStyle","afterStyle","beforeElementType","afterElementType","elementType"])),o=this.context.muiTheme.prepareStyles,l=void 0,r=void 0;t&&(l=g.default.createElement(this.props.beforeElementType,{style:o((0,v.default)({},S.box,t)),key:"::before"})),a&&(r=g.default.createElement(this.props.afterElementType,{style:o((0,v.default)({},S.box,a)),key:"::after"}));var s=[l,this.props.children,r],u=n;return u.style=o((0,v.default)({},this.props.style)),g.default.createElement(this.props.elementType,u,s)}}]),t}(T.Component);k.defaultProps={beforeElementType:"div",afterElementType:"div",elementType:"div"},k.contextTypes={muiTheme:D.default.object.isRequired},k.propTypes={},t.default=k},155:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(0),u=n(s),d=a(1),c=(n(d),a(154)),p=n(c),f={before:{content:"' '",display:"table"},after:{content:"' '",clear:"both",display:"table"}},h=function(e){var t=e.style,a=e.children,n=(0,r.default)(e,["style","children"]);return u.default.createElement(p.default,(0,i.default)({},n,{beforeStyle:f.before,afterStyle:f.after,style:t}),a)};h.muiName="ClearFix",h.propTypes={},t.default=h},157:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=t.muiTheme.baseTheme;return{root:{cursor:e.disabled?"not-allowed":"pointer",position:"relative",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:"inherit",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:a.palette.textColor,fontFamily:a.fontFamily},wrap:{transition:O.default.easeOut(),float:"left",position:"relative",display:"block",flexShrink:0,width:60-a.spacing.desktopGutterLess,marginRight:"right"===e.labelPosition?a.spacing.desktopGutterLess:0,marginLeft:"left"===e.labelPosition?a.spacing.desktopGutterLess:0},ripple:{color:e.rippleColor||a.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(26),_=n(x),C=a(25),E=n(C),w=a(12),O=n(w),P=a(158),R=n(P),W=a(161),F=n(W),Y=a(24),A=n(Y),L=a(10),H=(n(L),function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={isKeyboardFocused:!1},n.handleChange=function(e){n.tabPressed=!1,n.setState({isKeyboardFocused:!1});var t=n.refs.checkbox.checked;!n.props.hasOwnProperty("checked")&&n.props.onParentShouldUpdate&&n.props.onParentShouldUpdate(t),n.props.onSwitch&&n.props.onSwitch(e,t)},n.handleKeyDown=function(e){var t=(0,E.default)(e);"tab"===t&&(n.tabPressed=!0),n.state.isKeyboardFocused&&"space"===t&&n.handleChange(e)},n.handleKeyUp=function(e){n.state.isKeyboardFocused&&"space"===(0,E.default)(e)&&n.handleChange(e)},n.handleMouseDown=function(e){0===e.button&&n.refs.touchRipple.start(e)},n.handleMouseUp=function(){n.refs.touchRipple.end()},n.handleMouseLeave=function(){n.refs.touchRipple.end()},n.handleTouchStart=function(e){n.refs.touchRipple.start(e)},n.handleTouchEnd=function(){n.refs.touchRipple.end()},n.handleBlur=function(e){n.setState({isKeyboardFocused:!1}),n.props.onBlur&&n.props.onBlur(e)},n.handleFocus=function(e){setTimeout(function(){n.tabPressed&&n.setState({isKeyboardFocused:!0})},150),n.props.onFocus&&n.props.onFocus(e)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.checkbox;this.props.switched&&e.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(e.checked)}},{key:"componentWillReceiveProps",value:function(e){var t=e.hasOwnProperty("checked"),a=e.hasOwnProperty("defaultChecked")&&e.defaultChecked!==this.props.defaultChecked;if(t||a){var n=e.checked||e.defaultChecked||!1;this.setState({switched:n}),this.props.onParentShouldUpdate&&n!==this.props.switched&&this.props.onParentShouldUpdate(n)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(e){this.props.hasOwnProperty("checked")&&!1!==this.props.checked||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(e),this.refs.checkbox.checked=e)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.iconStyle,i=e.inputStyle,r=e.inputType,u=e.label,d=e.labelStyle,c=e.labelPosition,p=(e.onSwitch,e.onBlur,e.onFocus,e.onMouseUp,e.onMouseDown,e.onMouseLeave,e.onTouchStart,e.onTouchEnd,e.onParentShouldUpdate,e.disabled),f=e.disableTouchRipple,h=e.disableFocusRipple,m=e.className,y=(e.rippleColor,e.rippleStyle),v=e.style,T=(e.switched,e.switchElement),g=e.thumbStyle,D=e.trackStyle,k=(0,s.default)(e,["name","value","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),M=this.context.muiTheme.prepareStyles,x=o(this.props,this.context),C=(0,b.default)(x.wrap,n),E=(0,b.default)(x.ripple,y);g&&(C.marginLeft/=2,C.marginRight/=2);var w=u&&S.default.createElement("label",{style:M((0,b.default)(x.label,d))},u),O=!p&&!f,P=!p&&!h,W=S.default.createElement(F.default,{ref:"touchRipple",key:"touchRipple",style:E,color:E.color,muiTheme:this.context.muiTheme,centerRipple:!0}),Y=S.default.createElement(R.default,{key:"focusRipple",innerStyle:E,color:E.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),L=[O?W:null,P?Y:null],H=S.default.createElement("input",(0,l.default)({},k,{ref:"checkbox",type:r,style:M((0,b.default)(x.input,i)),name:t,value:a,disabled:p,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onMouseUp:O&&this.handleMouseUp,onMouseDown:O&&this.handleMouseDown,onMouseLeave:O&&this.handleMouseLeave,onTouchStart:O&&this.handleTouchStart,onTouchEnd:O&&this.handleTouchEnd})),j=g?S.default.createElement("div",{style:M(C)},S.default.createElement("div",{style:M((0,b.default)({},D))}),S.default.createElement(A.default,{style:g,zDepth:1,circle:!0}," ",L," ")):S.default.createElement("div",{style:M(C)},T,L),N="right"===c?S.default.createElement("div",{style:x.controls},j,w):S.default.createElement("div",{style:x.controls},w,j);return S.default.createElement("div",{ref:"root",className:m,style:M((0,b.default)(x.root,v))},S.default.createElement(_.default,{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),H,N)}}]),t}(D.Component));H.contextTypes={muiTheme:M.default.object.isRequired},H.propTypes={},t.default=H},160:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(97),x=n(M),_=a(439),C=n(_),E=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.getLeaveDirection=function(){return n.props.direction},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.enterDelay,n=t.children,o=t.childStyle,l=t.direction,s=t.style,u=(0,r.default)(t,["enterDelay","children","childStyle","direction","style"]),d=this.context.muiTheme.prepareStyles,c=(0,g.default)({},{position:"relative",overflow:"hidden",height:"100%"},s),p=D.default.Children.map(n,function(t){return D.default.createElement(C.default,{key:t.key,direction:l,enterDelay:a,getLeaveDirection:e.getLeaveDirection,style:o},t)},this);return D.default.createElement(x.default,(0,i.default)({},u,{style:d(c),component:"div"}),p)}}]),t}(b.Component);E.defaultProps={enterDelay:0,direction:"left"},E.contextTypes={muiTheme:k.default.object.isRequired},E.propTypes={},t.default=E},164:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M7 10l5 5 5-5z"}))};d=(0,r.default)(d),d.displayName="NavigationArrowDropDown",d.muiName="SvgIcon",t.default=d},167:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};d=(0,r.default)(d),d.displayName="ToggleCheckBoxOutlineBlank",d.muiName="SvgIcon",t.default=d},168:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};d=(0,r.default)(d),d.displayName="ToggleCheckBox",d.muiName="SvgIcon",t.default=d},169:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.largeWidth,a=void 0===t?992:t,n=e.mediumWidth,o=void 0===n?768:n,i=e.resizeInterval,r=void 0===i?166:i;return function(e){return function(t){function n(){var e,t,a,o;(0,d.default)(this,n);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return t=a=(0,h.default)(this,(e=n.__proto__||(0,s.default)(n)).call.apply(e,[this].concat(l))),a.state={width:null},a.handleResize=function(){clearTimeout(a.deferTimer),a.deferTimer=setTimeout(function(){a.updateWidth()},r)},o=t,(0,h.default)(a,o)}return(0,y.default)(n,t),(0,p.default)(n,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var e=window.innerWidth,t=void 0;(t=e>=a?k:e>=o?S:D)!==this.state.width&&this.setState({width:t})}},{key:"render",value:function(){var t=this.state.width;return null===t?null:T.default.createElement(b.default,{target:"window",onResize:this.handleResize},T.default.createElement(e,(0,l.default)({width:t},this.props)))}}]),n}(v.Component)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LARGE=t.MEDIUM=t.SMALL=void 0;var i=a(8),l=n(i),r=a(4),s=n(r),u=a(2),d=n(u),c=a(3),p=n(c),f=a(6),h=n(f),m=a(5),y=n(m);t.default=o;var v=a(0),T=n(v),g=a(26),b=n(g),D=t.SMALL=1,S=t.MEDIUM=2,k=t.LARGE=3},214:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=a(304),i=n(o),l=a(303),r=n(l);t.default=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var l,s=(0,r.default)(e);!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},238:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={root:{directionInvariant:!0,display:"inline-block",position:"absolute",width:32,height:32,borderRadius:"100%",left:"calc(50% - 16px)",top:10,textAlign:"center",paddingTop:5,userSelect:"none",fontSize:"1.1em",pointerEvents:"none",boxSizing:"border-box"}},n=t.muiTheme,o=e.value;"hour"===e.type?o%=12:o/=5;var i=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],l=[[0,40],[36.9,49.9],[64,77],[74,114],[64,151],[37,178],[0,188],[-37,178],[-64,151],[-74,114],[-64,77],[-37,50]];e.isSelected&&(a.root.backgroundColor=n.timePicker.accentColor,a.root.color=n.timePicker.selectTextColor);var r=i[o];(0,D.isInner)(e)&&(a.root.width=28,a.root.height=28,a.root.left="calc(50% - 14px)",r=l[o]);var s=r,u=(0,y.default)(s,2),d=u[0],c=u[1];return a.root.transform="translate("+d+"px, "+c+"px)",a}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),l=n(i),r=a(2),s=n(r),u=a(3),d=n(u),c=a(6),p=n(c),f=a(5),h=n(f),m=a(214),y=n(m),v=a(0),T=n(v),g=a(1),b=n(g),D=a(91),S=function(e){function t(){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.context.muiTheme.prepareStyles,t=o(this.props,this.context),a=0===this.props.value?"00":this.props.value;return T.default.createElement("span",{style:e(t.root)},a)}}]),t}(v.Component);S.defaultProps={value:0,type:"minute",isSelected:!1},S.contextTypes={muiTheme:b.default.object.isRequired},S.propTypes={},t.default=S},239:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e%=t,360/t*e}function i(e,t,a){var n=e.hasSelected,i=e.type,l=e.value,r=a.inner,s=t.muiTheme.timePicker,u="hour"===i?o(l,12):o(l,60);return{root:{height:r?"30%":"40%",background:s.accentColor,width:2,left:"calc(50% - 1px)",position:"absolute",bottom:"50%",transformOrigin:"bottom",pointerEvents:"none",transform:"rotateZ("+u+"deg)"},mark:{boxSizing:"content-box",background:s.selectTextColor,border:"4px solid "+s.accentColor,display:n&&"none",width:7,height:7,position:"absolute",top:-5,left:-6,borderRadius:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),p=a(6),f=n(p),h=a(5),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(91),D=function(e){function t(){var e,a,n,o;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.state={inner:!1},o=a,(0,f.default)(n,o)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.setState({inner:(0,b.isInner)(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({inner:(0,b.isInner)(e)})}},{key:"render",value:function(){if(null===this.props.value)return v.default.createElement("span",null);var e=i(this.props,this.context,this.state),t=this.context.muiTheme.prepareStyles;return v.default.createElement("div",{style:t(e.root)},v.default.createElement("div",{style:t(e.mark)}))}}]),t}(y.Component);D.defaultProps={hasSelected:!1,value:null,type:"minute"},D.contextTypes={muiTheme:g.default.object.isRequired},D.propTypes={},t.default=D},279:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(406),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(433),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},302:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=a(0),l=n(i),r=a(15),s=n(r),u=a(34),d=n(u),c=a(58),p=n(c),f=a(41),h=n(f),m=(a(57),a(79)),y=(n(m),a(29)),v=(n(y),a(45)),T=(n(v),a(80)),g=n(T),b=a(115),D=(n(b),a(101)),S=(n(D),a(279)),k=(n(S),a(280)),M=n(k),x=a(36),_=n(x),C=a(78);n(C);(0,n(a(81)).default)();var E=document.querySelector("#token").innerHTML,w=l.default.createClass({displayName:"ShopReg",getInitialState:function(){return{msgSnackbarOpen:!1,snackbarMessage:"",myShop:{},myShopReady:!1}},componentDidMount:function(){var e=this;console.log("token: "+E),_.default.get("/api/v1/shopadm/myshop?token="+E).then(function(t){console.log("response.data.shop: "+JSON.stringify(t.data.shop)),e.setState({myShop:t.data.shop,myShopReady:!0})}).catch(function(t){console.error(t),e.openSnackbar("Error al cargar los datos del comercio")})},openSnackbar:function(e){console.log("Abriendo snack bar"),this.setState({msgSnackbarOpen:!0,snackbarMessage:e})},validateShop:function(){},render:function(){var e,t=this;return l.default.createElement(d.default,null,l.default.createElement("div",{style:{paddingBottom:10,backgroundColor:"rgba(255,255,255,0.7)"}},l.default.createElement("div",{style:{margin:20}},l.default.createElement("h1",null,"Validacion de alta de comercio"),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos basicos"),l.default.createElement(h.default,{name:"Nombre",hint:"Nombre",floatingLabelText:"Nombre",value:this.state.myShop.name,disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Direccion",hint:"Direccion",floatingLabelText:"Direccion",value:this.state.myShop.address,onChange:function(e){return t.setState({address:e.target.value})},disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Latitud",hint:"Latitud",floatingLabelText:"Latitud",value:this.state.myShop.lat,onChange:function(e){return t.setState({lat:e.target.value})},disabled:!0,style:{marginRight:10}}),l.default.createElement(h.default,{name:"Longitud",hint:"Longitud",floatingLabelText:"Longitud",value:this.state.myShop.long,onChange:function(e){return t.setState({long:e.target.value})},disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Telefono",hint:"Telefono sin guion ni espacios",floatingLabelText:"Telefono",value:this.state.myShop.phone,onChange:function(e){return t.setState({phone:e.target.value})},disabled:!0}),l.default.createElement("br",null),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos del menu"),l.default.createElement(h.default,{name:"Tipo de comida",hint:"Tipo de comida",floatingLabelText:"Tipo de comida",value:this.state.adminEmail,onChange:function(e){return t.setState({adminEmail:e.target.value})}}),l.default.createElement("br",null),l.default.createElement("h3",null,"Horario de dia de semana"),l.default.createElement(M.default,{format:"24hr",hintText:"Hora de apertura"}),l.default.createElement(M.default,{format:"24hr",hintText:"Hora de cierre"}),l.default.createElement("br",null),l.default.createElement("h3",null,"Horario de fines de semana"),l.default.createElement(M.default,{format:"24hr",hintText:"Hora de apertura"}),l.default.createElement(M.default,{format:"24hr",hintText:"Hora de cierre"}),l.default.createElement("hr",null),l.default.createElement("h2",null,"Credenciales del administrador"),l.default.createElement(h.default,{name:"Email",hint:"Email",floatingLabelText:"Email",value:this.state.adminEmail,onChange:function(e){return t.setState({adminEmail:e.target.value})}}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Password",hint:"Password",floatingLabelText:"Password",value:this.state.adminPassword,onChange:function(e){return t.setState({adminPassword:e.target.value})},type:"password"}),l.default.createElement("br",null),l.default.createElement(p.default,(e={style:{marginTop:20},label:"Todo bien",onClick:this.validateShop,secondary:!0},o(e,"style",{marginRight:10}),o(e,"disabled",!this.state.myShopReady),e)),l.default.createElement(p.default,{style:{marginTop:20},label:"Algo esta mal",disabled:!this.state.myShopReady})),l.default.createElement(g.default,{open:this.state.msgSnackbarOpen,message:this.state.snackbarMessage,autoHideDuration:3e3,onRequestClose:this.handleSnackbarRequestClose})))}});s.default.render(l.default.createElement(w,null),document.getElementById("root"))},303:function(e,t,a){e.exports={default:a(312),__esModule:!0}},304:function(e,t,a){e.exports={default:a(313),__esModule:!0}},312:function(e,t,a){a(133),a(105),e.exports=a(341)},313:function(e,t,a){a(133),a(105),e.exports=a(342)},341:function(e,t,a){var n=a(46),o=a(228);e.exports=a(22).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},342:function(e,t,a){var n=a(216),o=a(30)("iterator"),i=a(63);e.exports=a(22).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},400:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(117),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(26),D=n(b),S=a(25),k=n(S),M=a(12),x=n(M),_=a(401),C=n(_),E=a(402),w=n(E),O=a(404),P=n(O),R=a(403),W=n(R),F=a(405),Y=n(F),A=a(160),L=n(A),H=a(88),j=[].concat((0,m.default)(Array(7))),N=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={displayDate:void 0,displayMonthDay:void 0,selectedDate:void 0,transitionDirection:"left",transitionEnter:!0},n.handleTouchTapDay=function(e,t){n.setSelectedDate(t),n.props.onTouchTapDay&&n.props.onTouchTapDay(e,t)},n.handleMonthChange=function(e){var t=n.context.muiTheme.isRtl?"right":"left",a=n.context.muiTheme.isRtl?"left":"right",o=e>=0?t:a;n.setState({transitionDirection:o,displayDate:n.props.utils.addMonths(n.state.displayDate,e)})},n.handleTouchTapYear=function(e,t){n.setSelectedDate(n.props.utils.setYear(n.state.selectedDate,t),e),n.handleTouchTapDateDisplayMonthDay()},n.handleTouchTapDateDisplayMonthDay=function(){n.setState({displayMonthDay:!0})},n.handleTouchTapDateDisplayYear=function(){n.setState({displayMonthDay:!1})},n.handleWindowKeyDown=function(e){if(n.props.open){var t=n.context.muiTheme.isRtl?"left":"right",a=n.context.muiTheme.isRtl?"right":"left";switch((0,k.default)(e)){case"up":e.altKey&&e.shiftKey?n.addSelectedYears(-1):e.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-7);break;case"down":e.altKey&&e.shiftKey?n.addSelectedYears(1):e.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(7);break;case t:e.altKey&&e.shiftKey?n.addSelectedYears(1):e.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(1);break;case a:e.altKey&&e.shiftKey?n.addSelectedYears(-1):e.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-1)}}},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.setState({displayDate:this.props.utils.getFirstDayOfMonth(this.props.initialDate),selectedDate:this.props.initialDate,displayMonthDay:!this.props.openToYearSelection})}},{key:"componentWillReceiveProps",value:function(e){if(e.initialDate!==this.props.initialDate){var t=e.initialDate||new Date;this.setState({displayDate:this.props.utils.getFirstDayOfMonth(t),selectedDate:t})}}},{key:"getMinDate",value:function(){return this.props.minDate||this.props.utils.addYears(new Date,-100)}},{key:"getMaxDate",value:function(){return this.props.maxDate||this.props.utils.addYears(new Date,100)}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"isSelectedDateDisabled",value:function(){return!!this.state.displayMonthDay&&this.refs.calendar.isSelectedDateDisabled()}},{key:"addSelectedDays",value:function(e){this.setSelectedDate(this.props.utils.addDays(this.state.selectedDate,e))}},{key:"addSelectedMonths",value:function(e){this.setSelectedDate(this.props.utils.addMonths(this.state.selectedDate,e))}},{key:"addSelectedYears",value:function(e){this.setSelectedDate(this.props.utils.addYears(this.state.selectedDate,e))}},{key:"setDisplayDate",value:function(e,t){var a=this.props.utils.getFirstDayOfMonth(e);if(a!==this.state.displayDate){var n=this.context.muiTheme.isRtl?"right":"left",o=this.context.muiTheme.isRtl?"left":"right",i=a>this.state.displayDate?n:o;this.setState({displayDate:a,transitionDirection:i,selectedDate:t||this.state.selectedDate})}}},{key:"setSelectedDate",value:function(e){var t=e,a=this.getMinDate(),n=this.getMaxDate();(0,H.isBeforeDate)(e,a)?t=a:(0,H.isAfterDate)(e,n)&&(t=n);var o=this.props.utils.getFirstDayOfMonth(t);o!==this.state.displayDate?this.setDisplayDate(o,t):this.setState({selectedDate:t})}},{key:"getToolbarInteractions",value:function(){return{prevMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMinDate())>0,nextMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMaxDate())<0}}},{key:"yearSelector",value:function(){if(!this.props.disableYearSelection)return v.default.createElement(P.default,{key:"years",DateTimeFormat:this.props.DateTimeFormat,locale:this.props.locale,onTouchTapYear:this.handleTouchTapYear,selectedDate:this.state.selectedDate,minDate:this.getMinDate(),maxDate:this.getMaxDate(),utils:this.props.utils})}},{key:"render",value:function(){var e=this.context.muiTheme.prepareStyles,t=this.props.hideCalendarDate,a=this.getToolbarInteractions(),n="landscape"===this.props.mode,o=this.context.muiTheme.datePicker.calendarTextColor,i={root:{color:o,userSelect:"none",width:!t&&n?479:310},calendar:{display:"flex",flexDirection:"column"},calendarContainer:{display:"flex",alignContent:"space-between",justifyContent:"space-between",flexDirection:"column",fontSize:12,fontWeight:400,padding:"0px 8px",transition:x.default.easeOut()},yearContainer:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:272,marginTop:10,overflow:"hidden",width:310},weekTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"500",height:20,lineHeight:"15px",opacity:"0.5",textAlign:"center"},weekTitleDay:{width:42},transitionSlide:{height:214}},l=e(i.weekTitleDay),r=this.props,s=r.cancelLabel,u=r.DateTimeFormat,d=r.firstDayOfWeek,c=r.locale,p=r.okLabel,f=r.onTouchTapCancel,h=r.onTouchTapOk,m=r.utils;return v.default.createElement("div",{style:e(i.root)},v.default.createElement(D.default,{target:"window",onKeyDown:this.handleWindowKeyDown}),!t&&v.default.createElement(Y.default,{DateTimeFormat:u,disableYearSelection:this.props.disableYearSelection,onTouchTapMonthDay:this.handleTouchTapDateDisplayMonthDay,onTouchTapYear:this.handleTouchTapDateDisplayYear,locale:c,monthDaySelected:this.state.displayMonthDay,mode:this.props.mode,selectedDate:this.state.selectedDate}),v.default.createElement("div",{style:e(i.calendar)},this.state.displayMonthDay&&v.default.createElement("div",{style:e(i.calendarContainer)},v.default.createElement(W.default,{DateTimeFormat:u,locale:c,displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:a.prevMonth,nextMonth:a.nextMonth}),v.default.createElement("div",{style:e(i.weekTitle)},j.map(function(e,t){return v.default.createElement("span",{key:t,style:l},(0,H.localizedWeekday)(u,c,t,d))})),v.default.createElement(L.default,{direction:this.state.transitionDirection,style:i.transitionSlide},v.default.createElement(w.default,{DateTimeFormat:u,locale:c,displayDate:this.state.displayDate,firstDayOfWeek:this.props.firstDayOfWeek,key:this.state.displayDate.toDateString(),minDate:this.getMinDate(),maxDate:this.getMaxDate(),onTouchTapDay:this.handleTouchTapDay,ref:"calendar",selectedDate:this.state.selectedDate,shouldDisableDate:this.props.shouldDisableDate,utils:m}))),!this.state.displayMonthDay&&v.default.createElement("div",{style:e(i.yearContainer)},this.yearSelector()),p&&v.default.createElement(C.default,{autoOk:this.props.autoOk,cancelLabel:s,okLabel:p,onTouchTapCancel:f,onTouchTapOk:h})))}}]),t}(y.Component);N.defaultProps={DateTimeFormat:H.dateTimeFormat,disableYearSelection:!1,initialDate:new Date,locale:"en-US",utils:H.defaultUtils},N.contextTypes={muiTheme:g.default.object.isRequired},N.propTypes={},t.default=N},401:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=(n(y),a(29)),T=n(v),g=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.cancelLabel,a=e.okLabel,n={root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:0,maxHeight:48,padding:0},flatButtons:{fontsize:14,margin:"4px 8px 8px 0px",maxHeight:36,minWidth:64,padding:0}};return m.default.createElement("div",{style:n.root},m.default.createElement(T.default,{label:t,onTouchTap:this.props.onTouchTapCancel,primary:!0,style:n.flatButtons}),!this.props.autoOk&&m.default.createElement(T.default,{disabled:void 0!==this.refs.calendar&&this.refs.calendar.isSelectedDateDisabled(),label:a,onTouchTap:this.props.onTouchTapOk,primary:!0,style:n.flatButtons}))}}]),t}(h.Component);g.propTypes={},t.default=g},402:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=(n(y),a(88)),T=a(408),g=n(T),b={root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",fontWeight:400,height:228,lineHeight:2,position:"relative",textAlign:"center",MozPaddingStart:0},week:{display:"flex",flexDirection:"row",justifyContent:"space-around",height:34,marginBottom:2}},D=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleTouchTapDay=function(e,t){n.props.onTouchTapDay&&n.props.onTouchTapDay(e,t)},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"isSelectedDateDisabled",value:function(){return this.selectedDateDisabled}},{key:"shouldDisableDate",value:function(e){if(null===e)return!1;var t=!(0,v.isBetweenDates)(e,this.props.minDate,this.props.maxDate);return!t&&this.props.shouldDisableDate&&(t=this.props.shouldDisableDate(e)),t}},{key:"getWeekElements",value:function(){var e=this;return this.props.utils.getWeekArray(this.props.displayDate,this.props.firstDayOfWeek).map(function(t,a){return m.default.createElement("div",{key:a,style:b.week},e.getDayElements(t,a))},this)}},{key:"getDayElements",value:function(e,t){var a=this,n=this.props,o=n.DateTimeFormat,i=n.locale,l=n.selectedDate;return e.map(function(e,n){var r=(0,v.isEqualDate)(l,e),s=a.shouldDisableDate(e),u=!s&&r;return r&&(a.selectedDateDisabled=s),m.default.createElement(g.default,{DateTimeFormat:o,locale:i,date:e,disabled:s,key:"db"+(t+n),onTouchTap:a.handleTouchTapDay,selected:u})},this)}},{key:"render",value:function(){return m.default.createElement("div",{style:b.root},this.getWeekElements())}}]),t}(h.Component);D.propTypes={},t.default=D},403:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=n(y),T=a(38),g=n(T),b=a(449),D=n(b),S=a(450),k=n(S),M=a(160),x=n(M),_={root:{display:"flex",justifyContent:"space-between",backgroundColor:"inherit",height:48},titleDiv:{fontSize:14,fontWeight:"500",textAlign:"center",width:"100%"},titleText:{height:"inherit",paddingTop:12}},C=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={transitionDirection:"up"},n.handleTouchTapPrevMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(-1)},n.handleTouchTapNextMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(1)},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.displayDate!==this.props.displayDate){var t=this.context.muiTheme.isRtl?"right":"left",a=this.context.muiTheme.isRtl?"left":"right",n=e.displayDate>this.props.displayDate?t:a;this.setState({transitionDirection:n})}}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.locale,n=e.displayDate,o=new t(a,{month:"long",year:"numeric"}).format(n),i=this.context.muiTheme.isRtl?m.default.createElement(D.default,null):m.default.createElement(k.default,null),l=this.context.muiTheme.isRtl?m.default.createElement(k.default,null):m.default.createElement(D.default,null);return m.default.createElement("div",{style:_.root},m.default.createElement(g.default,{disabled:!this.props.prevMonth,onTouchTap:this.handleTouchTapPrevMonth},l),m.default.createElement(x.default,{direction:this.state.transitionDirection,style:_.titleDiv},m.default.createElement("div",{key:o,style:_.titleText},o)),m.default.createElement(g.default,{disabled:!this.props.nextMonth,onTouchTap:this.handleTouchTapNextMonth},i))}}]),t}(h.Component);C.defaultProps={nextMonth:!0,prevMonth:!0},C.contextTypes={muiTheme:v.default.object.isRequired},C.propTypes={},t.default=C},404:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),p=a(6),f=n(p),h=a(5),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(15),D=n(b),S=a(409),k=n(S),M=function(e){function t(){var e,a,n,o;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=(0,f.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.handleTouchTapYear=function(e,t){n.props.onTouchTapYear&&n.props.onTouchTapYear(e,t)},o=a,(0,f.default)(n,o)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.scrollToSelectedYear()}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedYear()}},{key:"getYears",value:function(){for(var e=this.props,t=e.DateTimeFormat,a=e.locale,n=e.minDate,o=e.maxDate,l=e.selectedDate,r=e.utils,s=r.getYear(n),u=r.getYear(o),d=[],c=s;c<=u;c++){var p=r.getYear(l)===c,f={};p&&(f.ref="selectedYearButton");var h=new t(a,{year:"numeric"}).format(r.setYear(l,c)),m=v.default.createElement(k.default,(0,i.default)({key:"yb"+c,onTouchTap:this.handleTouchTapYear,selected:p,year:c,utils:r},f),h);d.push(m)}return d}},{key:"scrollToSelectedYear",value:function(){if(void 0!==this.refs.selectedYearButton){var e=D.default.findDOMNode(this),t=D.default.findDOMNode(this.refs.selectedYearButton),a=e.clientHeight,n=t.clientHeight||32,o=t.offsetTop+n/2-a/2;e.scrollTop=o}}},{key:"render",value:function(){var e=this.context.muiTheme,t=e.prepareStyles,a=e.datePicker.calendarYearBackgroundColor,n={root:{backgroundColor:a,height:"inherit",lineHeight:"35px",overflowX:"hidden",overflowY:"scroll",position:"relative"},child:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}};return v.default.createElement("div",{style:t(n.root)},v.default.createElement("div",{style:t(n.child)},this.getYears()))}}]),t}(y.Component);M.contextTypes={muiTheme:g.default.object.isRequired},M.propTypes={},t.default=M},405:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=t.muiTheme.datePicker,o=a.selectedYear,i="landscape"===e.mode;return{root:{width:i?165:"100%",height:i?330:"auto",float:i?"left":"none",fontWeight:700,display:"inline-block",backgroundColor:n.headerColor,borderTopLeftRadius:2,borderTopRightRadius:i?0:2,borderBottomLeftRadius:i?2:0,color:n.textColor,padding:20,boxSizing:"border-box"},monthDay:{display:"block",fontSize:36,lineHeight:"36px",height:"landscape"===e.mode?"100%":38,opacity:o?.7:1,transition:M.default.easeOut(),width:"100%",fontWeight:"500"},monthDayTitle:{cursor:o?"pointer":"default",width:"100%",display:"block"},year:{margin:0,fontSize:16,fontWeight:"500",lineHeight:"16px",height:16,opacity:o?1:.7,transition:M.default.easeOut(),marginBottom:10},yearTitle:{cursor:e.disableYearSelection||o?"default":"pointer"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(12),M=n(k),x=a(160),_=n(x),C=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={selectedYear:!1,transitionDirection:"up"},n.handleTouchTapMonthDay=function(){n.props.onTouchTapMonthDay&&n.state.selectedYear&&n.props.onTouchTapMonthDay(),n.setState({selectedYear:!1})},n.handleTouchTapYear=function(){!n.props.onTouchTapYear||n.props.disableYearSelection||n.state.selectedYear||n.props.onTouchTapYear(),n.props.disableYearSelection||n.setState({selectedYear:!0})},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"componentWillReceiveProps",value:function(e){if(e.selectedDate!==this.props.selectedDate){var t=e.selectedDate>this.props.selectedDate?"up":"down";this.setState({transitionDirection:t})}void 0!==e.monthDaySelected&&this.setState({selectedYear:!e.monthDaySelected})}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=(e.disableYearSelection,e.locale),n=(e.mode,e.monthDaySelected,e.onTouchTapMonthDay,e.onTouchTapYear,e.selectedDate),i=e.style,r=(0,s.default)(e,["DateTimeFormat","disableYearSelection","locale","mode","monthDaySelected","onTouchTapMonthDay","onTouchTapYear","selectedDate","style"]),u=this.context.muiTheme.prepareStyles,d=o(this.props,this.context,this.state),c=new t(a,{year:"numeric"}).format(n),p=new t(a,{month:"short",weekday:"short",day:"2-digit"}).format(n);return b.default.createElement("div",(0,l.default)({},r,{style:u(d.root,i)}),b.default.createElement(_.default,{style:d.year,direction:this.state.transitionDirection},b.default.createElement("div",{key:c,style:d.yearTitle,onTouchTap:this.handleTouchTapYear},c)),b.default.createElement(_.default,{style:d.monthDay,direction:this.state.transitionDirection},b.default.createElement("div",{key:p,onTouchTap:this.handleTouchTapMonthDay,style:d.monthDayTitle},p)))}}]),t}(g.Component);C.defaultProps={disableYearSelection:!1,monthDaySelected:!0},C.contextTypes={muiTheme:S.default.object.isRequired},C.propTypes={},t.default=C},406:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(88),x=a(407),_=n(x),C=a(41),E=n(C),w=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={date:void 0},n.handleAccept=function(e){n.isControlled()||n.setState({date:e}),n.props.onChange&&n.props.onChange(null,e)},n.handleFocus=function(e){e.target.blur(),n.props.onFocus&&n.props.onFocus(e)},n.handleTouchTap=function(e){n.props.onTouchTap&&n.props.onTouchTap(e),n.props.disabled||setTimeout(function(){n.openDialog()},0)},n.formatDate=function(e){if(n.props.locale){return new(n.props.DateTimeFormat||M.dateTimeFormat)(n.props.locale,{day:"numeric",month:"numeric",year:"numeric"}).format(e)}return(0,M.formatIso)(e)},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({date:this.isControlled()?this.getControlledDate():this.props.defaultDate})}},{key:"componentWillReceiveProps",value:function(e){if(this.isControlled()){var t=this.getControlledDate(e);(0,M.isEqualDate)(this.state.date,t)||this.setState({date:t})}}},{key:"getDate",value:function(){return this.state.date}},{key:"openDialog",value:function(){void 0!==this.state.date?this.setState({dialogDate:this.getDate()},this.refs.dialogWindow.show):this.setState({dialogDate:new Date},this.refs.dialogWindow.show)}},{key:"focus",value:function(){this.openDialog()}},{key:"isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"getControlledDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.value instanceof Date)return e.value}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.autoOk,n=e.cancelLabel,o=e.className,l=e.container,s=(e.defaultDate,e.dialogContainerStyle),u=e.disableYearSelection,d=e.firstDayOfWeek,c=e.formatDate,p=e.locale,f=e.maxDate,h=e.minDate,m=e.mode,y=e.okLabel,v=e.onDismiss,T=(e.onFocus,e.onShow),b=(e.onTouchTap,e.openToYearSelection),S=e.shouldDisableDate,k=e.hideCalendarDate,M=e.style,x=e.textFieldStyle,C=e.utils,w=(0,r.default)(e,["DateTimeFormat","autoOk","cancelLabel","className","container","defaultDate","dialogContainerStyle","disableYearSelection","firstDayOfWeek","formatDate","locale","maxDate","minDate","mode","okLabel","onDismiss","onFocus","onShow","onTouchTap","openToYearSelection","shouldDisableDate","hideCalendarDate","style","textFieldStyle","utils"]),O=this.context.muiTheme.prepareStyles,P=c||this.formatDate;return D.default.createElement("div",{className:o,style:O((0,g.default)({},M))},D.default.createElement(E.default,(0,i.default)({},w,{onFocus:this.handleFocus,onTouchTap:this.handleTouchTap,ref:"input",style:x,value:this.state.date?P(this.state.date):""})),D.default.createElement(_.default,{DateTimeFormat:t,autoOk:a,cancelLabel:n,container:l,containerStyle:s,disableYearSelection:u,firstDayOfWeek:d,initialDate:this.state.dialogDate,locale:p,maxDate:f,minDate:h,mode:m,okLabel:y,onAccept:this.handleAccept,onShow:T,onDismiss:v,ref:"dialogWindow",shouldDisableDate:S,hideCalendarDate:k,openToYearSelection:b,utils:C}))}}]),t}(b.Component);w.defaultProps={autoOk:!1,container:"dialog",disabled:!1,disableYearSelection:!1,firstDayOfWeek:1,hideCalendarDate:!1,style:{},openToYearSelection:!1},w.contextTypes={muiTheme:k.default.object.isRequired},w.propTypes={},t.default=w},407:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(26),x=n(M),_=a(25),C=n(_),E=a(400),w=n(E),O=a(45),P=n(O),R=a(66),W=n(R),F=a(107),Y=n(F),A=a(88),L=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.show=function(){n.props.onShow&&!n.state.open&&n.props.onShow(),n.setState({open:!0})},n.dismiss=function(){n.props.onDismiss&&n.state.open&&n.props.onDismiss(),n.setState({open:!1})},n.handleTouchTapDay=function(){n.props.autoOk&&setTimeout(n.handleTouchTapOk,300)},n.handleTouchTapCancel=function(){n.dismiss()},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapOk=function(){n.props.onAccept&&!n.refs.calendar.isSelectedDateDisabled()&&n.props.onAccept(n.refs.calendar.getSelectedDate()),n.setState({open:!1})},n.handleWindowKeyUp=function(e){switch((0,C.default)(e)){case"enter":n.handleTouchTapOk()}},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.autoOk,n=e.cancelLabel,o=e.container,l=e.containerStyle,s=e.disableYearSelection,u=e.initialDate,d=e.firstDayOfWeek,c=e.locale,p=e.maxDate,f=e.minDate,h=e.mode,m=e.okLabel,y=(e.onAccept,e.onDismiss,e.onShow,e.openToYearSelection),v=e.shouldDisableDate,T=e.hideCalendarDate,b=(e.style,e.animation),S=e.utils,k=(0,r.default)(e,["DateTimeFormat","autoOk","cancelLabel","container","containerStyle","disableYearSelection","initialDate","firstDayOfWeek","locale","maxDate","minDate","mode","okLabel","onAccept","onDismiss","onShow","openToYearSelection","shouldDisableDate","hideCalendarDate","style","animation","utils"]),M=this.state.open,_={dialogContent:{width:T||"landscape"!==h?310:479},dialogBodyContent:{padding:0,minHeight:T||"landscape"===h?330:434,minWidth:T||"landscape"!==h?310:479}},C="inline"===o?W.default:P.default;return D.default.createElement("div",(0,i.default)({},k,{ref:"root"}),D.default.createElement(C,{anchorEl:this.refs.root,animation:b||Y.default,bodyStyle:_.dialogBodyContent,contentStyle:_.dialogContent,ref:"dialog",repositionOnUpdate:!0,open:M,onRequestClose:this.handleRequestClose,style:(0,g.default)(_.dialogBodyContent,l)},D.default.createElement(x.default,{target:"window",onKeyUp:this.handleWindowKeyUp}),D.default.createElement(w.default,{autoOk:a,DateTimeFormat:t,cancelLabel:n,disableYearSelection:s,firstDayOfWeek:d,initialDate:u,locale:c,onTouchTapDay:this.handleTouchTapDay,maxDate:p,minDate:f,mode:h,open:M,ref:"calendar",onTouchTapCancel:this.handleTouchTapCancel,onTouchTapOk:this.handleTouchTapOk,okLabel:m,openToYearSelection:y,shouldDisableDate:v,hideCalendarDate:T,utils:S})))}}]),t}(b.Component);L.defaultProps={DateTimeFormat:A.dateTimeFormat,cancelLabel:"Cancel",container:"dialog",locale:"en-US",okLabel:"OK",openToYearSelection:!1},L.contextTypes={muiTheme:k.default.object.isRequired},L.propTypes={},t.default=L},408:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.date,o=e.disabled,i=e.selected,l=a.hover,r=t.muiTheme,s=r.baseTheme,u=r.datePicker,d=s.palette.textColor,c=0,p="scale(0)";return l||i?(d=u.selectTextColor,c=i?1:.6,p="scale(1)"):(0,x.isEqualDate)(n,new Date)&&(d=u.color),{root:{boxSizing:"border-box",fontWeight:"400",opacity:o&&"0.4",padding:"4px 0px",position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)",width:42},label:{color:d,fontWeight:"400",position:"relative"},buttonState:{backgroundColor:u.selectColor,borderRadius:"50%",height:34,left:4,opacity:c,position:"absolute",top:0,transform:p,transition:M.default.easeOut(),width:34}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(12),M=n(k),x=a(88),_=a(67),C=n(_),E=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.handleMouseEnter=function(){n.props.disabled||n.setState({hover:!0})},n.handleMouseLeave=function(){n.props.disabled||n.setState({hover:!1})},n.handleTouchTap=function(e){!n.props.disabled&&n.props.onTouchTap&&n.props.onTouchTap(e,n.props.date)},n.handleKeyboardFocus=function(e,t){!n.props.disabled&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(e,t,n.props.date)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.date,n=e.disabled,i=e.locale,r=(e.onTouchTap,e.selected,(0,s.default)(e,["DateTimeFormat","date","disabled","locale","onTouchTap","selected"])),u=this.context.muiTheme.prepareStyles,d=o(this.props,this.context,this.state);return a?b.default.createElement(C.default,(0,l.default)({},r,{disabled:n,disableFocusRipple:!0,disableTouchRipple:!0,onKeyboardFocus:this.handleKeyboardFocus,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:d.root}),b.default.createElement("div",{style:u(d.buttonState)}),b.default.createElement("span",{style:u(d.label)},new t(i,{day:"numeric"}).format(a))):b.default.createElement("span",{style:u(d.root)})}}]),t}(g.Component);E.defaultProps={selected:!1,disabled:!1},E.contextTypes={muiTheme:S.default.object.isRequired},E.propTypes={},t.default=E},409:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.selected,o=e.year,i=e.utils,l=t.muiTheme,r=l.baseTheme,s=l.datePicker,u=a.hover;return{root:{boxSizing:"border-box",color:o===i.getYear(new Date)&&s.color,display:"block",fontSize:14,margin:"0 auto",position:"relative",textAlign:"center",lineHeight:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},label:{alignSelf:"center",color:u||n?s.color:r.palette.textColor,fontSize:n?26:17,fontWeight:u?450:n?500:400,position:"relative",top:-1}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),p=n(c),f=a(3),h=n(f),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(67),M=n(k),x=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleTouchTap=function(e){n.props.onTouchTap&&n.props.onTouchTap(e,n.props.year)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=(e.className,e.onTouchTap,e.selected,e.year,e.utils,(0,s.default)(e,["children","className","onTouchTap","selected","year","utils"])),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context,this.state);return b.default.createElement(M.default,(0,l.default)({},a,{disableFocusRipple:!0,disableTouchRipple:!0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:i.root}),b.default.createElement("span",{style:n(i.label)},t))}}]),t}(g.Component);x.defaultProps={selected:!1},x.contextTypes={muiTheme:S.default.object.isRequired},x.propTypes={},t.default=x},429:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=n(y),T=a(432),g=n(T),b=a(430),D=n(b),S=a(431),k=n(S),M=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={selectedTime:null,mode:"hour"},n.setMode=function(e){setTimeout(function(){n.setState({mode:e})},100)},n.handleSelectAffix=function(e){if(e!==n.getAffix()){var t=n.state.selectedTime.getHours();if("am"===e)return void n.handleChangeHours(t-12,e);n.handleChangeHours(t+12,e)}},n.handleChangeHours=function(e,t){var a=new Date(n.state.selectedTime),o=void 0;"string"==typeof t&&(o=t,t=void 0),o||(o=n.getAffix()),"pm"===o&&e<12&&(e+=12),a.setHours(e),n.setState({selectedTime:a}),t&&setTimeout(function(){n.setState({mode:"minute"});var e=n.props.onChangeHours;e&&e(a)},100)},n.handleChangeMinutes=function(e,t){var a=new Date(n.state.selectedTime);a.setMinutes(e),n.setState({selectedTime:a});var o=n.props.onChangeMinutes;o&&t&&setTimeout(function(){o(a)},0)},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.initialTime||new Date,t=e.getMinutes();e.setMinutes(t-t%this.props.minutesStep),this.setState({selectedTime:e})}},{key:"getAffix",value:function(){return"ampm"!==this.props.format?"":this.state.selectedTime.getHours()<12?"am":"pm"}},{key:"getSelectedTime",value:function(){return this.state.selectedTime}},{key:"render",value:function(){var e=null,t=this.context.muiTheme,a=t.prepareStyles,n=t.timePicker,o={root:{userSelect:"none"},container:{height:280,padding:10,position:"relative",boxSizing:"content-box"},circle:{position:"absolute",top:20,width:260,height:260,borderRadius:"100%",backgroundColor:n.clockCircleColor}};return e="hour"===this.state.mode?m.default.createElement(D.default,{key:"hours",format:this.props.format,onChange:this.handleChangeHours,initialHours:this.state.selectedTime.getHours()}):m.default.createElement(k.default,{key:"minutes",onChange:this.handleChangeMinutes,initialMinutes:this.state.selectedTime.getMinutes(),step:this.props.minutesStep}),m.default.createElement("div",{style:a(o.root)},m.default.createElement(g.default,{selectedTime:this.state.selectedTime,mode:this.state.mode,format:this.props.format,affix:this.getAffix(),onSelectAffix:this.handleSelectAffix,onSelectHour:this.setMode.bind(this,"hour"),onSelectMin:this.setMode.bind(this,"minute")}),m.default.createElement("div",{style:a(o.container)},m.default.createElement("div",{style:a(o.circle)}),e))}}]),t}(h.Component);M.defaultProps={initialTime:new Date},M.contextTypes={muiTheme:v.default.object.isRequired},M.propTypes={},t.default=M},430:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=n(y),T=a(15),g=n(T),b=a(238),D=n(b),S=a(239),k=n(S),M=a(91),x=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleUp=function(e){e.preventDefault(),n.setClock(e.nativeEvent,!0)},n.handleMove=function(e){e.preventDefault(),1===n.isMousePressed(e)&&n.setClock(e.nativeEvent,!1)},n.handleTouchMove=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],!1)},n.handleTouchEnd=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],!0)},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=g.default.findDOMNode(this.refs.mask);this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var a=(0,M.getTouchEventOffsetValues)(e);e.offsetX=a.offsetX,e.offsetY=a.offsetY}var n=this.getHours(e.offsetX,e.offsetY);this.props.onChange(n,t)}},{key:"getHours",value:function(e,t){var a=e-this.center.x,n=t-this.center.y,o=this.basePoint.x-this.center.x,i=this.basePoint.y-this.center.y,l=Math.atan2(o,i)-Math.atan2(a,n),r=(0,M.rad2deg)(l);r=30*Math.round(r/30),r%=360;var s=Math.floor(r/30)||0,u=Math.pow(a,2)+Math.pow(n,2),d=Math.sqrt(u);return s=s||12,"24hr"===this.props.format?d<90&&(s+=12,s%=24):s%=12,s}},{key:"getSelected",value:function(){var e=this.props.initialHours;return"ampm"===this.props.format&&(e%=12,e=e||12),e}},{key:"getHourNumbers",value:function(){for(var e=this,t={pointerEvents:"none"},a="ampm"===this.props.format?12:24,n=[],o=1;o<=a;o++)n.push(o%24);return n.map(function(a){var n=e.getSelected()===a;return m.default.createElement(D.default,{key:a,style:t,isSelected:n,type:"hour",value:a})})}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,a=this.getSelected(),n=this.getHourNumbers();return m.default.createElement("div",{ref:"clock",style:t(e.root)},m.default.createElement(k.default,{hasSelected:!0,value:a,type:"hour"}),n,m.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(h.Component);x.defaultProps={initialHours:(new Date).getHours(),onChange:function(){},format:"ampm"},x.contextTypes={muiTheme:v.default.object.isRequired},x.propTypes={},t.default=x},431:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),p=a(5),f=n(p),h=a(0),m=n(h),y=a(1),v=n(y),T=a(238),g=n(T),b=a(239),D=n(b),S=a(91),k=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleUp=function(e){e.preventDefault(),n.setClock(e.nativeEvent,!0)},n.handleMove=function(e){e.preventDefault(),1===n.isMousePressed(e)&&n.setClock(e.nativeEvent,!1)},n.handleTouch=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],"touchend"===e.type)},o=a,(0,c.default)(n,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.mask;this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var a=(0,S.getTouchEventOffsetValues)(e);e.offsetX=a.offsetX,e.offsetY=a.offsetY}var n=this.getMinutes(e.offsetX,e.offsetY);this.props.onChange(n,t)}},{key:"getMinutes",value:function(e,t){var a=6*this.props.step,n=e-this.center.x,o=t-this.center.y,i=this.basePoint.x-this.center.x,l=this.basePoint.y-this.center.y,r=Math.atan2(i,l)-Math.atan2(n,o),s=(0,S.rad2deg)(r);return s=Math.round(s/a)*a,s%=360,(Math.floor(s/a)||0)*this.props.step}},{key:"getMinuteNumbers",value:function(){for(var e=[],t=0;t<12;t++)e.push(5*t);var a=this.props.initialMinutes,n=!1;return{numbers:e.map(function(e){var t=a===e;return t&&(n=!0),m.default.createElement(g.default,{key:e,isSelected:t,type:"minute",value:e})}),hasSelected:n,selected:a}}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,a=this.getMinuteNumbers();return m.default.createElement("div",{ref:"clock",style:t(e.root)},m.default.createElement(D.default,{value:a.selected,type:"minute",hasSelected:a.hasSelected}),a.numbers,m.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouch,onTouchEnd:this.handleTouch,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(h.Component);k.defaultProps={initialMinutes:(new Date).getMinutes(),onChange:function(){},step:1},k.contextTypes={muiTheme:v.default.object.isRequired},k.propTypes={},t.default=k},432:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(214),r=n(l),s=a(9),u=n(s),d=a(4),c=n(d),p=a(2),f=n(p),h=a(3),m=n(h),y=a(6),v=n(y),T=a(5),g=n(T),b=a(7),D=n(b),S=a(0),k=n(S),M=a(1),x=n(M),_=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(l))),n.state={transitionDirection:"up"},o=a,(0,v.default)(n,o)}return(0,g.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.selectedTime!==this.props.selectedTime){var t=e.selectedTime>this.props.selectedTime?"up":"down";this.setState({transitionDirection:t})}}},{key:"sanitizeTime",value:function(){var e=this.props.selectedTime.getHours(),t=this.props.selectedTime.getMinutes().toString();return"ampm"===this.props.format&&(e%=12,e=e||12),e=e.toString(),e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),[e,t]}},{key:"render",value:function(){var e=this.props,t=e.affix,a=e.format,n=e.mode,o=e.onSelectAffix,l=e.onSelectHour,s=e.onSelectMin,d=(e.selectedTime,(0,u.default)(e,["affix","format","mode","onSelectAffix","onSelectHour","onSelectMin","selectedTime"])),c=this.context.muiTheme,p=c.prepareStyles,f=c.timePicker,h={root:{padding:"14px 0",borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:f.headerColor,color:f.textColor},text:{margin:"6px 0",lineHeight:"58px",height:58,fontSize:58,display:"flex",justifyContent:"center",alignItems:"baseline"},time:{margin:"0 10px"},affix:{flex:1,position:"relative",lineHeight:"17px",height:17,fontSize:17},affixTop:{position:"absolute",top:-20,left:0},clickable:{cursor:"pointer"},inactive:{opacity:.7}},m=this.sanitizeTime(),y=(0,r.default)(m,2),v=y[0],T=y[1],g=[];return"ampm"===a&&(g=[k.default.createElement("div",{key:"pm",style:p((0,D.default)({},h.clickable,"pm"===t?{}:h.inactive)),onTouchTap:function(){return o("pm")}},"PM"),k.default.createElement("div",{key:"am",style:p((0,D.default)({},h.affixTop,h.clickable,"am"===t?{}:h.inactive)),onTouchTap:function(){return o("am")}},"AM")]),k.default.createElement("div",(0,i.default)({},d,{style:p(h.root)}),k.default.createElement("div",{style:p(h.text)},k.default.createElement("div",{style:p((0,D.default)({},h.affix))}),k.default.createElement("div",{style:p(h.time)},k.default.createElement("span",{style:p((0,D.default)({},h.clickable,"hour"===n?{}:h.inactive)),onTouchTap:l},v),k.default.createElement("span",null,":"),k.default.createElement("span",{style:p((0,D.default)({},h.clickable,"minute"===n?{}:h.inactive)),onTouchTap:s},T)),k.default.createElement("div",{style:p((0,D.default)({},h.affix))},g)))}}]),t}(S.Component);_.defaultProps={affix:"",mode:"hour"},_.contextTypes={muiTheme:x.default.object.isRequired},_.propTypes={},t.default=_},433:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(434),x=n(M),_=a(41),C=n(_),E=a(91),w=new Date;w.setHours(0),w.setMinutes(0),w.setSeconds(0),w.setMilliseconds(0);var O=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={time:null,dialogTime:new Date},n.handleAcceptDialog=function(e){n.setState({time:e}),n.props.onChange&&n.props.onChange(null,e)},n.handleFocusInput=function(e){e.target.blur(),n.props.onFocus&&n.props.onFocus(e)},n.handleTouchTapInput=function(e){e.preventDefault(),n.props.disabled||n.openDialog(),n.props.onTouchTap&&n.props.onTouchTap(e)},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({time:this.isControlled()?this.getControlledTime():this.props.defaultTime})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({time:this.getControlledTime(e)})}},{key:"focus",value:function(){this.openDialog()}},{key:"openDialog",value:function(){this.setState({dialogTime:this.state.time}),this.refs.dialogWindow.show()}},{key:"isControlled",value:function(){return null!==this.props.value}},{key:"getControlledTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=null;return e.value instanceof Date&&(t=e.value),t}},{key:"render",value:function(){var e=this.props,t=e.autoOk,a=e.cancelLabel,n=(e.defaultTime,e.dialogBodyStyle),o=e.dialogStyle,l=e.format,s=e.okLabel,u=(e.onFocus,e.onTouchTap,e.onShow),d=e.onDismiss,c=e.pedantic,p=e.style,f=e.textFieldStyle,h=e.minutesStep,m=(0,r.default)(e,["autoOk","cancelLabel","defaultTime","dialogBodyStyle","dialogStyle","format","okLabel","onFocus","onTouchTap","onShow","onDismiss","pedantic","style","textFieldStyle","minutesStep"]),y=this.context.muiTheme.prepareStyles,v=this.state.time;return D.default.createElement("div",{style:y((0,g.default)({},p))},D.default.createElement(C.default,(0,i.default)({},m,{style:f,ref:"input",value:v===w?null:(0,E.formatTime)(v,l,c),onFocus:this.handleFocusInput,onTouchTap:this.handleTouchTapInput})),D.default.createElement(x.default,{ref:"dialogWindow",bodyStyle:n,initialTime:this.state.dialogTime,onAccept:this.handleAcceptDialog,onShow:u,onDismiss:d,format:l,okLabel:s,cancelLabel:a,autoOk:t,style:o,minutesStep:h}))}}]),t}(b.Component);O.defaultProps={autoOk:!1,cancelLabel:"Cancel",defaultTime:null,disabled:!1,format:"ampm",okLabel:"OK",pedantic:!1,style:{},value:null,minutesStep:1},O.contextTypes={muiTheme:k.default.object.isRequired},O.propTypes={},t.default=O},434:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(26),x=n(M),_=a(25),C=n(_),E=a(429),w=n(E),O=a(45),P=n(O),R=a(29),W=n(R),F=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapCancel=function(){n.dismiss()},n.handleTouchTapOK=function(){n.props.onAccept&&n.props.onAccept(n.refs.clock.getSelectedTime()),n.setState({open:!1})},n.handleKeyUp=function(e){switch((0,C.default)(e)){case"enter":n.handleTouchTapOK()}},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,f.default)(t,[{key:"show",value:function(){this.props.onShow&&!this.state.open&&this.props.onShow(),this.setState({open:!0})}},{key:"dismiss",value:function(){this.props.onDismiss&&this.state.open&&this.props.onDismiss(),this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.bodyStyle,a=e.initialTime,n=(e.onAccept,e.format),o=e.autoOk,l=e.okLabel,s=e.cancelLabel,u=e.style,d=e.minutesStep,c=(0,r.default)(e,["bodyStyle","initialTime","onAccept","format","autoOk","okLabel","cancelLabel","style","minutesStep"]),p={root:{fontSize:14,color:this.context.muiTheme.timePicker.clockColor},dialogContent:{width:280},body:{padding:0}},f=[D.default.createElement(W.default,{key:0,label:s,primary:!0,onTouchTap:this.handleTouchTapCancel}),D.default.createElement(W.default,{key:1,label:l,primary:!0,onTouchTap:this.handleTouchTapOK})],h=!0===o?this.handleTouchTapOK:void 0,m=this.state.open;return D.default.createElement(P.default,(0,i.default)({},c,{style:(0,g.default)(p.root,u),bodyStyle:(0,g.default)(p.body,t),actions:f,contentStyle:p.dialogContent,repositionOnUpdate:!1,open:m,onRequestClose:this.handleRequestClose}),m&&D.default.createElement(x.default,{target:"window",onKeyUp:this.handleKeyUp}),m&&D.default.createElement(w.default,{ref:"clock",format:n,initialTime:a,onChangeMinutes:h,minutesStep:d}))}}]),t}(b.Component);F.defaultProps={okLabel:"OK",cancelLabel:"Cancel"},F.contextTypes={muiTheme:k.default.object.isRequired},F.propTypes={},t.default=F},439:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),p=a(3),f=n(p),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(15),x=n(M),_=a(68),C=n(_),E=a(12),w=n(E),O=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillEnter",value:function(e){var t=x.default.findDOMNode(this).style,a="left"===this.props.direction?"100%":"right"===this.props.direction?"-100%":"0",n="up"===this.props.direction?"100%":"down"===this.props.direction?"-100%":"0";t.opacity="0",C.default.set(t,"transform","translate("+a+", "+n+")"),this.enterTimer=setTimeout(e,this.props.enterDelay)}},{key:"componentDidEnter",value:function(){var e=x.default.findDOMNode(this).style;e.opacity="1",C.default.set(e,"transform","translate(0,0)")}},{key:"componentWillLeave",value:function(e){var t=x.default.findDOMNode(this).style,a=this.props.getLeaveDirection(),n="left"===a?"-100%":"right"===a?"100%":"0",o="up"===a?"-100%":"down"===a?"100%":"0";t.opacity="0",C.default.set(t,"transform","translate("+n+", "+o+")"),this.leaveTimer=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.children,a=(e.enterDelay,e.getLeaveDirection,e.style),n=(0,r.default)(e,["children","enterDelay","getLeaveDirection","style"]),o=this.context.muiTheme.prepareStyles,l=(0,g.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:w.default.easeOut(null,["transform","opacity"])},a);return D.default.createElement("div",(0,i.default)({},n,{style:o(l)}),t)}}]),t}(b.Component);O.defaultProps={enterDelay:0},O.contextTypes={muiTheme:k.default.object.isRequired},O.propTypes={},t.default=O},449:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))};d=(0,r.default)(d),d.displayName="NavigationChevronLeft",d.muiName="SvgIcon",t.default=d},45:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(146),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},450:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))};d=(0,r.default)(d),d.displayName="NavigationChevronRight",d.muiName="SvgIcon",t.default=d},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(145),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},80:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(152),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},88:function(e,t,a){"use strict";function n(e,t){this.format=function(e){return"short"===t.month&&"short"===t.weekday&&"2-digit"===t.day?x[e.getDay()]+", "+_[e.getMonth()]+" "+e.getDate():"numeric"===t.year&&"numeric"===t.month&&"numeric"===t.day?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():"numeric"===t.year&&"long"===t.month?C[e.getMonth()]+" "+e.getFullYear():"narrow"===t.weekday?M[e.getDay()]:"numeric"===t.year?e.getFullYear().toString():"numeric"===t.day?e.getDate():void 0}}function o(e){return e.getFullYear()}function i(e,t){var a=u(e);return a.setFullYear(t),a}function l(e,t){var a=u(e);return a.setDate(e.getDate()+t),a}function r(e,t){var a=u(e);return a.setMonth(e.getMonth()+t),a}function s(e,t){var a=u(e);return a.setFullYear(e.getFullYear()+t),a}function u(e){return new Date(e.getTime())}function d(e){var t=u(e);return t.setHours(0,0,0,0),t}function c(e){var t=p(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function p(e){return new Date(e.getFullYear(),e.getMonth(),1)}function f(){var e=new Date;return new Date(e.setDate(e.getDate()-e.getDay()))}function h(e,t){for(var a=[],n=c(e),o=[],i=[],l=1;l<=n;l++)a.push(new Date(e.getFullYear(),e.getMonth(),l));var r=function(e){for(var t=7-e.length,a=0;a<t;++a)e[o.length?"push":"unshift"](null);o.push(e)};return a.forEach(function(e){i.length>0&&e.getDay()===t&&(r(i),i=[]),i.push(e),a.indexOf(e)===a.length-1&&r(i)}),o}function m(e,t,a,n){var o=new e(t,{weekday:"narrow"}),i=f();return o.format(l(i,a+n))}function y(e){return new Date(e.toDateString()+" 12:00:00 +0000").toISOString().substring(0,10)}function v(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function T(e,t){var a=d(e),n=d(t);return a.getTime()<n.getTime()}function g(e,t){var a=d(e),n=d(t);return a.getTime()>n.getTime()}function b(e,t,a){return!T(e,t)&&!g(e,a)}function D(e,t){var a=void 0;return a=12*(e.getFullYear()-t.getFullYear()),a+=e.getMonth(),a-=t.getMonth()}function S(e,t){return~~(D(e,t)/12)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUtils=void 0,t.dateTimeFormat=n,t.getYear=o,t.setYear=i,t.addDays=l,t.addMonths=r,t.addYears=s,t.cloneDate=u,t.cloneAsDate=d,t.getDaysInMonth=c,t.getFirstDayOfMonth=p,t.getFirstDayOfWeek=f,t.getWeekArray=h,t.localizedWeekday=m,t.formatIso=y,t.isEqualDate=v,t.isBeforeDate=T,t.isAfterDate=g,t.isBetweenDates=b,t.monthDiff=D,t.yearDiff=S;var k=a(10),M=(function(e){e&&e.__esModule}(k),["S","M","T","W","T","F","S"]),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];t.defaultUtils={getYear:o,setYear:i,addDays:l,addMonths:r,addYears:s,getFirstDayOfMonth:p,getWeekArray:h,monthDiff:D}},91:function(e,t,a){"use strict";function n(e,t){var a=l(e);return a.setHours(e.getHours()+t),a}function o(e,t){var a=l(e);return a.setMinutes(e.getMinutes()+t),a}function i(e,t){var a=l(e);return a.setSeconds(e.getMinutes()+t),a}function l(e){return new Date(e.getTime())}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ampm",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"";var n=e.getHours(),o=e.getMinutes().toString();if("ampm"===t){var i=n<12;n%=12;var l=i?" am":" pm";return n=(n||12).toString(),o.length<2&&(o="0"+o),a&&"12"===n&&"00"===o?" pm"===l?"12 noon":"12 midnight":n+("00"===o?"":":"+o)+l}return n=n.toString(),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),n+":"+o}function s(e){return 57.29577951308232*e}function u(e){var t=e.target,a=t.getBoundingClientRect();return{offsetX:e.clientX-a.left,offsetY:e.clientY-a.top}}function d(e){return"hour"===e.type&&(e.value<1||e.value>12)}Object.defineProperty(t,"__esModule",{value:!0}),t.addHours=n,t.addMinutes=o,t.addSeconds=i,t.formatTime=r,t.rad2deg=s,t.getTouchEventOffsetValues=u,t.isInner=d}},[302]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2hvcHJlZy5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9Qb3BvdmVyL1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5qcz83OTQ4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRHJvcERvd25NZW51L2luZGV4LmpzP2NlNTEiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9DaGVja2JveC9DaGVja2JveC5qcz9hYjMzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGlhbG9nL0RpYWxvZy5qcz84OWE0Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRHJvcERvd25NZW51L0Ryb3BEb3duTWVudS5qcz83MjAyIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvU25hY2tiYXIuanM/NDIyMSIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL1NuYWNrYmFyQm9keS5qcz85YWM2Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvQmVmb3JlQWZ0ZXJXcmFwcGVyLmpzPzM0OTkiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9pbnRlcm5hbC9DbGVhckZpeC5qcz9kMjM4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvRW5oYW5jZWRTd2l0Y2guanM/NzhmOCIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL1NsaWRlSW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9hcnJvdy1kcm9wLWRvd24uanM/ZmFhNyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LW91dGxpbmUtYmxhbmsuanM/ZDU1NSIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LmpzPzg4MTciLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS91dGlscy93aXRoV2lkdGguanM/ZDUwOCIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9ja051bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tQb2ludGVyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9TaG9wUmVnLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9pcy1pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9DYWxlbmRhckFjdGlvbkJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyTW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyVG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXJZZWFyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXRlRGlzcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF0ZVBpY2tlckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF5QnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9ZZWFyQnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9jay5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tIb3Vycy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tNaW51dGVzLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9UaW1lRGlzcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvVGltZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvVGltZVBpY2tlckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL1NsaWRlSW5DaGlsZC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy9uYXZpZ2F0aW9uL2NoZXZyb24tbGVmdC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RpYWxvZy9pbmRleC5qcz84N2M4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL25hdmlnYXRpb24vY2hldnJvbi1yaWdodC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L2luZGV4LmpzPzJiYTIiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9pbmRleC5qcz8xMzkxIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL3RpbWVVdGlscy5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIxMDciLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldFN0eWxlcyIsInByb3BzIiwiY29udGV4dCIsInN0YXRlIiwidGFyZ2V0T3JpZ2luIiwib3BlbiIsIm11aVRoZW1lIiwiaG9yaXpvbnRhbCIsInJlcGxhY2UiLCJyb290IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJwb3BvdmVyIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU9yaWdpbiIsInZlcnRpY2FsIiwidHJhbnNpdGlvbiIsIl90cmFuc2l0aW9uczIiLCJlYXNlT3V0IiwibWF4SGVpZ2h0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfc2ltcGxlQXNzaWduIiwiX3NpbXBsZUFzc2lnbjIiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3Byb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwiX1BhcGVyIiwiX1BhcGVyMiIsIl90cmFuc2l0aW9ucyIsIl9wcm9wVHlwZXMzIiwiUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsIiwiX0NvbXBvbmVudCIsIl9yZWYiLCJfdGVtcCIsIl90aGlzIiwiX3JldCIsInRoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsIl9fcHJvdG9fXyIsImNhbGwiLCJhcHBseSIsImNvbmNhdCIsImtleSIsInNldFN0YXRlIiwibmV4dFByb3BzIiwiX3Byb3BzIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ6RGVwdGgiLCJzdHlsZXMiLCJjcmVhdGVFbGVtZW50IiwiY2hpbGRyZW4iLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJjb250ZXh0VHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwicHJvcFR5cGVzIiwiMTE1IiwiTWVudUl0ZW0iLCJEcm9wRG93bk1lbnUiLCJ1bmRlZmluZWQiLCJfRHJvcERvd25NZW51MiIsIl9Ecm9wRG93bk1lbnUzIiwiX01lbnVJdGVtMiIsIl9NZW51SXRlbTMiLCIxNDUiLCJjaGVja2JveCIsImljb24iLCJoZWlnaHQiLCJ3aWR0aCIsImNoZWNrIiwidHJhbnNpdGlvbk9yaWdpbiIsImZpbGwiLCJjaGVja2VkQ29sb3IiLCJjaGVja1doZW5Td2l0Y2hlZCIsImNoZWNrV2hlbkRpc2FibGVkIiwiZGlzYWJsZWRDb2xvciIsImJveCIsImJveENvbG9yIiwiYm94V2hlblN3aXRjaGVkIiwiYm94V2hlbkRpc2FibGVkIiwiY2hlY2tlZCIsImxhYmVsIiwiY29sb3IiLCJkaXNhYmxlZCIsImxhYmVsRGlzYWJsZWRDb2xvciIsImxhYmVsQ29sb3IiLCJfZXh0ZW5kczIiLCJfZXh0ZW5kczMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyIsIl9FbmhhbmNlZFN3aXRjaCIsIl9FbmhhbmNlZFN3aXRjaDIiLCJfY2hlY2tCb3hPdXRsaW5lQmxhbmsiLCJfY2hlY2tCb3hPdXRsaW5lQmxhbmsyIiwiX2NoZWNrQm94IiwiX2NoZWNrQm94MiIsIkNoZWNrYm94Iiwic3dpdGNoZWQiLCJoYW5kbGVTdGF0ZUNoYW5nZSIsIm5ld1N3aXRjaGVkIiwiaGFuZGxlQ2hlY2siLCJldmVudCIsImlzSW5wdXRDaGVja2VkIiwib25DaGVjayIsImRlZmF1bHRDaGVja2VkIiwidmFsdWVMaW5rIiwicmVmcyIsImVuaGFuY2VkU3dpdGNoIiwiaXNTd2l0Y2hlZCIsIm5ld0NoZWNrZWRWYWx1ZSIsInNldFN3aXRjaGVkIiwiX3Byb3BzMiIsImljb25TdHlsZSIsImNoZWNrZWRJY29uIiwidW5jaGVja2VkSWNvbiIsIm90aGVyIiwiYm94U3R5bGVzIiwiY2hlY2tTdHlsZXMiLCJjaGVja2VkRWxlbWVudCIsImNsb25lRWxlbWVudCIsInVuQ2hlY2tlZEVsZW1lbnQiLCJjaGVja2JveEVsZW1lbnQiLCJyaXBwbGVDb2xvciIsIm1lcmdlZEljb25TdHlsZSIsImxhYmVsU3R5bGUiLCJlbmhhbmNlZFN3aXRjaFByb3BzIiwicmVmIiwiaW5wdXRUeXBlIiwic3dpdGNoRWxlbWVudCIsIm9uU3dpdGNoIiwib25QYXJlbnRTaG91bGRVcGRhdGUiLCJsYWJlbFBvc2l0aW9uIiwiMTQ2IiwiYXV0b1Njcm9sbEJvZHlDb250ZW50IiwiX2NvbnRleHQkbXVpVGhlbWUiLCJfY29udGV4dCRtdWlUaGVtZSRiYXMiLCJiYXNlVGhlbWUiLCJzcGFjaW5nIiwicGFsZXR0ZSIsImRpYWxvZyIsImd1dHRlciIsImRlc2t0b3BHdXR0ZXIiLCJib3JkZXJTY3JvbGwiLCJib3JkZXJDb2xvciIsImJveFNpemluZyIsIldlYmtpdFRhcEhpZ2hsaWdodENvbG9yIiwidG9wIiwibGVmdCIsImNvbnRlbnQiLCJtYXhXaWR0aCIsImRlc2t0b3BLZXlsaW5lSW5jcmVtZW50IiwibWFyZ2luIiwiYWN0aW9uc0NvbnRhaW5lciIsInBhZGRpbmciLCJ0ZXh0QWxpZ24iLCJtYXJnaW5Ub3AiLCJvdmVybGF5IiwiZGlhbG9nT3ZlcmxheSIsInRpdGxlIiwidGV4dENvbG9yIiwiZm9udFNpemUiLCJ0aXRsZUZvbnRTaXplIiwibGluZUhlaWdodCIsImZvbnRXZWlnaHQiLCJtYXJnaW5Cb3R0b20iLCJib2R5IiwiYm9keUZvbnRTaXplIiwiYm9keUNvbG9yIiwib3ZlcmZsb3dZIiwiYm9yZGVyVG9wIiwiYm9yZGVyQm90dG9tIiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl9yZWFjdEV2ZW50TGlzdGVuZXIiLCJfcmVhY3RFdmVudExpc3RlbmVyMiIsIl9rZXljb2RlIiwiX2tleWNvZGUyIiwiX092ZXJsYXkiLCJfT3ZlcmxheTIiLCJfUmVuZGVyVG9MYXllciIsIl9SZW5kZXJUb0xheWVyMiIsIl9UcmFuc2l0aW9uR3JvdXAiLCJfVHJhbnNpdGlvbkdyb3VwMiIsIlRyYW5zaXRpb25JdGVtIiwiY2xlYXJUaW1lb3V0IiwiZW50ZXJUaW1lb3V0IiwibGVhdmVUaW1lb3V0IiwiY2FsbGJhY2siLCJjb21wb25lbnRXaWxsQXBwZWFyIiwic2V0VGltZW91dCIsInByZXBhcmVTdHlsZXMiLCJEaWFsb2dJbmxpbmUiLCJfQ29tcG9uZW50MiIsIl9yZWYyIiwiX3RlbXAyIiwiX3RoaXMyIiwiX3JldDIiLCJfbGVuMiIsIl9rZXkyIiwiaGFuZGxlVG91Y2hUYXBPdmVybGF5IiwicmVxdWVzdENsb3NlIiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVSZXNpemUiLCJwb3NpdGlvbkRpYWxvZyIsImFjdGlvbnMiLCJhdXRvRGV0ZWN0V2luZG93SGVpZ2h0IiwiYm9keVN0eWxlIiwicmVwb3NpdGlvbk9uVXBkYXRlIiwiY2xpZW50SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNvbnRhaW5lciIsImZpbmRET01Ob2RlIiwiZGlhbG9nV2luZG93IiwiZGlhbG9nQ29udGVudCIsImRpYWxvZ1dpbmRvd0hlaWdodCIsIm9mZnNldEhlaWdodCIsInBhZGRpbmdUb3AiLCJtYXhEaWFsb2dDb250ZW50SGVpZ2h0IiwicHJldmlvdXNTaWJsaW5nIiwiQ2hpbGRyZW4iLCJjb3VudCIsIm5leHRTaWJsaW5nIiwiYnV0dG9uQ2xpY2tlZCIsIm1vZGFsIiwib25SZXF1ZXN0Q2xvc2UiLCJfcHJvcHMzIiwiYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSIsImFjdGlvbnNDb250YWluZXJTdHlsZSIsImJvZHlDbGFzc05hbWUiLCJjb250ZW50Q2xhc3NOYW1lIiwiY29udGVudFN0eWxlIiwib3ZlcmxheUNsYXNzTmFtZSIsIm92ZXJsYXlTdHlsZSIsInBhcGVyQ2xhc3NOYW1lIiwicGFwZXJQcm9wcyIsInRpdGxlQ2xhc3NOYW1lIiwidGl0bGVTdHlsZSIsInRvQXJyYXkiLCJ0aXRsZUVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsInRhcmdldCIsIm9uS2V5VXAiLCJvblJlc2l6ZSIsImNvbXBvbmVudCIsInRyYW5zaXRpb25BcHBlYXIiLCJ0cmFuc2l0aW9uQXBwZWFyVGltZW91dCIsInRyYW5zaXRpb25FbnRlciIsInRyYW5zaXRpb25FbnRlclRpbWVvdXQiLCJzaG93Iiwib25Ub3VjaFRhcCIsIkRpYWxvZyIsIl9Db21wb25lbnQzIiwiX3JlZjMiLCJfdGVtcDMiLCJfdGhpczMiLCJfcmV0MyIsIl9sZW4zIiwiX2tleTMiLCJyZW5kZXJMYXllciIsInJlbmRlciIsInVzZUxheWVyRm9yQ2xpY2tBd2F5IiwiMTQ5IiwiYWNjZW50Q29sb3IiLCJkcm9wRG93bk1lbnUiLCJjb250cm9sIiwiY3Vyc29yIiwicmlnaHQiLCJkZXNrdG9wR3V0dGVyTGVzcyIsImljb25TaXplIiwiZGVza3RvcEd1dHRlck1pbmkiLCJpY29uQ2hpbGRyZW4iLCJkZXNrdG9wVG9vbGJhckhlaWdodCIsIm92ZXJmbG93IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJ0ZXh0T3ZlcmZsb3ciLCJ3aGl0ZVNwYWNlIiwibGFiZWxXaGVuT3BlbiIsImRpc3BsYXkiLCJkZXNrdG9wRHJvcERvd25NZW51Rm9udFNpemUiLCJkZXNrdG9wU3ViaGVhZGVySGVpZ2h0IiwiZm9udEZhbWlseSIsIm91dGxpbmUiLCJyb290V2hlbk9wZW4iLCJ1bmRlcmxpbmUiLCJib3R0b20iLCJfYXJyb3dEcm9wRG93biIsIl9hcnJvd0Ryb3BEb3duMiIsIl9NZW51IiwiX01lbnUyIiwiX0NsZWFyRml4IiwiX0NsZWFyRml4MiIsIl9Qb3BvdmVyIiwiX1BvcG92ZXIyIiwiX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCIsIl9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwyIiwiX2V2ZW50cyIsIl9ldmVudHMyIiwiX0ljb25CdXR0b24iLCJfSWNvbkJ1dHRvbjIiLCJyb290Tm9kZSIsImFycm93Tm9kZSIsImhhbmRsZVRvdWNoVGFwQ29udHJvbCIsInByZXZlbnREZWZhdWx0IiwiYW5jaG9yRWwiLCJoYW5kbGVSZXF1ZXN0Q2xvc2VNZW51IiwiY2xvc2UiLCJoYW5kbGVFc2NLZXlEb3duTWVudSIsImhhbmRsZUtleURvd24iLCJoYW5kbGVJdGVtVG91Y2hUYXAiLCJjaGlsZCIsImluZGV4IiwibXVsdGlwbGUiLCJwZXJzaXN0Iiwib25DaGFuZ2UiLCJpc0tleWJvYXJkIiwiaGFuZGxlQ2hhbmdlIiwib25DbG9zZSIsImRyb3BBcnJvdyIsImZvY3VzIiwic2V0S2V5Ym9hcmRGb2N1cyIsImF1dG9XaWR0aCIsInNldFdpZHRoIiwib3BlbkltbWVkaWF0ZWx5IiwiZWwiLCJoYXNPd25Qcm9wZXJ0eSIsIl90aGlzNCIsImFuaW1hdGVkIiwiYW5pbWF0aW9uIiwibGlzdFN0eWxlIiwibWVudVN0eWxlUHJvcCIsIm1lbnVTdHlsZSIsInNlbGVjdGlvblJlbmRlcmVyIiwibWVudUl0ZW1TdHlsZSIsInNlbGVjdGVkTWVudUl0ZW1TdHlsZSIsInVuZGVybGluZVN0eWxlIiwiaWNvbkJ1dHRvbiIsImFuY2hvck9yaWdpbiIsIl9zdGF0ZSIsImRpc3BsYXlWYWx1ZSIsInZhbHVlcyIsInNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4iLCJmb3JFYWNoIiwiaW5kZXhPZiIsInB1c2giLCJwcmltYXJ5VGV4dCIsImpvaW4iLCJjbGllbnRXaWR0aCIsIm5vZGUiLCJvbktleURvd24iLCJkZXNrdG9wIiwib25Fc2NLZXlEb3duIiwib25JdGVtVG91Y2hUYXAiLCJtdWlOYW1lIiwiMTUyIiwic25hY2tiYXIiLCJ2aXNpYmlsaXR5IiwiX0NsaWNrQXdheUxpc3RlbmVyIiwiX0NsaWNrQXdheUxpc3RlbmVyMiIsIl9TbmFja2JhckJvZHkiLCJfU25hY2tiYXJCb2R5MiIsIlNuYWNrYmFyIiwiY29tcG9uZW50Q2xpY2tBd2F5IiwidGltZXJUcmFuc2l0aW9uSWQiLCJtZXNzYWdlIiwiYWN0aW9uIiwic2V0QXV0b0hpZGVUaW1lciIsInNldFRyYW5zaXRpb25UaW1lciIsInRpbWVyT25lQXRUaGVUaW1lSWQiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJ0aW1lckF1dG9IaWRlSWQiLCJhdXRvSGlkZUR1cmF0aW9uIiwib25BY3Rpb25Ub3VjaFRhcCIsIm9uQ2xpY2tBd2F5IiwiMTUzIiwiX2NvbnRleHQkbXVpVGhlbWUkYmFzMiIsIl9jb250ZXh0JG11aVRoZW1lJHNuYSIsImJhY2tncm91bmRDb2xvciIsImFjdGlvbkNvbG9yIiwiYm9yZGVyUmFkaXVzIiwiaXNTbWFsbCIsIl93aXRoV2lkdGgiLCJTTUFMTCIsIm1pbldpZHRoIiwiZmxleEdyb3ciLCJmbG9hdCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luTGVmdCIsIlNuYWNrYmFyQm9keSIsIl93aXRoV2lkdGgyIiwiX0ZsYXRCdXR0b24iLCJfRmxhdEJ1dHRvbjIiLCJhY3Rpb25CdXR0b24iLCIxNTQiLCJCZWZvcmVBZnRlcldyYXBwZXIiLCJiZWZvcmVTdHlsZSIsImFmdGVyU3R5bGUiLCJiZWZvcmVFbGVtZW50VHlwZSIsImFmdGVyRWxlbWVudFR5cGUiLCJlbGVtZW50VHlwZSIsImJlZm9yZUVsZW1lbnQiLCJhZnRlckVsZW1lbnQiLCIxNTUiLCJfQmVmb3JlQWZ0ZXJXcmFwcGVyIiwiX0JlZm9yZUFmdGVyV3JhcHBlcjIiLCJiZWZvcmUiLCJhZnRlciIsImNsZWFyIiwiQ2xlYXJGaXgiLCIxNTciLCJpbnB1dCIsInBvaW50ZXJFdmVudHMiLCJjb250cm9scyIsIndyYXAiLCJmbGV4U2hyaW5rIiwicmlwcGxlIiwicHJpbWFyeTFDb2xvciIsIl9Gb2N1c1JpcHBsZSIsIl9Gb2N1c1JpcHBsZTIiLCJfVG91Y2hSaXBwbGUiLCJfVG91Y2hSaXBwbGUyIiwiX3dhcm5pbmciLCJFbmhhbmNlZFN3aXRjaCIsImlzS2V5Ym9hcmRGb2N1c2VkIiwidGFiUHJlc3NlZCIsImNvZGUiLCJoYW5kbGVNb3VzZURvd24iLCJidXR0b24iLCJ0b3VjaFJpcHBsZSIsInN0YXJ0IiwiaGFuZGxlTW91c2VVcCIsImVuZCIsImhhbmRsZU1vdXNlTGVhdmUiLCJoYW5kbGVUb3VjaFN0YXJ0IiwiaGFuZGxlVG91Y2hFbmQiLCJoYW5kbGVCbHVyIiwib25CbHVyIiwiaGFuZGxlRm9jdXMiLCJvbkZvY3VzIiwiaW5wdXROb2RlIiwiaGFzQ2hlY2tlZFByb3AiLCJoYXNOZXdEZWZhdWx0UHJvcCIsIm5ld1N3aXRjaGVkVmFsdWUiLCJuYW1lIiwiaW5wdXRTdHlsZSIsIm9uTW91c2VVcCIsIm9uTW91c2VEb3duIiwib25Nb3VzZUxlYXZlIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsImRpc2FibGVUb3VjaFJpcHBsZSIsImRpc2FibGVGb2N1c1JpcHBsZSIsInJpcHBsZVN0eWxlIiwidGh1bWJTdHlsZSIsInRyYWNrU3R5bGUiLCJ3cmFwU3R5bGVzIiwibWVyZ2VkUmlwcGxlU3R5bGUiLCJsYWJlbEVsZW1lbnQiLCJzaG93VG91Y2hSaXBwbGUiLCJzaG93Rm9jdXNSaXBwbGUiLCJjZW50ZXJSaXBwbGUiLCJmb2N1c1JpcHBsZSIsImlubmVyU3R5bGUiLCJyaXBwbGVzIiwiaW5wdXRFbGVtZW50IiwidHlwZSIsInN3aXRjaE9yVGh1bWJFbGVtZW50IiwiY2lyY2xlIiwiZWxlbWVudHNJbk9yZGVyIiwiMTYwIiwiX1NsaWRlSW5DaGlsZCIsIl9TbGlkZUluQ2hpbGQyIiwiU2xpZGVJbiIsImdldExlYXZlRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwiZW50ZXJEZWxheSIsImNoaWxkU3R5bGUiLCJtZXJnZWRSb290U3R5bGVzIiwibmV3Q2hpbGRyZW4iLCJtYXAiLCIxNjQiLCJfcHVyZSIsIl9wdXJlMiIsIl9TdmdJY29uIiwiX1N2Z0ljb24yIiwiTmF2aWdhdGlvbkFycm93RHJvcERvd24iLCJkIiwiZGlzcGxheU5hbWUiLCIxNjciLCJUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayIsIjE2OCIsIlRvZ2dsZUNoZWNrQm94IiwiMTY5Iiwid2l0aFdpZHRoIiwib3B0aW9ucyIsIl9vcHRpb25zJGxhcmdlV2lkdGgiLCJsYXJnZVdpZHRoIiwiX29wdGlvbnMkbWVkaXVtV2lkdGgiLCJtZWRpdW1XaWR0aCIsIl9vcHRpb25zJHJlc2l6ZUludGVydiIsInJlc2l6ZUludGVydmFsIiwiTXlDb21wb25lbnQiLCJXaXRoV2lkdGgiLCJkZWZlclRpbWVyIiwidXBkYXRlV2lkdGgiLCJpbm5lcldpZHRoIiwiTEFSR0UiLCJNRURJVU0iLCIyMTQiLCJfaXNJdGVyYWJsZTIiLCJfaXNJdGVyYWJsZTMiLCJfZ2V0SXRlcmF0b3IyIiwiX2dldEl0ZXJhdG9yMyIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJpIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwiZG9uZSIsImVyciIsImlzQXJyYXkiLCJUeXBlRXJyb3IiLCIyMzgiLCJkaXJlY3Rpb25JbnZhcmlhbnQiLCJ1c2VyU2VsZWN0IiwicG9zIiwicG9zaXRpb25zIiwiaW5uZXJQb3NpdGlvbnMiLCJpc1NlbGVjdGVkIiwidGltZVBpY2tlciIsInNlbGVjdFRleHRDb2xvciIsInRyYW5zZm9ybVBvcyIsIl90aW1lVXRpbHMiLCJpc0lubmVyIiwiX3RyYW5zZm9ybVBvcyIsIl90cmFuc2Zvcm1Qb3MyIiwiX3NsaWNlZFRvQXJyYXkzIiwieCIsInkiLCJfc2xpY2VkVG9BcnJheTIiLCJDbG9ja051bWJlciIsImNsb2NrTnVtYmVyIiwiMjM5IiwiY2FsY0FuZ2xlIiwiYmFzZSIsImhhc1NlbGVjdGVkIiwiaW5uZXIiLCJhbmdsZSIsImJhY2tncm91bmQiLCJtYXJrIiwiYm9yZGVyIiwiQ2xvY2tQb2ludGVyIiwiMjc5IiwiX0RhdGVQaWNrZXIiLCJfRGF0ZVBpY2tlcjIiLCIyODAiLCJfVGltZVBpY2tlciIsIl9UaW1lUGlja2VyMiIsIjMwMiIsIl9kZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9NdWlUaGVtZVByb3ZpZGVyIiwiX011aVRoZW1lUHJvdmlkZXIyIiwiX1JhaXNlZEJ1dHRvbiIsIl9SYWlzZWRCdXR0b24yIiwiX1RleHRGaWVsZCIsIl9UZXh0RmllbGQyIiwiX0NoZWNrYm94IiwiX0RpYWxvZyIsIl9TbmFja2JhciIsIl9TbmFja2JhcjIiLCJfRHJvcERvd25NZW51IiwiX01lbnVJdGVtIiwiX2F4aW9zIiwiX2F4aW9zMiIsIl9IZWFkZXIiLCJ0b2tlbiIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJTaG9wUmVnIiwiY3JlYXRlQ2xhc3MiLCJnZXRJbml0aWFsU3RhdGUiLCJtc2dTbmFja2Jhck9wZW4iLCJzbmFja2Jhck1lc3NhZ2UiLCJteVNob3AiLCJteVNob3BSZWFkeSIsImNvbXBvbmVudERpZE1vdW50IiwiY29uc29sZSIsImxvZyIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic2hvcCIsImNhdGNoIiwiY2F1c2UiLCJlcnJvciIsIm9wZW5TbmFja2JhciIsIm1zZyIsInZhbGlkYXRlU2hvcCIsIl9SZWFjdCRjcmVhdGVFbGVtZW50IiwicGFkZGluZ0JvdHRvbSIsImhpbnQiLCJmbG9hdGluZ0xhYmVsVGV4dCIsImFkZHJlc3MiLCJlIiwibGF0IiwibG9uZyIsInBob25lIiwiYWRtaW5FbWFpbCIsImZvcm1hdCIsImhpbnRUZXh0IiwiYWRtaW5QYXNzd29yZCIsIm9uQ2xpY2siLCJzZWNvbmRhcnkiLCJoYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZSIsImdldEVsZW1lbnRCeUlkIiwiMzAzIiwiMzA0IiwiMzEyIiwiMzEzIiwiMzQxIiwiYW5PYmplY3QiLCJnZXRJdGVyYXRvciIsIml0IiwiaXRlckZuIiwiMzQyIiwiY2xhc3NvZiIsIklURVJBVE9SIiwiSXRlcmF0b3JzIiwiaXNJdGVyYWJsZSIsIk8iLCI0MDAiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9DYWxlbmRhckFjdGlvbkJ1dHRvbnMiLCJfQ2FsZW5kYXJBY3Rpb25CdXR0b25zMiIsIl9DYWxlbmRhck1vbnRoIiwiX0NhbGVuZGFyTW9udGgyIiwiX0NhbGVuZGFyWWVhciIsIl9DYWxlbmRhclllYXIyIiwiX0NhbGVuZGFyVG9vbGJhciIsIl9DYWxlbmRhclRvb2xiYXIyIiwiX0RhdGVEaXNwbGF5IiwiX0RhdGVEaXNwbGF5MiIsIl9TbGlkZUluIiwiX1NsaWRlSW4yIiwiX2RhdGVVdGlscyIsImRheXNBcnJheSIsIkNhbGVuZGFyIiwiZGlzcGxheURhdGUiLCJkaXNwbGF5TW9udGhEYXkiLCJzZWxlY3RlZERhdGUiLCJ0cmFuc2l0aW9uRGlyZWN0aW9uIiwiaGFuZGxlVG91Y2hUYXBEYXkiLCJkYXRlIiwic2V0U2VsZWN0ZWREYXRlIiwib25Ub3VjaFRhcERheSIsImhhbmRsZU1vbnRoQ2hhbmdlIiwibW9udGhzIiwibmV4dERpcmVjdGlvbiIsImlzUnRsIiwicHJldkRpcmVjdGlvbiIsInV0aWxzIiwiYWRkTW9udGhzIiwiaGFuZGxlVG91Y2hUYXBZZWFyIiwieWVhciIsInNldFllYXIiLCJoYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkiLCJoYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5WWVhciIsImhhbmRsZVdpbmRvd0tleURvd24iLCJuZXh0QXJyb3ciLCJwcmV2QXJyb3ciLCJhbHRLZXkiLCJzaGlmdEtleSIsImFkZFNlbGVjdGVkWWVhcnMiLCJhZGRTZWxlY3RlZE1vbnRocyIsImFkZFNlbGVjdGVkRGF5cyIsImdldEZpcnN0RGF5T2ZNb250aCIsImluaXRpYWxEYXRlIiwib3BlblRvWWVhclNlbGVjdGlvbiIsIkRhdGUiLCJtaW5EYXRlIiwiYWRkWWVhcnMiLCJtYXhEYXRlIiwiY2FsZW5kYXIiLCJpc1NlbGVjdGVkRGF0ZURpc2FibGVkIiwiZGF5cyIsImFkZERheXMiLCJ5ZWFycyIsIm5ld1NlbGVjdGVkRGF0ZSIsIm5ld0Rpc3BsYXlEYXRlIiwiYWRqdXN0ZWREYXRlIiwiZ2V0TWluRGF0ZSIsImdldE1heERhdGUiLCJpc0JlZm9yZURhdGUiLCJpc0FmdGVyRGF0ZSIsInNldERpc3BsYXlEYXRlIiwicHJldk1vbnRoIiwibW9udGhEaWZmIiwibmV4dE1vbnRoIiwiZGlzYWJsZVllYXJTZWxlY3Rpb24iLCJEYXRlVGltZUZvcm1hdCIsImxvY2FsZSIsIm9uVG91Y2hUYXBZZWFyIiwiaGlkZUNhbGVuZGFyRGF0ZSIsInRvb2xiYXJJbnRlcmFjdGlvbnMiLCJnZXRUb29sYmFySW50ZXJhY3Rpb25zIiwiaXNMYW5kc2NhcGUiLCJtb2RlIiwiY2FsZW5kYXJUZXh0Q29sb3IiLCJkYXRlUGlja2VyIiwiZmxleERpcmVjdGlvbiIsImNhbGVuZGFyQ29udGFpbmVyIiwiYWxpZ25Db250ZW50IiwianVzdGlmeUNvbnRlbnQiLCJ5ZWFyQ29udGFpbmVyIiwid2Vla1RpdGxlIiwid2Vla1RpdGxlRGF5IiwidHJhbnNpdGlvblNsaWRlIiwid2Vla1RpdGxlRGF5U3R5bGUiLCJjYW5jZWxMYWJlbCIsImZpcnN0RGF5T2ZXZWVrIiwib2tMYWJlbCIsIm9uVG91Y2hUYXBDYW5jZWwiLCJvblRvdWNoVGFwT2siLCJvblRvdWNoVGFwTW9udGhEYXkiLCJtb250aERheVNlbGVjdGVkIiwib25Nb250aENoYW5nZSIsImxvY2FsaXplZFdlZWtkYXkiLCJ0b0RhdGVTdHJpbmciLCJzaG91bGREaXNhYmxlRGF0ZSIsInllYXJTZWxlY3RvciIsImF1dG9PayIsImRhdGVUaW1lRm9ybWF0IiwiZGVmYXVsdFV0aWxzIiwiNDAxIiwiQ2FsZW5kYXJBY3Rpb25CdXR0b24iLCJmbGF0QnV0dG9ucyIsImZvbnRzaXplIiwicHJpbWFyeSIsIjQwMiIsIl9EYXlCdXR0b24iLCJfRGF5QnV0dG9uMiIsIk1velBhZGRpbmdTdGFydCIsIndlZWsiLCJDYWxlbmRhck1vbnRoIiwic2VsZWN0ZWREYXRlRGlzYWJsZWQiLCJkYXkiLCJpc0JldHdlZW5EYXRlcyIsImdldFdlZWtBcnJheSIsImdldERheUVsZW1lbnRzIiwiaiIsImlzU2FtZURhdGUiLCJpc0VxdWFsRGF0ZSIsInNlbGVjdGVkIiwiZ2V0V2Vla0VsZW1lbnRzIiwiNDAzIiwiX2NoZXZyb25MZWZ0IiwiX2NoZXZyb25MZWZ0MiIsIl9jaGV2cm9uUmlnaHQiLCJfY2hldnJvblJpZ2h0MiIsInRpdGxlRGl2IiwidGl0bGVUZXh0IiwiQ2FsZW5kYXJUb29sYmFyIiwiaGFuZGxlVG91Y2hUYXBQcmV2TW9udGgiLCJoYW5kbGVUb3VjaFRhcE5leHRNb250aCIsImRhdGVUaW1lRm9ybWF0dGVkIiwibW9udGgiLCJuZXh0QnV0dG9uSWNvbiIsInByZXZCdXR0b25JY29uIiwiNDA0IiwiX1llYXJCdXR0b24iLCJfWWVhckJ1dHRvbjIiLCJDYWxlbmRhclllYXIiLCJzY3JvbGxUb1NlbGVjdGVkWWVhciIsIm1pblllYXIiLCJnZXRZZWFyIiwibWF4WWVhciIsInNlbGVjdGVkUHJvcHMiLCJ5ZWFyRm9ybWF0ZWQiLCJ5ZWFyQnV0dG9uIiwic2VsZWN0ZWRZZWFyQnV0dG9uIiwieWVhckJ1dHRvbk5vZGUiLCJjb250YWluZXJIZWlnaHQiLCJ5ZWFyQnV0dG9uTm9kZUhlaWdodCIsInNjcm9sbFlPZmZzZXQiLCJvZmZzZXRUb3AiLCJzY3JvbGxUb3AiLCJjYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3IiLCJvdmVyZmxvd1giLCJtaW5IZWlnaHQiLCJnZXRZZWFycyIsIjQwNSIsInNlbGVjdGVkWWVhciIsImhlYWRlckNvbG9yIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyQm90dG9tTGVmdFJhZGl1cyIsIm1vbnRoRGF5IiwibW9udGhEYXlUaXRsZSIsInllYXJUaXRsZSIsIkRhdGVEaXNwbGF5IiwiaGFuZGxlVG91Y2hUYXBNb250aERheSIsImRhdGVUaW1lIiwid2Vla2RheSIsIjQwNiIsIl9EYXRlUGlja2VyRGlhbG9nIiwiX0RhdGVQaWNrZXJEaWFsb2cyIiwiRGF0ZVBpY2tlciIsImhhbmRsZUFjY2VwdCIsImlzQ29udHJvbGxlZCIsImJsdXIiLCJoYW5kbGVUb3VjaFRhcCIsIm9wZW5EaWFsb2ciLCJmb3JtYXREYXRlIiwiZm9ybWF0SXNvIiwiZ2V0Q29udHJvbGxlZERhdGUiLCJkZWZhdWx0RGF0ZSIsIm5ld0RhdGUiLCJkaWFsb2dEYXRlIiwiZ2V0RGF0ZSIsImRpYWxvZ0NvbnRhaW5lclN0eWxlIiwiZm9ybWF0RGF0ZVByb3AiLCJvbkRpc21pc3MiLCJvblNob3ciLCJ0ZXh0RmllbGRTdHlsZSIsImNvbnRhaW5lclN0eWxlIiwib25BY2NlcHQiLCI0MDciLCJfQ2FsZW5kYXIiLCJfQ2FsZW5kYXIyIiwiX0RpYWxvZzIiLCJEYXRlUGlja2VyRGlhbG9nIiwiZGlzbWlzcyIsImhhbmRsZVRvdWNoVGFwT2siLCJoYW5kbGVUb3VjaFRhcENhbmNlbCIsImhhbmRsZVJlcXVlc3RDbG9zZSIsImdldFNlbGVjdGVkRGF0ZSIsImhhbmRsZVdpbmRvd0tleVVwIiwiZGlhbG9nQm9keUNvbnRlbnQiLCJDb250YWluZXIiLCI0MDgiLCJob3ZlciIsImJ1dHRvblN0YXRlT3BhY2l0eSIsImJ1dHRvblN0YXRlVHJhbnNmb3JtIiwiYnV0dG9uU3RhdGUiLCJzZWxlY3RDb2xvciIsIl9FbmhhbmNlZEJ1dHRvbiIsIl9FbmhhbmNlZEJ1dHRvbjIiLCJEYXlCdXR0b24iLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlS2V5Ym9hcmRGb2N1cyIsImtleWJvYXJkRm9jdXNlZCIsIm9uS2V5Ym9hcmRGb2N1cyIsIm9uTW91c2VFbnRlciIsIjQwOSIsImFsaWduU2VsZiIsIlllYXJCdXR0b24iLCI0MjkiLCJfVGltZURpc3BsYXkiLCJfVGltZURpc3BsYXkyIiwiX0Nsb2NrSG91cnMiLCJfQ2xvY2tIb3VyczIiLCJfQ2xvY2tNaW51dGVzIiwiX0Nsb2NrTWludXRlczIiLCJDbG9jayIsInNlbGVjdGVkVGltZSIsInNldE1vZGUiLCJoYW5kbGVTZWxlY3RBZmZpeCIsImFmZml4IiwiZ2V0QWZmaXgiLCJob3VycyIsImdldEhvdXJzIiwiaGFuZGxlQ2hhbmdlSG91cnMiLCJmaW5pc2hlZCIsInRpbWUiLCJzZXRIb3VycyIsIm9uQ2hhbmdlSG91cnMiLCJoYW5kbGVDaGFuZ2VNaW51dGVzIiwibWludXRlcyIsInNldE1pbnV0ZXMiLCJvbkNoYW5nZU1pbnV0ZXMiLCJpbml0aWFsVGltZSIsImdldE1pbnV0ZXMiLCJtaW51dGVzU3RlcCIsImNsb2NrIiwiY2xvY2tDaXJjbGVDb2xvciIsImluaXRpYWxIb3VycyIsImluaXRpYWxNaW51dGVzIiwic3RlcCIsIm9uU2VsZWN0QWZmaXgiLCJvblNlbGVjdEhvdXIiLCJiaW5kIiwib25TZWxlY3RNaW4iLCI0MzAiLCJfQ2xvY2tOdW1iZXIiLCJfQ2xvY2tOdW1iZXIyIiwiX0Nsb2NrUG9pbnRlciIsIl9DbG9ja1BvaW50ZXIyIiwiQ2xvY2tIb3VycyIsImhhbmRsZVVwIiwic2V0Q2xvY2siLCJuYXRpdmVFdmVudCIsImhhbmRsZU1vdmUiLCJpc01vdXNlUHJlc3NlZCIsImhhbmRsZVRvdWNoTW92ZSIsImNoYW5nZWRUb3VjaGVzIiwiY2xvY2tFbGVtZW50IiwibWFzayIsImNlbnRlciIsIm9mZnNldFdpZHRoIiwiYmFzZVBvaW50IiwiYnV0dG9ucyIsIndoaWNoIiwiZmluaXNoIiwib2Zmc2V0WCIsIm9mZnNldCIsImdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMiLCJvZmZzZXRZIiwiY3giLCJjeSIsImF0YW4iLCJNYXRoIiwiYXRhbjIiLCJkZWciLCJyYWQyZGVnIiwicm91bmQiLCJmbG9vciIsImRlbHRhIiwicG93IiwiZGlzdGFuY2UiLCJzcXJ0IiwiaG91ciIsImhvdXJTaXplIiwiZ2V0U2VsZWN0ZWQiLCJoaXRNYXNrIiwibnVtYmVycyIsImdldEhvdXJOdW1iZXJzIiwib25Ub3VjaE1vdmUiLCJvbk1vdXNlTW92ZSIsIjQzMSIsIkNsb2NrTWludXRlcyIsImhhbmRsZVRvdWNoIiwic2VsZWN0ZWRNaW51dGVzIiwibWludXRlIiwiZ2V0TWludXRlTnVtYmVycyIsIjQzMiIsIlRpbWVEaXNwbGF5IiwibWluIiwidG9TdHJpbmciLCJ0ZXh0IiwiYWxpZ25JdGVtcyIsImZsZXgiLCJhZmZpeFRvcCIsImNsaWNrYWJsZSIsImluYWN0aXZlIiwiX3Nhbml0aXplVGltZSIsInNhbml0aXplVGltZSIsIl9zYW5pdGl6ZVRpbWUyIiwiNDMzIiwiX1RpbWVQaWNrZXJEaWFsb2ciLCJfVGltZVBpY2tlckRpYWxvZzIiLCJlbXB0eVRpbWUiLCJzZXRTZWNvbmRzIiwic2V0TWlsbGlzZWNvbmRzIiwiVGltZVBpY2tlciIsImRpYWxvZ1RpbWUiLCJoYW5kbGVBY2NlcHREaWFsb2ciLCJoYW5kbGVGb2N1c0lucHV0IiwiaGFuZGxlVG91Y2hUYXBJbnB1dCIsImdldENvbnRyb2xsZWRUaW1lIiwiZGVmYXVsdFRpbWUiLCJyZXN1bHQiLCJkaWFsb2dCb2R5U3R5bGUiLCJkaWFsb2dTdHlsZSIsInBlZGFudGljIiwiZm9ybWF0VGltZSIsIjQzNCIsIl9DbG9jayIsIl9DbG9jazIiLCJUaW1lUGlja2VyRGlhbG9nIiwiaGFuZGxlVG91Y2hUYXBPSyIsImdldFNlbGVjdGVkVGltZSIsImNsb2NrQ29sb3IiLCJvbkNsb2NrQ2hhbmdlTWludXRlcyIsIjQzOSIsIl9hdXRvUHJlZml4IiwiX2F1dG9QcmVmaXgyIiwiU2xpZGVJbkNoaWxkIiwiZW50ZXJUaW1lciIsImxlYXZlVGltZXIiLCJzZXQiLCI0NDkiLCJOYXZpZ2F0aW9uQ2hldnJvbkxlZnQiLCI0NSIsIjQ1MCIsIk5hdmlnYXRpb25DaGV2cm9uUmlnaHQiLCI3OSIsIl9DaGVja2JveDIiLCI4MCIsIjg4IiwiZGF5TGlzdCIsImdldERheSIsIm1vbnRoTGlzdCIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJtb250aExvbmdMaXN0IiwiZGF5QWJicmV2aWF0aW9uIiwiY2xvbmVEYXRlIiwic2V0RnVsbFllYXIiLCJzZXREYXRlIiwic2V0TW9udGgiLCJnZXRUaW1lIiwiY2xvbmVBc0RhdGUiLCJjbG9uZWREYXRlIiwiZ2V0RGF5c0luTW9udGgiLCJyZXN1bHREYXRlIiwiZ2V0Rmlyc3REYXlPZldlZWsiLCJub3ciLCJkYXlBcnJheSIsImRheXNJbk1vbnRoIiwid2Vla0FycmF5IiwiYWRkV2VlayIsImVtcHR5RGF5cyIsIndlZWtkYXlGb3JtYXR0ZXIiLCJmaXJzdERheURhdGUiLCJ0b0lTT1N0cmluZyIsInN1YnN0cmluZyIsImQxIiwiZDIiLCJkYXRlMSIsImRhdGUyIiwiZGF0ZVRvQ2hlY2siLCJzdGFydERhdGUiLCJlbmREYXRlIiwibSIsInllYXJEaWZmIiwiOTEiLCJhZGRIb3VycyIsImNsb25lIiwiYWRkTWludXRlcyIsImFkZFNlY29uZHMiLCJzZWNvbmRzIiwibWlucyIsImlzQU0iLCJhZGRpdGlvbmFsIiwicmFkIiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImNsaWVudFkiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLElBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFakMsWUM2Q0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBRTdFLFFBQUFHLEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQUgsRUFBQUcsYUFDQUMsRUFBQUYsRUFBQUUsS0FDQUMsRUFBQUosRUFBQUksU0FFQUMsRUFBQUgsRUFBQUcsV0FBQUMsUUFBQSxvQkFFQSxRQUNBQyxNQUNBQyxTQUFBLFFBQ0FDLE9BQUFM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SnNvbnAoWzJdLHtcblxuLyoqKi8gMTA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX3Byb3BUeXBlczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIHRhcmdldE9yaWdpbiA9IHByb3BzLnRhcmdldE9yaWdpbjtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuICB2YXIgbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lO1xuXG4gIHZhciBob3Jpem9udGFsID0gdGFyZ2V0T3JpZ2luLmhvcml6b250YWwucmVwbGFjZSgnbWlkZGxlJywgJ3ZlcnRpY2FsJyk7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHpJbmRleDogbXVpVGhlbWUuekluZGV4LnBvcG92ZXIsXG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAnc2NhbGVZKDEpJyA6ICdzY2FsZVkoMCknLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiBob3Jpem9udGFsICsgJyAnICsgdGFyZ2V0T3JpZ2luLnZlcnRpY2FsLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQ1MG1zJywgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKSxcbiAgICAgIG1heEhlaWdodDogJzEwMCUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBuZXh0UHJvcHMub3BlblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB6RGVwdGggPSBfcHJvcHMuekRlcHRoO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0eWxlOiB7fSxcbiAgekRlcHRoOiAxXG59O1xuUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHRhcmdldE9yaWdpbjogX3Byb3BUeXBlczQuZGVmYXVsdC5vcmlnaW4uaXNSZXF1aXJlZCxcbiAgekRlcHRoOiBfcHJvcFR5cGVzNC5kZWZhdWx0LnpEZXB0aFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTE1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5NZW51SXRlbSA9IGV4cG9ydHMuRHJvcERvd25NZW51ID0gdW5kZWZpbmVkO1xuXG52YXIgX0Ryb3BEb3duTWVudTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cbnZhciBfRHJvcERvd25NZW51MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3BEb3duTWVudTIpO1xuXG52YXIgX01lbnVJdGVtMiA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXG52YXIgX01lbnVJdGVtMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuRHJvcERvd25NZW51ID0gX0Ryb3BEb3duTWVudTMuZGVmYXVsdDtcbmV4cG9ydHMuTWVudUl0ZW0gPSBfTWVudUl0ZW0zLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfRHJvcERvd25NZW51My5kZWZhdWx0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTQ1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRTd2l0Y2gpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrQm94T3V0bGluZUJsYW5rKTtcblxudmFyIF9jaGVja0JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9jaGVja0JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2hlY2tib3ggPSBjb250ZXh0Lm11aVRoZW1lLmNoZWNrYm94O1xuXG4gIHZhciBjaGVja2JveFNpemUgPSAyNDtcblxuICByZXR1cm4ge1xuICAgIGljb246IHtcbiAgICAgIGhlaWdodDogY2hlY2tib3hTaXplLFxuICAgICAgd2lkdGg6IGNoZWNrYm94U2l6ZVxuICAgIH0sXG4gICAgY2hlY2s6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDApJyxcbiAgICAgIHRyYW5zaXRpb25PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0NTBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAndHJhbnNmb3JtJywgJzQ1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGNoZWNrV2hlblN3aXRjaGVkOiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc4MDBtcycsICd0cmFuc2Zvcm0nLCAnMG1zJylcbiAgICB9LFxuICAgIGNoZWNrV2hlbkRpc2FibGVkOiB7XG4gICAgICBmaWxsOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBib3g6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGZpbGw6IGNoZWNrYm94LmJveENvbG9yLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzEwMDBtcycsICdvcGFjaXR5JywgJzIwMG1zJylcbiAgICB9LFxuICAgIGJveFdoZW5Td2l0Y2hlZDoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc2NTBtcycsICdvcGFjaXR5JywgJzE1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGJveFdoZW5EaXNhYmxlZDoge1xuICAgICAgZmlsbDogcHJvcHMuY2hlY2tlZCA/ICd0cmFuc3BhcmVudCcgOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgY29sb3I6IHByb3BzLmRpc2FibGVkID8gY2hlY2tib3gubGFiZWxEaXNhYmxlZENvbG9yIDogY2hlY2tib3gubGFiZWxDb2xvclxuICAgIH1cbiAgfTtcbn1cblxudmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2hlY2tib3gsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENoZWNrYm94KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENoZWNrYm94KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENoZWNrYm94Ll9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDaGVja2JveCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3dpdGNoZWQ6IGZhbHNlXG4gICAgfSwgX3RoaXMuaGFuZGxlU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3U3dpdGNoZWQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3dpdGNoZWQ6IG5ld1N3aXRjaGVkXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGVjayA9IGZ1bmN0aW9uIChldmVudCwgaXNJbnB1dENoZWNrZWQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoZWNrKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2hlY2soZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2hlY2tib3gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gX3Byb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgIHZhbHVlTGluayA9IF9wcm9wcy52YWx1ZUxpbms7XG5cblxuICAgICAgaWYgKGNoZWNrZWQgfHwgZGVmYXVsdENoZWNrZWQgfHwgdmFsdWVMaW5rICYmIHZhbHVlTGluay52YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoZWNrZWQgIT09IG5leHRQcm9wcy5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NoZWNrZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoZWNrZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmVuaGFuY2VkU3dpdGNoLmlzU3dpdGNoZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDaGVja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hlY2tlZChuZXdDaGVja2VkVmFsdWUpIHtcbiAgICAgIHRoaXMucmVmcy5lbmhhbmNlZFN3aXRjaC5zZXRTd2l0Y2hlZChuZXdDaGVja2VkVmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMyLmljb25TdHlsZSxcbiAgICAgICAgICBvbkNoZWNrID0gX3Byb3BzMi5vbkNoZWNrLFxuICAgICAgICAgIGNoZWNrZWRJY29uID0gX3Byb3BzMi5jaGVja2VkSWNvbixcbiAgICAgICAgICB1bmNoZWNrZWRJY29uID0gX3Byb3BzMi51bmNoZWNrZWRJY29uLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzMiwgWydpY29uU3R5bGUnLCAnb25DaGVjaycsICdjaGVja2VkSWNvbicsICd1bmNoZWNrZWRJY29uJ10pO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgYm94U3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5ib3gsIHRoaXMuc3RhdGUuc3dpdGNoZWQgJiYgc3R5bGVzLmJveFdoZW5Td2l0Y2hlZCwgaWNvblN0eWxlLCB0aGlzLnByb3BzLmRpc2FibGVkICYmIHN0eWxlcy5ib3hXaGVuRGlzYWJsZWQpO1xuICAgICAgdmFyIGNoZWNrU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jaGVjaywgdGhpcy5zdGF0ZS5zd2l0Y2hlZCAmJiBzdHlsZXMuY2hlY2tXaGVuU3dpdGNoZWQsIGljb25TdHlsZSwgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBzdHlsZXMuY2hlY2tXaGVuRGlzYWJsZWQpO1xuXG4gICAgICB2YXIgY2hlY2tlZEVsZW1lbnQgPSBjaGVja2VkSWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShjaGVja1N0eWxlcywgY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveDIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogY2hlY2tTdHlsZXNcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdW5DaGVja2VkRWxlbWVudCA9IHVuY2hlY2tlZEljb24gPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KHVuY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShib3hTdHlsZXMsIHVuY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveE91dGxpbmVCbGFuazIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogYm94U3R5bGVzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNoZWNrYm94RWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdW5DaGVja2VkRWxlbWVudCxcbiAgICAgICAgY2hlY2tlZEVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIHZhciByaXBwbGVDb2xvciA9IHRoaXMuc3RhdGUuc3dpdGNoZWQgPyBjaGVja1N0eWxlcy5maWxsIDogYm94U3R5bGVzLmZpbGw7XG4gICAgICB2YXIgbWVyZ2VkSWNvblN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uU3R5bGUpO1xuXG4gICAgICB2YXIgbGFiZWxTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIHRoaXMucHJvcHMubGFiZWxTdHlsZSk7XG5cbiAgICAgIHZhciBlbmhhbmNlZFN3aXRjaFByb3BzID0ge1xuICAgICAgICByZWY6ICdlbmhhbmNlZFN3aXRjaCcsXG4gICAgICAgIGlucHV0VHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgc3dpdGNoZWQ6IHRoaXMuc3RhdGUuc3dpdGNoZWQsXG4gICAgICAgIHN3aXRjaEVsZW1lbnQ6IGNoZWNrYm94RWxlbWVudCxcbiAgICAgICAgcmlwcGxlQ29sb3I6IHJpcHBsZUNvbG9yLFxuICAgICAgICBpY29uU3R5bGU6IG1lcmdlZEljb25TdHlsZSxcbiAgICAgICAgb25Td2l0Y2g6IHRoaXMuaGFuZGxlQ2hlY2ssXG4gICAgICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXG4gICAgICAgIG9uUGFyZW50U2hvdWxkVXBkYXRlOiB0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlLFxuICAgICAgICBsYWJlbFBvc2l0aW9uOiB0aGlzLnByb3BzLmxhYmVsUG9zaXRpb25cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRW5oYW5jZWRTd2l0Y2gyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCBlbmhhbmNlZFN3aXRjaFByb3BzKSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaGVja2JveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgbGFiZWxQb3NpdGlvbjogJ3JpZ2h0JyxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuQ2hlY2tib3guY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNoZWNrYm94LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIENoZWNrYm94IGlzIGNoZWNrZWQgaWYgdHJ1ZS5cbiAgICovXG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIGNoZWNrZWQgc3RhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBpY29uIHRvZ2dsZXMuXG4gICAqL1xuICBjaGVja2VkSWNvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3RhdGUgb2Ygb3VyIGNoZWNrYm94IGNvbXBvbmVudC5cbiAgICogKipXYXJuaW5nOioqIFRoaXMgY2Fubm90IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgY2hlY2tlZGAuXG4gICAqIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy5cbiAgICogTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50c1xuICAgKi9cbiAgZGVmYXVsdENoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIERpc2FibGVkIGlmIHRydWUuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBXaGVyZSB0aGUgbGFiZWwgd2lsbCBiZSBwbGFjZWQgbmV4dCB0byB0aGUgY2hlY2tib3guXG4gICAqL1xuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgQ2hlY2tib3ggZWxlbWVudCBsYWJlbC5cbiAgICovXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgYGNoYW5nZWAgZXZlbnQgdGFyZ2V0aW5nIHRoZSB1bmRlcmx5aW5nIGNoZWNrYm94IGBpbnB1dGAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNJbnB1dENoZWNrZWQgVGhlIGBjaGVja2VkYCB2YWx1ZSBvZiB0aGUgdW5kZXJseWluZyBjaGVja2JveCBgaW5wdXRgLlxuICAgKi9cbiAgb25DaGVjazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIHVuY2hlY2tlZCBzdGF0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGljb24gdG9nZ2xlcy5cbiAgICovXG4gIHVuY2hlY2tlZEljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCxcbiAgLyoqXG4gICAqIFZhbHVlTGluayBmb3Igd2hlbiB1c2luZyBjb250cm9sbGVkIGNoZWNrYm94LlxuICAgKi9cbiAgdmFsdWVMaW5rOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2hlY2tib3g7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9PdmVybGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXG52YXIgX092ZXJsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3ZlcmxheSk7XG5cbnZhciBfUmVuZGVyVG9MYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblxudmFyIF9SZW5kZXJUb0xheWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRvTGF5ZXIpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2l0aW9uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVHJhbnNpdGlvbkl0ZW0gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkl0ZW0oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVHJhbnNpdGlvbkl0ZW0pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVHJhbnNpdGlvbkl0ZW0uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdHlsZToge31cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0sIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVudGVyVGltZW91dCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sZWF2ZVRpbWVvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihjYWxsYmFjaykge1xuICAgICAgdGhpcy5jb21wb25lbnRXaWxsQXBwZWFyKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsQXBwZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEFwcGVhcihjYWxsYmFjaykge1xuICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsICcgKyBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICsgJ3B4KSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZW50ZXJUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbExlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbExlYXZlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGVhdmVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnc3R5bGUnLCAnY2hpbGRyZW4nXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgdGhpcy5zdGF0ZS5zdHlsZSwgc3R5bGUpKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUcmFuc2l0aW9uSXRlbTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25JdGVtLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UcmFuc2l0aW9uSXRlbS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuXG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gcHJvcHMuYXV0b1Njcm9sbEJvZHlDb250ZW50LFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW47XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBzcGFjaW5nID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnNwYWNpbmcsXG4gICAgICBwYWxldHRlID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnBhbGV0dGUsXG4gICAgICBkaWFsb2cgPSBfY29udGV4dCRtdWlUaGVtZS5kaWFsb2csXG4gICAgICB6SW5kZXggPSBfY29udGV4dCRtdWlUaGVtZS56SW5kZXg7XG5cblxuICB2YXIgZ3V0dGVyID0gc3BhY2luZy5kZXNrdG9wR3V0dGVyO1xuICB2YXIgYm9yZGVyU2Nyb2xsID0gJzFweCBzb2xpZCAnICsgcGFsZXR0ZS5ib3JkZXJDb2xvcjtcblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogb3BlbiA/IDAgOiAtMTAwMDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB0cmFuc2l0aW9uOiBvcGVuID8gX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzBtcycpIDogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzQ1MG1zJylcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnNzUlJyxcbiAgICAgIG1heFdpZHRoOiBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICogMTIsXG4gICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nXG4gICAgfSxcbiAgICBhY3Rpb25zQ29udGFpbmVyOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpblRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICB6SW5kZXg6IHpJbmRleC5kaWFsb2dPdmVybGF5XG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcGFkZGluZzogZ3V0dGVyICsgJ3B4ICcgKyBndXR0ZXIgKyAncHggMjBweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGNvbG9yOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBkaWFsb2cudGl0bGVGb250U2l6ZSxcbiAgICAgIGxpbmVIZWlnaHQ6ICczMnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICAgIG1hcmdpbkJvdHRvbTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBmb250U2l6ZTogZGlhbG9nLmJvZHlGb250U2l6ZSxcbiAgICAgIGNvbG9yOiBkaWFsb2cuYm9keUNvbG9yLFxuICAgICAgcGFkZGluZzogKHByb3BzLnRpdGxlID8gMCA6IGd1dHRlcikgKyAncHggJyArIGd1dHRlciArICdweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgb3ZlcmZsb3dZOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyAnYXV0bycgOiAnaGlkZGVuJyxcbiAgICAgIGJvcmRlclRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gYm9yZGVyU2Nyb2xsIDogJ25vbmUnLFxuICAgICAgYm9yZGVyQm90dG9tOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyBib3JkZXJTY3JvbGwgOiAnbm9uZSdcbiAgICB9XG4gIH07XG59XG5cbnZhciBEaWFsb2dJbmxpbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nSW5saW5lLCBfQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gRGlhbG9nSW5saW5lKCkge1xuICAgIHZhciBfcmVmMjtcblxuICAgIHZhciBfdGVtcDIsIF90aGlzMiwgX3JldDI7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2dJbmxpbmUpO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDIgPSAoX3RlbXAyID0gKF90aGlzMiA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYyID0gRGlhbG9nSW5saW5lLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2dJbmxpbmUpKS5jYWxsLmFwcGx5KF9yZWYyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMiksIF90aGlzMi5oYW5kbGVUb3VjaFRhcE92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucmVxdWVzdENsb3NlKGZhbHNlKTtcbiAgICB9LCBfdGhpczIuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSA9PT0gJ2VzYycpIHtcbiAgICAgICAgX3RoaXMyLnJlcXVlc3RDbG9zZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMyLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH0sIF90ZW1wMiksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMyLCBfcmV0Mik7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaWFsb2dJbmxpbmUsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucG9zaXRpb25EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9zaXRpb25EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbkRpYWxvZygpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3Rpb25zID0gX3Byb3BzMi5hY3Rpb25zLFxuICAgICAgICAgIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQgPSBfcHJvcHMyLmF1dG9EZXRlY3RXaW5kb3dIZWlnaHQsXG4gICAgICAgICAgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gX3Byb3BzMi5hdXRvU2Nyb2xsQm9keUNvbnRlbnQsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzMi5ib2R5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczIub3BlbixcbiAgICAgICAgICByZXBvc2l0aW9uT25VcGRhdGUgPSBfcHJvcHMyLnJlcG9zaXRpb25PblVwZGF0ZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wczIudGl0bGU7XG5cblxuICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciBkaWFsb2dXaW5kb3cgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZ1dpbmRvdyk7XG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZGlhbG9nQ29udGVudCk7XG4gICAgICB2YXIgbWluUGFkZGluZ1RvcCA9IDE2O1xuXG4gICAgICAvLyBSZXNldCB0aGUgaGVpZ2h0IGluIGNhc2UgdGhlIHdpbmRvdyB3YXMgcmVzaXplZC5cbiAgICAgIGRpYWxvZ1dpbmRvdy5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cbiAgICAgIHZhciBkaWFsb2dXaW5kb3dIZWlnaHQgPSBkaWFsb2dXaW5kb3cub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIHBhZGRpbmdUb3AgPSAoY2xpZW50SGVpZ2h0IC0gZGlhbG9nV2luZG93SGVpZ2h0KSAvIDIgLSA2NDtcbiAgICAgIGlmIChwYWRkaW5nVG9wIDwgbWluUGFkZGluZ1RvcCkgcGFkZGluZ1RvcCA9IG1pblBhZGRpbmdUb3A7XG5cbiAgICAgIC8vIFZlcnRpY2FsbHkgY2VudGVyIHRoZSBkaWFsb2cgd2luZG93LCBidXQgbWFrZSBzdXJlIGl0IGRvZXNuJ3RcbiAgICAgIC8vIHRyYW5zaXRpb24gdG8gdGhhdCBwb3NpdGlvbi5cbiAgICAgIGlmIChyZXBvc2l0aW9uT25VcGRhdGUgfHwgIWNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wKSB7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvcmNlIGEgaGVpZ2h0IGlmIHRoZSBkaWFsb2cgaXMgdGFsbGVyIHRoYW4gY2xpZW50SGVpZ2h0XG4gICAgICBpZiAoYXV0b0RldGVjdFdpbmRvd0hlaWdodCB8fCBhdXRvU2Nyb2xsQm9keUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgICAgdmFyIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgPSBjbGllbnRIZWlnaHQgLSAyICogNjQ7XG5cbiAgICAgICAgaWYgKHRpdGxlKSBtYXhEaWFsb2dDb250ZW50SGVpZ2h0IC09IGRpYWxvZ0NvbnRlbnQucHJldmlvdXNTaWJsaW5nLm9mZnNldEhlaWdodDtcblxuICAgICAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGFjdGlvbnMpKSB7XG4gICAgICAgICAgbWF4RGlhbG9nQ29udGVudEhlaWdodCAtPSBkaWFsb2dDb250ZW50Lm5leHRTaWJsaW5nLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gbWF4RGlhbG9nQ29udGVudEhlaWdodCArICdweCc7XG4gICAgICAgIGlmIChtYXhEaWFsb2dDb250ZW50SGVpZ2h0ID4gZGlhbG9nV2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJCb3R0b20gPSAnbm9uZSc7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJUb3AgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXF1ZXN0Q2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0Q2xvc2UoYnV0dG9uQ2xpY2tlZCkge1xuICAgICAgaWYgKCFidXR0b25DbGlja2VkICYmIHRoaXMucHJvcHMubW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCEhYnV0dG9uQ2xpY2tlZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdGlvbnMgPSBfcHJvcHMzLmFjdGlvbnMsXG4gICAgICAgICAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSA9IF9wcm9wczMuYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyU3R5bGUgPSBfcHJvcHMzLmFjdGlvbnNDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBib2R5Q2xhc3NOYW1lID0gX3Byb3BzMy5ib2R5Q2xhc3NOYW1lLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wczMuYm9keVN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjb250ZW50Q2xhc3NOYW1lID0gX3Byb3BzMy5jb250ZW50Q2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wczMuY29udGVudFN0eWxlLFxuICAgICAgICAgIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMzLm92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3Byb3BzMy5vdmVybGF5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczMub3BlbixcbiAgICAgICAgICBwYXBlckNsYXNzTmFtZSA9IF9wcm9wczMucGFwZXJDbGFzc05hbWUsXG4gICAgICAgICAgcGFwZXJQcm9wcyA9IF9wcm9wczMucGFwZXJQcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczMuc3R5bGUsXG4gICAgICAgICAgdGl0bGVDbGFzc05hbWUgPSBfcHJvcHMzLnRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHRpdGxlU3R5bGUgPSBfcHJvcHMzLnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMzLnRpdGxlO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICBzdHlsZXMucm9vdCA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgc3R5bGVzLmNvbnRlbnQgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZSk7XG4gICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgIHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyLCBhY3Rpb25zQ29udGFpbmVyU3R5bGUpO1xuICAgICAgc3R5bGVzLm92ZXJsYXkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLm92ZXJsYXksIG92ZXJsYXlTdHlsZSk7XG4gICAgICBzdHlsZXMudGl0bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRpdGxlLCB0aXRsZVN0eWxlKTtcblxuICAgICAgdmFyIGFjdGlvbnNDb250YWluZXIgPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoYWN0aW9ucykgPiAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGFjdGlvbnNDb250YWluZXJDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShhY3Rpb25zKVxuICAgICAgKTtcblxuICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IHRpdGxlO1xuICAgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudCh0aXRsZSkpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudCh0aXRsZSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGUucHJvcHMuY2xhc3NOYW1lIHx8IHRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlLnByb3BzLnN0eWxlKSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2gzJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogdGl0bGVDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50aXRsZSkgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgdGFyZ2V0OiAnd2luZG93JyxcbiAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLFxuICAgICAgICAgIG9uUmVzaXplOiB0aGlzLmhhbmRsZVJlc2l6ZVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1RyYW5zaXRpb25Hcm91cDIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICAgICAgcmVmOiAnZGlhbG9nV2luZG93JyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyVGltZW91dDogNDUwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNDUwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgVHJhbnNpdGlvbkl0ZW0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy5jb250ZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGNsYXNzTmFtZTogcGFwZXJDbGFzc05hbWUsIHpEZXB0aDogNCB9LCBwYXBlclByb3BzKSxcbiAgICAgICAgICAgICAgdGl0bGVFbGVtZW50LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZWY6ICdkaWFsb2dDb250ZW50JyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYm9keUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5ib2R5KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgYWN0aW9uc0NvbnRhaW5lclxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX092ZXJsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBzaG93OiBvcGVuLFxuICAgICAgICAgIGNsYXNzTmFtZTogb3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLm92ZXJsYXksXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE92ZXJsYXlcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2dJbmxpbmU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2dJbmxpbmUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZ0lubGluZS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGFjdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGlvbnNDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGJvZHlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBjb250ZW50Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvdmVybGF5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBwYXBlckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHBhcGVyUHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICByZXBvc2l0aW9uT25VcGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0aXRsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICB0aXRsZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5cbnZhciBEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDMpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nLCBfQ29tcG9uZW50Myk7XG5cbiAgZnVuY3Rpb24gRGlhbG9nKCkge1xuICAgIHZhciBfcmVmMztcblxuICAgIHZhciBfdGVtcDMsIF90aGlzMywgX3JldDM7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDMgPSAoX3RlbXAzID0gKF90aGlzMyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYzID0gRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2cpKS5jYWxsLmFwcGx5KF9yZWYzLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMyksIF90aGlzMy5yZW5kZXJMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChEaWFsb2dJbmxpbmUsIF90aGlzMy5wcm9wcyk7XG4gICAgfSwgX3RlbXAzKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpczMsIF9yZXQzKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpYWxvZywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JlbmRlclRvTGF5ZXIyLmRlZmF1bHQsIHsgcmVuZGVyOiB0aGlzLnJlbmRlckxheWVyLCBvcGVuOiB0cnVlLCB1c2VMYXllckZvckNsaWNrQXdheTogZmFsc2UgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2cuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IHRydWUsXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogZmFsc2UsXG4gIG1vZGFsOiBmYWxzZSxcbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiB0cnVlXG59O1xuRGlhbG9nLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIEFjdGlvbiBidXR0b25zIHRvIGRpc3BsYXkgYmVsb3cgdGhlIERpYWxvZyBjb250ZW50IChgY2hpbGRyZW5gKS5cbiAgICogVGhpcyBwcm9wZXJ0eSBhY2NlcHRzIGVpdGhlciBhIFJlYWN0IGVsZW1lbnQsIG9yIGFuIGFycmF5IG9mIFJlYWN0IGVsZW1lbnRzLlxuICAgKi9cbiAgYWN0aW9uczogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBoZWlnaHQgb2YgdGhlIGBEaWFsb2dgIHdpbGwgYmUgYXV0byBkZXRlY3RlZC4gQSBtYXggaGVpZ2h0XG4gICAqIHdpbGwgYmUgZW5mb3JjZWQgc28gdGhhdCB0aGUgY29udGVudCBkb2VzIG5vdCBleHRlbmQgYmV5b25kIHRoZSB2aWV3cG9ydC5cbiAgICovXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgYm9keSBjb250ZW50IG9mIHRoZSBgRGlhbG9nYCB3aWxsIGJlIHNjcm9sbGFibGUuXG4gICAqL1xuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIEZvcmNlIHRoZSB1c2VyIHRvIHVzZSBvbmUgb2YgdGhlIGFjdGlvbnMgaW4gdGhlIGBEaWFsb2dgLlxuICAgKiBDbGlja2luZyBvdXRzaWRlIHRoZSBgRGlhbG9nYCB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBgb25SZXF1ZXN0Q2xvc2VgLlxuICAgKi9cbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGBEaWFsb2dgIGlzIHJlcXVlc3RlZCB0byBiZSBjbG9zZWQgYnkgYSBjbGljayBvdXRzaWRlIHRoZSBgRGlhbG9nYCBvciBvbiB0aGUgYnV0dG9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sfSBidXR0b25DbGlja2VkIERldGVybWluZXMgd2hldGhlciBhIGJ1dHRvbiBjbGljayB0cmlnZ2VyZWQgdGhpcyByZXF1ZXN0LlxuICAgKi9cbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIERpYWxvZyBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgQ1NTIGNsYXNzIG5hbWUgb2YgdGhlIGBQYXBlcmAgZWxlbWVudC5cbiAgICovXG4gIHBhcGVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBlbGVtZW50LlxuICAgKi9cbiAgcGFwZXJQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBEaWFsb2dgIHNob3VsZCBiZSByZXBvc2l0aW9uZWQgd2hlbiBpdCdzIGNvbnRlbnRzIGFyZSB1cGRhdGVkLlxuICAgKi9cbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHRpdGxlIHRvIGRpc3BsYXkgb24gdGhlIGBEaWFsb2dgLiBDb3VsZCBiZSBudW1iZXIsIHN0cmluZywgZWxlbWVudCBvciBhbiBhcnJheSBjb250YWluaW5nIHRoZXNlIHR5cGVzLlxuICAgKi9cbiAgdGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIHRpdGxlJ3Mgcm9vdCBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIHRpdGxlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdGl0bGUncyByb290IGNvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgdGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERpYWxvZztcblxuLyoqKi8gfSksXG5cbi8qKiovIDE0OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2Fycm93RHJvcERvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cbnZhciBfYXJyb3dEcm9wRG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJvd0Ryb3BEb3duKTtcblxudmFyIF9NZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cbnZhciBfTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51KTtcblxudmFyIF9DbGVhckZpeCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblxudmFyIF9DbGVhckZpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGVhckZpeCk7XG5cbnZhciBfUG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX2V2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXG52YXIgX2V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudHMpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcblxuICB2YXIgc3BhY2luZyA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG4gIHZhciBwYWxldHRlID0gY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWUucGFsZXR0ZTtcbiAgdmFyIGFjY2VudENvbG9yID0gY29udGV4dC5tdWlUaGVtZS5kcm9wRG93bk1lbnUuYWNjZW50Q29sb3I7XG4gIHJldHVybiB7XG4gICAgY29udHJvbDoge1xuICAgICAgY3Vyc29yOiBkaXNhYmxlZCA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgZmlsbDogYWNjZW50Q29sb3IsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHJpZ2h0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzLFxuICAgICAgdG9wOiAoc3BhY2luZy5pY29uU2l6ZSAtIDI0KSAvIDIgKyBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJNaW5pIC8gMlxuICAgIH0sXG4gICAgaWNvbkNoaWxkcmVuOiB7XG4gICAgICBmaWxsOiAnaW5oZXJpdCdcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjb2xvcjogZGlzYWJsZWQgPyBwYWxldHRlLmRpc2FibGVkQ29sb3IgOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGhlaWdodDogc3BhY2luZy5kZXNrdG9wVG9vbGJhckhlaWdodCArICdweCcsXG4gICAgICBsaW5lSGVpZ2h0OiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0ICsgJ3B4JyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcuaWNvblNpemUgKiAyICsgc3BhY2luZy5kZXNrdG9wR3V0dGVyTWluaSxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgfSxcbiAgICBsYWJlbFdoZW5PcGVuOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdG9wOiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0IC8gOFxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBmb250U2l6ZTogc3BhY2luZy5kZXNrdG9wRHJvcERvd25NZW51Rm9udFNpemUsXG4gICAgICBoZWlnaHQ6IHNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGZvbnRGYW1pbHk6IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLmZvbnRGYW1pbHksXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KClcbiAgICB9LFxuICAgIHJvb3RXaGVuT3Blbjoge1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICBib3JkZXJUb3A6ICdzb2xpZCAxcHggJyArIGFjY2VudENvbG9yLFxuICAgICAgYm90dG9tOiAxLFxuICAgICAgbGVmdDogMCxcbiAgICAgIG1hcmdpbjogJy0xcHggJyArIHNwYWNpbmcuZGVza3RvcEd1dHRlciArICdweCcsXG4gICAgICByaWdodDogMCxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgRHJvcERvd25NZW51ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRHJvcERvd25NZW51LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wRG93bk1lbnUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRHJvcERvd25NZW51KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IERyb3BEb3duTWVudS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRHJvcERvd25NZW51KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLnJvb3ROb2RlID0gdW5kZWZpbmVkLCBfdGhpcy5hcnJvd05vZGUgPSB1bmRlZmluZWQsIF90aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46ICFfdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgICAgIGFuY2hvckVsOiBfdGhpcy5yb290Tm9kZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZUVzY0tleURvd25NZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UodHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMucm9vdE5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVJdGVtVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQsIGNoaWxkLCBpbmRleCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIGlmICghX3RoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQsIGluZGV4LCBjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuY2xvc2UoX2V2ZW50czIuZGVmYXVsdC5pc0tleWJvYXJkKGV2ZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5tdWx0aXBsZSAmJiBfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShldmVudCwgdW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoaXNLZXlib2FyZCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0tleWJvYXJkKSB7XG4gICAgICAgICAgdmFyIGRyb3BBcnJvdyA9IF90aGlzLmFycm93Tm9kZTtcbiAgICAgICAgICB2YXIgZHJvcE5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoZHJvcEFycm93KTtcbiAgICAgICAgICBkcm9wTm9kZS5mb2N1cygpO1xuICAgICAgICAgIGRyb3BBcnJvdy5zZXRLZXlib2FyZEZvY3VzKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gVGhlIG5lc3RlZCBzdHlsZXMgZm9yIGRyb3AtZG93bi1tZW51IGFyZSBtb2RpZmllZCBieSB0b29sYmFyIGFuZCBwb3NzaWJseVxuICAvLyBvdGhlciB1c2VyIGNvbXBvbmVudHMsIHNvIGl0IHdpbGwgZ2l2ZSBmdWxsIGFjY2VzcyB0byBpdHMganMgc3R5bGVzIHJhdGhlclxuICAvLyB0aGFuIGp1c3QgdGhlIHBhcmVudC5cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERyb3BEb3duTWVudSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5vcGVuSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgLy8gVE9ETzogVGVtcG9yYXJ5IGZpeCB0byBtYWtlIG9wZW5JbW1lZGlhdGVseSB3b3JrIHdpdGggcG9wb3Zlci5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tZGlkLW1vdW50LXNldC1zdGF0ZSAqL1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMyLnJvb3ROb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGUgKi9cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SW5wdXROb2RlJyxcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBidXQgc3RpbGwgaGVyZSBiZWNhdXNlIHRoZSBUZXh0RmllbGRcbiAgICAgKiBuZWVkIGl0IGluIG9yZGVyIHRvIHdvcmsuIFRPRE86IFRoYXQgd2lsbCBiZSBhZGRyZXNzZWQgbGF0ZXIuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElucHV0Tm9kZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcm9vdE5vZGUgPSB0aGlzLnJvb3ROb2RlO1xuXG4gICAgICByb290Tm9kZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpczMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlbjogIV90aGlzMy5zdGF0ZS5vcGVuLFxuICAgICAgICAgICAgYW5jaG9yRWw6IF90aGlzMy5yb290Tm9kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcm9vdE5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRXaWR0aCgpIHtcbiAgICAgIHZhciBlbCA9IHRoaXMucm9vdE5vZGU7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuc3R5bGUgfHwgIXRoaXMucHJvcHMuc3R5bGUuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykpIHtcbiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAnYXV0byc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFuaW1hdGVkID0gX3Byb3BzLmFuaW1hdGVkLFxuICAgICAgICAgIGFuaW1hdGlvbiA9IF9wcm9wcy5hbmltYXRpb24sXG4gICAgICAgICAgYXV0b1dpZHRoID0gX3Byb3BzLmF1dG9XaWR0aCxcbiAgICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wcy5pY29uU3R5bGUsXG4gICAgICAgICAgbGFiZWxTdHlsZSA9IF9wcm9wcy5sYWJlbFN0eWxlLFxuICAgICAgICAgIGxpc3RTdHlsZSA9IF9wcm9wcy5saXN0U3R5bGUsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gX3Byb3BzLm1heEhlaWdodCxcbiAgICAgICAgICBtZW51U3R5bGVQcm9wID0gX3Byb3BzLm1lbnVTdHlsZSxcbiAgICAgICAgICBzZWxlY3Rpb25SZW5kZXJlciA9IF9wcm9wcy5zZWxlY3Rpb25SZW5kZXJlcixcbiAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzLm9uQ2xvc2UsXG4gICAgICAgICAgb3BlbkltbWVkaWF0ZWx5ID0gX3Byb3BzLm9wZW5JbW1lZGlhdGVseSxcbiAgICAgICAgICBtZW51SXRlbVN0eWxlID0gX3Byb3BzLm1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlID0gX3Byb3BzLnNlbGVjdGVkTWVudUl0ZW1TdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB1bmRlcmxpbmVTdHlsZSA9IF9wcm9wcy51bmRlcmxpbmVTdHlsZSxcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgICBpY29uQnV0dG9uID0gX3Byb3BzLmljb25CdXR0b24sXG4gICAgICAgICAgYW5jaG9yT3JpZ2luID0gX3Byb3BzLmFuY2hvck9yaWdpbixcbiAgICAgICAgICB0YXJnZXRPcmlnaW4gPSBfcHJvcHMudGFyZ2V0T3JpZ2luLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FuaW1hdGVkJywgJ2FuaW1hdGlvbicsICdhdXRvV2lkdGgnLCAnbXVsdGlwbGUnLCAnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ2Rpc2FibGVkJywgJ2ljb25TdHlsZScsICdsYWJlbFN0eWxlJywgJ2xpc3RTdHlsZScsICdtYXhIZWlnaHQnLCAnbWVudVN0eWxlJywgJ3NlbGVjdGlvblJlbmRlcmVyJywgJ29uQ2xvc2UnLCAnb3BlbkltbWVkaWF0ZWx5JywgJ21lbnVJdGVtU3R5bGUnLCAnc2VsZWN0ZWRNZW51SXRlbVN0eWxlJywgJ3N0eWxlJywgJ3VuZGVybGluZVN0eWxlJywgJ3ZhbHVlJywgJ2ljb25CdXR0b24nLCAnYW5jaG9yT3JpZ2luJywgJ3RhcmdldE9yaWdpbiddKTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFuY2hvckVsID0gX3N0YXRlLmFuY2hvckVsLFxuICAgICAgICAgIG9wZW4gPSBfc3RhdGUub3BlbjtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgdmFyIGRpc3BsYXlWYWx1ZSA9ICcnO1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkICYmIHZhbHVlID09PSBjaGlsZC5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHNlbGVjdGlvblJlbmRlcmVyKHZhbHVlLCBjaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBpbXByb3ZlZCAoaW4gY2FzZSBwcmltYXJ5VGV4dCBpcyBhIG5vZGUpXG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBzZWxlY3Rpb25SZW5kZXJlckNoaWxkcmVuID0gW107XG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgJiYgdmFsdWUgJiYgdmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uUmVuZGVyZXJDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IFtdO1xuICAgICAgICBpZiAoc2VsZWN0aW9uUmVuZGVyZXIpIHtcbiAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBzZWxlY3Rpb25SZW5kZXJlcih2YWx1ZXMsIHNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHZhbHVlcy5qb2luKCcsICcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBtZW51U3R5bGUgPSB2b2lkIDA7XG4gICAgICBpZiAoYW5jaG9yRWwgJiYgIWF1dG9XaWR0aCkge1xuICAgICAgICBtZW51U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe1xuICAgICAgICAgIHdpZHRoOiBhbmNob3JFbC5jbGllbnRXaWR0aFxuICAgICAgICB9LCBtZW51U3R5bGVQcm9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbnVTdHlsZSA9IG1lbnVTdHlsZVByb3A7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgX3RoaXM0LnJvb3ROb2RlID0gbm9kZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnJvb3QsIG9wZW4gJiYgc3R5bGVzLnJvb3RXaGVuT3Blbiwgc3R5bGUpKVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0NsZWFyRml4Mi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9sLCBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmxhYmVsLCBvcGVuICYmIHN0eWxlcy5sYWJlbFdoZW5PcGVuLCBsYWJlbFN0eWxlKSkgfSxcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5hcnJvd05vZGUgPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuaWNvbiwgaWNvblN0eWxlKSxcbiAgICAgICAgICAgICAgaWNvblN0eWxlOiBzdHlsZXMuaWNvbkNoaWxkcmVuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWNvbkJ1dHRvblxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMudW5kZXJsaW5lLCB1bmRlcmxpbmVTdHlsZSkpIH0pXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogYW5jaG9yT3JpZ2luLFxuICAgICAgICAgICAgdGFyZ2V0T3JpZ2luOiB0YXJnZXRPcmlnaW4sXG4gICAgICAgICAgICBhbmNob3JFbDogYW5jaG9yRWwsXG4gICAgICAgICAgICBhbmltYXRpb246IGFuaW1hdGlvbiB8fCBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMi5kZWZhdWx0LFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcbiAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZU1lbnVcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX01lbnUyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQsXG4gICAgICAgICAgICAgIGRlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgb25Fc2NLZXlEb3duOiB0aGlzLmhhbmRsZUVzY0tleURvd25NZW51LFxuICAgICAgICAgICAgICBzdHlsZTogbWVudVN0eWxlLFxuICAgICAgICAgICAgICBsaXN0U3R5bGU6IGxpc3RTdHlsZSxcbiAgICAgICAgICAgICAgb25JdGVtVG91Y2hUYXA6IHRoaXMuaGFuZGxlSXRlbVRvdWNoVGFwLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgIG1lbnVJdGVtU3R5bGU6IG1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgICAgIHNlbGVjdGVkTWVudUl0ZW1TdHlsZTogc2VsZWN0ZWRNZW51SXRlbVN0eWxlLFxuICAgICAgICAgICAgICBhdXRvV2lkdGg6IGF1dG9XaWR0aCxcbiAgICAgICAgICAgICAgd2lkdGg6ICFhdXRvV2lkdGggJiYgbWVudVN0eWxlID8gbWVudVN0eWxlLndpZHRoIDogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRHJvcERvd25NZW51O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRHJvcERvd25NZW51Lm11aU5hbWUgPSAnRHJvcERvd25NZW51JztcbkRyb3BEb3duTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFuaW1hdGVkOiB0cnVlLFxuICBhdXRvV2lkdGg6IHRydWUsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgaWNvbkJ1dHRvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Fycm93RHJvcERvd24yLmRlZmF1bHQsIG51bGwpLFxuICBvcGVuSW1tZWRpYXRlbHk6IGZhbHNlLFxuICBtYXhIZWlnaHQ6IDUwMCxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBhbmNob3JPcmlnaW46IHtcbiAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gIH1cbn07XG5Ecm9wRG93bk1lbnUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRyb3BEb3duTWVudS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBwb2ludCBvbiB0aGUgYW5jaG9yIHRoYXQgdGhlIHBvcG92ZXInc1xuICAgKiBgdGFyZ2V0T3JpZ2luYCB3aWxsIGF0dGFjaCB0by5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICBhbmNob3JPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIHBvcG92ZXIgd2lsbCBhcHBseSB0cmFuc2l0aW9ucyB3aGVuXG4gICAqIGl0IGdldHMgYWRkZWQgdG8gdGhlIERPTS5cbiAgICovXG4gIGFuaW1hdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBhbmltYXRpb24gY29tcG9uZW50IHVzZWQuXG4gICAqL1xuICBhbmltYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIFRoZSB3aWR0aCB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgc2V0IGFjY29yZGluZyB0byB0aGUgaXRlbXMgaW5zaWRlIHRoZSBtZW51LlxuICAgKiBUbyBjb250cm9sIHRoaXMgd2lkdGggaW4gY3NzIGluc3RlYWQsIHNldCB0aGlzIHByb3AgdG8gYGZhbHNlYC5cbiAgICovXG4gIGF1dG9XaWR0aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGhlIGBNZW51SXRlbWBzIHRvIHBvcHVsYXRlIHRoZSBgTWVudWAgd2l0aC4gSWYgdGhlIGBNZW51SXRlbXNgIGhhdmUgdGhlXG4gICAqIHByb3AgYGxhYmVsYCB0aGF0IHZhbHVlIHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHJlcHJlc2VudGF0aW9uIG9mIHRoYXRcbiAgICogaXRlbSB3aXRoaW4gdGhlIGZpZWxkLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBtZW51LlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBkZWZhdWx0IGBTdmdJY29uYCBkcm9wZG93biBhcnJvdyBjb21wb25lbnQuXG4gICAqL1xuICBpY29uQnV0dG9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBzdHlsZXMgb2YgbGFiZWwgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgaW5hY3RpdmUuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvYmplY3QgdG8gdXNlIHRvIG92ZXJyaWRlIHVuZGVybHlpbmcgbGlzdCBzdHlsZS5cbiAgICovXG4gIGxpc3RTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBoZWlnaHQgb2YgdGhlIGBNZW51YCB3aGVuIGl0IGlzIGRpc3BsYXllZC5cbiAgICovXG4gIG1heEhlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBtZW51IGl0ZW1zLlxuICAgKi9cbiAgbWVudUl0ZW1TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBgTWVudWAgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgZGlzcGxheWVkLlxuICAgKi9cbiAgbWVudVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIGB2YWx1ZWAgbXVzdCBiZSBhbiBhcnJheSBhbmQgdGhlIG1lbnUgd2lsbCBzdXBwb3J0XG4gICAqIG11bHRpcGxlIHNlbGVjdGlvbnMuXG4gICAqL1xuICBtdWx0aXBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiBhIG1lbnUgaXRlbSBpcyBjbGlja2VkLCBvdGhlciB0aGFuIHRoZSBvbmUgY3VycmVudGx5IHNlbGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVG91Y2hUYXAgZXZlbnQgdGFyZ2V0aW5nIHRoZSBtZW51IGl0ZW0gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGtleSBUaGUgaW5kZXggb2YgdGhlIGNsaWNrZWQgbWVudSBpdGVtIGluIHRoZSBgY2hpbGRyZW5gIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIHRoZSBtZW51J3MgYHZhbHVlYFxuICAgKiBhcnJheSB3aXRoIGVpdGhlciB0aGUgbWVudSBpdGVtJ3MgYHZhbHVlYCBhZGRlZCAoaWZcbiAgICogaXQgd2Fzbid0IGFscmVhZHkgc2VsZWN0ZWQpIG9yIG9taXR0ZWQgKGlmIGl0IHdhcyBhbHJlYWR5IHNlbGVjdGVkKS5cbiAgICogT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkLlxuICAgKi9cbiAgb25DbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gaGF2ZSB0aGUgYERyb3BEb3duTWVudWAgYXV0b21hdGljYWxseSBvcGVuIG9uIG1vdW50LlxuICAgKi9cbiAgb3BlbkltbWVkaWF0ZWx5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBzZWxlY3RlZCBtZW51IGl0ZW1zLlxuICAgKi9cbiAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gYSBtZW51IGl0ZW0gaXMgY2xpY2tlZCwgb3RoZXIgdGhhbiB0aGUgb25lIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhlIG1lbnUncyBgdmFsdWVgXG4gICAqIGFycmF5IHdpdGggZWl0aGVyIHRoZSBtZW51IGl0ZW0ncyBgdmFsdWVgIGFkZGVkIChpZlxuICAgKiBpdCB3YXNuJ3QgYWxyZWFkeSBzZWxlY3RlZCkgb3Igb21pdHRlZCAoaWYgaXQgd2FzIGFscmVhZHkgc2VsZWN0ZWQpLlxuICAgKiBPdGhlcndpc2UsIHRoZSBgdmFsdWVgIG9mIHRoZSBtZW51IGl0ZW0uXG4gICAqIEBwYXJhbSB7YW55fSBtZW51SXRlbSBUaGUgc2VsZWN0ZWQgYE1lbnVJdGVtYC5cbiAgICogSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGlzIHdpbGwgYmUgYW4gYXJyYXkgd2l0aCB0aGUgYE1lbnVJdGVtYHMgbWF0Y2hpbmcgdGhlIGB2YWx1ZWBzIHBhcmFtZXRlci5cbiAgICovXG4gIHNlbGVjdGlvblJlbmRlcmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgcG9pbnQgb24gdGhlIHBvcG92ZXIgd2hpY2ggd2lsbCBhdHRhY2ggdG9cbiAgICogdGhlIGFuY2hvcidzIG9yaWdpbi5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICB0YXJnZXRPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB1bmRlcmxpbmUuXG4gICAqL1xuICB1bmRlcmxpbmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIGFuIGFycmF5IG9mIHRoZSBgdmFsdWVgcyBvZiB0aGUgc2VsZWN0ZWRcbiAgICogbWVudSBpdGVtcy4gT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgc2VsZWN0ZWQgbWVudSBpdGVtLlxuICAgKiBJZiBwcm92aWRlZCwgdGhlIG1lbnUgd2lsbCBiZSBhIGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wRG93bk1lbnU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGlja0F3YXlMaXN0ZW5lcik7XG5cbnZhciBfU25hY2tiYXJCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXG52YXIgX1NuYWNrYmFyQm9keTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2JhckJvZHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIHpJbmRleCA9IF9jb250ZXh0JG11aVRoZW1lLnpJbmRleDtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuXG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgekluZGV4OiB6SW5kZXguc25hY2tiYXIsXG4gICAgICB2aXNpYmlsaXR5OiBvcGVuID8gJ3Zpc2libGUnIDogJ2hpZGRlbicsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAndHJhbnNsYXRlKC01MCUsIDApJyA6ICd0cmFuc2xhdGUoLTUwJSwgJyArIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgpJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICd0cmFuc2Zvcm0nKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAndmlzaWJpbGl0eScpXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBTbmFja2JhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFNuYWNrYmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbmFja2JhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbmFja2Jhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBTbmFja2Jhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoU25hY2tiYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5jb21wb25lbnRDbGlja0F3YXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMudGltZXJUcmFuc2l0aW9uSWQpIHtcbiAgICAgICAgLy8gSWYgdHJhbnNpdGlvbmluZywgZG9uJ3QgY2xvc2UgdGhlIHNuYWNrYmFyLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCdjbGlja2F3YXknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNuYWNrYmFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0aGlzLnByb3BzLm9wZW4sXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMucHJvcHMubWVzc2FnZSxcbiAgICAgICAgYWN0aW9uOiB0aGlzLnByb3BzLmFjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zZXRBdXRvSGlkZVRpbWVyKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMub3BlbiAmJiBuZXh0UHJvcHMub3BlbiAmJiAobmV4dFByb3BzLm1lc3NhZ2UgIT09IHRoaXMucHJvcHMubWVzc2FnZSB8fCBuZXh0UHJvcHMuYWN0aW9uICE9PSB0aGlzLnByb3BzLmFjdGlvbikpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgICAgIHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgIGFjdGlvbjogbmV4dFByb3BzLmFjdGlvbixcbiAgICAgICAgICAgIG9wZW46IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcGVuID0gbmV4dFByb3BzLm9wZW47XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3Blbjogb3BlbiAhPT0gbnVsbCA/IG9wZW4gOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgbWVzc2FnZTogbmV4dFByb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uOiBuZXh0UHJvcHMuYWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKHByZXZTdGF0ZS5vcGVuICE9PSB0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIHRoaXMuc2V0QXV0b0hpZGVUaW1lcigpO1xuICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJUcmFuc2l0aW9uSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0QXV0b0hpZGVUaW1lcicsXG5cblxuICAgIC8vIFRpbWVyIHRoYXQgY29udHJvbHMgZGVsYXkgYmVmb3JlIHNuYWNrYmFyIGF1dG8gaGlkZXNcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0hpZGVUaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgYXV0b0hpZGVEdXJhdGlvbiA9IHRoaXMucHJvcHMuYXV0b0hpZGVEdXJhdGlvbjtcblxuICAgICAgaWYgKGF1dG9IaWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICAgIHRoaXMudGltZXJBdXRvSGlkZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzMy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uUmVxdWVzdENsb3NlKCd0aW1lb3V0Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgYXV0b0hpZGVEdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGltZXIgdGhhdCBjb250cm9scyBkZWxheSBiZWZvcmUgY2xpY2stYXdheSBldmVudHMgYXJlIGNhcHR1cmVkIChiYXNlZCBvbiB3aGVuIGFuaW1hdGlvbiBjb21wbGV0ZXMpXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFRyYW5zaXRpb25UaW1lcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25UaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRpbWVyVHJhbnNpdGlvbklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC50aW1lclRyYW5zaXRpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIDQwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbiA9IF9wcm9wcy5hdXRvSGlkZUR1cmF0aW9uLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wcy5jb250ZW50U3R5bGUsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzLmJvZHlTdHlsZSxcbiAgICAgICAgICBtZXNzYWdlUHJvcCA9IF9wcm9wcy5tZXNzYWdlLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlID0gX3Byb3BzLm9uUmVxdWVzdENsb3NlLFxuICAgICAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBfcHJvcHMub25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhdXRvSGlkZUR1cmF0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdib2R5U3R5bGUnLCAnbWVzc2FnZScsICdvblJlcXVlc3RDbG9zZScsICdvbkFjdGlvblRvdWNoVGFwJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aW9uID0gX3N0YXRlLmFjdGlvbixcbiAgICAgICAgICBtZXNzYWdlID0gX3N0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgb3BlbiA9IF9zdGF0ZS5vcGVuO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9DbGlja0F3YXlMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgeyBvbkNsaWNrQXdheTogb3BlbiA/IHRoaXMuY29tcG9uZW50Q2xpY2tBd2F5IDogbnVsbCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyQm9keTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBjb250ZW50U3R5bGU6IGNvbnRlbnRTdHlsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgb25BY3Rpb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICAgIHN0eWxlOiBib2R5U3R5bGVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU25hY2tiYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5TbmFja2Jhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU25hY2tiYXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogVGhlIGxhYmVsIGZvciB0aGUgYWN0aW9uIG9uIHRoZSBzbmFja2Jhci5cbiAgICovXG4gIGFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYXV0b21hdGljYWxseSBkaXNtaXNzaW5nLlxuICAgKiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQgdGhlIHNuYWNrYmFyIHdpbGwgZGlzbWlzcyBub3JtYWxseS5cbiAgICogSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCB0aGUgc25hY2tiYXIgY2FuIHN0aWxsIGJlIGRpc21pc3NlZCBub3JtYWxseS5cbiAgICogSWYgYSBzbmFja2JhciBpcyBkaXNtaXNzZWQgYmVmb3JlIHRoZSB0aW1lciBleHBpcmVzLCB0aGUgdGltZXIgd2lsbCBiZSBjbGVhcmVkLlxuICAgKi9cbiAgYXV0b0hpZGVEdXJhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYm9keSBlbGVtZW50LlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiAoTm90ZTogSWYgdGhlIG1lc3NhZ2UgaXMgYW4gZWxlbWVudCBvciBhcnJheSwgYW5kIHRoZSBgU25hY2tiYXJgIG1heSByZS1yZW5kZXIgd2hpbGUgaXQgaXMgc3RpbGwgb3BlbixcbiAgICogZW5zdXJlIHRoYXQgdGhlIHNhbWUgb2JqZWN0IHJlbWFpbnMgYXMgdGhlIGBtZXNzYWdlYCBwcm9wZXJ0eSBpZiB5b3Ugd2FudCB0byBhdm9pZCB0aGUgYFNuYWNrYmFyYCBoaWRpbmcgYW5kXG4gICAqIHNob3dpbmcgYWdhaW4pXG4gICAqL1xuICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGFjdGlvbiBidXR0b24gaXMgdG91Y2h0YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBY3Rpb24gYnV0dG9uIGV2ZW50LlxuICAgKi9cbiAgb25BY3Rpb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYFNuYWNrYmFyYCBpcyByZXF1ZXN0ZWQgdG8gYmUgY2xvc2VkIGJ5IGEgY2xpY2sgb3V0c2lkZSB0aGUgYFNuYWNrYmFyYCwgb3IgYWZ0ZXIgdGhlXG4gICAqIGBhdXRvSGlkZUR1cmF0aW9uYCB0aW1lciBleHBpcmVzLlxuICAgKlxuICAgKiBUeXBpY2FsbHkgYG9uUmVxdWVzdENsb3NlYCBpcyB1c2VkIHRvIHNldCBzdGF0ZSBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCwgd2hpY2ggaXMgdXNlZCB0byBjb250cm9sIHRoZSBgU25hY2tiYXJgXG4gICAqIGBvcGVuYCBwcm9wLlxuICAgKlxuICAgKiBUaGUgYHJlYXNvbmAgcGFyYW1ldGVyIGNhbiBvcHRpb25hbGx5IGJlIHVzZWQgdG8gY29udHJvbCB0aGUgcmVzcG9uc2UgdG8gYG9uUmVxdWVzdENsb3NlYCxcbiAgICogZm9yIGV4YW1wbGUgaWdub3JpbmcgYGNsaWNrYXdheWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQ2FuIGJlOmBcInRpbWVvdXRcImAgKGBhdXRvSGlkZUR1cmF0aW9uYCBleHBpcmVkKSBvcjogYFwiY2xpY2thd2F5XCJgXG4gICAqL1xuICBvblJlcXVlc3RDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbmFja2JhcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU25hY2tiYXJCb2R5ID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfd2l0aFdpZHRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX3dpdGhXaWR0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoV2lkdGgpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgd2lkdGggPSBwcm9wcy53aWR0aDtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhcyA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhczIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuc3BhY2luZyxcbiAgICAgIGRlc2t0b3BHdXR0ZXIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMyLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzMi5kZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgZm9udEZhbWlseSA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5mb250RmFtaWx5LFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkc25hID0gX2NvbnRleHQkbXVpVGhlbWUuc25hY2tiYXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZSRzbmEuYmFja2dyb3VuZENvbG9yLFxuICAgICAgdGV4dENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLnRleHRDb2xvcixcbiAgICAgIGFjdGlvbkNvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLmFjdGlvbkNvbG9yLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX2NvbnRleHQkbXVpVGhlbWUuYm9yZGVyUmFkaXVzO1xuXG5cbiAgdmFyIGlzU21hbGwgPSB3aWR0aCA9PT0gX3dpdGhXaWR0aC5TTUFMTDtcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgIHBhZGRpbmc6ICcwICcgKyBkZXNrdG9wR3V0dGVyICsgJ3B4JyxcbiAgICAgIGhlaWdodDogZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHQ6IGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgnLFxuICAgICAgYm9yZGVyUmFkaXVzOiBpc1NtYWxsID8gMCA6IGJvcmRlclJhZGl1cyxcbiAgICAgIG1heFdpZHRoOiBpc1NtYWxsID8gJ2luaGVyaXQnIDogNTY4LFxuICAgICAgbWluV2lkdGg6IGlzU21hbGwgPyAnaW5oZXJpdCcgOiAyODgsXG4gICAgICB3aWR0aDogaXNTbWFsbCA/ICdjYWxjKDEwMHZ3IC0gJyArIGRlc2t0b3BHdXR0ZXIgKiAyICsgJ3B4KScgOiAnYXV0bycsXG4gICAgICBmbGV4R3JvdzogaXNTbWFsbCA/IDEgOiAwXG4gICAgfSxcbiAgICBjb250ZW50OiB7XG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBjb2xvcjogdGV4dENvbG9yLFxuICAgICAgb3BhY2l0eTogb3BlbiA/IDEgOiAwLFxuICAgICAgdHJhbnNpdGlvbjogb3BlbiA/IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc1MDBtcycsICdvcGFjaXR5JywgJzEwMG1zJykgOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAnb3BhY2l0eScpXG4gICAgfSxcbiAgICBhY3Rpb246IHtcbiAgICAgIGNvbG9yOiBhY3Rpb25Db2xvcixcbiAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgbWFyZ2luVG9wOiA2LFxuICAgICAgbWFyZ2luUmlnaHQ6IC0xNixcbiAgICAgIG1hcmdpbkxlZnQ6IGRlc2t0b3BHdXR0ZXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIFNuYWNrYmFyQm9keSA9IGZ1bmN0aW9uIFNuYWNrYmFyQm9keShwcm9wcywgY29udGV4dCkge1xuICB2YXIgYWN0aW9uID0gcHJvcHMuYWN0aW9uLFxuICAgICAgY29udGVudFN0eWxlID0gcHJvcHMuY29udGVudFN0eWxlLFxuICAgICAgbWVzc2FnZSA9IHByb3BzLm1lc3NhZ2UsXG4gICAgICBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBwcm9wcy5vbkFjdGlvblRvdWNoVGFwLFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkocHJvcHMsIFsnYWN0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdtZXNzYWdlJywgJ29wZW4nLCAnb25BY3Rpb25Ub3VjaFRhcCcsICdzdHlsZSddKTtcbiAgdmFyIHByZXBhcmVTdHlsZXMgPSBjb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyhwcm9wcywgY29udGV4dCk7XG5cbiAgdmFyIGFjdGlvbkJ1dHRvbiA9IGFjdGlvbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgIHN0eWxlOiBzdHlsZXMuYWN0aW9uLFxuICAgIGxhYmVsOiBhY3Rpb24sXG4gICAgb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcFxuICB9KTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY29udGVudCwgY29udGVudFN0eWxlKSkgfSxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG1lc3NhZ2VcbiAgICAgICksXG4gICAgICBhY3Rpb25CdXR0b25cbiAgICApXG4gICk7XG59O1xuXG5leHBvcnRzLlNuYWNrYmFyQm9keSA9IFNuYWNrYmFyQm9keTtcblNuYWNrYmFyQm9keS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgZm9yIHRoZSBhY3Rpb24gb24gdGhlIHNuYWNrYmFyLlxuICAgKi9cbiAgYWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cbiAgICpcbiAgICogKE5vdGU6IElmIHRoZSBtZXNzYWdlIGlzIGFuIGVsZW1lbnQgb3IgYXJyYXksIGFuZCB0aGUgYFNuYWNrYmFyYCBtYXkgcmUtcmVuZGVyIHdoaWxlIGl0IGlzIHN0aWxsIG9wZW4sXG4gICAqIGVuc3VyZSB0aGF0IHRoZSBzYW1lIG9iamVjdCByZW1haW5zIGFzIHRoZSBgbWVzc2FnZWAgcHJvcGVydHkgaWYgeW91IHdhbnQgdG8gYXZvaWQgdGhlIGBTbmFja2JhcmAgaGlkaW5nIGFuZFxuICAgKiBzaG93aW5nIGFnYWluKVxuICAgKi9cbiAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBhY3Rpb24gYnV0dG9uIGlzIHRvdWNodGFwcGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQWN0aW9uIGJ1dHRvbiBldmVudC5cbiAgICovXG4gIG9uQWN0aW9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBXaWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKi9cbiAgd2lkdGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcblxuU25hY2tiYXJCb2R5LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfd2l0aFdpZHRoMi5kZWZhdWx0KSgpKFNuYWNrYmFyQm9keSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqICBCZWZvcmVBZnRlcldyYXBwZXJcbiAqICAgIEFuIGFsdGVybmF0aXZlIGZvciB0aGUgOjpiZWZvcmUgYW5kIDo6YWZ0ZXIgY3NzIHBzZXVkby1lbGVtZW50cyBmb3JcbiAqICAgIGNvbXBvbmVudHMgd2hvc2Ugc3R5bGVzIGFyZSBkZWZpbmVkIGluIGphdmFzY3JpcHQgaW5zdGVhZCBvZiBjc3MuXG4gKlxuICogIFVzYWdlOiBGb3IgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3YW50IHRvIGFwcGx5IGJlZm9yZSBhbmQgYWZ0ZXIgZWxlbWVudHMgdG8sXG4gKiAgICB3cmFwIGl0cyBjaGlsZHJlbiB3aXRoIEJlZm9yZUFmdGVyV3JhcHBlci4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlcj5cbiAqICA8UGFwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+IC8vIFNlZSBub3RpY2VcbiAqICAgIDxCZWZvcmVBZnRlcldyYXBwZXI+ICAgICAgICByZW5kZXJzICAgICAgICAgPGRpdi8+IC8vIGJlZm9yZSBlbGVtZW50XG4gKiAgICAgIFtjaGlsZHJlbiBvZiBwYXBlcl0gICAgICAgLS0tLS0tPiAgICAgICAgIFtjaGlsZHJlbiBvZiBwYXBlcl1cbiAqICAgIDwvQmVmb3JlQWZ0ZXJXcmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgPGRpdi8+IC8vIGFmdGVyIGVsZW1lbnRcbiAqICA8L1BhcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+XG4gKlxuICogIE5vdGljZTogTm90aWNlIHRoYXQgdGhpcyBkaXYgYnVuZGxlcyB0b2dldGhlciBvdXIgZWxlbWVudHMuIElmIHRoZSBlbGVtZW50XG4gKiAgICB0aGF0IHdlIHdhbnQgdG8gYXBwbHkgYmVmb3JlIGFuZCBhZnRlciBlbGVtZW50cyBpcyBhIEhUTUwgdGFnIChpLmUuIGFcbiAqICAgIGRpdiwgcCwgb3IgYnV0dG9uIHRhZyksIHdlIGNhbiBhdm9pZCB0aGlzIGV4dHJhIG5lc3RpbmcgYnkgcGFzc2luZyB1c2luZ1xuICogICAgdGhlIEJlZm9yZUFmdGVyV3JhcHBlciBpbiBwbGFjZSBvZiBzYWlkIHRhZyBsaWtlIHNvOlxuICpcbiAqICA8cD5cbiAqICAgIDxCZWZvcmVBZnRlcldyYXBwZXI+ICAgZG8gdGhpcyBpbnN0ZWFkICAgPEJlZm9yZUFmdGVyV3JhcHBlciBlbGVtZW50VHlwZT0ncCc+XG4gKiAgICAgIFtjaGlsZHJlbiBvZiBwXSAgICAgICAgICAtLS0tLS0+ICAgICAgICAgW2NoaWxkcmVuIG9mIHBdXG4gKiAgICA8L0JlZm9yZUFmdGVyV3JhcHBlcj4gICAgICAgICAgICAgICAgICAgIDwvQmVmb3JlQWZ0ZXJXcmFwcGVyPlxuICogIDwvcD5cbiAqXG4gKiAgQmVmb3JlQWZ0ZXJXcmFwcGVyIGZlYXR1cmVzIHNwcmVhZCBmdW5jdGlvbmFsaXR5LiBUaGlzIG1lYW5zIHRoYXQgd2UgY2FuXG4gKiAgcGFzcyBIVE1MIHRhZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IGludG8gdGhlIEJlZm9yZUFmdGVyV3JhcHBlciB0YWcuXG4gKlxuICogIFdoZW4gdXNpbmcgQmVmb3JlQWZ0ZXJXcmFwcGVyLCBlbnN1cmUgdGhhdCB0aGUgcGFyZW50IG9mIHRoZSBiZWZvcmVFbGVtZW50XG4gKiAgYW5kIGFmdGVyRWxlbWVudCBoYXZlIGEgZGVmaW5lZCBzdHlsZSBwb3NpdGlvbi5cbiAqL1xuXG52YXIgc3R5bGVzID0ge1xuICBib3g6IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICB9XG59O1xuXG52YXIgQmVmb3JlQWZ0ZXJXcmFwcGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQmVmb3JlQWZ0ZXJXcmFwcGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCZWZvcmVBZnRlcldyYXBwZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQmVmb3JlQWZ0ZXJXcmFwcGVyKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQmVmb3JlQWZ0ZXJXcmFwcGVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShCZWZvcmVBZnRlcldyYXBwZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEJlZm9yZUFmdGVyV3JhcHBlciwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBiZWZvcmVTdHlsZSA9IF9wcm9wcy5iZWZvcmVTdHlsZSxcbiAgICAgICAgICBhZnRlclN0eWxlID0gX3Byb3BzLmFmdGVyU3R5bGUsXG4gICAgICAgICAgYmVmb3JlRWxlbWVudFR5cGUgPSBfcHJvcHMuYmVmb3JlRWxlbWVudFR5cGUsXG4gICAgICAgICAgYWZ0ZXJFbGVtZW50VHlwZSA9IF9wcm9wcy5hZnRlckVsZW1lbnRUeXBlLFxuICAgICAgICAgIGVsZW1lbnRUeXBlID0gX3Byb3BzLmVsZW1lbnRUeXBlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2JlZm9yZVN0eWxlJywgJ2FmdGVyU3R5bGUnLCAnYmVmb3JlRWxlbWVudFR5cGUnLCAnYWZ0ZXJFbGVtZW50VHlwZScsICdlbGVtZW50VHlwZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgdmFyIGJlZm9yZUVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICB2YXIgYWZ0ZXJFbGVtZW50ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoYmVmb3JlU3R5bGUpIHtcbiAgICAgICAgYmVmb3JlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuYmVmb3JlRWxlbWVudFR5cGUsIHtcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5ib3gsIGJlZm9yZVN0eWxlKSksXG4gICAgICAgICAga2V5OiAnOjpiZWZvcmUnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWZ0ZXJTdHlsZSkge1xuICAgICAgICBhZnRlckVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmFmdGVyRWxlbWVudFR5cGUsIHtcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5ib3gsIGFmdGVyU3R5bGUpKSxcbiAgICAgICAgICBrZXk6ICc6OmFmdGVyJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoaWxkcmVuID0gW2JlZm9yZUVsZW1lbnQsIHRoaXMucHJvcHMuY2hpbGRyZW4sIGFmdGVyRWxlbWVudF07XG5cbiAgICAgIHZhciBwcm9wcyA9IG90aGVyO1xuICAgICAgcHJvcHMuc3R5bGUgPSBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgdGhpcy5wcm9wcy5zdHlsZSkpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5lbGVtZW50VHlwZSwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJlZm9yZUFmdGVyV3JhcHBlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkJlZm9yZUFmdGVyV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGJlZm9yZUVsZW1lbnRUeXBlOiAnZGl2JyxcbiAgYWZ0ZXJFbGVtZW50VHlwZTogJ2RpdicsXG4gIGVsZW1lbnRUeXBlOiAnZGl2J1xufTtcbkJlZm9yZUFmdGVyV3JhcHBlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQmVmb3JlQWZ0ZXJXcmFwcGVyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgYWZ0ZXJFbGVtZW50VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFmdGVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBiZWZvcmVFbGVtZW50VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGJlZm9yZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZWxlbWVudFR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQmVmb3JlQWZ0ZXJXcmFwcGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTU1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0JlZm9yZUFmdGVyV3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU0KTtcblxudmFyIF9CZWZvcmVBZnRlcldyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmVmb3JlQWZ0ZXJXcmFwcGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0eWxlcyA9IHtcbiAgYmVmb3JlOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBkaXNwbGF5OiAndGFibGUnXG4gIH0sXG4gIGFmdGVyOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBjbGVhcjogJ2JvdGgnLFxuICAgIGRpc3BsYXk6ICd0YWJsZSdcbiAgfVxufTtcblxudmFyIENsZWFyRml4ID0gZnVuY3Rpb24gQ2xlYXJGaXgoX3JlZikge1xuICB2YXIgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcmVmLCBbJ3N0eWxlJywgJ2NoaWxkcmVuJ10pO1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX0JlZm9yZUFmdGVyV3JhcHBlcjIuZGVmYXVsdCxcbiAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgYmVmb3JlU3R5bGU6IHN0eWxlcy5iZWZvcmUsXG4gICAgICBhZnRlclN0eWxlOiBzdHlsZXMuYWZ0ZXIsXG4gICAgICBzdHlsZTogc3R5bGVcbiAgICB9KSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxuQ2xlYXJGaXgubXVpTmFtZSA9ICdDbGVhckZpeCc7XG5cbkNsZWFyRml4LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xlYXJGaXg7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9Gb2N1c1JpcHBsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblxudmFyIF9Gb2N1c1JpcHBsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb2N1c1JpcHBsZSk7XG5cbnZhciBfVG91Y2hSaXBwbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cbnZhciBfVG91Y2hSaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG91Y2hSaXBwbGUpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGJhc2VUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgIGRpc3BsYXk6ICd0YWJsZScsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGN1cnNvcjogJ2luaGVyaXQnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ2FsbCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgekluZGV4OiAyLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMFxuICAgIH0sXG4gICAgY29udHJvbHM6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICB3aWR0aDogJ2NhbGMoMTAwJSAtIDYwcHgpJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyNHB4JyxcbiAgICAgIGNvbG9yOiBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250RmFtaWx5OiBiYXNlVGhlbWUuZm9udEZhbWlseVxuICAgIH0sXG4gICAgd3JhcDoge1xuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgd2lkdGg6IDYwIC0gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MsXG4gICAgICBtYXJnaW5SaWdodDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IHByb3BzLmxhYmVsUG9zaXRpb24gPT09ICdsZWZ0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMFxuICAgIH0sXG4gICAgcmlwcGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMucmlwcGxlQ29sb3IgfHwgYmFzZVRoZW1lLnBhbGV0dGUucHJpbWFyeTFDb2xvcixcbiAgICAgIGhlaWdodDogJzIwMCUnLFxuICAgICAgd2lkdGg6ICcyMDAlJyxcbiAgICAgIHRvcDogLTEyLFxuICAgICAgbGVmdDogLTEyXG4gICAgfVxuICB9O1xufVxuXG52YXIgRW5oYW5jZWRTd2l0Y2ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShFbmhhbmNlZFN3aXRjaCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRW5oYW5jZWRTd2l0Y2goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRW5oYW5jZWRTd2l0Y2gpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRW5oYW5jZWRTd2l0Y2guX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGlzSW5wdXRDaGVja2VkID0gX3RoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgJiYgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Td2l0Y2gpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Td2l0Y2goZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY29kZSA9ICgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpO1xuXG4gICAgICBpZiAoY29kZSA9PT0gJ3RhYicpIHtcbiAgICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgY29kZSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdzcGFjZScpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIG9ubHkgbGlzdGVuIHRvIGxlZnQgY2xpY2tzXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5lbmQoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gc2V0VGltZW91dCBpcyBuZWVkZWQgYmVjdWFzZSB0aGUgZm9jdXMgZXZlbnQgZmlyZXMgZmlyc3RcbiAgICAgIC8vIFdhaXQgc28gdGhhdCB3ZSBjYW4gY2FwdHVyZSBpZiB0aGlzIHdhcyBhIGtleWJvYXJkIGZvY3VzXG4gICAgICAvLyBvciB0b3VjaCBmb2N1c1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy50YWJQcmVzc2VkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUwKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5yZWZzLmNoZWNrYm94O1xuICAgICAgaWYgKCghdGhpcy5wcm9wcy5zd2l0Y2hlZCB8fCBpbnB1dE5vZGUuY2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkgJiYgdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKGlucHV0Tm9kZS5jaGVja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBoYXNDaGVja2VkUHJvcCA9IG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpO1xuICAgICAgdmFyIGhhc05ld0RlZmF1bHRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0Q2hlY2tlZCcpICYmIG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblxuICAgICAgaWYgKGhhc0NoZWNrZWRQcm9wIHx8IGhhc05ld0RlZmF1bHRQcm9wKSB7XG4gICAgICAgIHZhciBzd2l0Y2hlZCA9IG5leHRQcm9wcy5jaGVja2VkIHx8IG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fCBmYWxzZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogc3dpdGNoZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUgJiYgc3dpdGNoZWQgIT09IHRoaXMucHJvcHMuc3dpdGNoZWQpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKHN3aXRjaGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU3dpdGNoZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N3aXRjaGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuICAgIH1cblxuICAgIC8vIG5vIGNhbGxiYWNrIGhlcmUgYmVjYXVzZSB0aGVyZSBpcyBubyBldmVudFxuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN3aXRjaGVkKG5ld1N3aXRjaGVkVmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpIHx8IHRoaXMucHJvcHMuY2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKG5ld1N3aXRjaGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkID0gbmV3U3dpdGNoZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBmYWxzZSA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogQ2Fubm90IGNhbGwgc2V0IG1ldGhvZCB3aGlsZSBjaGVja2VkIGlzIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC52YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja2JveCBpbnB1dHMgb25seSB1c2UgU1BBQ0UgdG8gY2hhbmdlIHRoZWlyIHN0YXRlLiBVc2luZyBFTlRFUiB3aWxsXG4gICAgLy8gdXBkYXRlIHRoZSB1aSBidXQgbm90IHRoZSBpbnB1dC5cblxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSBib3RoIHRoZSByaXBwbGVzIGFuZCB0aGUgY2hlY2tib3ggaW5wdXQgY2Fubm90IHNoYXJlIHBvaW50ZXJcbiAgICAgKiBldmVudHMsIHRoZSBjaGVja2JveCBpbnB1dCB0YWtlcyBjb250cm9sIG9mIHBvaW50ZXIgZXZlbnRzIGFuZCBjYWxsc1xuICAgICAqIHJpcHBsZSBhbmltYXRpb25zIG1hbnVhbGx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzLmljb25TdHlsZSxcbiAgICAgICAgICBpbnB1dFN0eWxlID0gX3Byb3BzLmlucHV0U3R5bGUsXG4gICAgICAgICAgaW5wdXRUeXBlID0gX3Byb3BzLmlucHV0VHlwZSxcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbFN0eWxlID0gX3Byb3BzLmxhYmVsU3R5bGUsXG4gICAgICAgICAgbGFiZWxQb3NpdGlvbiA9IF9wcm9wcy5sYWJlbFBvc2l0aW9uLFxuICAgICAgICAgIG9uU3dpdGNoID0gX3Byb3BzLm9uU3dpdGNoLFxuICAgICAgICAgIG9uQmx1ciA9IF9wcm9wcy5vbkJsdXIsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uTW91c2VVcCA9IF9wcm9wcy5vbk1vdXNlVXAsXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfcHJvcHMub25Nb3VzZURvd24sXG4gICAgICAgICAgb25Nb3VzZUxlYXZlID0gX3Byb3BzLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoU3RhcnQgPSBfcHJvcHMub25Ub3VjaFN0YXJ0LFxuICAgICAgICAgIG9uVG91Y2hFbmQgPSBfcHJvcHMub25Ub3VjaEVuZCxcbiAgICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZSA9IF9wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGUgPSBfcHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcy5kaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICByaXBwbGVDb2xvciA9IF9wcm9wcy5yaXBwbGVDb2xvcixcbiAgICAgICAgICByaXBwbGVTdHlsZSA9IF9wcm9wcy5yaXBwbGVTdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBzd2l0Y2hlZCA9IF9wcm9wcy5zd2l0Y2hlZCxcbiAgICAgICAgICBzd2l0Y2hFbGVtZW50ID0gX3Byb3BzLnN3aXRjaEVsZW1lbnQsXG4gICAgICAgICAgdGh1bWJTdHlsZSA9IF9wcm9wcy50aHVtYlN0eWxlLFxuICAgICAgICAgIHRyYWNrU3R5bGUgPSBfcHJvcHMudHJhY2tTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWyduYW1lJywgJ3ZhbHVlJywgJ2ljb25TdHlsZScsICdpbnB1dFN0eWxlJywgJ2lucHV0VHlwZScsICdsYWJlbCcsICdsYWJlbFN0eWxlJywgJ2xhYmVsUG9zaXRpb24nLCAnb25Td2l0Y2gnLCAnb25CbHVyJywgJ29uRm9jdXMnLCAnb25Nb3VzZVVwJywgJ29uTW91c2VEb3duJywgJ29uTW91c2VMZWF2ZScsICdvblRvdWNoU3RhcnQnLCAnb25Ub3VjaEVuZCcsICdvblBhcmVudFNob3VsZFVwZGF0ZScsICdkaXNhYmxlZCcsICdkaXNhYmxlVG91Y2hSaXBwbGUnLCAnZGlzYWJsZUZvY3VzUmlwcGxlJywgJ2NsYXNzTmFtZScsICdyaXBwbGVDb2xvcicsICdyaXBwbGVTdHlsZScsICdzdHlsZScsICdzd2l0Y2hlZCcsICdzd2l0Y2hFbGVtZW50JywgJ3RodW1iU3R5bGUnLCAndHJhY2tTdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciB3cmFwU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy53cmFwLCBpY29uU3R5bGUpO1xuICAgICAgdmFyIG1lcmdlZFJpcHBsZVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yaXBwbGUsIHJpcHBsZVN0eWxlKTtcblxuICAgICAgaWYgKHRodW1iU3R5bGUpIHtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5MZWZ0IC89IDI7XG4gICAgICAgIHdyYXBTdHlsZXMubWFyZ2luUmlnaHQgLz0gMjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IGxhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGFiZWwnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIGxhYmVsU3R5bGUpKSB9LFxuICAgICAgICBsYWJlbFxuICAgICAgKTtcblxuICAgICAgdmFyIHNob3dUb3VjaFJpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZVRvdWNoUmlwcGxlO1xuICAgICAgdmFyIHNob3dGb2N1c1JpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZUZvY3VzUmlwcGxlO1xuXG4gICAgICB2YXIgdG91Y2hSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVG91Y2hSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAgcmVmOiAndG91Y2hSaXBwbGUnLFxuICAgICAgICBrZXk6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIHN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBjZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm9jdXNSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRm9jdXNSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAnZm9jdXNSaXBwbGUnLFxuICAgICAgICBpbm5lclN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBzaG93OiB0aGlzLnN0YXRlLmlzS2V5Ym9hcmRGb2N1c2VkXG4gICAgICB9KTtcblxuICAgICAgdmFyIHJpcHBsZXMgPSBbc2hvd1RvdWNoUmlwcGxlID8gdG91Y2hSaXBwbGUgOiBudWxsLCBzaG93Rm9jdXNSaXBwbGUgPyBmb2N1c1JpcHBsZSA6IG51bGxdO1xuXG4gICAgICB2YXIgaW5wdXRFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgcmVmOiAnY2hlY2tib3gnLFxuICAgICAgICB0eXBlOiBpbnB1dFR5cGUsXG4gICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaW5wdXQsIGlucHV0U3R5bGUpKSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIG9uTW91c2VVcDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgICAgb25Nb3VzZURvd246IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlRG93bixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgIG9uVG91Y2hFbmQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoRW5kXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIElmIHRvZ2dsZSBjb21wb25lbnQgKGluZGljYXRlZCBieSB3aGV0aGVyIHRoZSBzdHlsZSBpbmNsdWRlcyB0aHVtYikgbWFudWFsbHkgbGF5IG91dFxuICAgICAgLy8gZWxlbWVudHMgaW4gb3JkZXIgdG8gbmVzdCByaXBwbGUgZWxlbWVudHNcbiAgICAgIHZhciBzd2l0Y2hPclRodW1iRWxlbWVudCA9ICF0aHVtYlN0eWxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHdyYXBTdHlsZXMpIH0sXG4gICAgICAgIHN3aXRjaEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZXNcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0cmFja1N0eWxlKSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiB0aHVtYlN0eWxlLCB6RGVwdGg6IDEsIGNpcmNsZTogdHJ1ZSB9LFxuICAgICAgICAgICcgJyxcbiAgICAgICAgICByaXBwbGVzLFxuICAgICAgICAgICcgJ1xuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICB2YXIgZWxlbWVudHNJbk9yZGVyID0gbGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50LFxuICAgICAgICBsYWJlbEVsZW1lbnRcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9scyB9LFxuICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogJ3Jvb3QnLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXBcbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgZWxlbWVudHNJbk9yZGVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRW5oYW5jZWRTd2l0Y2g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5FbmhhbmNlZFN3aXRjaC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRW5oYW5jZWRTd2l0Y2gucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVGb2N1c1JpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlVG91Y2hSaXBwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGlucHV0VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25CbHVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZUxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblBhcmVudFNob3VsZFVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblN3aXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoRW5kOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICByaXBwbGVDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHJpcHBsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzd2l0Y2hFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc3dpdGNoZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICB0aHVtYlN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdHJhY2tTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRW5oYW5jZWRTd2l0Y2g7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNjA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9TbGlkZUluQ2hpbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzOSk7XG5cbnZhciBfU2xpZGVJbkNoaWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW5DaGlsZCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTbGlkZUluID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2xpZGVJbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2xpZGVJbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbGlkZUluKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFNsaWRlSW4uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNsaWRlSW4pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5nZXRMZWF2ZURpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5kaXJlY3Rpb247XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNsaWRlSW4sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGVudGVyRGVsYXkgPSBfcHJvcHMuZW50ZXJEZWxheSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjaGlsZFN0eWxlID0gX3Byb3BzLmNoaWxkU3R5bGUsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3Byb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydlbnRlckRlbGF5JywgJ2NoaWxkcmVuJywgJ2NoaWxkU3R5bGUnLCAnZGlyZWN0aW9uJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgbWVyZ2VkUm9vdFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluQ2hpbGQyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICAgIGVudGVyRGVsYXk6IGVudGVyRGVsYXksXG4gICAgICAgICAgICBnZXRMZWF2ZURpcmVjdGlvbjogX3RoaXMyLmdldExlYXZlRGlyZWN0aW9uLFxuICAgICAgICAgICAgc3R5bGU6IGNoaWxkU3R5bGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkXG4gICAgICAgICk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKG1lcmdlZFJvb3RTdHlsZXMpLFxuICAgICAgICAgIGNvbXBvbmVudDogJ2RpdidcbiAgICAgICAgfSksXG4gICAgICAgIG5ld0NoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2xpZGVJbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblNsaWRlSW4uZGVmYXVsdFByb3BzID0ge1xuICBlbnRlckRlbGF5OiAwLFxuICBkaXJlY3Rpb246ICdsZWZ0J1xufTtcblNsaWRlSW4uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblNsaWRlSW4ucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZGlyZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCcsICd1cCcsICdkb3duJ10pLFxuICBlbnRlckRlbGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbGlkZUluO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTY0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93biA9IGZ1bmN0aW9uIE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003IDEwbDUgNSA1LTV6JyB9KVxuICApO1xufTtcbk5hdmlnYXRpb25BcnJvd0Ryb3BEb3duID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bik7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bic7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSBmdW5jdGlvbiBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTkgNXYxNEg1VjVoMTRtMC0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rKTtcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rJztcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTY4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUb2dnbGVDaGVja0JveCA9IGZ1bmN0aW9uIFRvZ2dsZUNoZWNrQm94KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6JyB9KVxuICApO1xufTtcblRvZ2dsZUNoZWNrQm94ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShUb2dnbGVDaGVja0JveCk7XG5Ub2dnbGVDaGVja0JveC5kaXNwbGF5TmFtZSA9ICdUb2dnbGVDaGVja0JveCc7XG5Ub2dnbGVDaGVja0JveC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVDaGVja0JveDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTEFSR0UgPSBleHBvcnRzLk1FRElVTSA9IGV4cG9ydHMuU01BTEwgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3aXRoV2lkdGg7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNNQUxMID0gZXhwb3J0cy5TTUFMTCA9IDE7XG52YXIgTUVESVVNID0gZXhwb3J0cy5NRURJVU0gPSAyO1xudmFyIExBUkdFID0gZXhwb3J0cy5MQVJHRSA9IDM7XG5cbmZ1bmN0aW9uIHdpdGhXaWR0aCgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkbGFyZ2VXaWR0aCA9IG9wdGlvbnMubGFyZ2VXaWR0aCxcbiAgICAgIGxhcmdlV2lkdGggPSBfb3B0aW9ucyRsYXJnZVdpZHRoID09PSB1bmRlZmluZWQgPyA5OTIgOiBfb3B0aW9ucyRsYXJnZVdpZHRoLFxuICAgICAgX29wdGlvbnMkbWVkaXVtV2lkdGggPSBvcHRpb25zLm1lZGl1bVdpZHRoLFxuICAgICAgbWVkaXVtV2lkdGggPSBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9PT0gdW5kZWZpbmVkID8gNzY4IDogX29wdGlvbnMkbWVkaXVtV2lkdGgsXG4gICAgICBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPSBvcHRpb25zLnJlc2l6ZUludGVydmFsLFxuICAgICAgcmVzaXplSW50ZXJ2YWwgPSBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPT09IHVuZGVmaW5lZCA/IDE2NiA6IF9vcHRpb25zJHJlc2l6ZUludGVydjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoTXlDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFdpdGhXaWR0aCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhXaWR0aCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBXaXRoV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFdpdGhXaWR0aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoV2l0aFdpZHRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSwgX3RoaXMuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgICBfdGhpcy5kZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVXaWR0aCgpO1xuICAgICAgICAgIH0sIHJlc2l6ZUludGVydmFsKTtcbiAgICAgICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoV2l0aFdpZHRoLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVmZXJUaW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlV2lkdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgICAgICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAoaW5uZXJXaWR0aCA+PSBsYXJnZVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IExBUkdFO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5uZXJXaWR0aCA+PSBtZWRpdW1XaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBNRURJVU07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlubmVyV2lkdGggPCA3NjhcbiAgICAgICAgICAgIHdpZHRoID0gU01BTEw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hlbiByZW5kZXJpbmcgdGhlIGNvbXBvbmVudCBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgICAqIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB0aGUgc2NyZWVuIHdpZHRoLlxuICAgICAgICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgYmxpbmtzIGFuZCBoZWxwIHRoZSByZWNvbmNpbGlhdGlvblxuICAgICAgICAgICAqIHdlIGFyZSBub3QgcmVuZGVyaW5nIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBIGJldHRlciBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzZW5kIGNsaWVudCBoaW50cy5cbiAgICAgICAgICAgKiBCdXQgdGhlIGJyb3dzZXIgc3VwcG9ydCBvZiB0aGlzIEFQSSBpcyBsb3c6XG4gICAgICAgICAgICogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2xpZW50JTIwaGludFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAnd2luZG93Jywgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNeUNvbXBvbmVudCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIFdpdGhXaWR0aDtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICB9O1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMjE0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2lzSXRlcmFibGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDQpO1xuXG52YXIgX2lzSXRlcmFibGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJdGVyYWJsZTIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAzKTtcblxudmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKGFyciksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gZWxzZSBpZiAoKDAsIF9pc0l0ZXJhYmxlMy5kZWZhdWx0KShPYmplY3QoYXJyKSkpIHtcbiAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuICAgIH1cbiAgfTtcbn0oKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDIzODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMjE0KTtcblxudmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdGltZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGRpcmVjdGlvbkludmFyaWFudDogdHJ1ZSxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogMzIsXG4gICAgICBoZWlnaHQ6IDMyLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxNnB4KScsXG4gICAgICB0b3A6IDEwLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdUb3A6IDUsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsIC8qIENocm9tZSBhbGwgLyBTYWZhcmkgYWxsICovXG4gICAgICBmb250U2l6ZTogJzEuMWVtJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgfVxuICB9O1xuXG4gIHZhciBtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWU7XG5cblxuICB2YXIgcG9zID0gcHJvcHMudmFsdWU7XG5cbiAgaWYgKHByb3BzLnR5cGUgPT09ICdob3VyJykge1xuICAgIHBvcyAlPSAxMjtcbiAgfSBlbHNlIHtcbiAgICBwb3MgPSBwb3MgLyA1O1xuICB9XG5cbiAgdmFyIHBvc2l0aW9ucyA9IFtbMCwgNV0sIFs1NC41LCAxNi42XSwgWzk0LjQsIDU5LjVdLCBbMTA5LCAxMTRdLCBbOTQuNCwgMTY4LjVdLCBbNTQuNSwgMjA4LjRdLCBbMCwgMjIzXSwgWy01NC41LCAyMDguNF0sIFstOTQuNCwgMTY4LjVdLCBbLTEwOSwgMTE0XSwgWy05NC40LCA1OS41XSwgWy01NC41LCAxOS42XV07XG5cbiAgdmFyIGlubmVyUG9zaXRpb25zID0gW1swLCA0MF0sIFszNi45LCA0OS45XSwgWzY0LCA3N10sIFs3NCwgMTE0XSwgWzY0LCAxNTFdLCBbMzcsIDE3OF0sIFswLCAxODhdLCBbLTM3LCAxNzhdLCBbLTY0LCAxNTFdLCBbLTc0LCAxMTRdLCBbLTY0LCA3N10sIFstMzcsIDUwXV07XG5cbiAgaWYgKHByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICBzdHlsZXMucm9vdC5iYWNrZ3JvdW5kQ29sb3IgPSBtdWlUaGVtZS50aW1lUGlja2VyLmFjY2VudENvbG9yO1xuICAgIHN0eWxlcy5yb290LmNvbG9yID0gbXVpVGhlbWUudGltZVBpY2tlci5zZWxlY3RUZXh0Q29sb3I7XG4gIH1cblxuICB2YXIgdHJhbnNmb3JtUG9zID0gcG9zaXRpb25zW3Bvc107XG5cbiAgaWYgKCgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKHByb3BzKSkge1xuICAgIHN0eWxlcy5yb290LndpZHRoID0gMjg7XG4gICAgc3R5bGVzLnJvb3QuaGVpZ2h0ID0gMjg7XG4gICAgc3R5bGVzLnJvb3QubGVmdCA9ICdjYWxjKDUwJSAtIDE0cHgpJztcbiAgICB0cmFuc2Zvcm1Qb3MgPSBpbm5lclBvc2l0aW9uc1twb3NdO1xuICB9XG5cbiAgdmFyIF90cmFuc2Zvcm1Qb3MgPSB0cmFuc2Zvcm1Qb3MsXG4gICAgICBfdHJhbnNmb3JtUG9zMiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3RyYW5zZm9ybVBvcywgMiksXG4gICAgICB4ID0gX3RyYW5zZm9ybVBvczJbMF0sXG4gICAgICB5ID0gX3RyYW5zZm9ybVBvczJbMV07XG5cbiAgc3R5bGVzLnJvb3QudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwgJyArIHkgKyAncHgpJztcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgQ2xvY2tOdW1iZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja051bWJlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tOdW1iZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tOdW1iZXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDbG9ja051bWJlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tOdW1iZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrTnVtYmVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciBjbG9ja051bWJlciA9IHRoaXMucHJvcHMudmFsdWUgPT09IDAgPyAnMDAnIDogdGhpcy5wcm9wcy52YWx1ZTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIGNsb2NrTnVtYmVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja051bWJlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiAwLFxuICB0eXBlOiAnbWludXRlJyxcbiAgaXNTZWxlY3RlZDogZmFsc2Vcbn07XG5DbG9ja051bWJlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBpc1NlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgdHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2hvdXInLCAnbWludXRlJ10pLFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrTnVtYmVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjM5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90aW1lVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY2FsY0FuZ2xlKHZhbHVlLCBiYXNlKSB7XG4gIHZhbHVlICU9IGJhc2U7XG4gIHZhciBhbmdsZSA9IDM2MCAvIGJhc2UgKiB2YWx1ZTtcbiAgcmV0dXJuIGFuZ2xlO1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBoYXNTZWxlY3RlZCA9IHByb3BzLmhhc1NlbGVjdGVkLFxuICAgICAgdHlwZSA9IHByb3BzLnR5cGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICB2YXIgaW5uZXIgPSBzdGF0ZS5pbm5lcjtcbiAgdmFyIHRpbWVQaWNrZXIgPSBjb250ZXh0Lm11aVRoZW1lLnRpbWVQaWNrZXI7XG5cbiAgdmFyIGFuZ2xlID0gdHlwZSA9PT0gJ2hvdXInID8gY2FsY0FuZ2xlKHZhbHVlLCAxMikgOiBjYWxjQW5nbGUodmFsdWUsIDYwKTtcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogaW5uZXIgPyAnMzAlJyA6ICc0MCUnLFxuICAgICAgYmFja2dyb3VuZDogdGltZVBpY2tlci5hY2NlbnRDb2xvcixcbiAgICAgIHdpZHRoOiAyLFxuICAgICAgbGVmdDogJ2NhbGMoNTAlIC0gMXB4KScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdib3R0b20nLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgdHJhbnNmb3JtOiAncm90YXRlWignICsgYW5nbGUgKyAnZGVnKSdcbiAgICB9LFxuICAgIG1hcms6IHtcbiAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94JyxcbiAgICAgIGJhY2tncm91bmQ6IHRpbWVQaWNrZXIuc2VsZWN0VGV4dENvbG9yLFxuICAgICAgYm9yZGVyOiAnNHB4IHNvbGlkICcgKyB0aW1lUGlja2VyLmFjY2VudENvbG9yLFxuICAgICAgZGlzcGxheTogaGFzU2VsZWN0ZWQgJiYgJ25vbmUnLFxuICAgICAgd2lkdGg6IDcsXG4gICAgICBoZWlnaHQ6IDcsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogLTUsXG4gICAgICBsZWZ0OiAtNixcbiAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBDbG9ja1BvaW50ZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja1BvaW50ZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENsb2NrUG9pbnRlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDbG9ja1BvaW50ZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2tQb2ludGVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDbG9ja1BvaW50ZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlubmVyOiBmYWxzZVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDbG9ja1BvaW50ZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlubmVyOiAoMCwgX3RpbWVVdGlscy5pc0lubmVyKSh0aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW5uZXI6ICgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKG5leHRQcm9wcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5tYXJrKSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrUG9pbnRlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrUG9pbnRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGhhc1NlbGVjdGVkOiBmYWxzZSxcbiAgdmFsdWU6IG51bGwsXG4gIHR5cGU6ICdtaW51dGUnXG59O1xuQ2xvY2tQb2ludGVyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja1BvaW50ZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBoYXNTZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0eXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnaG91cicsICdtaW51dGUnXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlclxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2tQb2ludGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjc5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0RhdGVQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNik7XG5cbnZhciBfRGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0RhdGVQaWNrZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyODA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfVGltZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMzKTtcblxudmFyIF9UaW1lUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfVGltZVBpY2tlcjIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMwMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX011aVRoZW1lUHJvdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011aVRoZW1lUHJvdmlkZXIpO1xuXG52YXIgX1JhaXNlZEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXG52YXIgX1JhaXNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWlzZWRCdXR0b24pO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0NhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9Ecm9wRG93bk1lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfRHJvcERvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3BEb3duTWVudSk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0RhdGVQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3OSk7XG5cbnZhciBfRGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyKTtcblxudmFyIF9UaW1lUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyODApO1xuXG52YXIgX1RpbWVQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cbnZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cbnZhciBfcmVhY3RUYXBFdmVudFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXG52YXIgX3JlYWN0VGFwRXZlbnRQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RUYXBFdmVudFBsdWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qIEVTVEUgRlJBR01FTlRPIERFIENPRElHTyBFUyBSRVFVRVJJRE8gUEFSQSBMT1MgRVZFTlRPUyBERSBUSVBPIFRPVUNIIE8gQ0xJQ0sgRU4gQ09NUE9ORU5URVMgTUFURVJJQUwtVUkgKi9cblxuXG4oMCwgX3JlYWN0VGFwRXZlbnRQbHVnaW4yLmRlZmF1bHQpKCk7XG5cbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnZhciB0b2tlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2tlbicpLmlubmVySFRNTDtcblxudmFyIEVNUFRZX0NBTExCQUNLID0gZnVuY3Rpb24gRU1QVFlfQ0FMTEJBQ0soKSB7fTtcblxudmFyIFNob3BSZWcgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICAgIGRpc3BsYXlOYW1lOiAnU2hvcFJlZycsXG5cbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1zZ1NuYWNrYmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja2Jhck1lc3NhZ2U6ICcnLFxuICAgICAgICAgICAgbXlTaG9wOiB7fSxcbiAgICAgICAgICAgIG15U2hvcFJlYWR5OiBmYWxzZVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuOiAnICsgdG9rZW4pO1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KCcvYXBpL3YxL3Nob3BhZG0vbXlzaG9wP3Rva2VuPScgKyB0b2tlbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZS5kYXRhLnNob3A6ICcgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLnNob3ApKTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbXlTaG9wOiByZXNwb25zZS5kYXRhLnNob3AsIG15U2hvcFJlYWR5OiB0cnVlIH0pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoY2F1c2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xuICAgICAgICAgICAgX3RoaXMub3BlblNuYWNrYmFyKCdFcnJvciBhbCBjYXJnYXIgbG9zIGRhdG9zIGRlbCBjb21lcmNpbycpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG9wZW5TbmFja2JhcjogZnVuY3Rpb24gb3BlblNuYWNrYmFyKG1zZykge1xuICAgICAgICBjb25zb2xlLmxvZygnQWJyaWVuZG8gc25hY2sgYmFyJyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtc2dTbmFja2Jhck9wZW46IHRydWUsIHNuYWNrYmFyTWVzc2FnZTogbXNnIH0pO1xuICAgIH0sXG4gICAgdmFsaWRhdGVTaG9wOiBmdW5jdGlvbiB2YWxpZGF0ZVNob3AoKSB7fSxcblxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzLFxuICAgICAgICAgICAgX1JlYWN0JGNyZWF0ZUVsZW1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX011aVRoZW1lUHJvdmlkZXIyLmRlZmF1bHQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nQm90dG9tOiAxMCwgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJyB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbjogMjAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbGlkYWNpb24gZGUgYWx0YSBkZSBjb21lcmNpbydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2hyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGF0b3MgYmFzaWNvcydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ05vbWJyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnTm9tYnJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnTm9tYnJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLm15U2hvcC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGlyZWNjaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdEaXJlY2Npb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdEaXJlY2Npb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubXlTaG9wLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyBhZGRyZXNzOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdMYXRpdHVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdMYXRpdHVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnTGF0aXR1ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5teVNob3AubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgbGF0OiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblJpZ2h0OiAxMCB9IH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTG9uZ2l0dWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogJ0xvbmdpdHVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnTG9uZ2l0dWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubXlTaG9wLmxvbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyBsb25nOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUZWxlZm9ubycsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnVGVsZWZvbm8gc2luIGd1aW9uIG5pIGVzcGFjaW9zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnVGVsZWZvbm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubXlTaG9wLnBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgcGhvbmU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2hyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGF0b3MgZGVsIG1lbnUnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUaXBvIGRlIGNvbWlkYScsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnVGlwbyBkZSBjb21pZGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdUaXBvIGRlIGNvbWlkYScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5hZG1pbkVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgYWRtaW5FbWFpbDogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaDMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdIb3JhcmlvIGRlIGRpYSBkZSBzZW1hbmEnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICcyNGhyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnRUZXh0OiAnSG9yYSBkZSBhcGVydHVyYScgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICcyNGhyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnRUZXh0OiAnSG9yYSBkZSBjaWVycmUnIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaDMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdIb3JhcmlvIGRlIGZpbmVzIGRlIHNlbWFuYSdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJzI0aHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ6ICdIb3JhIGRlIGFwZXJ0dXJhJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJzI0aHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ6ICdIb3JhIGRlIGNpZXJyZScgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWRlbmNpYWxlcyBkZWwgYWRtaW5pc3RyYWRvcidcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdFbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dDogJ0VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmFkbWluRW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyBhZG1pbkVtYWlsOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogJ1Bhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnUGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYWRtaW5QYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7IGFkbWluUGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUmFpc2VkQnV0dG9uMi5kZWZhdWx0LCAoX1JlYWN0JGNyZWF0ZUVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5Ub3A6IDIwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1RvZG8gYmllbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnZhbGlkYXRlU2hvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICdzdHlsZScsIHsgbWFyZ2luUmlnaHQ6IDEwIH0pLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICdkaXNhYmxlZCcsICF0aGlzLnN0YXRlLm15U2hvcFJlYWR5KSwgX1JlYWN0JGNyZWF0ZUVsZW1lbnQpKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JhaXNlZEJ1dHRvbjIuZGVmYXVsdCwgeyBzdHlsZTogeyBtYXJnaW5Ub3A6IDIwIH0sIGxhYmVsOiAnQWxnbyBlc3RhIG1hbCcsIGRpc2FibGVkOiAhdGhpcy5zdGF0ZS5teVNob3BSZWFkeSB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUubXNnU25hY2tiYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnN0YXRlLnNuYWNrYmFyTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U6IHRoaXMuaGFuZGxlU25hY2tiYXJSZXF1ZXN0Q2xvc2UgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuX3JlYWN0RG9tMi5kZWZhdWx0LnJlbmRlcihfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChTaG9wUmVnLCBudWxsKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMDM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzMTIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzMTMpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcbl9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDEpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcbl9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xudmFyIGdldCA9IF9fd2VicGFja19yZXF1aXJlX18oMjI4KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMikuZ2V0SXRlcmF0b3IgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIGl0ZXJGbiA9IGdldChpdCk7XG4gIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICByZXR1cm4gYW5PYmplY3QoaXRlckZuLmNhbGwoaXQpKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxNik7XG52YXIgSVRFUkFUT1IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMikuaXNJdGVyYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTyA9IE9iamVjdChpdCk7XG4gIHJldHVybiBPW0lURVJBVE9SXSAhPT0gdW5kZWZpbmVkXG4gICAgfHwgJ0BAaXRlcmF0b3InIGluIE9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNDAwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DYWxlbmRhckFjdGlvbkJ1dHRvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwMSk7XG5cbnZhciBfQ2FsZW5kYXJBY3Rpb25CdXR0b25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyQWN0aW9uQnV0dG9ucyk7XG5cbnZhciBfQ2FsZW5kYXJNb250aCA9IF9fd2VicGFja19yZXF1aXJlX18oNDAyKTtcblxudmFyIF9DYWxlbmRhck1vbnRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTW9udGgpO1xuXG52YXIgX0NhbGVuZGFyWWVhciA9IF9fd2VicGFja19yZXF1aXJlX18oNDA0KTtcblxudmFyIF9DYWxlbmRhclllYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJZZWFyKTtcblxudmFyIF9DYWxlbmRhclRvb2xiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwMyk7XG5cbnZhciBfQ2FsZW5kYXJUb29sYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyVG9vbGJhcik7XG5cbnZhciBfRGF0ZURpc3BsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNSk7XG5cbnZhciBfRGF0ZURpc3BsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZURpc3BsYXkpO1xuXG52YXIgX1NsaWRlSW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cbnZhciBfU2xpZGVJbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbGlkZUluKTtcblxudmFyIF9kYXRlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRheXNBcnJheSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShBcnJheSg3KSkpO1xuXG52YXIgQ2FsZW5kYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkaXNwbGF5RGF0ZTogdW5kZWZpbmVkLFxuICAgICAgZGlzcGxheU1vbnRoRGF5OiB1bmRlZmluZWQsXG4gICAgICBzZWxlY3RlZERhdGU6IHVuZGVmaW5lZCxcbiAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgIHRyYW5zaXRpb25FbnRlcjogdHJ1ZVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRlKSB7XG4gICAgICBfdGhpcy5zZXRTZWxlY3RlZERhdGUoZGF0ZSk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcERheSkgX3RoaXMucHJvcHMub25Ub3VjaFRhcERheShldmVudCwgZGF0ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW9udGhDaGFuZ2UgPSBmdW5jdGlvbiAobW9udGhzKSB7XG4gICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgdmFyIHByZXZEaXJlY3Rpb24gPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBtb250aHMgPj0gMCA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICAgIGRpc3BsYXlEYXRlOiBfdGhpcy5wcm9wcy51dGlscy5hZGRNb250aHMoX3RoaXMuc3RhdGUuZGlzcGxheURhdGUsIG1vbnRocylcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uIChldmVudCwgeWVhcikge1xuICAgICAgX3RoaXMuc2V0U2VsZWN0ZWREYXRlKF90aGlzLnByb3BzLnV0aWxzLnNldFllYXIoX3RoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCB5ZWFyKSwgZXZlbnQpO1xuICAgICAgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5KCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5TW9udGhEYXk6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlZZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5TW9udGhEYXk6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVXaW5kb3dLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub3Blbikge1xuICAgICAgICB2YXIgbmV4dEFycm93ID0gX3RoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBwcmV2QXJyb3cgPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygtMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cygtNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZE1vbnRocygxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cyg3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBuZXh0QXJyb3c6XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkWWVhcnMoMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIHByZXZBcnJvdzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygtMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cygtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzcGxheURhdGU6IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKHRoaXMucHJvcHMuaW5pdGlhbERhdGUpLFxuICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMucHJvcHMuaW5pdGlhbERhdGUsXG4gICAgICAgIGRpc3BsYXlNb250aERheTogIXRoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmluaXRpYWxEYXRlICE9PSB0aGlzLnByb3BzLmluaXRpYWxEYXRlKSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV4dFByb3BzLmluaXRpYWxEYXRlIHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRpc3BsYXlEYXRlOiB0aGlzLnByb3BzLnV0aWxzLmdldEZpcnN0RGF5T2ZNb250aChkYXRlKSxcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IGRhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWluRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbkRhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5taW5EYXRlIHx8IHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnMobmV3IERhdGUoKSwgLTEwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWF4RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1heERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnMobmV3IERhdGUoKSwgMTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNTZWxlY3RlZERhdGVEaXNhYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuZGlzcGxheU1vbnRoRGF5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jYWxlbmRhci5pc1NlbGVjdGVkRGF0ZURpc2FibGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWREYXlzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWREYXlzKGRheXMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkRGF5cyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgZGF5cykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZFNlbGVjdGVkTW9udGhzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWRNb250aHMobW9udGhzKSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkRGF0ZSh0aGlzLnByb3BzLnV0aWxzLmFkZE1vbnRocyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgbW9udGhzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWRZZWFycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNlbGVjdGVkWWVhcnMoeWVhcnMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnModGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsIHllYXJzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0RGlzcGxheURhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREaXNwbGF5RGF0ZShkYXRlLCBuZXdTZWxlY3RlZERhdGUpIHtcbiAgICAgIHZhciBuZXdEaXNwbGF5RGF0ZSA9IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUpO1xuXG4gICAgICBpZiAobmV3RGlzcGxheURhdGUgIT09IHRoaXMuc3RhdGUuZGlzcGxheURhdGUpIHtcbiAgICAgICAgdmFyIG5leHREaXJlY3Rpb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICB2YXIgcHJldkRpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXdEaXNwbGF5RGF0ZSA+IHRoaXMuc3RhdGUuZGlzcGxheURhdGUgPyBuZXh0RGlyZWN0aW9uIDogcHJldkRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlzcGxheURhdGU6IG5ld0Rpc3BsYXlEYXRlLFxuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IG5ld1NlbGVjdGVkRGF0ZSB8fCB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTZWxlY3RlZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RlZERhdGUoZGF0ZSkge1xuICAgICAgdmFyIGFkanVzdGVkRGF0ZSA9IGRhdGU7XG4gICAgICB2YXIgbWluRGF0ZSA9IHRoaXMuZ2V0TWluRGF0ZSgpO1xuICAgICAgdmFyIG1heERhdGUgPSB0aGlzLmdldE1heERhdGUoKTtcbiAgICAgIGlmICgoMCwgX2RhdGVVdGlscy5pc0JlZm9yZURhdGUpKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgICAgIGFkanVzdGVkRGF0ZSA9IG1pbkRhdGU7XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfZGF0ZVV0aWxzLmlzQWZ0ZXJEYXRlKShkYXRlLCBtYXhEYXRlKSkge1xuICAgICAgICBhZGp1c3RlZERhdGUgPSBtYXhEYXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3RGlzcGxheURhdGUgPSB0aGlzLnByb3BzLnV0aWxzLmdldEZpcnN0RGF5T2ZNb250aChhZGp1c3RlZERhdGUpO1xuICAgICAgaWYgKG5ld0Rpc3BsYXlEYXRlICE9PSB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlKSB7XG4gICAgICAgIHRoaXMuc2V0RGlzcGxheURhdGUobmV3RGlzcGxheURhdGUsIGFkanVzdGVkRGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IGFkanVzdGVkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUb29sYmFySW50ZXJhY3Rpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9vbGJhckludGVyYWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZXZNb250aDogdGhpcy5wcm9wcy51dGlscy5tb250aERpZmYodGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSwgdGhpcy5nZXRNaW5EYXRlKCkpID4gMCxcbiAgICAgICAgbmV4dE1vbnRoOiB0aGlzLnByb3BzLnV0aWxzLm1vbnRoRGlmZih0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLCB0aGlzLmdldE1heERhdGUoKSkgPCAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3llYXJTZWxlY3RvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHllYXJTZWxlY3RvcigpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyWWVhcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ3llYXJzJyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogdGhpcy5wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGU6IHRoaXMucHJvcHMubG9jYWxlLFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyOiB0aGlzLmhhbmRsZVRvdWNoVGFwWWVhcixcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgIG1pbkRhdGU6IHRoaXMuZ2V0TWluRGF0ZSgpLFxuICAgICAgICAgIG1heERhdGU6IHRoaXMuZ2V0TWF4RGF0ZSgpLFxuICAgICAgICAgIHV0aWxzOiB0aGlzLnByb3BzLnV0aWxzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG4gICAgICB2YXIgaGlkZUNhbGVuZGFyRGF0ZSA9IHRoaXMucHJvcHMuaGlkZUNhbGVuZGFyRGF0ZTtcblxuICAgICAgdmFyIHRvb2xiYXJJbnRlcmFjdGlvbnMgPSB0aGlzLmdldFRvb2xiYXJJbnRlcmFjdGlvbnMoKTtcbiAgICAgIHZhciBpc0xhbmRzY2FwZSA9IHRoaXMucHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZSc7XG4gICAgICB2YXIgY2FsZW5kYXJUZXh0Q29sb3IgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuZGF0ZVBpY2tlci5jYWxlbmRhclRleHRDb2xvcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgY29sb3I6IGNhbGVuZGFyVGV4dENvbG9yLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB3aWR0aDogIWhpZGVDYWxlbmRhckRhdGUgJiYgaXNMYW5kc2NhcGUgPyA0NzkgOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgY2FsZW5kYXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgICAgfSxcbiAgICAgICAgY2FsZW5kYXJDb250YWluZXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgYWxpZ25Db250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgZm9udFdlaWdodDogNDAwLFxuICAgICAgICAgIHBhZGRpbmc6ICcwcHggOHB4JyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpXG4gICAgICAgIH0sXG4gICAgICAgIHllYXJDb250YWluZXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBoZWlnaHQ6IDI3MixcbiAgICAgICAgICBtYXJnaW5Ub3A6IDEwLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICB3aWR0aDogMzEwXG4gICAgICAgIH0sXG4gICAgICAgIHdlZWtUaXRsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgICAgbGluZUhlaWdodDogJzE1cHgnLFxuICAgICAgICAgIG9wYWNpdHk6ICcwLjUnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgfSxcbiAgICAgICAgd2Vla1RpdGxlRGF5OiB7XG4gICAgICAgICAgd2lkdGg6IDQyXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zaXRpb25TbGlkZToge1xuICAgICAgICAgIGhlaWdodDogMjE0XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB3ZWVrVGl0bGVEYXlTdHlsZSA9IHByZXBhcmVTdHlsZXMoc3R5bGVzLndlZWtUaXRsZURheSk7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3Byb3BzLmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIG9uVG91Y2hUYXBDYW5jZWwgPSBfcHJvcHMub25Ub3VjaFRhcENhbmNlbCxcbiAgICAgICAgICBvblRvdWNoVGFwT2sgPSBfcHJvcHMub25Ub3VjaFRhcE9rLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVXaW5kb3dLZXlEb3duXG4gICAgICAgIH0pLFxuICAgICAgICAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGF0ZURpc3BsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb246IHRoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgb25Ub3VjaFRhcE1vbnRoRGF5OiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlNb250aERheSxcbiAgICAgICAgICBvblRvdWNoVGFwWWVhcjogdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5WWVhcixcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICBtb250aERheVNlbGVjdGVkOiB0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSxcbiAgICAgICAgICBtb2RlOiB0aGlzLnByb3BzLm1vZGUsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2FsZW5kYXIpIH0sXG4gICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmNhbGVuZGFyQ29udGFpbmVyKSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyVG9vbGJhcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSxcbiAgICAgICAgICAgICAgb25Nb250aENoYW5nZTogdGhpcy5oYW5kbGVNb250aENoYW5nZSxcbiAgICAgICAgICAgICAgcHJldk1vbnRoOiB0b29sYmFySW50ZXJhY3Rpb25zLnByZXZNb250aCxcbiAgICAgICAgICAgICAgbmV4dE1vbnRoOiB0b29sYmFySW50ZXJhY3Rpb25zLm5leHRNb250aFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLndlZWtUaXRsZSkgfSxcbiAgICAgICAgICAgICAgZGF5c0FycmF5Lm1hcChmdW5jdGlvbiAoZXZlbnQsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICB7IGtleTogaSwgc3R5bGU6IHdlZWtUaXRsZURheVN0eWxlIH0sXG4gICAgICAgICAgICAgICAgICAoMCwgX2RhdGVVdGlscy5sb2NhbGl6ZWRXZWVrZGF5KShEYXRlVGltZUZvcm1hdCwgbG9jYWxlLCBpLCBmaXJzdERheU9mV2VlaylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiwgc3R5bGU6IHN0eWxlcy50cmFuc2l0aW9uU2xpZGUgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyTW9udGgyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICAgICAgZGlzcGxheURhdGU6IHRoaXMuc3RhdGUuZGlzcGxheURhdGUsXG4gICAgICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IHRoaXMucHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICAgICAga2V5OiB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLnRvRGF0ZVN0cmluZygpLFxuICAgICAgICAgICAgICAgIG1pbkRhdGU6IHRoaXMuZ2V0TWluRGF0ZSgpLFxuICAgICAgICAgICAgICAgIG1heERhdGU6IHRoaXMuZ2V0TWF4RGF0ZSgpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXBEYXk6IHRoaXMuaGFuZGxlVG91Y2hUYXBEYXksXG4gICAgICAgICAgICAgICAgcmVmOiAnY2FsZW5kYXInLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHRoaXMucHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnllYXJDb250YWluZXIpIH0sXG4gICAgICAgICAgICB0aGlzLnllYXJTZWxlY3RvcigpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBva0xhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckFjdGlvbkJ1dHRvbnMyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGF1dG9PazogdGhpcy5wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcENhbmNlbDogb25Ub3VjaFRhcENhbmNlbCxcbiAgICAgICAgICAgIG9uVG91Y2hUYXBPazogb25Ub3VjaFRhcE9rXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICBEYXRlVGltZUZvcm1hdDogX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdCxcbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGZhbHNlLFxuICBpbml0aWFsRGF0ZTogbmV3IERhdGUoKSxcbiAgbG9jYWxlOiAnZW4tVVMnLFxuICB1dGlsczogX2RhdGVVdGlscy5kZWZhdWx0VXRpbHNcbn07XG5DYWxlbmRhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FsZW5kYXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaW5pdGlhbERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvblRvdWNoVGFwQ2FuY2VsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXBEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcE9rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDAxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENhbGVuZGFyQWN0aW9uQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FsZW5kYXJBY3Rpb25CdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyQWN0aW9uQnV0dG9uKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyQWN0aW9uQnV0dG9uKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQ2FsZW5kYXJBY3Rpb25CdXR0b24uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyQWN0aW9uQnV0dG9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhckFjdGlvbkJ1dHRvbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYW5jZWxMYWJlbCA9IF9wcm9wcy5jYW5jZWxMYWJlbCxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWw7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgbWF4SGVpZ2h0OiA0OCxcbiAgICAgICAgICBwYWRkaW5nOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGZsYXRCdXR0b25zOiB7XG4gICAgICAgICAgZm9udHNpemU6IDE0LFxuICAgICAgICAgIG1hcmdpbjogJzRweCA4cHggOHB4IDBweCcsXG4gICAgICAgICAgbWF4SGVpZ2h0OiAzNixcbiAgICAgICAgICBtaW5XaWR0aDogNjQsXG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMucm9vdCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICAgIGxhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLnByb3BzLm9uVG91Y2hUYXBDYW5jZWwsXG4gICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLmZsYXRCdXR0b25zXG4gICAgICAgIH0pLFxuICAgICAgICAhdGhpcy5wcm9wcy5hdXRvT2sgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5yZWZzLmNhbGVuZGFyICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSxcbiAgICAgICAgICBsYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLnByb3BzLm9uVG91Y2hUYXBPayxcbiAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMuZmxhdEJ1dHRvbnNcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhckFjdGlvbkJ1dHRvbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyQWN0aW9uQnV0dG9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgb25Ub3VjaFRhcENhbmNlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJBY3Rpb25CdXR0b247XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2RhdGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXG52YXIgX0RheUJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDA4KTtcblxudmFyIF9EYXlCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0eWxlcyA9IHtcbiAgcm9vdDoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLFxuICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICBoZWlnaHQ6IDIyOCxcbiAgICBsaW5lSGVpZ2h0OiAyLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgTW96UGFkZGluZ1N0YXJ0OiAwXG4gIH0sXG4gIHdlZWs6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxuICAgIGhlaWdodDogMzQsXG4gICAgbWFyZ2luQm90dG9tOiAyXG4gIH1cbn07XG5cbnZhciBDYWxlbmRhck1vbnRoID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FsZW5kYXJNb250aCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJNb250aCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhck1vbnRoKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENhbGVuZGFyTW9udGguX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyTW9udGgpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVUb3VjaFRhcERheSA9IGZ1bmN0aW9uIChldmVudCwgZGF0ZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXBEYXkpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcERheShldmVudCwgZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyTW9udGgsIFt7XG4gICAga2V5OiAnaXNTZWxlY3RlZERhdGVEaXNhYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZERhdGVEaXNhYmxlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG91bGREaXNhYmxlRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZERpc2FibGVEYXRlKGRheSkge1xuICAgICAgaWYgKGRheSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIGRpc2FibGVkID0gISgwLCBfZGF0ZVV0aWxzLmlzQmV0d2VlbkRhdGVzKShkYXksIHRoaXMucHJvcHMubWluRGF0ZSwgdGhpcy5wcm9wcy5tYXhEYXRlKTtcbiAgICAgIGlmICghZGlzYWJsZWQgJiYgdGhpcy5wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSkgZGlzYWJsZWQgPSB0aGlzLnByb3BzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG5cbiAgICAgIHJldHVybiBkaXNhYmxlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXZWVrRWxlbWVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXZWVrRWxlbWVudHMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHdlZWtBcnJheSA9IHRoaXMucHJvcHMudXRpbHMuZ2V0V2Vla0FycmF5KHRoaXMucHJvcHMuZGlzcGxheURhdGUsIHRoaXMucHJvcHMuZmlyc3REYXlPZldlZWspO1xuXG4gICAgICByZXR1cm4gd2Vla0FycmF5Lm1hcChmdW5jdGlvbiAod2VlaywgaSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBrZXk6IGksIHN0eWxlOiBzdHlsZXMud2VlayB9LFxuICAgICAgICAgIF90aGlzMi5nZXREYXlFbGVtZW50cyh3ZWVrLCBpKVxuICAgICAgICApO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RGF5RWxlbWVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXlFbGVtZW50cyh3ZWVrLCBpKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBzZWxlY3RlZERhdGUgPSBfcHJvcHMuc2VsZWN0ZWREYXRlO1xuXG5cbiAgICAgIHJldHVybiB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5LCBqKSB7XG4gICAgICAgIHZhciBpc1NhbWVEYXRlID0gKDAsIF9kYXRlVXRpbHMuaXNFcXVhbERhdGUpKHNlbGVjdGVkRGF0ZSwgZGF5KTtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXMzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICFkaXNhYmxlZCAmJiBpc1NhbWVEYXRlO1xuXG4gICAgICAgIGlmIChpc1NhbWVEYXRlKSB7XG4gICAgICAgICAgX3RoaXMzLnNlbGVjdGVkRGF0ZURpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RheUJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICBkYXRlOiBkYXksXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGtleTogJ2RiJyArIChpICsgaiksXG4gICAgICAgICAgb25Ub3VjaFRhcDogX3RoaXMzLmhhbmRsZVRvdWNoVGFwRGF5LFxuICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZFxuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5yb290IH0sXG4gICAgICAgIHRoaXMuZ2V0V2Vla0VsZW1lbnRzKClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhck1vbnRoO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJNb250aC5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc3BsYXlEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbWF4RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbkRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBvblRvdWNoVGFwRGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgdXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyTW9udGg7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX2NoZXZyb25MZWZ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDkpO1xuXG52YXIgX2NoZXZyb25MZWZ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZXZyb25MZWZ0KTtcblxudmFyIF9jaGV2cm9uUmlnaHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1MCk7XG5cbnZhciBfY2hldnJvblJpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZXZyb25SaWdodCk7XG5cbnZhciBfU2xpZGVJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblxudmFyIF9TbGlkZUluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgc3R5bGVzID0ge1xuICByb290OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnaW5oZXJpdCcsXG4gICAgaGVpZ2h0OiA0OFxuICB9LFxuICB0aXRsZURpdjoge1xuICAgIGZvbnRTaXplOiAxNCxcbiAgICBmb250V2VpZ2h0OiAnNTAwJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIHdpZHRoOiAnMTAwJSdcbiAgfSxcbiAgdGl0bGVUZXh0OiB7XG4gICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgcGFkZGluZ1RvcDogMTJcbiAgfVxufTtcblxudmFyIENhbGVuZGFyVG9vbGJhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyVG9vbGJhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJUb29sYmFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyVG9vbGJhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhclRvb2xiYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyVG9vbGJhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ3VwJ1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Nb250aENoYW5nZSgtMSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBOZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb250aENoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKDEpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhclRvb2xiYXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmRpc3BsYXlEYXRlICE9PSB0aGlzLnByb3BzLmRpc3BsYXlEYXRlKSB7XG4gICAgICAgIHZhciBuZXh0RGlyZWN0aW9uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgdmFyIHByZXZEaXJlY3Rpb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gbmV4dFByb3BzLmRpc3BsYXlEYXRlID4gdGhpcy5wcm9wcy5kaXNwbGF5RGF0ZSA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBkaXNwbGF5RGF0ZSA9IF9wcm9wcy5kaXNwbGF5RGF0ZTtcblxuXG4gICAgICB2YXIgZGF0ZVRpbWVGb3JtYXR0ZWQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgfSkuZm9ybWF0KGRpc3BsYXlEYXRlKTtcblxuICAgICAgdmFyIG5leHRCdXR0b25JY29uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25MZWZ0Mi5kZWZhdWx0LCBudWxsKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGV2cm9uUmlnaHQyLmRlZmF1bHQsIG51bGwpO1xuICAgICAgdmFyIHByZXZCdXR0b25JY29uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25SaWdodDIuZGVmYXVsdCwgbnVsbCkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hldnJvbkxlZnQyLmRlZmF1bHQsIG51bGwpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMucm9vdCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMucHJvcHMucHJldk1vbnRoLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcFByZXZNb250aFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldkJ1dHRvbkljb25cbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1NsaWRlSW4yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLnN0YXRlLnRyYW5zaXRpb25EaXJlY3Rpb24sXG4gICAgICAgICAgICBzdHlsZTogc3R5bGVzLnRpdGxlRGl2XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IGRhdGVUaW1lRm9ybWF0dGVkLCBzdHlsZTogc3R5bGVzLnRpdGxlVGV4dCB9LFxuICAgICAgICAgICAgZGF0ZVRpbWVGb3JtYXR0ZWRcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5wcm9wcy5uZXh0TW9udGgsXG4gICAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwTmV4dE1vbnRoXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuZXh0QnV0dG9uSWNvblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXJUb29sYmFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJUb29sYmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgbmV4dE1vbnRoOiB0cnVlLFxuICBwcmV2TW9udGg6IHRydWVcbn07XG5DYWxlbmRhclRvb2xiYXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhbGVuZGFyVG9vbGJhci5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzcGxheURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbmV4dE1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uTW9udGhDaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcHJldk1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyVG9vbGJhcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX1llYXJCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOSk7XG5cbnZhciBfWWVhckJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ZZWFyQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENhbGVuZGFyWWVhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyWWVhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJZZWFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyWWVhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhclllYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyWWVhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uIChldmVudCwgeWVhcikge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKGV2ZW50LCB5ZWFyKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJZZWFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWRZZWFyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkWWVhcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFllYXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0WWVhcnMoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG1pbkRhdGUgPSBfcHJvcHMubWluRGF0ZSxcbiAgICAgICAgICBtYXhEYXRlID0gX3Byb3BzLm1heERhdGUsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlID0gX3Byb3BzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscztcblxuXG4gICAgICB2YXIgbWluWWVhciA9IHV0aWxzLmdldFllYXIobWluRGF0ZSk7XG4gICAgICB2YXIgbWF4WWVhciA9IHV0aWxzLmdldFllYXIobWF4RGF0ZSk7XG4gICAgICB2YXIgeWVhcnMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgeWVhciA9IG1pblllYXI7IHllYXIgPD0gbWF4WWVhcjsgeWVhcisrKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHV0aWxzLmdldFllYXIoc2VsZWN0ZWREYXRlKSA9PT0geWVhcjtcbiAgICAgICAgdmFyIHNlbGVjdGVkUHJvcHMgPSB7fTtcbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgc2VsZWN0ZWRQcm9wcy5yZWYgPSAnc2VsZWN0ZWRZZWFyQnV0dG9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB5ZWFyRm9ybWF0ZWQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICAgIH0pLmZvcm1hdCh1dGlscy5zZXRZZWFyKHNlbGVjdGVkRGF0ZSwgeWVhcikpO1xuXG4gICAgICAgIHZhciB5ZWFyQnV0dG9uID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1llYXJCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICBrZXk6ICd5YicgKyB5ZWFyLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcFllYXIsXG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyLFxuICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgfSwgc2VsZWN0ZWRQcm9wcyksXG4gICAgICAgICAgeWVhckZvcm1hdGVkXG4gICAgICAgICk7XG5cbiAgICAgICAgeWVhcnMucHVzaCh5ZWFyQnV0dG9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHllYXJzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvU2VsZWN0ZWRZZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9TZWxlY3RlZFllYXIoKSB7XG4gICAgICBpZiAodGhpcy5yZWZzLnNlbGVjdGVkWWVhckJ1dHRvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRhaW5lciA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciB5ZWFyQnV0dG9uTm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VsZWN0ZWRZZWFyQnV0dG9uKTtcblxuICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICB2YXIgeWVhckJ1dHRvbk5vZGVIZWlnaHQgPSB5ZWFyQnV0dG9uTm9kZS5jbGllbnRIZWlnaHQgfHwgMzI7XG5cbiAgICAgIHZhciBzY3JvbGxZT2Zmc2V0ID0geWVhckJ1dHRvbk5vZGUub2Zmc2V0VG9wICsgeWVhckJ1dHRvbk5vZGVIZWlnaHQgLyAyIC0gY29udGFpbmVySGVpZ2h0IC8gMjtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGxZT2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IHRoaXMuY29udGV4dC5tdWlUaGVtZSxcbiAgICAgICAgICBwcmVwYXJlU3R5bGVzID0gX2NvbnRleHQkbXVpVGhlbWUucHJlcGFyZVN0eWxlcyxcbiAgICAgICAgICBjYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZS5kYXRlUGlja2VyLmNhbGVuZGFyWWVhckJhY2tncm91bmRDb2xvcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgbGluZUhlaWdodDogJzM1cHgnLFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZDoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgbWluSGVpZ2h0OiAnMTAwJSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2hpbGQpIH0sXG4gICAgICAgICAgdGhpcy5nZXRZZWFycygpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhclllYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhclllYXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhbGVuZGFyWWVhci5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBvblRvdWNoVGFwWWVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICB3b3JkaW5nczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyWWVhcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9TbGlkZUluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXG52YXIgX1NsaWRlSW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2xpZGVJbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIGRhdGVQaWNrZXIgPSBjb250ZXh0Lm11aVRoZW1lLmRhdGVQaWNrZXI7XG4gIHZhciBzZWxlY3RlZFllYXIgPSBzdGF0ZS5zZWxlY3RlZFllYXI7XG5cbiAgdmFyIGlzTGFuZHNjYXBlID0gcHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZSc7XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICB3aWR0aDogaXNMYW5kc2NhcGUgPyAxNjUgOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IGlzTGFuZHNjYXBlID8gMzMwIDogJ2F1dG8nLFxuICAgICAgZmxvYXQ6IGlzTGFuZHNjYXBlID8gJ2xlZnQnIDogJ25vbmUnLFxuICAgICAgZm9udFdlaWdodDogNzAwLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGRhdGVQaWNrZXIuaGVhZGVyQ29sb3IsXG4gICAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiAyLFxuICAgICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IGlzTGFuZHNjYXBlID8gMCA6IDIsXG4gICAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBpc0xhbmRzY2FwZSA/IDIgOiAwLFxuICAgICAgY29sb3I6IGRhdGVQaWNrZXIudGV4dENvbG9yLFxuICAgICAgcGFkZGluZzogMjAsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgIH0sXG4gICAgbW9udGhEYXk6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmb250U2l6ZTogMzYsXG4gICAgICBsaW5lSGVpZ2h0OiAnMzZweCcsXG4gICAgICBoZWlnaHQ6IHByb3BzLm1vZGUgPT09ICdsYW5kc2NhcGUnID8gJzEwMCUnIDogMzgsXG4gICAgICBvcGFjaXR5OiBzZWxlY3RlZFllYXIgPyAwLjcgOiAxLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBmb250V2VpZ2h0OiAnNTAwJ1xuICAgIH0sXG4gICAgbW9udGhEYXlUaXRsZToge1xuICAgICAgY3Vyc29yOiAhc2VsZWN0ZWRZZWFyID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICB9LFxuICAgIHllYXI6IHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgbGluZUhlaWdodDogJzE2cHgnLFxuICAgICAgaGVpZ2h0OiAxNixcbiAgICAgIG9wYWNpdHk6IHNlbGVjdGVkWWVhciA/IDEgOiAwLjcsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgbWFyZ2luQm90dG9tOiAxMFxuICAgIH0sXG4gICAgeWVhclRpdGxlOiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uIHx8IHNlbGVjdGVkWWVhciA/ICdkZWZhdWx0JyA6ICdwb2ludGVyJ1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgRGF0ZURpc3BsYXkgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZURpc3BsYXkoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZURpc3BsYXkpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZURpc3BsYXkuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERhdGVEaXNwbGF5KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZFllYXI6IGZhbHNlLFxuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ3VwJ1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwTW9udGhEYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcE1vbnRoRGF5ICYmIF90aGlzLnN0YXRlLnNlbGVjdGVkWWVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwTW9udGhEYXkoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IGZhbHNlIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhciAmJiAhX3RoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24gJiYgIV90aGlzLnN0YXRlLnNlbGVjdGVkWWVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRZZWFyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlRGlzcGxheSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMubW9udGhEYXlTZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRZZWFyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZERhdGUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXh0UHJvcHMuc2VsZWN0ZWREYXRlID4gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUgPyAndXAnIDogJ2Rvd24nO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0UHJvcHMubW9udGhEYXlTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGVkWWVhcjogIW5leHRQcm9wcy5tb250aERheVNlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uID0gX3Byb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG1vbnRoRGF5U2VsZWN0ZWQgPSBfcHJvcHMubW9udGhEYXlTZWxlY3RlZCxcbiAgICAgICAgICBvblRvdWNoVGFwTW9udGhEYXkgPSBfcHJvcHMub25Ub3VjaFRhcE1vbnRoRGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyID0gX3Byb3BzLm9uVG91Y2hUYXBZZWFyLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZSA9IF9wcm9wcy5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnRGF0ZVRpbWVGb3JtYXQnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnbG9jYWxlJywgJ21vZGUnLCAnbW9udGhEYXlTZWxlY3RlZCcsICdvblRvdWNoVGFwTW9udGhEYXknLCAnb25Ub3VjaFRhcFllYXInLCAnc2VsZWN0ZWREYXRlJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICB2YXIgeWVhciA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICB9KS5mb3JtYXQoc2VsZWN0ZWREYXRlKTtcblxuICAgICAgdmFyIGRhdGVUaW1lID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICAgICAgZGF5OiAnMi1kaWdpdCdcbiAgICAgIH0pLmZvcm1hdChzZWxlY3RlZERhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCwgc3R5bGUpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMueWVhciwgZGlyZWN0aW9uOiB0aGlzLnN0YXRlLnRyYW5zaXRpb25EaXJlY3Rpb24gfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IHllYXIsIHN0eWxlOiBzdHlsZXMueWVhclRpdGxlLCBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwWWVhciB9LFxuICAgICAgICAgICAgeWVhclxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1NsaWRlSW4yLmRlZmF1bHQsXG4gICAgICAgICAgeyBzdHlsZTogc3R5bGVzLm1vbnRoRGF5LCBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogZGF0ZVRpbWUsXG4gICAgICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBNb250aERheSxcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy5tb250aERheVRpdGxlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0ZVRpbWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXRlRGlzcGxheTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRhdGVEaXNwbGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGZhbHNlLFxuICBtb250aERheVNlbGVjdGVkOiB0cnVlXG59O1xuRGF0ZURpc3BsYXkuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRhdGVEaXNwbGF5LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIG1vbnRoRGF5U2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25Ub3VjaFRhcE1vbnRoRGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXBZZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEYXRlRGlzcGxheTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2RhdGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXG52YXIgX0RhdGVQaWNrZXJEaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNyk7XG5cbnZhciBfRGF0ZVBpY2tlckRpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyRGlhbG9nKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIERhdGVQaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlUGlja2VyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVQaWNrZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZVBpY2tlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZVBpY2tlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogdW5kZWZpbmVkXG4gICAgfSwgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmICghX3RoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRhdGU6IGRhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCwgZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMub3BlbkRpYWxvZygpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5mb3JtYXREYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5sb2NhbGUpIHtcbiAgICAgICAgdmFyIERhdGVUaW1lRm9ybWF0ID0gX3RoaXMucHJvcHMuRGF0ZVRpbWVGb3JtYXQgfHwgX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdDtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZUZvcm1hdChfdGhpcy5wcm9wcy5sb2NhbGUsIHtcbiAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICBtb250aDogJ251bWVyaWMnLFxuICAgICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgICB9KS5mb3JtYXQoZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDAsIF9kYXRlVXRpbHMuZm9ybWF0SXNvKShkYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZVBpY2tlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogdGhpcy5pc0NvbnRyb2xsZWQoKSA/IHRoaXMuZ2V0Q29udHJvbGxlZERhdGUoKSA6IHRoaXMucHJvcHMuZGVmYXVsdERhdGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgICAgdmFyIG5ld0RhdGUgPSB0aGlzLmdldENvbnRyb2xsZWREYXRlKG5leHRQcm9wcyk7XG4gICAgICAgIGlmICghKDAsIF9kYXRlVXRpbHMuaXNFcXVhbERhdGUpKHRoaXMuc3RhdGUuZGF0ZSwgbmV3RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGU6IG5ld0RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBkYXRlLXBpY2tlciBkaWFsb2cgcHJvZ3JhbW1hdGljYWxseSBmcm9tIGEgcGFyZW50LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRpYWxvZygpIHtcbiAgICAgIC8qKlxuICAgICAgICogaWYgdGhlIGRhdGUgaXMgbm90IHNlbGVjdGVkIHRoZW4gc2V0IGl0IHRvIG5ldyBkYXRlXG4gICAgICAgKiAoZ2V0IHRoZSBjdXJyZW50IHN5c3RlbSBkYXRlIHdoaWxlIGRvaW5nIHNvKVxuICAgICAgICogZWxzZSBzZXQgaXQgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkYXRlXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkaWFsb2dEYXRlOiB0aGlzLmdldERhdGUoKVxuICAgICAgICB9LCB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlhbG9nRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICB9LCB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgb3BlbkRpYWxvZygpYCBmb3IgYW4gYXBpIGNvbnNpc3RlbnQgd2l0aCBUZXh0RmllbGQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB0aGlzLm9wZW5EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NvbnRyb2xsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NvbnRyb2xsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb250cm9sbGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRyb2xsZWREYXRlKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuXG4gICAgICBpZiAocHJvcHMudmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGFpbmVyID0gX3Byb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICBkZWZhdWx0RGF0ZSA9IF9wcm9wcy5kZWZhdWx0RGF0ZSxcbiAgICAgICAgICBkaWFsb2dDb250YWluZXJTdHlsZSA9IF9wcm9wcy5kaWFsb2dDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBmb3JtYXREYXRlUHJvcCA9IF9wcm9wcy5mb3JtYXREYXRlLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9wcm9wcy5tYXhEYXRlLFxuICAgICAgICAgIG1pbkRhdGUgPSBfcHJvcHMubWluRGF0ZSxcbiAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGUsXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIG9uRGlzbWlzcyA9IF9wcm9wcy5vbkRpc21pc3MsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBfcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICBoaWRlQ2FsZW5kYXJEYXRlID0gX3Byb3BzLmhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGV4dEZpZWxkU3R5bGUgPSBfcHJvcHMudGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHMsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnRGF0ZVRpbWVGb3JtYXQnLCAnYXV0b09rJywgJ2NhbmNlbExhYmVsJywgJ2NsYXNzTmFtZScsICdjb250YWluZXInLCAnZGVmYXVsdERhdGUnLCAnZGlhbG9nQ29udGFpbmVyU3R5bGUnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnZmlyc3REYXlPZldlZWsnLCAnZm9ybWF0RGF0ZScsICdsb2NhbGUnLCAnbWF4RGF0ZScsICdtaW5EYXRlJywgJ21vZGUnLCAnb2tMYWJlbCcsICdvbkRpc21pc3MnLCAnb25Gb2N1cycsICdvblNob3cnLCAnb25Ub3VjaFRhcCcsICdvcGVuVG9ZZWFyU2VsZWN0aW9uJywgJ3Nob3VsZERpc2FibGVEYXRlJywgJ2hpZGVDYWxlbmRhckRhdGUnLCAnc3R5bGUnLCAndGV4dEZpZWxkU3R5bGUnLCAndXRpbHMnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGVQcm9wIHx8IHRoaXMuZm9ybWF0RGF0ZTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwLFxuICAgICAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgICAgICBzdHlsZTogdGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZGF0ZSA/IGZvcm1hdERhdGUodGhpcy5zdGF0ZS5kYXRlKSA6ICcnXG4gICAgICAgIH0pKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RhdGVQaWNrZXJEaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgYXV0b09rOiBhdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lclN0eWxlOiBkaWFsb2dDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgIGluaXRpYWxEYXRlOiB0aGlzLnN0YXRlLmRpYWxvZ0RhdGUsXG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBvbkFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgICAgb25EaXNtaXNzOiBvbkRpc21pc3MsXG4gICAgICAgICAgcmVmOiAnZGlhbG9nV2luZG93JyxcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgaGlkZUNhbGVuZGFyRGF0ZTogaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERhdGVQaWNrZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b09rOiBmYWxzZSxcbiAgY29udGFpbmVyOiAnZGlhbG9nJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGZpcnN0RGF5T2ZXZWVrOiAxLFxuICBoaWRlQ2FsZW5kYXJEYXRlOiBmYWxzZSxcbiAgc3R5bGU6IHt9LFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZVxufTtcbkRhdGVQaWNrZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRhdGVQaWNrZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGRhdGUgZm9ybWF0dGluZyBmb3IgdGhlIHNwZWNpZmllZCBgbG9jYWxlYC5cbiAgICogVGhlIGNvbnN0cnVjdG9yIG11c3QgZm9sbG93IHRoaXMgc3BlY2lmaWNhdGlvbjogRUNNQVNjcmlwdCBJbnRlcm5hdGlvbmFsaXphdGlvbiBBUEkgMS4wIChFQ01BLTQwMikuXG4gICAqIGBJbnRsLkRhdGVUaW1lRm9ybWF0YCBpcyBzdXBwb3J0ZWQgYnkgbW9zdCBtb2Rlcm4gYnJvd3NlcnMsIHNlZSBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1pbnRsLFxuICAgKiBvdGhlcndpc2UgaHR0cHM6Ly9naXRodWIuY29tL2FuZHllYXJuc2hhdy9JbnRsLmpzIGlzIGEgZ29vZCBwb2x5ZmlsbC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgYSBidWlsdC1pbiBgRGF0ZVRpbWVGb3JtYXRgIGlzIHVzZWQgd2hpY2ggc3VwcG9ydHMgdGhlICdlbi1VUycgYGxvY2FsZWAuXG4gICAqL1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBhY2NlcHQgYW5kIGNsb3NlIHRoZSBwaWNrZXIgb24gc2VsZWN0IGEgZGF0ZS5cbiAgICovXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGV4dCBvZiB0aGUgJ0NhbmNlbCcgYnV0dG9uLlxuICAgKi9cbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gY29udHJvbCBob3cgdGhlIERhdGUgUGlja2VyIHdpbGwgYmUgZGlzcGxheWVkIHdoZW4gdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQuXG4gICAqIGBkaWFsb2dgIChkZWZhdWx0KSBkaXNwbGF5cyB0aGUgRGF0ZVBpY2tlciBhcyBhIGRpYWxvZyB3aXRoIGEgbW9kYWwuXG4gICAqIGBpbmxpbmVgIGRpc3BsYXlzIHRoZSBEYXRlUGlja2VyIGJlbG93IHRoZSBpbnB1dCBmaWVsZCAoc2ltaWxhciB0byBhdXRvIGNvbXBsZXRlKS5cbiAgICovXG4gIGNvbnRhaW5lcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2RpYWxvZycsICdpbmxpbmUnXSksXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBpbml0aWFsIGRhdGUgdmFsdWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSWYgZWl0aGVyIGB2YWx1ZWAgb3IgYHZhbHVlTGlua2AgaXMgcHJvdmlkZWQgdGhleSB3aWxsIG92ZXJyaWRlIHRoaXNcbiAgICogcHJvcCB3aXRoIGB2YWx1ZWAgdGFraW5nIHByZWNlZGVuY2UuXG4gICAqL1xuICBkZWZhdWx0RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBEYXRlUGlja2VyRGlhbG9nJ3MgQ29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICBkaWFsb2dDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgeWVhciBzZWxlY3Rpb24gaW4gdGhlIGRhdGUgcGlja2VyLlxuICAgKi9cbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBEYXRlUGlja2VyLlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gY2hhbmdlIHRoZSBmaXJzdCBkYXkgb2Ygd2Vlay4gSXQgdmFyaWVzIGZyb21cbiAgICogU2F0dXJkYXkgdG8gTW9uZGF5IGJldHdlZW4gZGlmZmVyZW50IGxvY2FsZXMuXG4gICAqIFRoZSBhbGxvd2VkIHJhbmdlIGlzIDAgKFN1bmRheSkgdG8gNiAoU2F0dXJkYXkpLlxuICAgKiBUaGUgZGVmYXVsdCBpcyBgMWAsIE1vbmRheSwgYXMgcGVyIElTTyA4NjAxLlxuICAgKi9cbiAgZmlyc3REYXlPZldlZWs6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgdG8gZm9ybWF0IHRoZSBkYXRlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgZmllbGQsIGFuZCBzaG91bGQgcmV0dXJuIGEgc3RyaW5nLlxuICAgKiBCeSBkZWZhdWx0IGlmIG5vIGBsb2NhbGVgIGFuZCBgRGF0ZVRpbWVGb3JtYXRgIGlzIHByb3ZpZGVkIGRhdGUgb2JqZWN0cyBhcmUgZm9ybWF0dGVkIHRvIElTTyA4NjAxIFlZWVktTU0tREQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIERhdGUgb2JqZWN0IHRvIGJlIGZvcm1hdHRlZC5cbiAgICogQHJldHVybnMge2FueX0gVGhlIGZvcm1hdHRlZCBkYXRlLlxuICAgKi9cbiAgZm9ybWF0RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSGlkZSBkYXRlIGRpc3BsYXlcbiAgICovXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIExvY2FsZSB1c2VkIGZvciBmb3JtYXR0aW5nIHRoZSBgRGF0ZVBpY2tlcmAgZGF0ZSBzdHJpbmdzLiBPdGhlciB0aGFuIGZvciAnZW4tVVMnLCB5b3VcbiAgICogbXVzdCBwcm92aWRlIGEgYERhdGVUaW1lRm9ybWF0YCB0aGF0IHN1cHBvcnRzIHRoZSBjaG9zZW4gYGxvY2FsZWAuXG4gICAqL1xuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGVuZGluZyBvZiBhIHJhbmdlIG9mIHZhbGlkIGRhdGVzLiBUaGUgcmFuZ2UgaW5jbHVkZXMgdGhlIGVuZERhdGUuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGN1cnJlbnQgZGF0ZSArIDEwMCB5ZWFycy5cbiAgICovXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGJlZ2lubmluZyBvZiBhIHJhbmdlIG9mIHZhbGlkIGRhdGVzLiBUaGUgcmFuZ2UgaW5jbHVkZXMgdGhlIHN0YXJ0RGF0ZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgY3VycmVudCBkYXRlIC0gMTAwIHllYXJzLlxuICAgKi9cbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUZWxscyB0aGUgY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIHBpY2tlciBpbiBwb3J0cmFpdCBvciBsYW5kc2NhcGUgbW9kZS5cbiAgICovXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCB0ZXh0IG9mIHRoZSAnT0snIGJ1dHRvbi5cbiAgICovXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgZGF0ZSB2YWx1ZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bGx9IG51bGwgU2luY2UgdGhlcmUgaXMgbm8gcGFydGljdWxhciBldmVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGNoYW5nZSxcbiAgICogdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYWx3YXlzIGJlIG51bGwuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIFRoZSBuZXcgZGF0ZS5cbiAgICovXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIERhdGUgUGlja2VyJ3MgZGlhbG9nIGlzIGRpc21pc3NlZC5cbiAgICovXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBEYXRlIFBpY2tlcidzIGBUZXh0RmllbGRgIGdhaW5zIGZvY3VzLlxuICAgKi9cbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBEYXRlIFBpY2tlcidzIGRpYWxvZyBpcyBzaG93bi5cbiAgICovXG4gIG9uU2hvdzogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIGEgdG91Y2ggdGFwIGV2ZW50IG9jY3VycyBvbiB0aGUgRGF0ZSBQaWNrZXIncyBgVGV4dEZpZWxkYC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRvdWNoVGFwIGV2ZW50IHRhcmdldGluZyB0aGUgYFRleHRGaWVsZGAuXG4gICAqL1xuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBJZiB0cnVlIHNldHMgdGhlIGRhdGVwaWNrZXIgdG8gb3BlbiB0byB5ZWFyIHNlbGVjdGlvbiBmaXJzdC5cbiAgICovXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGEgZGF5J3MgZW50cnkgc2hvdWxkIGJlIGRpc2FibGVkIG9uIHRoZSBjYWxlbmRhci5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRheSBEYXRlIG9iamVjdCBvZiBhIGRheS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IEluZGljYXRlcyB3aGV0aGVyIHRoZSBkYXkgc2hvdWxkIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgc2hvdWxkRGlzYWJsZURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBEYXRlUGlja2VyJ3MgVGV4dEZpZWxkIGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0RmllbGRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGlzIG9iamVjdCBzaG91bGQgY29udGFpbiBtZXRob2RzIG5lZWRlZCB0byBidWlsZCB0aGUgY2FsZW5kYXIgc3lzdGVtLlxuICAgKlxuICAgKiBVc2VmdWwgZm9yIGJ1aWxkaW5nIGEgY3VzdG9tIGNhbGVuZGFyIHN5c3RlbS4gUmVmZXIgdG8gdGhlXG4gICAqIFtzb3VyY2UgY29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2NhbGxlbWFsbC9tYXRlcmlhbC11aS9ibG9iL21hc3Rlci9zcmMvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMpXG4gICAqIGFuZCBhbiBbZXhhbXBsZSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2FsaXRhaGVyaS9tYXRlcmlhbC11aS1wZXJzaWFuLWRhdGUtcGlja2VyLXV0aWxzKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFNldHMgdGhlIGRhdGUgZm9yIHRoZSBEYXRlIFBpY2tlciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEYXRlUGlja2VyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RXZlbnRMaXN0ZW5lcik7XG5cbnZhciBfa2V5Y29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwMCk7XG5cbnZhciBfQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXIpO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX1BvcG92ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblxudmFyIF9Qb3BvdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXIpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblxudmFyIF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxudmFyIF9kYXRlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIERhdGVQaWNrZXJEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyRGlhbG9nKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVQaWNrZXJEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZVBpY2tlckRpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZVBpY2tlckRpYWxvZykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uU2hvdyAmJiAhX3RoaXMuc3RhdGUub3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5kaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGlzbWlzcyAmJiBfdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRGlzbWlzcygpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcERheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5hdXRvT2spIHtcbiAgICAgICAgc2V0VGltZW91dChfdGhpcy5oYW5kbGVUb3VjaFRhcE9rLCAzMDApO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZGlzbWlzcygpO1xuICAgIH0sIF90aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcE9rID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0ICYmICFfdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdChfdGhpcy5yZWZzLmNhbGVuZGFyLmdldFNlbGVjdGVkRGF0ZSgpKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlV2luZG93S2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZVRvdWNoVGFwT2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZVBpY2tlckRpYWxvZywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGNvbnRhaW5lciA9IF9wcm9wcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSBfcHJvcHMuY29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb24gPSBfcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgaW5pdGlhbERhdGUgPSBfcHJvcHMuaW5pdGlhbERhdGUsXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtYXhEYXRlID0gX3Byb3BzLm1heERhdGUsXG4gICAgICAgICAgbWluRGF0ZSA9IF9wcm9wcy5taW5EYXRlLFxuICAgICAgICAgIG1vZGUgPSBfcHJvcHMubW9kZSxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25BY2NlcHQgPSBfcHJvcHMub25BY2NlcHQsXG4gICAgICAgICAgb25EaXNtaXNzID0gX3Byb3BzLm9uRGlzbWlzcyxcbiAgICAgICAgICBvblNob3cgPSBfcHJvcHMub25TaG93LFxuICAgICAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBfcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICBoaWRlQ2FsZW5kYXJEYXRlID0gX3Byb3BzLmhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgYW5pbWF0aW9uID0gX3Byb3BzLmFuaW1hdGlvbixcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscyxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdhdXRvT2snLCAnY2FuY2VsTGFiZWwnLCAnY29udGFpbmVyJywgJ2NvbnRhaW5lclN0eWxlJywgJ2Rpc2FibGVZZWFyU2VsZWN0aW9uJywgJ2luaXRpYWxEYXRlJywgJ2ZpcnN0RGF5T2ZXZWVrJywgJ2xvY2FsZScsICdtYXhEYXRlJywgJ21pbkRhdGUnLCAnbW9kZScsICdva0xhYmVsJywgJ29uQWNjZXB0JywgJ29uRGlzbWlzcycsICdvblNob3cnLCAnb3BlblRvWWVhclNlbGVjdGlvbicsICdzaG91bGREaXNhYmxlRGF0ZScsICdoaWRlQ2FsZW5kYXJEYXRlJywgJ3N0eWxlJywgJ2FuaW1hdGlvbicsICd1dGlscyddKTtcbiAgICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIGRpYWxvZ0NvbnRlbnQ6IHtcbiAgICAgICAgICB3aWR0aDogIWhpZGVDYWxlbmRhckRhdGUgJiYgbW9kZSA9PT0gJ2xhbmRzY2FwZScgPyA0NzkgOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgZGlhbG9nQm9keUNvbnRlbnQ6IHtcbiAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgIG1pbkhlaWdodDogaGlkZUNhbGVuZGFyRGF0ZSB8fCBtb2RlID09PSAnbGFuZHNjYXBlJyA/IDMzMCA6IDQzNCxcbiAgICAgICAgICBtaW5XaWR0aDogaGlkZUNhbGVuZGFyRGF0ZSB8fCBtb2RlICE9PSAnbGFuZHNjYXBlJyA/IDMxMCA6IDQ3OVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgQ29udGFpbmVyID0gY29udGFpbmVyID09PSAnaW5saW5lJyA/IF9Qb3BvdmVyMi5kZWZhdWx0IDogX0RpYWxvZzIuZGVmYXVsdDtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgcmVmOiAncm9vdCcgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIENvbnRhaW5lcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhbmNob3JFbDogdGhpcy5yZWZzLnJvb3QgLy8gRm9yIFBvcG92ZXJcbiAgICAgICAgICAgICwgYW5pbWF0aW9uOiBhbmltYXRpb24gfHwgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIuZGVmYXVsdCAvLyBGb3IgUG9wb3ZlclxuICAgICAgICAgICAgLCBib2R5U3R5bGU6IHN0eWxlcy5kaWFsb2dCb2R5Q29udGVudCxcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZTogc3R5bGVzLmRpYWxvZ0NvbnRlbnQsXG4gICAgICAgICAgICByZWY6ICdkaWFsb2cnLFxuICAgICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlOiB0cnVlLFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSxcbiAgICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmRpYWxvZ0JvZHlDb250ZW50LCBjb250YWluZXJTdHlsZSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZVdpbmRvd0tleVVwXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBhdXRvT2s6IGF1dG9PayxcbiAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBkaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIGluaXRpYWxEYXRlOiBpbml0aWFsRGF0ZSxcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgb25Ub3VjaFRhcERheTogdGhpcy5oYW5kbGVUb3VjaFRhcERheSxcbiAgICAgICAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICByZWY6ICdjYWxlbmRhcicsXG4gICAgICAgICAgICBvblRvdWNoVGFwQ2FuY2VsOiB0aGlzLmhhbmRsZVRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcE9rOiB0aGlzLmhhbmRsZVRvdWNoVGFwT2ssXG4gICAgICAgICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGU6IGhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGF0ZVBpY2tlckRpYWxvZztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRhdGVQaWNrZXJEaWFsb2cuZGVmYXVsdFByb3BzID0ge1xuICBEYXRlVGltZUZvcm1hdDogX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdCxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxuICBjb250YWluZXI6ICdkaWFsb2cnLFxuICBsb2NhbGU6ICdlbi1VUycsXG4gIG9rTGFiZWw6ICdPSycsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlXG59O1xuRGF0ZVBpY2tlckRpYWxvZy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF0ZVBpY2tlckRpYWxvZy5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGFuaW1hdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgY29udGFpbmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnZGlhbG9nJywgJ2lubGluZSddKSxcbiAgY29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaW5pdGlhbERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgb25BY2NlcHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25EaXNtaXNzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU2hvdzogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGVQaWNrZXJEaWFsb2c7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbmhhbmNlZEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIGRhdGUgPSBwcm9wcy5kYXRlLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQ7XG4gIHZhciBob3ZlciA9IHN0YXRlLmhvdmVyO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgYmFzZVRoZW1lID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgZGF0ZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLmRhdGVQaWNrZXI7XG5cblxuICB2YXIgbGFiZWxDb2xvciA9IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcjtcbiAgdmFyIGJ1dHRvblN0YXRlT3BhY2l0eSA9IDA7XG4gIHZhciBidXR0b25TdGF0ZVRyYW5zZm9ybSA9ICdzY2FsZSgwKSc7XG5cbiAgaWYgKGhvdmVyIHx8IHNlbGVjdGVkKSB7XG4gICAgbGFiZWxDb2xvciA9IGRhdGVQaWNrZXIuc2VsZWN0VGV4dENvbG9yO1xuICAgIGJ1dHRvblN0YXRlT3BhY2l0eSA9IHNlbGVjdGVkID8gMSA6IDAuNjtcbiAgICBidXR0b25TdGF0ZVRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gIH0gZWxzZSBpZiAoKDAsIF9kYXRlVXRpbHMuaXNFcXVhbERhdGUpKGRhdGUsIG5ldyBEYXRlKCkpKSB7XG4gICAgbGFiZWxDb2xvciA9IGRhdGVQaWNrZXIuY29sb3I7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICBvcGFjaXR5OiBkaXNhYmxlZCAmJiAnMC40JyxcbiAgICAgIHBhZGRpbmc6ICc0cHggMHB4JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHdpZHRoOiA0MlxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGNvbG9yOiBsYWJlbENvbG9yLFxuICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgYnV0dG9uU3RhdGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZGF0ZVBpY2tlci5zZWxlY3RDb2xvcixcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDM0LFxuICAgICAgbGVmdDogNCxcbiAgICAgIG9wYWNpdHk6IGJ1dHRvblN0YXRlT3BhY2l0eSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgdHJhbnNmb3JtOiBidXR0b25TdGF0ZVRyYW5zZm9ybSxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICB3aWR0aDogMzRcbiAgICB9XG4gIH07XG59XG5cbnZhciBEYXlCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXlCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERheUJ1dHRvbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXlCdXR0b24pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF5QnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEYXlCdXR0b24pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQgJiYgX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50LCBfdGhpcy5wcm9wcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlib2FyZEZvY3VzID0gZnVuY3Rpb24gKGV2ZW50LCBrZXlib2FyZEZvY3VzZWQpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQgJiYgX3RoaXMucHJvcHMub25LZXlib2FyZEZvY3VzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uS2V5Ym9hcmRGb2N1cyhldmVudCwga2V5Ym9hcmRGb2N1c2VkLCBfdGhpcy5wcm9wcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF5QnV0dG9uLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGRhdGUgPSBfcHJvcHMuZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBzZWxlY3RlZCA9IF9wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdkYXRlJywgJ2Rpc2FibGVkJywgJ2xvY2FsZScsICdvblRvdWNoVGFwJywgJ3NlbGVjdGVkJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gZGF0ZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRW5oYW5jZWRCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZTogdHJ1ZSxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGU6IHRydWUsXG4gICAgICAgICAgb25LZXlib2FyZEZvY3VzOiB0aGlzLmhhbmRsZUtleWJvYXJkRm9jdXMsXG4gICAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcCxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLnJvb3RcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5idXR0b25TdGF0ZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5sYWJlbCkgfSxcbiAgICAgICAgICBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJ1xuICAgICAgICAgIH0pLmZvcm1hdChkYXRlKVxuICAgICAgICApXG4gICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERheUJ1dHRvbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRheUJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHNlbGVjdGVkOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuRGF5QnV0dG9uLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EYXlCdXR0b24ucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uS2V5Ym9hcmRGb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERheUJ1dHRvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuaGFuY2VkQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZCxcbiAgICAgIHllYXIgPSBwcm9wcy55ZWFyLFxuICAgICAgdXRpbHMgPSBwcm9wcy51dGlscztcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIGJhc2VUaGVtZSA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIGRhdGVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS5kYXRlUGlja2VyO1xuICB2YXIgaG92ZXIgPSBzdGF0ZS5ob3ZlcjtcblxuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogeWVhciA9PT0gdXRpbHMuZ2V0WWVhcihuZXcgRGF0ZSgpKSAmJiBkYXRlUGlja2VyLmNvbG9yLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICBsaW5lSGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiBob3ZlciB8fCBzZWxlY3RlZCA/IGRhdGVQaWNrZXIuY29sb3IgOiBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250U2l6ZTogc2VsZWN0ZWQgPyAyNiA6IDE3LFxuICAgICAgZm9udFdlaWdodDogaG92ZXIgPyA0NTAgOiBzZWxlY3RlZCA/IDUwMCA6IDQwMCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgdG9wOiAtMVxuICAgIH1cbiAgfTtcbn1cblxudmFyIFllYXJCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShZZWFyQnV0dG9uLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBZZWFyQnV0dG9uKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFllYXJCdXR0b24pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gWWVhckJ1dHRvbi5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoWWVhckJ1dHRvbikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXI6IGZhbHNlXG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IHRydWUgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IGZhbHNlIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50LCBfdGhpcy5wcm9wcy55ZWFyKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoWWVhckJ1dHRvbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBzZWxlY3RlZCA9IF9wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICB5ZWFyID0gX3Byb3BzLnllYXIsXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHMsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ29uVG91Y2hUYXAnLCAnc2VsZWN0ZWQnLCAneWVhcicsICd1dGlscyddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRW5oYW5jZWRCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgZGlzYWJsZUZvY3VzUmlwcGxlOiB0cnVlLFxuICAgICAgICAgIGRpc2FibGVUb3VjaFJpcHBsZTogdHJ1ZSxcbiAgICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMucm9vdFxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmxhYmVsKSB9LFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBZZWFyQnV0dG9uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuWWVhckJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHNlbGVjdGVkOiBmYWxzZVxufTtcblllYXJCdXR0b24uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblllYXJCdXR0b24ucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgY3NzIGNsYXNzIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIG9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHllYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFllYXJCdXR0b247XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0Mjk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RpbWVEaXNwbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzIpO1xuXG52YXIgX1RpbWVEaXNwbGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVEaXNwbGF5KTtcblxudmFyIF9DbG9ja0hvdXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzApO1xuXG52YXIgX0Nsb2NrSG91cnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tIb3Vycyk7XG5cbnZhciBfQ2xvY2tNaW51dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzEpO1xuXG52YXIgX0Nsb2NrTWludXRlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja01pbnV0ZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2xvY2sgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9jaywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2spO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2suX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZFRpbWU6IG51bGwsXG4gICAgICBtb2RlOiAnaG91cidcbiAgICB9LCBfdGhpcy5zZXRNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlU2VsZWN0QWZmaXggPSBmdW5jdGlvbiAoYWZmaXgpIHtcbiAgICAgIGlmIChhZmZpeCA9PT0gX3RoaXMuZ2V0QWZmaXgoKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgaG91cnMgPSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKTtcblxuICAgICAgaWYgKGFmZml4ID09PSAnYW0nKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUhvdXJzKGhvdXJzIC0gMTIsIGFmZml4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VIb3Vycyhob3VycyArIDEyLCBhZmZpeCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlQ2hhbmdlSG91cnMgPSBmdW5jdGlvbiAoaG91cnMsIGZpbmlzaGVkKSB7XG4gICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKF90aGlzLnN0YXRlLnNlbGVjdGVkVGltZSk7XG4gICAgICB2YXIgYWZmaXggPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0eXBlb2YgZmluaXNoZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGFmZml4ID0gZmluaXNoZWQ7XG4gICAgICAgIGZpbmlzaGVkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFhZmZpeCkge1xuICAgICAgICBhZmZpeCA9IF90aGlzLmdldEFmZml4KCk7XG4gICAgICB9XG4gICAgICBpZiAoYWZmaXggPT09ICdwbScgJiYgaG91cnMgPCAxMikge1xuICAgICAgICBob3VycyArPSAxMjtcbiAgICAgIH1cblxuICAgICAgdGltZS5zZXRIb3Vycyhob3Vycyk7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVGltZTogdGltZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtb2RlOiAnbWludXRlJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIG9uQ2hhbmdlSG91cnMgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZUhvdXJzO1xuXG4gICAgICAgICAgaWYgKG9uQ2hhbmdlSG91cnMpIHtcbiAgICAgICAgICAgIG9uQ2hhbmdlSG91cnModGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZU1pbnV0ZXMgPSBmdW5jdGlvbiAobWludXRlcywgZmluaXNoZWQpIHtcbiAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoX3RoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lKTtcbiAgICAgIHRpbWUuc2V0TWludXRlcyhtaW51dGVzKTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRUaW1lOiB0aW1lXG4gICAgICB9KTtcblxuICAgICAgdmFyIG9uQ2hhbmdlTWludXRlcyA9IF90aGlzLnByb3BzLm9uQ2hhbmdlTWludXRlcztcblxuICAgICAgaWYgKG9uQ2hhbmdlTWludXRlcyAmJiBmaW5pc2hlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbkNoYW5nZU1pbnV0ZXModGltZSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDbG9jaywgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRUaW1lID0gdGhpcy5wcm9wcy5pbml0aWFsVGltZSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBzZWxlY3RlZFRpbWUuZ2V0TWludXRlcygpO1xuICAgICAgc2VsZWN0ZWRUaW1lLnNldE1pbnV0ZXMobWludXRlcyAtIG1pbnV0ZXMgJSB0aGlzLnByb3BzLm1pbnV0ZXNTdGVwKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVGltZTogc2VsZWN0ZWRUaW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRBZmZpeCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFmZml4KCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ICE9PSAnYW1wbScpIHJldHVybiAnJztcblxuICAgICAgdmFyIGhvdXJzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKTtcbiAgICAgIGlmIChob3VycyA8IDEyKSB7XG4gICAgICAgIHJldHVybiAnYW0nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ3BtJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZFRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNsb2NrID0gbnVsbDtcblxuICAgICAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICAgIHByZXBhcmVTdHlsZXMgPSBfY29udGV4dCRtdWlUaGVtZS5wcmVwYXJlU3R5bGVzLFxuICAgICAgICAgIHRpbWVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS50aW1lUGlja2VyO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZSdcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgaGVpZ2h0OiAyODAsXG4gICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgICAgIH0sXG4gICAgICAgIGNpcmNsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgd2lkdGg6IDI2MCxcbiAgICAgICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRpbWVQaWNrZXIuY2xvY2tDaXJjbGVDb2xvclxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5tb2RlID09PSAnaG91cicpIHtcbiAgICAgICAgY2xvY2sgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tIb3VyczIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ2hvdXJzJyxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0LFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUhvdXJzLFxuICAgICAgICAgIGluaXRpYWxIb3VyczogdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb2NrID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTWludXRlczIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ21pbnV0ZXMnLFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1pbnV0ZXMsXG4gICAgICAgICAgaW5pdGlhbE1pbnV0ZXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICBzdGVwOiB0aGlzLnByb3BzLm1pbnV0ZXNTdGVwXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZURpc3BsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBzZWxlY3RlZFRpbWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLFxuICAgICAgICAgIG1vZGU6IHRoaXMuc3RhdGUubW9kZSxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGFmZml4OiB0aGlzLmdldEFmZml4KCksXG4gICAgICAgICAgb25TZWxlY3RBZmZpeDogdGhpcy5oYW5kbGVTZWxlY3RBZmZpeCxcbiAgICAgICAgICBvblNlbGVjdEhvdXI6IHRoaXMuc2V0TW9kZS5iaW5kKHRoaXMsICdob3VyJyksXG4gICAgICAgICAgb25TZWxlY3RNaW46IHRoaXMuc2V0TW9kZS5iaW5kKHRoaXMsICdtaW51dGUnKVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY29udGFpbmVyKSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jaXJjbGUpIH0pLFxuICAgICAgICAgIGNsb2NrXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9jaztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgaW5pdGlhbFRpbWU6IG5ldyBEYXRlKClcbn07XG5DbG9jay5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2sucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIGluaXRpYWxUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWludXRlc1N0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBvbkNoYW5nZUhvdXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uQ2hhbmdlTWludXRlczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9jaztcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfQ2xvY2tOdW1iZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cbnZhciBfQ2xvY2tOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tOdW1iZXIpO1xuXG52YXIgX0Nsb2NrUG9pbnRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjM5KTtcblxudmFyIF9DbG9ja1BvaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tQb2ludGVyKTtcblxudmFyIF90aW1lVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENsb2NrSG91cnMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja0hvdXJzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja0hvdXJzKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrSG91cnMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2tIb3Vycy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tIb3VycykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIHRydWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoX3RoaXMuaXNNb3VzZVByZXNzZWQoZXZlbnQpICE9PSAxKSByZXR1cm47XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5uYXRpdmVFdmVudCwgZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLCBmYWxzZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5jaGFuZ2VkVG91Y2hlc1swXSwgdHJ1ZSk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrSG91cnMsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBjbG9ja0VsZW1lbnQgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLm1hc2spO1xuXG4gICAgICB0aGlzLmNlbnRlciA9IHtcbiAgICAgICAgeDogY2xvY2tFbGVtZW50Lm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2xvY2tFbGVtZW50Lm9mZnNldEhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYmFzZVBvaW50ID0ge1xuICAgICAgICB4OiB0aGlzLmNlbnRlci54LFxuICAgICAgICB5OiAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTW91c2VQcmVzc2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNb3VzZVByZXNzZWQoZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQuYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnQuYnV0dG9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDbG9jaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsb2NrKGV2ZW50LCBmaW5pc2gpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQub2Zmc2V0WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9ICgwLCBfdGltZVV0aWxzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMpKGV2ZW50KTtcblxuICAgICAgICBldmVudC5vZmZzZXRYID0gb2Zmc2V0Lm9mZnNldFg7XG4gICAgICAgIGV2ZW50Lm9mZnNldFkgPSBvZmZzZXQub2Zmc2V0WTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhvdXJzID0gdGhpcy5nZXRIb3VycyhldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTtcblxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShob3VycywgZmluaXNoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3VycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFkpIHtcbiAgICAgIHZhciBzdGVwID0gMzA7XG4gICAgICB2YXIgeCA9IG9mZnNldFggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIHkgPSBvZmZzZXRZIC0gdGhpcy5jZW50ZXIueTtcbiAgICAgIHZhciBjeCA9IHRoaXMuYmFzZVBvaW50LnggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIGN5ID0gdGhpcy5iYXNlUG9pbnQueSAtIHRoaXMuY2VudGVyLnk7XG5cbiAgICAgIHZhciBhdGFuID0gTWF0aC5hdGFuMihjeCwgY3kpIC0gTWF0aC5hdGFuMih4LCB5KTtcblxuICAgICAgdmFyIGRlZyA9ICgwLCBfdGltZVV0aWxzLnJhZDJkZWcpKGF0YW4pO1xuICAgICAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBkZWcgJT0gMzYwO1xuXG4gICAgICB2YXIgdmFsdWUgPSBNYXRoLmZsb29yKGRlZyAvIHN0ZXApIHx8IDA7XG5cbiAgICAgIHZhciBkZWx0YSA9IE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMik7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEpO1xuXG4gICAgICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ID09PSAnMjRocicpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgOTApIHtcbiAgICAgICAgICB2YWx1ZSArPSAxMjtcbiAgICAgICAgICB2YWx1ZSAlPSAyNDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgJT0gMTI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkKCkge1xuICAgICAgdmFyIGhvdXIgPSB0aGlzLnByb3BzLmluaXRpYWxIb3VycztcblxuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICAgICAgaG91ciAlPSAxMjtcbiAgICAgICAgaG91ciA9IGhvdXIgfHwgMTI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhvdXJOdW1iZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SG91ck51bWJlcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgIH07XG4gICAgICB2YXIgaG91clNpemUgPSB0aGlzLnByb3BzLmZvcm1hdCA9PT0gJ2FtcG0nID8gMTIgOiAyNDtcblxuICAgICAgdmFyIGhvdXJzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBob3VyU2l6ZTsgaSsrKSB7XG4gICAgICAgIGhvdXJzLnB1c2goaSAlIDI0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhvdXJzLm1hcChmdW5jdGlvbiAoaG91cikge1xuICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IF90aGlzMi5nZXRTZWxlY3RlZCgpID09PSBob3VyO1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTnVtYmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBob3VyLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICAgIHR5cGU6ICdob3VyJyxcbiAgICAgICAgICB2YWx1ZTogaG91clxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpdE1hc2s6IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgaG91cnMgPSB0aGlzLmdldFNlbGVjdGVkKCk7XG4gICAgICB2YXIgbnVtYmVycyA9IHRoaXMuZ2V0SG91ck51bWJlcnMoKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyByZWY6ICdjbG9jaycsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tQb2ludGVyMi5kZWZhdWx0LCB7IGhhc1NlbGVjdGVkOiB0cnVlLCB2YWx1ZTogaG91cnMsIHR5cGU6ICdob3VyJyB9KSxcbiAgICAgICAgbnVtYmVycyxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICByZWY6ICdtYXNrJywgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmhpdE1hc2spLCBvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCwgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZVVwLCBvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3ZlXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tIb3Vycztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrSG91cnMuZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsSG91cnM6IG5ldyBEYXRlKCkuZ2V0SG91cnMoKSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG4gIGZvcm1hdDogJ2FtcG0nXG59O1xuQ2xvY2tIb3Vycy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tIb3Vycy5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgaW5pdGlhbEhvdXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2tIb3VycztcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfQ2xvY2tOdW1iZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cbnZhciBfQ2xvY2tOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tOdW1iZXIpO1xuXG52YXIgX0Nsb2NrUG9pbnRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjM5KTtcblxudmFyIF9DbG9ja1BvaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tQb2ludGVyKTtcblxudmFyIF90aW1lVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENsb2NrTWludXRlcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrTWludXRlcywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tNaW51dGVzKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrTWludXRlcyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDbG9ja01pbnV0ZXMuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrTWludXRlcykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIHRydWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoX3RoaXMuaXNNb3VzZVByZXNzZWQoZXZlbnQpICE9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50Lm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5jaGFuZ2VkVG91Y2hlc1swXSwgZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJyk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrTWludXRlcywgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIGNsb2NrRWxlbWVudCA9IHRoaXMucmVmcy5tYXNrO1xuXG4gICAgICB0aGlzLmNlbnRlciA9IHtcbiAgICAgICAgeDogY2xvY2tFbGVtZW50Lm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2xvY2tFbGVtZW50Lm9mZnNldEhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYmFzZVBvaW50ID0ge1xuICAgICAgICB4OiB0aGlzLmNlbnRlci54LFxuICAgICAgICB5OiAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTW91c2VQcmVzc2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNb3VzZVByZXNzZWQoZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQuYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV2ZW50LmJ1dHRvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2xvY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbG9jayhldmVudCwgZmluaXNoKSB7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50Lm9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSAoMCwgX3RpbWVVdGlscy5nZXRUb3VjaEV2ZW50T2Zmc2V0VmFsdWVzKShldmVudCk7XG5cbiAgICAgICAgZXZlbnQub2Zmc2V0WCA9IG9mZnNldC5vZmZzZXRYO1xuICAgICAgICBldmVudC5vZmZzZXRZID0gb2Zmc2V0Lm9mZnNldFk7XG4gICAgICB9XG5cbiAgICAgIHZhciBtaW51dGVzID0gdGhpcy5nZXRNaW51dGVzKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xuXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG1pbnV0ZXMsIGZpbmlzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWludXRlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbnV0ZXMob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgdmFyIHN0ZXAgPSA2ICogdGhpcy5wcm9wcy5zdGVwO1xuICAgICAgdmFyIHggPSBvZmZzZXRYIC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciB5ID0gb2Zmc2V0WSAtIHRoaXMuY2VudGVyLnk7XG4gICAgICB2YXIgY3ggPSB0aGlzLmJhc2VQb2ludC54IC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciBjeSA9IHRoaXMuYmFzZVBvaW50LnkgLSB0aGlzLmNlbnRlci55O1xuXG4gICAgICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG5cbiAgICAgIHZhciBkZWcgPSAoMCwgX3RpbWVVdGlscy5yYWQyZGVnKShhdGFuKTtcbiAgICAgIGRlZyA9IE1hdGgucm91bmQoZGVnIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgZGVnICU9IDM2MDtcblxuICAgICAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuXG4gICAgICByZXR1cm4gdmFsdWUgKiB0aGlzLnByb3BzLnN0ZXA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWludXRlTnVtYmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbnV0ZU51bWJlcnMoKSB7XG4gICAgICB2YXIgbWludXRlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIG1pbnV0ZXMucHVzaChpICogNSk7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWRNaW51dGVzID0gdGhpcy5wcm9wcy5pbml0aWFsTWludXRlcztcbiAgICAgIHZhciBoYXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICB2YXIgbnVtYmVycyA9IG1pbnV0ZXMubWFwKGZ1bmN0aW9uIChtaW51dGUpIHtcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE1pbnV0ZXMgPT09IG1pbnV0ZTtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBoYXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja051bWJlcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogbWludXRlLFxuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgICAgdHlwZTogJ21pbnV0ZScsXG4gICAgICAgICAgdmFsdWU6IG1pbnV0ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBudW1iZXJzOiBudW1iZXJzLFxuICAgICAgICBoYXNTZWxlY3RlZDogaGFzU2VsZWN0ZWQsXG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZE1pbnV0ZXNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgICAgIH0sXG5cbiAgICAgICAgaGl0TWFzazoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBtaW51dGVzID0gdGhpcy5nZXRNaW51dGVOdW1iZXJzKCk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiAnY2xvY2snLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrUG9pbnRlcjIuZGVmYXVsdCwgeyB2YWx1ZTogbWludXRlcy5zZWxlY3RlZCwgdHlwZTogJ21pbnV0ZScsIGhhc1NlbGVjdGVkOiBtaW51dGVzLmhhc1NlbGVjdGVkIH0pLFxuICAgICAgICBtaW51dGVzLm51bWJlcnMsXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgcmVmOiAnbWFzaycsXG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmhpdE1hc2spLFxuICAgICAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoLFxuICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2gsXG4gICAgICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZVVwLFxuICAgICAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9ja01pbnV0ZXM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja01pbnV0ZXMuZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsTWludXRlczogbmV3IERhdGUoKS5nZXRNaW51dGVzKCksXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICBzdGVwOiAxXG59O1xuQ2xvY2tNaW51dGVzLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja01pbnV0ZXMucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBpbml0aWFsTWludXRlczogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHN0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9ja01pbnV0ZXM7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MzI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTQpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRpbWVEaXNwbGF5ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoVGltZURpc3BsYXksIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRpbWVEaXNwbGF5KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWVEaXNwbGF5KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFRpbWVEaXNwbGF5Ll9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShUaW1lRGlzcGxheSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ3VwJ1xuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShUaW1lRGlzcGxheSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuc2VsZWN0ZWRUaW1lICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVGltZSkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gbmV4dFByb3BzLnNlbGVjdGVkVGltZSA+IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lID8gJ3VwJyA6ICdkb3duJztcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2FuaXRpemVUaW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2FuaXRpemVUaW1lKCkge1xuICAgICAgdmFyIGhvdXIgPSB0aGlzLnByb3BzLnNlbGVjdGVkVGltZS5nZXRIb3VycygpO1xuICAgICAgdmFyIG1pbiA9IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lLmdldE1pbnV0ZXMoKS50b1N0cmluZygpO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5mb3JtYXQgPT09ICdhbXBtJykge1xuICAgICAgICBob3VyICU9IDEyO1xuICAgICAgICBob3VyID0gaG91ciB8fCAxMjtcbiAgICAgIH1cblxuICAgICAgaG91ciA9IGhvdXIudG9TdHJpbmcoKTtcbiAgICAgIGlmIChob3VyLmxlbmd0aCA8IDIpIGhvdXIgPSAnMCcgKyBob3VyO1xuICAgICAgaWYgKG1pbi5sZW5ndGggPCAyKSBtaW4gPSAnMCcgKyBtaW47XG5cbiAgICAgIHJldHVybiBbaG91ciwgbWluXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhZmZpeCA9IF9wcm9wcy5hZmZpeCxcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIG1vZGUgPSBfcHJvcHMubW9kZSxcbiAgICAgICAgICBvblNlbGVjdEFmZml4ID0gX3Byb3BzLm9uU2VsZWN0QWZmaXgsXG4gICAgICAgICAgb25TZWxlY3RIb3VyID0gX3Byb3BzLm9uU2VsZWN0SG91cixcbiAgICAgICAgICBvblNlbGVjdE1pbiA9IF9wcm9wcy5vblNlbGVjdE1pbixcbiAgICAgICAgICBzZWxlY3RlZFRpbWUgPSBfcHJvcHMuc2VsZWN0ZWRUaW1lLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FmZml4JywgJ2Zvcm1hdCcsICdtb2RlJywgJ29uU2VsZWN0QWZmaXgnLCAnb25TZWxlY3RIb3VyJywgJ29uU2VsZWN0TWluJywgJ3NlbGVjdGVkVGltZSddKTtcbiAgICAgIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IHRoaXMuY29udGV4dC5tdWlUaGVtZSxcbiAgICAgICAgICBwcmVwYXJlU3R5bGVzID0gX2NvbnRleHQkbXVpVGhlbWUucHJlcGFyZVN0eWxlcyxcbiAgICAgICAgICB0aW1lUGlja2VyID0gX2NvbnRleHQkbXVpVGhlbWUudGltZVBpY2tlcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgcGFkZGluZzogJzE0cHggMCcsXG4gICAgICAgICAgYm9yZGVyVG9wTGVmdFJhZGl1czogMixcbiAgICAgICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogMixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRpbWVQaWNrZXIuaGVhZGVyQ29sb3IsXG4gICAgICAgICAgY29sb3I6IHRpbWVQaWNrZXIudGV4dENvbG9yXG4gICAgICAgIH0sXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICBtYXJnaW46ICc2cHggMCcsXG4gICAgICAgICAgbGluZUhlaWdodDogJzU4cHgnLFxuICAgICAgICAgIGhlaWdodDogNTgsXG4gICAgICAgICAgZm9udFNpemU6IDU4LFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2Jhc2VsaW5lJ1xuICAgICAgICB9LFxuICAgICAgICB0aW1lOiB7XG4gICAgICAgICAgbWFyZ2luOiAnMCAxMHB4J1xuICAgICAgICB9LFxuICAgICAgICBhZmZpeDoge1xuICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgbGluZUhlaWdodDogJzE3cHgnLFxuICAgICAgICAgIGhlaWdodDogMTcsXG4gICAgICAgICAgZm9udFNpemU6IDE3XG4gICAgICAgIH0sXG4gICAgICAgIGFmZml4VG9wOiB7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAtMjAsXG4gICAgICAgICAgbGVmdDogMFxuICAgICAgICB9LFxuICAgICAgICBjbGlja2FibGU6IHtcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICB9LFxuICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgIG9wYWNpdHk6IDAuN1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3Nhbml0aXplVGltZSA9IHRoaXMuc2FuaXRpemVUaW1lKCksXG4gICAgICAgICAgX3Nhbml0aXplVGltZTIgPSAoMCwgX3NsaWNlZFRvQXJyYXkzLmRlZmF1bHQpKF9zYW5pdGl6ZVRpbWUsIDIpLFxuICAgICAgICAgIGhvdXIgPSBfc2FuaXRpemVUaW1lMlswXSxcbiAgICAgICAgICBtaW4gPSBfc2FuaXRpemVUaW1lMlsxXTtcblxuICAgICAgdmFyIGJ1dHRvbnMgPSBbXTtcbiAgICAgIGlmIChmb3JtYXQgPT09ICdhbXBtJykge1xuICAgICAgICBidXR0b25zID0gW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ3BtJyxcbiAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmNsaWNrYWJsZSwgYWZmaXggPT09ICdwbScgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogZnVuY3Rpb24gb25Ub3VjaFRhcCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9uU2VsZWN0QWZmaXgoJ3BtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAnUE0nXG4gICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2FtJyxcbiAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmFmZml4VG9wLCBzdHlsZXMuY2xpY2thYmxlLCBhZmZpeCA9PT0gJ2FtJyA/IHt9IDogc3R5bGVzLmluYWN0aXZlKSksXG4gICAgICAgICAgICBvblRvdWNoVGFwOiBmdW5jdGlvbiBvblRvdWNoVGFwKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb25TZWxlY3RBZmZpeCgnYW0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICdBTSdcbiAgICAgICAgKV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMudGV4dCkgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5hZmZpeCkpIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50aW1lKSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmNsaWNrYWJsZSwgbW9kZSA9PT0gJ2hvdXInID8ge30gOiBzdHlsZXMuaW5hY3RpdmUpKSxcbiAgICAgICAgICAgICAgICBvblRvdWNoVGFwOiBvblNlbGVjdEhvdXJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaG91clxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICc6J1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5jbGlja2FibGUsIG1vZGUgPT09ICdtaW51dGUnID8ge30gOiBzdHlsZXMuaW5hY3RpdmUpKSxcbiAgICAgICAgICAgICAgICBvblRvdWNoVGFwOiBvblNlbGVjdE1pblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtaW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmFmZml4KSkgfSxcbiAgICAgICAgICAgIGJ1dHRvbnNcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lRGlzcGxheTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRpbWVEaXNwbGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgYWZmaXg6ICcnLFxuICBtb2RlOiAnaG91cidcbn07XG5UaW1lRGlzcGxheS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVGltZURpc3BsYXkucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBhZmZpeDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJycsICdwbScsICdhbSddKSxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICBtb2RlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnaG91cicsICdtaW51dGUnXSksXG4gIG9uU2VsZWN0QWZmaXg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TZWxlY3RIb3VyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU2VsZWN0TWluOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkVGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gVGltZURpc3BsYXk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MzM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UaW1lUGlja2VyRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzQpO1xuXG52YXIgX1RpbWVQaWNrZXJEaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlckRpYWxvZyk7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfdGltZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBlbXB0eVRpbWUgPSBuZXcgRGF0ZSgpO1xuZW1wdHlUaW1lLnNldEhvdXJzKDApO1xuZW1wdHlUaW1lLnNldE1pbnV0ZXMoMCk7XG5lbXB0eVRpbWUuc2V0U2Vjb25kcygwKTtcbmVtcHR5VGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cbnZhciBUaW1lUGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoVGltZVBpY2tlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUaW1lUGlja2VyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFRpbWVQaWNrZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRpbWVQaWNrZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpbWU6IG51bGwsXG4gICAgICBkaWFsb2dUaW1lOiBuZXcgRGF0ZSgpXG4gICAgfSwgX3RoaXMuaGFuZGxlQWNjZXB0RGlhbG9nID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdGltZTogdGltZVxuICAgICAgfSk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIF90aGlzLnByb3BzLm9uQ2hhbmdlKG51bGwsIHRpbWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZUZvY3VzSW5wdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcElucHV0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLm9wZW5EaWFsb2coKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRpbWU6IHRoaXMuaXNDb250cm9sbGVkKCkgPyB0aGlzLmdldENvbnRyb2xsZWRUaW1lKCkgOiB0aGlzLnByb3BzLmRlZmF1bHRUaW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMudmFsdWUgIT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdGltZTogdGhpcy5nZXRDb250cm9sbGVkVGltZShuZXh0UHJvcHMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgb3BlbkRpYWxvZygpYCBmb3IgYW4gYXBpIGNvbnNpc3RlbnQgd2l0aCBUZXh0RmllbGQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB0aGlzLm9wZW5EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRpYWxvZygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaWFsb2dUaW1lOiB0aGlzLnN0YXRlLnRpbWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWZzLmRpYWxvZ1dpbmRvdy5zaG93KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNDb250cm9sbGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb250cm9sbGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudmFsdWUgIT09IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q29udHJvbGxlZFRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250cm9sbGVkVGltZSgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcblxuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBpZiAocHJvcHMudmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IHByb3BzLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGRlZmF1bHRUaW1lID0gX3Byb3BzLmRlZmF1bHRUaW1lLFxuICAgICAgICAgIGRpYWxvZ0JvZHlTdHlsZSA9IF9wcm9wcy5kaWFsb2dCb2R5U3R5bGUsXG4gICAgICAgICAgZGlhbG9nU3R5bGUgPSBfcHJvcHMuZGlhbG9nU3R5bGUsXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBvblNob3cgPSBfcHJvcHMub25TaG93LFxuICAgICAgICAgIG9uRGlzbWlzcyA9IF9wcm9wcy5vbkRpc21pc3MsXG4gICAgICAgICAgcGVkYW50aWMgPSBfcHJvcHMucGVkYW50aWMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGV4dEZpZWxkU3R5bGUgPSBfcHJvcHMudGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgbWludXRlc1N0ZXAgPSBfcHJvcHMubWludXRlc1N0ZXAsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYXV0b09rJywgJ2NhbmNlbExhYmVsJywgJ2RlZmF1bHRUaW1lJywgJ2RpYWxvZ0JvZHlTdHlsZScsICdkaWFsb2dTdHlsZScsICdmb3JtYXQnLCAnb2tMYWJlbCcsICdvbkZvY3VzJywgJ29uVG91Y2hUYXAnLCAnb25TaG93JywgJ29uRGlzbWlzcycsICdwZWRhbnRpYycsICdzdHlsZScsICd0ZXh0RmllbGRTdHlsZScsICdtaW51dGVzU3RlcCddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG4gICAgICB2YXIgdGltZSA9IHRoaXMuc3RhdGUudGltZTtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGUpKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiB0ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICByZWY6ICdpbnB1dCcsXG4gICAgICAgICAgdmFsdWU6IHRpbWUgPT09IGVtcHR5VGltZSA/IG51bGwgOiAoMCwgX3RpbWVVdGlscy5mb3JtYXRUaW1lKSh0aW1lLCBmb3JtYXQsIHBlZGFudGljKSxcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzSW5wdXQsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcElucHV0XG4gICAgICAgIH0pKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXJEaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICByZWY6ICdkaWFsb2dXaW5kb3cnLFxuICAgICAgICAgIGJvZHlTdHlsZTogZGlhbG9nQm9keVN0eWxlLFxuICAgICAgICAgIGluaXRpYWxUaW1lOiB0aGlzLnN0YXRlLmRpYWxvZ1RpbWUsXG4gICAgICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0RGlhbG9nLFxuICAgICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICAgIG9uRGlzbWlzczogb25EaXNtaXNzLFxuICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgIGF1dG9PazogYXV0b09rLFxuICAgICAgICAgIHN0eWxlOiBkaWFsb2dTdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcDogbWludXRlc1N0ZXBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9PazogZmFsc2UsXG4gIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgZGVmYXVsdFRpbWU6IG51bGwsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgZm9ybWF0OiAnYW1wbScsXG4gIG9rTGFiZWw6ICdPSycsXG4gIHBlZGFudGljOiBmYWxzZSxcbiAgc3R5bGU6IHt9LFxuICB2YWx1ZTogbnVsbCxcbiAgbWludXRlc1N0ZXA6IDFcbn07XG5UaW1lUGlja2VyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UaW1lUGlja2VyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIGF1dG9tYXRpY2FsbHkgYWNjZXB0IGFuZCBjbG9zZSB0aGUgcGlja2VyIG9uIHNldCBtaW51dGVzLlxuICAgKi9cbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgbGFiZWwgb2YgdGhlICdDYW5jZWwnIGJ1dHRvbi5cbiAgICovXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCB0aW1lIHZhbHVlIG9mIHRoZSBUaW1lUGlja2VyLlxuICAgKi9cbiAgZGVmYXVsdFRpbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgVGltZVBpY2tlckRpYWxvZydzIGJvZHkgZWxlbWVudC5cbiAgICovXG4gIGRpYWxvZ0JvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyRGlhbG9nJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgZGlhbG9nU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIFRpbWVQaWNrZXIgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGVsbHMgdGhlIGNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBwaWNrZXIgaW4gYGFtcG1gICgxMmhyKSBmb3JtYXQgb3IgYDI0aHJgIGZvcm1hdC5cbiAgICovXG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgLyoqXG4gICAqIEhvdyBtYW55IG1pbnV0ZXMgc2hvdWxkIGJlIGFkZGVkL3N1YnRyYWN0ZWQgd2hlbiBtb3ZpbmcgdGhlIGNsb2NrIHBvaW50ZXIuXG4gICAqL1xuICBtaW51dGVzU3RlcDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgbGFiZWwgb2YgdGhlICdPSycgYnV0dG9uLlxuICAgKi9cbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSB0aW1lIHZhbHVlIGNoYW5nZXMuIFRoZSB0aW1lIHZhbHVlIGlzIHBhc3NlZCBpbiBhIERhdGUgT2JqZWN0LlxuICAgKiBTaW5jZSB0aGVyZSBpcyBubyBwYXJ0aWN1bGFyIGV2ZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhbmdlIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGFsd2F5cyBiZSBudWxsXG4gICAqIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IHdpbGwgYmUgdGhlIG5ldyBEYXRlIGluc3RhbmNlLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgZGlhbG9nIGlzIGRpc21pc3NlZC5cbiAgICovXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBgVGV4dEZpZWxkYCBnYWlucyBmb2N1cy5cbiAgICovXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBUaW1lUGlja2VyIGlzIHRhcHBlZCBvciBjbGlja2VkLlxuICAgKi9cbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdXNlcyAoXCJub29uXCIgLyBcIm1pZG5pZ2h0XCIpIGluc3RlYWQgb2YgKFwiMTIgYS5tLlwiIC8gXCIxMiBwLm0uXCIpLlxuICAgKlxuICAgKiBJdCdzIHRlY2huaWNhbGx5IG1vcmUgY29ycmVjdCB0byByZWZlciB0byBcIjEyIG5vb25cIiBhbmQgXCIxMiBtaWRuaWdodFwiIHJhdGhlciB0aGFuIFwiMTIgYS5tLlwiIGFuZCBcIjEyIHAubS5cIlxuICAgKiBhbmQgaXQgYXZvaWRzIGNvbmZ1c2lvbiBiZXR3ZWVuIGRpZmZlcmVudCBsb2NhbGVzLiBCeSBkZWZhdWx0IChmb3IgY29tcGF0aWJpbGl0eSByZWFzb25zKSBUaW1lUGlja2VyIHVzZXNcbiAgICogKFwiMTIgYS5tLlwiIC8gXCIxMiBwLm0uXCIpLlxuICAgKi9cbiAgcGVkYW50aWM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyJ3MgVGV4dEZpZWxkIGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0RmllbGRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIGZvciB0aGUgVGltZSBQaWNrZXIgcHJvZ3JhbW1hdGljYWxseS5cbiAgICovXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gVGltZVBpY2tlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX0Nsb2NrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MjkpO1xuXG52YXIgX0Nsb2NrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb2NrKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRpbWVQaWNrZXJEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lUGlja2VyRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyRGlhbG9nKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWVQaWNrZXJEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZVBpY2tlckRpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVGltZVBpY2tlckRpYWxvZykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBPSyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFjY2VwdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdChfdGhpcy5yZWZzLmNsb2NrLmdldFNlbGVjdGVkVGltZSgpKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKCgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBfdGhpcy5oYW5kbGVUb3VjaFRhcE9LKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVQaWNrZXJEaWFsb2csIFt7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblNob3cgJiYgIXRoaXMuc3RhdGUub3BlbikgdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNtaXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uRGlzbWlzcyAmJiB0aGlzLnN0YXRlLm9wZW4pIHRoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wcy5ib2R5U3R5bGUsXG4gICAgICAgICAgaW5pdGlhbFRpbWUgPSBfcHJvcHMuaW5pdGlhbFRpbWUsXG4gICAgICAgICAgb25BY2NlcHQgPSBfcHJvcHMub25BY2NlcHQsXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBjYW5jZWxMYWJlbCA9IF9wcm9wcy5jYW5jZWxMYWJlbCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcCA9IF9wcm9wcy5taW51dGVzU3RlcCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydib2R5U3R5bGUnLCAnaW5pdGlhbFRpbWUnLCAnb25BY2NlcHQnLCAnZm9ybWF0JywgJ2F1dG9PaycsICdva0xhYmVsJywgJ2NhbmNlbExhYmVsJywgJ3N0eWxlJywgJ21pbnV0ZXNTdGVwJ10pO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgICAgY29sb3I6IHRoaXMuY29udGV4dC5tdWlUaGVtZS50aW1lUGlja2VyLmNsb2NrQ29sb3JcbiAgICAgICAgfSxcbiAgICAgICAgZGlhbG9nQ29udGVudDoge1xuICAgICAgICAgIHdpZHRoOiAyODBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHBhZGRpbmc6IDBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGFjdGlvbnMgPSBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAwLFxuICAgICAgICBsYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWxcbiAgICAgIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6IDEsXG4gICAgICAgIGxhYmVsOiBva0xhYmVsLFxuICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwT0tcbiAgICAgIH0pXTtcblxuICAgICAgdmFyIG9uQ2xvY2tDaGFuZ2VNaW51dGVzID0gYXV0b09rID09PSB0cnVlID8gdGhpcy5oYW5kbGVUb3VjaFRhcE9LIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgYm9keVN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSksXG4gICAgICAgICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICAgICAgICBjb250ZW50U3R5bGU6IHN0eWxlcy5kaWFsb2dDb250ZW50LFxuICAgICAgICAgIHJlcG9zaXRpb25PblVwZGF0ZTogZmFsc2UsXG4gICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICBvblJlcXVlc3RDbG9zZTogdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VcbiAgICAgICAgfSksXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwgeyB0YXJnZXQ6ICd3aW5kb3cnLCBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwIH0pLFxuICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9jazIuZGVmYXVsdCwge1xuICAgICAgICAgIHJlZjogJ2Nsb2NrJyxcbiAgICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgICBpbml0aWFsVGltZTogaW5pdGlhbFRpbWUsXG4gICAgICAgICAgb25DaGFuZ2VNaW51dGVzOiBvbkNsb2NrQ2hhbmdlTWludXRlcyxcbiAgICAgICAgICBtaW51dGVzU3RlcDogbWludXRlc1N0ZXBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lUGlja2VyRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZVBpY2tlckRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIG9rTGFiZWw6ICdPSycsXG4gIGNhbmNlbExhYmVsOiAnQ2FuY2VsJ1xufTtcblRpbWVQaWNrZXJEaWFsb2cuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRpbWVQaWNrZXJEaWFsb2cucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICBpbml0aWFsVGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbnV0ZXNTdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvbkFjY2VwdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkRpc21pc3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gVGltZVBpY2tlckRpYWxvZztcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX2F1dG9QcmVmaXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9hdXRvUHJlZml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F1dG9QcmVmaXgpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU2xpZGVJbkNoaWxkID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2xpZGVJbkNoaWxkLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbGlkZUluQ2hpbGQoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU2xpZGVJbkNoaWxkKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoU2xpZGVJbkNoaWxkLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShTbGlkZUluQ2hpbGQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNsaWRlSW5DaGlsZCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lcik7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sZWF2ZVRpbWVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsRW50ZXIoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHZhciB4ID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdsZWZ0JyA/ICcxMDAlJyA6IHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAncmlnaHQnID8gJy0xMDAlJyA6ICcwJztcbiAgICAgIHZhciB5ID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICd1cCcgPyAnMTAwJScgOiB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJy0xMDAlJyA6ICcwJztcblxuICAgICAgc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIF9hdXRvUHJlZml4Mi5kZWZhdWx0LnNldChzdHlsZSwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHggKyAnLCAnICsgeSArICcpJyk7XG5cbiAgICAgIHRoaXMuZW50ZXJUaW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRoaXMucHJvcHMuZW50ZXJEZWxheSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRFbnRlcigpIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICBfYXV0b1ByZWZpeDIuZGVmYXVsdC5zZXQoc3R5bGUsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMCknKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTGVhdmUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnByb3BzLmdldExlYXZlRGlyZWN0aW9uKCk7XG4gICAgICB2YXIgeCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gJy0xMDAlJyA6IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/ICcxMDAlJyA6ICcwJztcbiAgICAgIHZhciB5ID0gZGlyZWN0aW9uID09PSAndXAnID8gJy0xMDAlJyA6IGRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJzEwMCUnIDogJzAnO1xuXG4gICAgICBzdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgX2F1dG9QcmVmaXgyLmRlZmF1bHQuc2V0KHN0eWxlLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknKTtcblxuICAgICAgdGhpcy5sZWF2ZVRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBlbnRlckRlbGF5ID0gX3Byb3BzLmVudGVyRGVsYXksXG4gICAgICAgICAgZ2V0TGVhdmVEaXJlY3Rpb24gPSBfcHJvcHMuZ2V0TGVhdmVEaXJlY3Rpb24sXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnY2hpbGRyZW4nLCAnZW50ZXJEZWxheScsICdnZXRMZWF2ZURpcmVjdGlvbicsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgdmFyIG1lcmdlZFJvb3RTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KG51bGwsIFsndHJhbnNmb3JtJywgJ29wYWNpdHknXSlcbiAgICAgIH0sIHN0eWxlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMobWVyZ2VkUm9vdFN0eWxlcykgfSksXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2xpZGVJbkNoaWxkO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuU2xpZGVJbkNoaWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgZW50ZXJEZWxheTogMFxufTtcblNsaWRlSW5DaGlsZC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU2xpZGVJbkNoaWxkLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZGlyZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZW50ZXJEZWxheTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8vIFRoaXMgY2FsbGJhY2sgaXMgbmVlZGVkIGJhY2F1c2UgdGhlIGRpcmVjdGlvbiBjb3VsZCBjaGFuZ2Ugd2hlbiBsZWF2aW5nIHRoZSBET01cbiAgZ2V0TGVhdmVEaXJlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNsaWRlSW5DaGlsZDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ0OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgTmF2aWdhdGlvbkNoZXZyb25MZWZ0ID0gZnVuY3Rpb24gTmF2aWdhdGlvbkNoZXZyb25MZWZ0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyeicgfSlcbiAgKTtcbn07XG5OYXZpZ2F0aW9uQ2hldnJvbkxlZnQgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKE5hdmlnYXRpb25DaGV2cm9uTGVmdCk7XG5OYXZpZ2F0aW9uQ2hldnJvbkxlZnQuZGlzcGxheU5hbWUgPSAnTmF2aWdhdGlvbkNoZXZyb25MZWZ0Jztcbk5hdmlnYXRpb25DaGV2cm9uTGVmdC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQ2hldnJvbkxlZnQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nik7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9EaWFsb2cyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0NTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5hdmlnYXRpb25DaGV2cm9uUmlnaHQgPSBmdW5jdGlvbiBOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnonIH0pXG4gICk7XG59O1xuTmF2aWdhdGlvbkNoZXZyb25SaWdodCA9ICgwLCBfcHVyZTIuZGVmYXVsdCkoTmF2aWdhdGlvbkNoZXZyb25SaWdodCk7XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0LmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25DaGV2cm9uUmlnaHQnO1xuTmF2aWdhdGlvbkNoZXZyb25SaWdodC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNzk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfQ2hlY2tib3gyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA4MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUyKTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9TbmFja2JhcjIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDg4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0VXRpbHMgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmRhdGVUaW1lRm9ybWF0ID0gZGF0ZVRpbWVGb3JtYXQ7XG5leHBvcnRzLmdldFllYXIgPSBnZXRZZWFyO1xuZXhwb3J0cy5zZXRZZWFyID0gc2V0WWVhcjtcbmV4cG9ydHMuYWRkRGF5cyA9IGFkZERheXM7XG5leHBvcnRzLmFkZE1vbnRocyA9IGFkZE1vbnRocztcbmV4cG9ydHMuYWRkWWVhcnMgPSBhZGRZZWFycztcbmV4cG9ydHMuY2xvbmVEYXRlID0gY2xvbmVEYXRlO1xuZXhwb3J0cy5jbG9uZUFzRGF0ZSA9IGNsb25lQXNEYXRlO1xuZXhwb3J0cy5nZXREYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuZXhwb3J0cy5nZXRGaXJzdERheU9mTW9udGggPSBnZXRGaXJzdERheU9mTW9udGg7XG5leHBvcnRzLmdldEZpcnN0RGF5T2ZXZWVrID0gZ2V0Rmlyc3REYXlPZldlZWs7XG5leHBvcnRzLmdldFdlZWtBcnJheSA9IGdldFdlZWtBcnJheTtcbmV4cG9ydHMubG9jYWxpemVkV2Vla2RheSA9IGxvY2FsaXplZFdlZWtkYXk7XG5leHBvcnRzLmZvcm1hdElzbyA9IGZvcm1hdElzbztcbmV4cG9ydHMuaXNFcXVhbERhdGUgPSBpc0VxdWFsRGF0ZTtcbmV4cG9ydHMuaXNCZWZvcmVEYXRlID0gaXNCZWZvcmVEYXRlO1xuZXhwb3J0cy5pc0FmdGVyRGF0ZSA9IGlzQWZ0ZXJEYXRlO1xuZXhwb3J0cy5pc0JldHdlZW5EYXRlcyA9IGlzQmV0d2VlbkRhdGVzO1xuZXhwb3J0cy5tb250aERpZmYgPSBtb250aERpZmY7XG5leHBvcnRzLnllYXJEaWZmID0geWVhckRpZmY7XG5cbnZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkYXlBYmJyZXZpYXRpb24gPSBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXTtcbnZhciBkYXlMaXN0ID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTtcbnZhciBtb250aExpc3QgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG52YXIgbW9udGhMb25nTGlzdCA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG5mdW5jdGlvbiBkYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMpIHtcbiAgIGZhbHNlID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShsb2NhbGUgPT09ICdlbi1VUycsICdNYXRlcmlhbC1VSTogVGhlICcgKyBsb2NhbGUgKyAnIGxvY2FsZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBidWlsdC1pbiBEYXRlVGltZUZvcm1hdC5cXG4gIFVzZSB0aGUgYERhdGVUaW1lRm9ybWF0YCBwcm9wIHRvIHN1cHBseSBhbiBhbHRlcm5hdGl2ZSBpbXBsZW1lbnRhdGlvbi4nKSA6IHZvaWQgMDtcblxuICB0aGlzLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgaWYgKG9wdGlvbnMubW9udGggPT09ICdzaG9ydCcgJiYgb3B0aW9ucy53ZWVrZGF5ID09PSAnc2hvcnQnICYmIG9wdGlvbnMuZGF5ID09PSAnMi1kaWdpdCcpIHtcbiAgICAgIHJldHVybiBkYXlMaXN0W2RhdGUuZ2V0RGF5KCldICsgJywgJyArIG1vbnRoTGlzdFtkYXRlLmdldE1vbnRoKCldICsgJyAnICsgZGF0ZS5nZXREYXRlKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnllYXIgPT09ICdudW1lcmljJyAmJiBvcHRpb25zLm1vbnRoID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5kYXkgPT09ICdudW1lcmljJykge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDEgKyAnLycgKyBkYXRlLmdldERhdGUoKSArICcvJyArIGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMubW9udGggPT09ICdsb25nJykge1xuICAgICAgcmV0dXJuIG1vbnRoTG9uZ0xpc3RbZGF0ZS5nZXRNb250aCgpXSArICcgJyArIGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMud2Vla2RheSA9PT0gJ25hcnJvdycpIHtcbiAgICAgIHJldHVybiBkYXlBYmJyZXZpYXRpb25bZGF0ZS5nZXREYXkoKV07XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnllYXIgPT09ICdudW1lcmljJykge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXkgPT09ICdudW1lcmljJykge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgZmFsc2UgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnTWF0ZXJpYWwtVUk6IFdyb25nIHVzYWdlIG9mIERhdGVUaW1lRm9ybWF0JykgOiB2b2lkIDA7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRZZWFyKGQpIHtcbiAgcmV0dXJuIGQuZ2V0RnVsbFllYXIoKTtcbn1cblxuZnVuY3Rpb24gc2V0WWVhcihkLCB5ZWFyKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmVEYXRlKGQpO1xuICBuZXdEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkRGF5cyhkLCBkYXlzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmVEYXRlKGQpO1xuICBuZXdEYXRlLnNldERhdGUoZC5nZXREYXRlKCkgKyBkYXlzKTtcbiAgcmV0dXJuIG5ld0RhdGU7XG59XG5cbmZ1bmN0aW9uIGFkZE1vbnRocyhkLCBtb250aHMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0TW9udGgoZC5nZXRNb250aCgpICsgbW9udGhzKTtcbiAgcmV0dXJuIG5ld0RhdGU7XG59XG5cbmZ1bmN0aW9uIGFkZFllYXJzKGQsIHllYXJzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmVEYXRlKGQpO1xuICBuZXdEYXRlLnNldEZ1bGxZZWFyKGQuZ2V0RnVsbFllYXIoKSArIHllYXJzKTtcbiAgcmV0dXJuIG5ld0RhdGU7XG59XG5cbmZ1bmN0aW9uIGNsb25lRGF0ZShkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldFRpbWUoKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXNEYXRlKGQpIHtcbiAgdmFyIGNsb25lZERhdGUgPSBjbG9uZURhdGUoZCk7XG4gIGNsb25lZERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBjbG9uZWREYXRlO1xufVxuXG5mdW5jdGlvbiBnZXREYXlzSW5Nb250aChkKSB7XG4gIHZhciByZXN1bHREYXRlID0gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpO1xuXG4gIHJlc3VsdERhdGUuc2V0TW9udGgocmVzdWx0RGF0ZS5nZXRNb250aCgpICsgMSk7XG4gIHJlc3VsdERhdGUuc2V0RGF0ZShyZXN1bHREYXRlLmdldERhdGUoKSAtIDEpO1xuXG4gIHJldHVybiByZXN1bHREYXRlLmdldERhdGUoKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCAxKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZldlZWsoKSB7XG4gIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIG5vdy5nZXREYXkoKSkpO1xufVxuXG5mdW5jdGlvbiBnZXRXZWVrQXJyYXkoZCwgZmlyc3REYXlPZldlZWspIHtcbiAgdmFyIGRheUFycmF5ID0gW107XG4gIHZhciBkYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoKGQpO1xuICB2YXIgd2Vla0FycmF5ID0gW107XG4gIHZhciB3ZWVrID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gZGF5c0luTW9udGg7IGkrKykge1xuICAgIGRheUFycmF5LnB1c2gobmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGkpKTtcbiAgfVxuXG4gIHZhciBhZGRXZWVrID0gZnVuY3Rpb24gYWRkV2Vlayh3ZWVrKSB7XG4gICAgdmFyIGVtcHR5RGF5cyA9IDcgLSB3ZWVrLmxlbmd0aDtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZW1wdHlEYXlzOyArK19pKSB7XG4gICAgICB3ZWVrW3dlZWtBcnJheS5sZW5ndGggPyAncHVzaCcgOiAndW5zaGlmdCddKG51bGwpO1xuICAgIH1cbiAgICB3ZWVrQXJyYXkucHVzaCh3ZWVrKTtcbiAgfTtcblxuICBkYXlBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkYXkpIHtcbiAgICBpZiAod2Vlay5sZW5ndGggPiAwICYmIGRheS5nZXREYXkoKSA9PT0gZmlyc3REYXlPZldlZWspIHtcbiAgICAgIGFkZFdlZWsod2Vlayk7XG4gICAgICB3ZWVrID0gW107XG4gICAgfVxuICAgIHdlZWsucHVzaChkYXkpO1xuICAgIGlmIChkYXlBcnJheS5pbmRleE9mKGRheSkgPT09IGRheUFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGFkZFdlZWsod2Vlayk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gd2Vla0FycmF5O1xufVxuXG5mdW5jdGlvbiBsb2NhbGl6ZWRXZWVrZGF5KERhdGVUaW1lRm9ybWF0LCBsb2NhbGUsIGRheSwgZmlyc3REYXlPZldlZWspIHtcbiAgdmFyIHdlZWtkYXlGb3JtYXR0ZXIgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7IHdlZWtkYXk6ICduYXJyb3cnIH0pO1xuICB2YXIgZmlyc3REYXlEYXRlID0gZ2V0Rmlyc3REYXlPZldlZWsoKTtcblxuICByZXR1cm4gd2Vla2RheUZvcm1hdHRlci5mb3JtYXQoYWRkRGF5cyhmaXJzdERheURhdGUsIGRheSArIGZpcnN0RGF5T2ZXZWVrKSk7XG59XG5cbi8vIENvbnZlcnQgZGF0ZSB0byBJU08gODYwMSAoWVlZWS1NTS1ERCkgZGF0ZSBzdHJpbmcsIGFjY291bnRpbmcgZm9yIGN1cnJlbnQgdGltZXpvbmVcbmZ1bmN0aW9uIGZvcm1hdElzbyhkYXRlKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkYXRlLnRvRGF0ZVN0cmluZygpICsgJyAxMjowMDowMCArMDAwMCcpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcbn1cblxuZnVuY3Rpb24gaXNFcXVhbERhdGUoZDEsIGQyKSB7XG4gIHJldHVybiBkMSAmJiBkMiAmJiBkMS5nZXRGdWxsWWVhcigpID09PSBkMi5nZXRGdWxsWWVhcigpICYmIGQxLmdldE1vbnRoKCkgPT09IGQyLmdldE1vbnRoKCkgJiYgZDEuZ2V0RGF0ZSgpID09PSBkMi5nZXREYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGlzQmVmb3JlRGF0ZShkMSwgZDIpIHtcbiAgdmFyIGRhdGUxID0gY2xvbmVBc0RhdGUoZDEpO1xuICB2YXIgZGF0ZTIgPSBjbG9uZUFzRGF0ZShkMik7XG5cbiAgcmV0dXJuIGRhdGUxLmdldFRpbWUoKSA8IGRhdGUyLmdldFRpbWUoKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlckRhdGUoZDEsIGQyKSB7XG4gIHZhciBkYXRlMSA9IGNsb25lQXNEYXRlKGQxKTtcbiAgdmFyIGRhdGUyID0gY2xvbmVBc0RhdGUoZDIpO1xuXG4gIHJldHVybiBkYXRlMS5nZXRUaW1lKCkgPiBkYXRlMi5nZXRUaW1lKCk7XG59XG5cbmZ1bmN0aW9uIGlzQmV0d2VlbkRhdGVzKGRhdGVUb0NoZWNrLCBzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgcmV0dXJuICFpc0JlZm9yZURhdGUoZGF0ZVRvQ2hlY2ssIHN0YXJ0RGF0ZSkgJiYgIWlzQWZ0ZXJEYXRlKGRhdGVUb0NoZWNrLCBlbmREYXRlKTtcbn1cblxuZnVuY3Rpb24gbW9udGhEaWZmKGQxLCBkMikge1xuICB2YXIgbSA9IHZvaWQgMDtcbiAgbSA9IChkMS5nZXRGdWxsWWVhcigpIC0gZDIuZ2V0RnVsbFllYXIoKSkgKiAxMjtcbiAgbSArPSBkMS5nZXRNb250aCgpO1xuICBtIC09IGQyLmdldE1vbnRoKCk7XG4gIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiB5ZWFyRGlmZihkMSwgZDIpIHtcbiAgcmV0dXJuIH5+KG1vbnRoRGlmZihkMSwgZDIpIC8gMTIpO1xufVxuXG52YXIgZGVmYXVsdFV0aWxzID0gZXhwb3J0cy5kZWZhdWx0VXRpbHMgPSB7XG4gIGdldFllYXI6IGdldFllYXIsXG4gIHNldFllYXI6IHNldFllYXIsXG4gIGFkZERheXM6IGFkZERheXMsXG4gIGFkZE1vbnRoczogYWRkTW9udGhzLFxuICBhZGRZZWFyczogYWRkWWVhcnMsXG4gIGdldEZpcnN0RGF5T2ZNb250aDogZ2V0Rmlyc3REYXlPZk1vbnRoLFxuICBnZXRXZWVrQXJyYXk6IGdldFdlZWtBcnJheSxcbiAgbW9udGhEaWZmOiBtb250aERpZmZcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA5MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYWRkSG91cnMgPSBhZGRIb3VycztcbmV4cG9ydHMuYWRkTWludXRlcyA9IGFkZE1pbnV0ZXM7XG5leHBvcnRzLmFkZFNlY29uZHMgPSBhZGRTZWNvbmRzO1xuZXhwb3J0cy5mb3JtYXRUaW1lID0gZm9ybWF0VGltZTtcbmV4cG9ydHMucmFkMmRlZyA9IHJhZDJkZWc7XG5leHBvcnRzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMgPSBnZXRUb3VjaEV2ZW50T2Zmc2V0VmFsdWVzO1xuZXhwb3J0cy5pc0lubmVyID0gaXNJbm5lcjtcbmZ1bmN0aW9uIGFkZEhvdXJzKGQsIGhvdXJzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0SG91cnMoZC5nZXRIb3VycygpICsgaG91cnMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkTWludXRlcyhkLCBtaW51dGVzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0TWludXRlcyhkLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkU2Vjb25kcyhkLCBzZWNvbmRzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0U2Vjb25kcyhkLmdldE1pbnV0ZXMoKSArIHNlY29uZHMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gY2xvbmUoZCkge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRUaW1lKCkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBkYXRlIFtEYXRlXSBBIERhdGUgb2JqZWN0LlxuICogQHBhcmFtIGZvcm1hdCBbU3RyaW5nXSBPbmUgb2YgJ2FtcG0nLCAnMjRocicsIGRlZmF1bHRzIHRvICdhbXBtJy5cbiAqIEBwYXJhbSBwZWRhbnRpYyBbQm9vbGVhbl0gQ2hlY2sgdGltZS1waWNrZXIvdGltZS1waWNrZXIuanN4IGZpbGUuXG4gKlxuICogQHJldHVybiBTdHJpbmcgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmb3JtYXR0ZWQgdGltZS5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlKSB7XG4gIHZhciBmb3JtYXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhbXBtJztcbiAgdmFyIHBlZGFudGljID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICBpZiAoIWRhdGUpIHJldHVybiAnJztcbiAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICB2YXIgbWlucyA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCk7XG5cbiAgaWYgKGZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgdmFyIGlzQU0gPSBob3VycyA8IDEyO1xuICAgIGhvdXJzID0gaG91cnMgJSAxMjtcbiAgICB2YXIgYWRkaXRpb25hbCA9IGlzQU0gPyAnIGFtJyA6ICcgcG0nO1xuICAgIGhvdXJzID0gKGhvdXJzIHx8IDEyKS50b1N0cmluZygpO1xuXG4gICAgaWYgKG1pbnMubGVuZ3RoIDwgMikgbWlucyA9ICcwJyArIG1pbnM7XG5cbiAgICBpZiAocGVkYW50aWMpIHtcbiAgICAgIC8vIFRyZWF0IG1pZGRheS9taWRuaWdodCBzcGVjaWFsbHkgaHR0cDovL3d3dy5uaXN0Lmdvdi9wbWwvZGl2Njg4L3RpbWVzLmNmbVxuICAgICAgaWYgKGhvdXJzID09PSAnMTInICYmIG1pbnMgPT09ICcwMCcpIHtcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWwgPT09ICcgcG0nID8gJzEyIG5vb24nIDogJzEyIG1pZG5pZ2h0JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaG91cnMgKyAobWlucyA9PT0gJzAwJyA/ICcnIDogJzonICsgbWlucykgKyBhZGRpdGlvbmFsO1xuICB9XG5cbiAgaG91cnMgPSBob3Vycy50b1N0cmluZygpO1xuXG4gIGlmIChob3Vycy5sZW5ndGggPCAyKSBob3VycyA9ICcwJyArIGhvdXJzO1xuICBpZiAobWlucy5sZW5ndGggPCAyKSBtaW5zID0gJzAnICsgbWlucztcblxuICByZXR1cm4gaG91cnMgKyAnOicgKyBtaW5zO1xufVxuXG5mdW5jdGlvbiByYWQyZGVnKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMoZXZlbnQpIHtcbiAgdmFyIGVsID0gZXZlbnQudGFyZ2V0O1xuICB2YXIgYm91bmRpbmdSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBvZmZzZXRYOiBldmVudC5jbGllbnRYIC0gYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgb2Zmc2V0WTogZXZlbnQuY2xpZW50WSAtIGJvdW5kaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNJbm5lcihwcm9wcykge1xuICBpZiAocHJvcHMudHlwZSAhPT0gJ2hvdXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBwcm9wcy52YWx1ZSA8IDEgfHwgcHJvcHMudmFsdWUgPiAxMjtcbn1cblxuLyoqKi8gfSlcblxufSxbMzAyXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNob3ByZWcuYnVuZGxlLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfUGFwZXIgPSByZXF1aXJlKCcuLi9QYXBlcicpO1xuXG52YXIgX1BhcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcGVyKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9wcm9wVHlwZXMzID0gcmVxdWlyZSgnLi4vdXRpbHMvcHJvcFR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlczMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciB0YXJnZXRPcmlnaW4gPSBwcm9wcy50YXJnZXRPcmlnaW47XG4gIHZhciBvcGVuID0gc3RhdGUub3BlbjtcbiAgdmFyIG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZTtcblxuICB2YXIgaG9yaXpvbnRhbCA9IHRhcmdldE9yaWdpbi5ob3Jpem9udGFsLnJlcGxhY2UoJ21pZGRsZScsICd2ZXJ0aWNhbCcpO1xuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB6SW5kZXg6IG11aVRoZW1lLnpJbmRleC5wb3BvdmVyLFxuICAgICAgb3BhY2l0eTogb3BlbiA/IDEgOiAwLFxuICAgICAgdHJhbnNmb3JtOiBvcGVuID8gJ3NjYWxlWSgxKScgOiAnc2NhbGVZKDApJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogaG9yaXpvbnRhbCArICcgJyArIHRhcmdldE9yaWdpbi52ZXJ0aWNhbCxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0NTBtcycsIFsndHJhbnNmb3JtJywgJ29wYWNpdHknXSksXG4gICAgICBtYXhIZWlnaHQ6ICcxMDAlJ1xuICAgIH1cbiAgfTtcbn1cblxudmFyIFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogbmV4dFByb3BzLm9wZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgekRlcHRoID0gX3Byb3BzLnpEZXB0aDtcblxuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX1BhcGVyMi5kZWZhdWx0LFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpLFxuICAgICAgICAgIHpEZXB0aDogekRlcHRoLFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQb3BvdmVyQW5pbWF0aW9uVmVydGljYWw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwuZGVmYXVsdFByb3BzID0ge1xuICBzdHlsZToge30sXG4gIHpEZXB0aDogMVxufTtcblBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0YXJnZXRPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLmlzUmVxdWlyZWQsXG4gIHpEZXB0aDogX3Byb3BUeXBlczQuZGVmYXVsdC56RGVwdGhcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvUG9wb3Zlci9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwuanNcbi8vIG1vZHVsZSBpZCA9IDEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuTWVudUl0ZW0gPSBleHBvcnRzLkRyb3BEb3duTWVudSA9IHVuZGVmaW5lZDtcblxudmFyIF9Ecm9wRG93bk1lbnUyID0gcmVxdWlyZSgnLi9Ecm9wRG93bk1lbnUnKTtcblxudmFyIF9Ecm9wRG93bk1lbnUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJvcERvd25NZW51Mik7XG5cbnZhciBfTWVudUl0ZW0yID0gcmVxdWlyZSgnLi4vTWVudUl0ZW0vTWVudUl0ZW0nKTtcblxudmFyIF9NZW51SXRlbTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLkRyb3BEb3duTWVudSA9IF9Ecm9wRG93bk1lbnUzLmRlZmF1bHQ7XG5leHBvcnRzLk1lbnVJdGVtID0gX01lbnVJdGVtMy5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gX0Ryb3BEb3duTWVudTMuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRHJvcERvd25NZW51L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9FbmhhbmNlZFN3aXRjaCA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0VuaGFuY2VkU3dpdGNoJyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRTd2l0Y2gpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rID0gcmVxdWlyZSgnLi4vc3ZnLWljb25zL3RvZ2dsZS9jaGVjay1ib3gtb3V0bGluZS1ibGFuaycpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrQm94T3V0bGluZUJsYW5rKTtcblxudmFyIF9jaGVja0JveCA9IHJlcXVpcmUoJy4uL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94Jyk7XG5cbnZhciBfY2hlY2tCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tCb3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGNoZWNrYm94ID0gY29udGV4dC5tdWlUaGVtZS5jaGVja2JveDtcblxuICB2YXIgY2hlY2tib3hTaXplID0gMjQ7XG5cbiAgcmV0dXJuIHtcbiAgICBpY29uOiB7XG4gICAgICBoZWlnaHQ6IGNoZWNrYm94U2l6ZSxcbiAgICAgIHdpZHRoOiBjaGVja2JveFNpemVcbiAgICB9LFxuICAgIGNoZWNrOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwKScsXG4gICAgICB0cmFuc2l0aW9uT3JpZ2luOiAnNTAlIDUwJScsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDUwbXMnLCAnb3BhY2l0eScsICcwbXMnKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMG1zJywgJ3RyYW5zZm9ybScsICc0NTBtcycpLFxuICAgICAgZmlsbDogY2hlY2tib3guY2hlY2tlZENvbG9yXG4gICAgfSxcbiAgICBjaGVja1doZW5Td2l0Y2hlZDoge1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnb3BhY2l0eScsICcwbXMnKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnODAwbXMnLCAndHJhbnNmb3JtJywgJzBtcycpXG4gICAgfSxcbiAgICBjaGVja1doZW5EaXNhYmxlZDoge1xuICAgICAgZmlsbDogY2hlY2tib3guZGlzYWJsZWRDb2xvclxuICAgIH0sXG4gICAgYm94OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBmaWxsOiBjaGVja2JveC5ib3hDb2xvcixcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcxMDAwbXMnLCAnb3BhY2l0eScsICcyMDBtcycpXG4gICAgfSxcbiAgICBib3hXaGVuU3dpdGNoZWQ6IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNjUwbXMnLCAnb3BhY2l0eScsICcxNTBtcycpLFxuICAgICAgZmlsbDogY2hlY2tib3guY2hlY2tlZENvbG9yXG4gICAgfSxcbiAgICBib3hXaGVuRGlzYWJsZWQ6IHtcbiAgICAgIGZpbGw6IHByb3BzLmNoZWNrZWQgPyAndHJhbnNwYXJlbnQnIDogY2hlY2tib3guZGlzYWJsZWRDb2xvclxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy5kaXNhYmxlZCA/IGNoZWNrYm94LmxhYmVsRGlzYWJsZWRDb2xvciA6IGNoZWNrYm94LmxhYmVsQ29sb3JcbiAgICB9XG4gIH07XG59XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENoZWNrYm94LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGVja2JveCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDaGVja2JveCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDaGVja2JveC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2hlY2tib3gpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN3aXRjaGVkOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZVN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKG5ld1N3aXRjaGVkKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN3aXRjaGVkOiBuZXdTd2l0Y2hlZFxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlQ2hlY2sgPSBmdW5jdGlvbiAoZXZlbnQsIGlzSW5wdXRDaGVja2VkKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGVjaykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoZWNrKGV2ZW50LCBpc0lucHV0Q2hlY2tlZCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENoZWNrYm94LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICB2YWx1ZUxpbmsgPSBfcHJvcHMudmFsdWVMaW5rO1xuXG5cbiAgICAgIGlmIChjaGVja2VkIHx8IGRlZmF1bHRDaGVja2VkIHx8IHZhbHVlTGluayAmJiB2YWx1ZUxpbmsudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3dpdGNoZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jaGVja2VkICE9PSBuZXh0UHJvcHMuY2hlY2tlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNDaGVja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGVja2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5lbmhhbmNlZFN3aXRjaC5pc1N3aXRjaGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2hlY2tlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoZWNrZWQobmV3Q2hlY2tlZFZhbHVlKSB7XG4gICAgICB0aGlzLnJlZnMuZW5oYW5jZWRTd2l0Y2guc2V0U3dpdGNoZWQobmV3Q2hlY2tlZFZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzMi5pY29uU3R5bGUsXG4gICAgICAgICAgb25DaGVjayA9IF9wcm9wczIub25DaGVjayxcbiAgICAgICAgICBjaGVja2VkSWNvbiA9IF9wcm9wczIuY2hlY2tlZEljb24sXG4gICAgICAgICAgdW5jaGVja2VkSWNvbiA9IF9wcm9wczIudW5jaGVja2VkSWNvbixcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wczIsIFsnaWNvblN0eWxlJywgJ29uQ2hlY2snLCAnY2hlY2tlZEljb24nLCAndW5jaGVja2VkSWNvbiddKTtcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIGJveFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm94LCB0aGlzLnN0YXRlLnN3aXRjaGVkICYmIHN0eWxlcy5ib3hXaGVuU3dpdGNoZWQsIGljb25TdHlsZSwgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBzdHlsZXMuYm94V2hlbkRpc2FibGVkKTtcbiAgICAgIHZhciBjaGVja1N0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY2hlY2ssIHRoaXMuc3RhdGUuc3dpdGNoZWQgJiYgc3R5bGVzLmNoZWNrV2hlblN3aXRjaGVkLCBpY29uU3R5bGUsIHRoaXMucHJvcHMuZGlzYWJsZWQgJiYgc3R5bGVzLmNoZWNrV2hlbkRpc2FibGVkKTtcblxuICAgICAgdmFyIGNoZWNrZWRFbGVtZW50ID0gY2hlY2tlZEljb24gPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoZWNrZWRJY29uLCB7XG4gICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoY2hlY2tTdHlsZXMsIGNoZWNrZWRJY29uLnByb3BzLnN0eWxlKVxuICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hlY2tCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IGNoZWNrU3R5bGVzXG4gICAgICB9KTtcblxuICAgICAgdmFyIHVuQ2hlY2tlZEVsZW1lbnQgPSB1bmNoZWNrZWRJY29uID8gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudCh1bmNoZWNrZWRJY29uLCB7XG4gICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoYm94U3R5bGVzLCB1bmNoZWNrZWRJY29uLnByb3BzLnN0eWxlKVxuICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hlY2tCb3hPdXRsaW5lQmxhbmsyLmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IGJveFN0eWxlc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjaGVja2JveEVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHVuQ2hlY2tlZEVsZW1lbnQsXG4gICAgICAgIGNoZWNrZWRFbGVtZW50XG4gICAgICApO1xuXG4gICAgICB2YXIgcmlwcGxlQ29sb3IgPSB0aGlzLnN0YXRlLnN3aXRjaGVkID8gY2hlY2tTdHlsZXMuZmlsbCA6IGJveFN0eWxlcy5maWxsO1xuICAgICAgdmFyIG1lcmdlZEljb25TdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaWNvbiwgaWNvblN0eWxlKTtcblxuICAgICAgdmFyIGxhYmVsU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmxhYmVsLCB0aGlzLnByb3BzLmxhYmVsU3R5bGUpO1xuXG4gICAgICB2YXIgZW5oYW5jZWRTd2l0Y2hQcm9wcyA9IHtcbiAgICAgICAgcmVmOiAnZW5oYW5jZWRTd2l0Y2gnLFxuICAgICAgICBpbnB1dFR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgIHN3aXRjaGVkOiB0aGlzLnN0YXRlLnN3aXRjaGVkLFxuICAgICAgICBzd2l0Y2hFbGVtZW50OiBjaGVja2JveEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZUNvbG9yOiByaXBwbGVDb2xvcixcbiAgICAgICAgaWNvblN0eWxlOiBtZXJnZWRJY29uU3R5bGUsXG4gICAgICAgIG9uU3dpdGNoOiB0aGlzLmhhbmRsZUNoZWNrLFxuICAgICAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxuICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZTogdGhpcy5oYW5kbGVTdGF0ZUNoYW5nZSxcbiAgICAgICAgbGFiZWxQb3NpdGlvbjogdGhpcy5wcm9wcy5sYWJlbFBvc2l0aW9uXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0VuaGFuY2VkU3dpdGNoMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgZW5oYW5jZWRTd2l0Y2hQcm9wcykpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2hlY2tib3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG4gIGxhYmVsUG9zaXRpb246ICdyaWdodCcsXG4gIGRpc2FibGVkOiBmYWxzZVxufTtcbkNoZWNrYm94LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DaGVja2JveC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBDaGVja2JveCBpcyBjaGVja2VkIGlmIHRydWUuXG4gICAqL1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgU3ZnSWNvbiB0byB1c2UgZm9yIHRoZSBjaGVja2VkIHN0YXRlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBjcmVhdGUgaWNvbiB0b2dnbGVzLlxuICAgKi9cbiAgY2hlY2tlZEljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCxcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHN0YXRlIG9mIG91ciBjaGVja2JveCBjb21wb25lbnQuXG4gICAqICoqV2FybmluZzoqKiBUaGlzIGNhbm5vdCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYGNoZWNrZWRgLlxuICAgKiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuXG4gICAqIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHNcbiAgICovXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBEaXNhYmxlZCBpZiB0cnVlLlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgaWNvbiBlbGVtZW50LlxuICAgKi9cbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICovXG4gIGlucHV0U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogV2hlcmUgdGhlIGxhYmVsIHdpbGwgYmUgcGxhY2VkIG5leHQgdG8gdGhlIGNoZWNrYm94LlxuICAgKi9cbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIENoZWNrYm94IGVsZW1lbnQgbGFiZWwuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IGBjaGFuZ2VgIGV2ZW50IHRhcmdldGluZyB0aGUgdW5kZXJseWluZyBjaGVja2JveCBgaW5wdXRgLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSW5wdXRDaGVja2VkIFRoZSBgY2hlY2tlZGAgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgY2hlY2tib3ggYGlucHV0YC5cbiAgICovXG4gIG9uQ2hlY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgU3ZnSWNvbiB0byB1c2UgZm9yIHRoZSB1bmNoZWNrZWQgc3RhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBpY29uIHRvZ2dsZXMuXG4gICAqL1xuICB1bmNoZWNrZWRJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsXG4gIC8qKlxuICAgKiBWYWx1ZUxpbmsgZm9yIHdoZW4gdXNpbmcgY29udHJvbGxlZCBjaGVja2JveC5cbiAgICovXG4gIHZhbHVlTGluazogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENoZWNrYm94O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9DaGVja2JveC9DaGVja2JveC5qc1xuLy8gbW9kdWxlIGlkID0gMTQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfT3ZlcmxheSA9IHJlcXVpcmUoJy4uL2ludGVybmFsL092ZXJsYXknKTtcblxudmFyIF9PdmVybGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX092ZXJsYXkpO1xuXG52YXIgX1JlbmRlclRvTGF5ZXIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9SZW5kZXJUb0xheWVyJyk7XG5cbnZhciBfUmVuZGVyVG9MYXllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUb0xheWVyKTtcblxudmFyIF9QYXBlciA9IHJlcXVpcmUoJy4uL1BhcGVyJyk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IHJlcXVpcmUoJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwJyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zaXRpb25Hcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUcmFuc2l0aW9uSXRlbSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0aW9uSXRlbSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUcmFuc2l0aW9uSXRlbSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBUcmFuc2l0aW9uSXRlbS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN0eWxlOiB7fVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZW91dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbEVudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEVudGVyKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIoY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxBcHBlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsQXBwZWFyKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgc3BhY2luZyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWUuc3BhY2luZztcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgJyArIHNwYWNpbmcuZGVza3RvcEtleWxpbmVJbmNyZW1lbnQgKyAncHgpJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5lbnRlclRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCA0NTApOyAvLyBtYXRjaGVzIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTGVhdmUoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDApJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sZWF2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCA0NTApOyAvLyBtYXRjaGVzIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydzdHlsZScsICdjaGlsZHJlbiddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0aGlzLnN0YXRlLnN0eWxlLCBzdHlsZSkpIH0pLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRyYW5zaXRpb25JdGVtO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVHJhbnNpdGlvbkl0ZW0uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRyYW5zaXRpb25JdGVtLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPSBwcm9wcy5hdXRvU2Nyb2xsQm9keUNvbnRlbnQsXG4gICAgICBvcGVuID0gcHJvcHMub3BlbjtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhcyA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIHNwYWNpbmcgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuc3BhY2luZyxcbiAgICAgIHBhbGV0dGUgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMucGFsZXR0ZSxcbiAgICAgIGRpYWxvZyA9IF9jb250ZXh0JG11aVRoZW1lLmRpYWxvZyxcbiAgICAgIHpJbmRleCA9IF9jb250ZXh0JG11aVRoZW1lLnpJbmRleDtcblxuXG4gIHZhciBndXR0ZXIgPSBzcGFjaW5nLmRlc2t0b3BHdXR0ZXI7XG4gIHZhciBib3JkZXJTY3JvbGwgPSAnMXB4IHNvbGlkICcgKyBwYWxldHRlLmJvcmRlckNvbG9yO1xuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICB6SW5kZXg6IHpJbmRleC5kaWFsb2csXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiBvcGVuID8gMCA6IC0xMDAwMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHRyYW5zaXRpb246IG9wZW4gPyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMG1zJywgJ2xlZnQnLCAnMG1zJykgOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMG1zJywgJ2xlZnQnLCAnNDUwbXMnKVxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2lkdGg6ICc3NSUnLFxuICAgICAgbWF4V2lkdGg6IHNwYWNpbmcuZGVza3RvcEtleWxpbmVJbmNyZW1lbnQgKiAxMixcbiAgICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgICB6SW5kZXg6IHpJbmRleC5kaWFsb2dcbiAgICB9LFxuICAgIGFjdGlvbnNDb250YWluZXI6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHBhZGRpbmc6IDgsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxuICAgICAgbWFyZ2luVG9wOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyAtMSA6IDBcbiAgICB9LFxuICAgIG92ZXJsYXk6IHtcbiAgICAgIHpJbmRleDogekluZGV4LmRpYWxvZ092ZXJsYXlcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICBwYWRkaW5nOiBndXR0ZXIgKyAncHggJyArIGd1dHRlciArICdweCAyMHB4ICcgKyBndXR0ZXIgKyAncHgnLFxuICAgICAgY29sb3I6IHBhbGV0dGUudGV4dENvbG9yLFxuICAgICAgZm9udFNpemU6IGRpYWxvZy50aXRsZUZvbnRTaXplLFxuICAgICAgbGluZUhlaWdodDogJzMycHgnLFxuICAgICAgZm9udFdlaWdodDogNDAwLFxuICAgICAgbWFyZ2luQm90dG9tOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyAtMSA6IDBcbiAgICB9LFxuICAgIGJvZHk6IHtcbiAgICAgIGZvbnRTaXplOiBkaWFsb2cuYm9keUZvbnRTaXplLFxuICAgICAgY29sb3I6IGRpYWxvZy5ib2R5Q29sb3IsXG4gICAgICBwYWRkaW5nOiAocHJvcHMudGl0bGUgPyAwIDogZ3V0dGVyKSArICdweCAnICsgZ3V0dGVyICsgJ3B4ICcgKyBndXR0ZXIgKyAncHgnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBvdmVyZmxvd1k6IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/ICdhdXRvJyA6ICdoaWRkZW4nLFxuICAgICAgYm9yZGVyVG9wOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyBib3JkZXJTY3JvbGwgOiAnbm9uZScsXG4gICAgICBib3JkZXJCb3R0b206IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IGJvcmRlclNjcm9sbCA6ICdub25lJ1xuICAgIH1cbiAgfTtcbn1cblxudmFyIERpYWxvZ0lubGluZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEaWFsb2dJbmxpbmUsIF9Db21wb25lbnQyKTtcblxuICBmdW5jdGlvbiBEaWFsb2dJbmxpbmUoKSB7XG4gICAgdmFyIF9yZWYyO1xuXG4gICAgdmFyIF90ZW1wMiwgX3RoaXMyLCBfcmV0MjtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERpYWxvZ0lubGluZSk7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0MiA9IChfdGVtcDIgPSAoX3RoaXMyID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZjIgPSBEaWFsb2dJbmxpbmUuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERpYWxvZ0lubGluZSkpLmNhbGwuYXBwbHkoX3JlZjIsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMyKSwgX3RoaXMyLmhhbmRsZVRvdWNoVGFwT3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5yZXF1ZXN0Q2xvc2UoZmFsc2UpO1xuICAgIH0sIF90aGlzMi5oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpID09PSAnZXNjJykge1xuICAgICAgICBfdGhpczIucmVxdWVzdENsb3NlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpczIuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMyLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfSwgX3RlbXAyKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpczIsIF9yZXQyKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpYWxvZ0lubGluZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMucG9zaXRpb25EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwb3NpdGlvbkRpYWxvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uRGlhbG9nKCkge1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdGlvbnMgPSBfcHJvcHMyLmFjdGlvbnMsXG4gICAgICAgICAgYXV0b0RldGVjdFdpbmRvd0hlaWdodCA9IF9wcm9wczIuYXV0b0RldGVjdFdpbmRvd0hlaWdodCxcbiAgICAgICAgICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPSBfcHJvcHMyLmF1dG9TY3JvbGxCb2R5Q29udGVudCxcbiAgICAgICAgICBib2R5U3R5bGUgPSBfcHJvcHMyLmJvZHlTdHlsZSxcbiAgICAgICAgICBvcGVuID0gX3Byb3BzMi5vcGVuLFxuICAgICAgICAgIHJlcG9zaXRpb25PblVwZGF0ZSA9IF9wcm9wczIucmVwb3NpdGlvbk9uVXBkYXRlLFxuICAgICAgICAgIHRpdGxlID0gX3Byb3BzMi50aXRsZTtcblxuXG4gICAgICBpZiAoIW9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgICB2YXIgY29udGFpbmVyID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgdmFyIGRpYWxvZ1dpbmRvdyA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZGlhbG9nV2luZG93KTtcbiAgICAgIHZhciBkaWFsb2dDb250ZW50ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaWFsb2dDb250ZW50KTtcbiAgICAgIHZhciBtaW5QYWRkaW5nVG9wID0gMTY7XG5cbiAgICAgIC8vIFJlc2V0IHRoZSBoZWlnaHQgaW4gY2FzZSB0aGUgd2luZG93IHdhcyByZXNpemVkLlxuICAgICAgZGlhbG9nV2luZG93LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnJztcblxuICAgICAgdmFyIGRpYWxvZ1dpbmRvd0hlaWdodCA9IGRpYWxvZ1dpbmRvdy5vZmZzZXRIZWlnaHQ7XG4gICAgICB2YXIgcGFkZGluZ1RvcCA9IChjbGllbnRIZWlnaHQgLSBkaWFsb2dXaW5kb3dIZWlnaHQpIC8gMiAtIDY0O1xuICAgICAgaWYgKHBhZGRpbmdUb3AgPCBtaW5QYWRkaW5nVG9wKSBwYWRkaW5nVG9wID0gbWluUGFkZGluZ1RvcDtcblxuICAgICAgLy8gVmVydGljYWxseSBjZW50ZXIgdGhlIGRpYWxvZyB3aW5kb3csIGJ1dCBtYWtlIHN1cmUgaXQgZG9lc24ndFxuICAgICAgLy8gdHJhbnNpdGlvbiB0byB0aGF0IHBvc2l0aW9uLlxuICAgICAgaWYgKHJlcG9zaXRpb25PblVwZGF0ZSB8fCAhY29udGFpbmVyLnN0eWxlLnBhZGRpbmdUb3ApIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgLy8gRm9yY2UgYSBoZWlnaHQgaWYgdGhlIGRpYWxvZyBpcyB0YWxsZXIgdGhhbiBjbGllbnRIZWlnaHRcbiAgICAgIGlmIChhdXRvRGV0ZWN0V2luZG93SGVpZ2h0IHx8IGF1dG9TY3JvbGxCb2R5Q29udGVudCkge1xuICAgICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIHN0eWxlcy5ib2R5ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5ib2R5LCBib2R5U3R5bGUpO1xuICAgICAgICB2YXIgbWF4RGlhbG9nQ29udGVudEhlaWdodCA9IGNsaWVudEhlaWdodCAtIDIgKiA2NDtcblxuICAgICAgICBpZiAodGl0bGUpIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgLT0gZGlhbG9nQ29udGVudC5wcmV2aW91c1NpYmxpbmcub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIGlmIChfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoYWN0aW9ucykpIHtcbiAgICAgICAgICBtYXhEaWFsb2dDb250ZW50SGVpZ2h0IC09IGRpYWxvZ0NvbnRlbnQubmV4dFNpYmxpbmcub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5tYXhIZWlnaHQgPSBtYXhEaWFsb2dDb250ZW50SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgaWYgKG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgPiBkaWFsb2dXaW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICBkaWFsb2dDb250ZW50LnN0eWxlLmJvcmRlckJvdHRvbSA9ICdub25lJztcbiAgICAgICAgICBkaWFsb2dDb250ZW50LnN0eWxlLmJvcmRlclRvcCA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlcXVlc3RDbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3RDbG9zZShidXR0b25DbGlja2VkKSB7XG4gICAgICBpZiAoIWJ1dHRvbkNsaWNrZWQgJiYgdGhpcy5wcm9wcy5tb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoISFidXR0b25DbGlja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0aW9ucyA9IF9wcm9wczMuYWN0aW9ucyxcbiAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lID0gX3Byb3BzMy5hY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lLFxuICAgICAgICAgIGFjdGlvbnNDb250YWluZXJTdHlsZSA9IF9wcm9wczMuYWN0aW9uc0NvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGJvZHlDbGFzc05hbWUgPSBfcHJvcHMzLmJvZHlDbGFzc05hbWUsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzMy5ib2R5U3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wczMuY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnRlbnRDbGFzc05hbWUgPSBfcHJvcHMzLmNvbnRlbnRDbGFzc05hbWUsXG4gICAgICAgICAgY29udGVudFN0eWxlID0gX3Byb3BzMy5jb250ZW50U3R5bGUsXG4gICAgICAgICAgb3ZlcmxheUNsYXNzTmFtZSA9IF9wcm9wczMub3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgICBvdmVybGF5U3R5bGUgPSBfcHJvcHMzLm92ZXJsYXlTdHlsZSxcbiAgICAgICAgICBvcGVuID0gX3Byb3BzMy5vcGVuLFxuICAgICAgICAgIHBhcGVyQ2xhc3NOYW1lID0gX3Byb3BzMy5wYXBlckNsYXNzTmFtZSxcbiAgICAgICAgICBwYXBlclByb3BzID0gX3Byb3BzMy5wYXBlclByb3BzLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzMy5zdHlsZSxcbiAgICAgICAgICB0aXRsZUNsYXNzTmFtZSA9IF9wcm9wczMudGl0bGVDbGFzc05hbWUsXG4gICAgICAgICAgdGl0bGVTdHlsZSA9IF9wcm9wczMudGl0bGVTdHlsZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wczMudGl0bGU7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG5cbiAgICAgIHN0eWxlcy5yb290ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSk7XG4gICAgICBzdHlsZXMuY29udGVudCA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY29udGVudCwgY29udGVudFN0eWxlKTtcbiAgICAgIHN0eWxlcy5ib2R5ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5ib2R5LCBib2R5U3R5bGUpO1xuICAgICAgc3R5bGVzLmFjdGlvbnNDb250YWluZXIgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmFjdGlvbnNDb250YWluZXIsIGFjdGlvbnNDb250YWluZXJTdHlsZSk7XG4gICAgICBzdHlsZXMub3ZlcmxheSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMub3ZlcmxheSwgb3ZlcmxheVN0eWxlKTtcbiAgICAgIHN0eWxlcy50aXRsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlU3R5bGUpO1xuXG4gICAgICB2YXIgYWN0aW9uc0NvbnRhaW5lciA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChhY3Rpb25zKSA+IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmFjdGlvbnNDb250YWluZXIpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGFjdGlvbnMpXG4gICAgICApO1xuXG4gICAgICB2YXIgdGl0bGVFbGVtZW50ID0gdGl0bGU7XG4gICAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KHRpdGxlKSkge1xuICAgICAgICB0aXRsZUVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KHRpdGxlLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiB0aXRsZS5wcm9wcy5jbGFzc05hbWUgfHwgdGl0bGVDbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy50aXRsZSwgdGl0bGUucHJvcHMuc3R5bGUpKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aXRsZUVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaDMnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiB0aXRsZUNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnRpdGxlKSB9LFxuICAgICAgICAgIHRpdGxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXAsXG4gICAgICAgICAgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ2RpdicsXG4gICAgICAgICAgICByZWY6ICdkaWFsb2dXaW5kb3cnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0OiA0NTAsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXI6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiA0NTBcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBUcmFuc2l0aW9uSXRlbSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb250ZW50Q2xhc3NOYW1lLFxuICAgICAgICAgICAgICBzdHlsZTogc3R5bGVzLmNvbnRlbnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1BhcGVyMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgY2xhc3NOYW1lOiBwYXBlckNsYXNzTmFtZSwgekRlcHRoOiA0IH0sIHBhcGVyUHJvcHMpLFxuICAgICAgICAgICAgICB0aXRsZUVsZW1lbnQsXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlZjogJ2RpYWxvZ0NvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBib2R5Q2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmJvZHkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfT3ZlcmxheTIuZGVmYXVsdCwge1xuICAgICAgICAgIHNob3c6IG9wZW4sXG4gICAgICAgICAgY2xhc3NOYW1lOiBvdmVybGF5Q2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMub3ZlcmxheSxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwT3ZlcmxheVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERpYWxvZ0lubGluZTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRpYWxvZ0lubGluZS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGlhbG9nSW5saW5lLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgYWN0aW9uczogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aW9uc0NvbnRhaW5lclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgYXV0b0RldGVjdFdpbmRvd0hlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYm9keUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGJvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGNvbnRlbnRDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtb2RhbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvblJlcXVlc3RDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgb3ZlcmxheUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHBhcGVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgcGFwZXJQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHJlcG9zaXRpb25PblVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIHRpdGxlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgdGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxudmFyIERpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50Mykge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEaWFsb2csIF9Db21wb25lbnQzKTtcblxuICBmdW5jdGlvbiBEaWFsb2coKSB7XG4gICAgdmFyIF9yZWYzO1xuXG4gICAgdmFyIF90ZW1wMywgX3RoaXMzLCBfcmV0MztcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERpYWxvZyk7XG5cbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0MyA9IChfdGVtcDMgPSAoX3RoaXMzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZjMgPSBEaWFsb2cuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERpYWxvZykpLmNhbGwuYXBwbHkoX3JlZjMsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMzKSwgX3RoaXMzLnJlbmRlckxheWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KERpYWxvZ0lubGluZSwgX3RoaXMzLnByb3BzKTtcbiAgICB9LCBfdGVtcDMpLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzMywgX3JldDMpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGlhbG9nLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUmVuZGVyVG9MYXllcjIuZGVmYXVsdCwgeyByZW5kZXI6IHRoaXMucmVuZGVyTGF5ZXIsIG9wZW46IHRydWUsIHVzZUxheWVyRm9yQ2xpY2tBd2F5OiBmYWxzZSB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERpYWxvZztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRpYWxvZy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGlhbG9nLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b0RldGVjdFdpbmRvd0hlaWdodDogdHJ1ZSxcbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBmYWxzZSxcbiAgbW9kYWw6IGZhbHNlLFxuICByZXBvc2l0aW9uT25VcGRhdGU6IHRydWVcbn07XG5EaWFsb2cucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQWN0aW9uIGJ1dHRvbnMgdG8gZGlzcGxheSBiZWxvdyB0aGUgRGlhbG9nIGNvbnRlbnQgKGBjaGlsZHJlbmApLlxuICAgKiBUaGlzIHByb3BlcnR5IGFjY2VwdHMgZWl0aGVyIGEgUmVhY3QgZWxlbWVudCwgb3IgYW4gYXJyYXkgb2YgUmVhY3QgZWxlbWVudHMuXG4gICAqL1xuICBhY3Rpb25zOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBhY3Rpb25zIGNvbnRhaW5lcidzIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGFjdGlvbnNDb250YWluZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBhY3Rpb25zIGNvbnRhaW5lcidzIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGFjdGlvbnNDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGhlaWdodCBvZiB0aGUgYERpYWxvZ2Agd2lsbCBiZSBhdXRvIGRldGVjdGVkLiBBIG1heCBoZWlnaHRcbiAgICogd2lsbCBiZSBlbmZvcmNlZCBzbyB0aGF0IHRoZSBjb250ZW50IGRvZXMgbm90IGV4dGVuZCBiZXlvbmQgdGhlIHZpZXdwb3J0LlxuICAgKi9cbiAgYXV0b0RldGVjdFdpbmRvd0hlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBib2R5IGNvbnRlbnQgb2YgdGhlIGBEaWFsb2dgIHdpbGwgYmUgc2Nyb2xsYWJsZS5cbiAgICovXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgY29udGVudCdzIHJvb3QgZWxlbWVudCB1bmRlciB0aGUgdGl0bGUuXG4gICAqL1xuICBib2R5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCdzIHJvb3QgZWxlbWVudCB1bmRlciB0aGUgdGl0bGUuXG4gICAqL1xuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgY29udGVudCBjb250YWluZXIuXG4gICAqL1xuICBjb250ZW50Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCBjb250YWluZXIuXG4gICAqL1xuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogRm9yY2UgdGhlIHVzZXIgdG8gdXNlIG9uZSBvZiB0aGUgYWN0aW9ucyBpbiB0aGUgYERpYWxvZ2AuXG4gICAqIENsaWNraW5nIG91dHNpZGUgdGhlIGBEaWFsb2dgIHdpbGwgbm90IHRyaWdnZXIgdGhlIGBvblJlcXVlc3RDbG9zZWAuXG4gICAqL1xuICBtb2RhbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYERpYWxvZ2AgaXMgcmVxdWVzdGVkIHRvIGJlIGNsb3NlZCBieSBhIGNsaWNrIG91dHNpZGUgdGhlIGBEaWFsb2dgIG9yIG9uIHRoZSBidXR0b25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2x9IGJ1dHRvbkNsaWNrZWQgRGV0ZXJtaW5lcyB3aGV0aGVyIGEgYnV0dG9uIGNsaWNrIHRyaWdnZXJlZCB0aGlzIHJlcXVlc3QuXG4gICAqL1xuICBvblJlcXVlc3RDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgRGlhbG9nIGlzIG9wZW5lZCBvciBub3QuXG4gICAqL1xuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGBPdmVybGF5YCBjb21wb25lbnQgdGhhdCBpcyByZW5kZXJlZCBiZWhpbmQgdGhlIGBEaWFsb2dgLlxuICAgKi9cbiAgb3ZlcmxheUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGBPdmVybGF5YCBjb21wb25lbnQgdGhhdCBpcyByZW5kZXJlZCBiZWhpbmQgdGhlIGBEaWFsb2dgLlxuICAgKi9cbiAgb3ZlcmxheVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBDU1MgY2xhc3MgbmFtZSBvZiB0aGUgYFBhcGVyYCBlbGVtZW50LlxuICAgKi9cbiAgcGFwZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogUHJvcGVydGllcyBhcHBsaWVkIHRvIHRoZSBgUGFwZXJgIGVsZW1lbnQuXG4gICAqL1xuICBwYXBlclByb3BzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgYERpYWxvZ2Agc2hvdWxkIGJlIHJlcG9zaXRpb25lZCB3aGVuIGl0J3MgY29udGVudHMgYXJlIHVwZGF0ZWQuXG4gICAqL1xuICByZXBvc2l0aW9uT25VcGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgdGl0bGUgdG8gZGlzcGxheSBvbiB0aGUgYERpYWxvZ2AuIENvdWxkIGJlIG51bWJlciwgc3RyaW5nLCBlbGVtZW50IG9yIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlc2UgdHlwZXMuXG4gICAqL1xuICB0aXRsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgdGl0bGUncyByb290IGNvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgdGl0bGVDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB0aXRsZSdzIHJvb3QgY29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICB0aXRsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRGlhbG9nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EaWFsb2cvRGlhbG9nLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9hcnJvd0Ryb3BEb3duID0gcmVxdWlyZSgnLi4vc3ZnLWljb25zL25hdmlnYXRpb24vYXJyb3ctZHJvcC1kb3duJyk7XG5cbnZhciBfYXJyb3dEcm9wRG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJvd0Ryb3BEb3duKTtcblxudmFyIF9NZW51ID0gcmVxdWlyZSgnLi4vTWVudS9NZW51Jyk7XG5cbnZhciBfTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51KTtcblxudmFyIF9DbGVhckZpeCA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0NsZWFyRml4Jyk7XG5cbnZhciBfQ2xlYXJGaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xlYXJGaXgpO1xuXG52YXIgX1BvcG92ZXIgPSByZXF1aXJlKCcuLi9Qb3BvdmVyL1BvcG92ZXInKTtcblxudmFyIF9Qb3BvdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXIpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCA9IHJlcXVpcmUoJy4uL1BvcG92ZXIvUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsJyk7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCk7XG5cbnZhciBfa2V5Y29kZSA9IHJlcXVpcmUoJ2tleWNvZGUnKTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX2V2ZW50cyA9IHJlcXVpcmUoJy4uL3V0aWxzL2V2ZW50cycpO1xuXG52YXIgX2V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudHMpO1xuXG52YXIgX0ljb25CdXR0b24gPSByZXF1aXJlKCcuLi9JY29uQnV0dG9uJyk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9wcm9wVHlwZXMzID0gcmVxdWlyZSgnLi4vdXRpbHMvcHJvcFR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlczMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQ7XG5cbiAgdmFyIHNwYWNpbmcgPSBjb250ZXh0Lm11aVRoZW1lLmJhc2VUaGVtZS5zcGFjaW5nO1xuICB2YXIgcGFsZXR0ZSA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnBhbGV0dGU7XG4gIHZhciBhY2NlbnRDb2xvciA9IGNvbnRleHQubXVpVGhlbWUuZHJvcERvd25NZW51LmFjY2VudENvbG9yO1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2w6IHtcbiAgICAgIGN1cnNvcjogZGlzYWJsZWQgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGZpbGw6IGFjY2VudENvbG9yLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICByaWdodDogc3BhY2luZy5kZXNrdG9wR3V0dGVyTGVzcyxcbiAgICAgIHRvcDogKHNwYWNpbmcuaWNvblNpemUgLSAyNCkgLyAyICsgc3BhY2luZy5kZXNrdG9wR3V0dGVyTWluaSAvIDJcbiAgICB9LFxuICAgIGljb25DaGlsZHJlbjoge1xuICAgICAgZmlsbDogJ2luaGVyaXQnXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgY29sb3I6IGRpc2FibGVkID8gcGFsZXR0ZS5kaXNhYmxlZENvbG9yIDogcGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBoZWlnaHQ6IHNwYWNpbmcuZGVza3RvcFRvb2xiYXJIZWlnaHQgKyAncHgnLFxuICAgICAgbGluZUhlaWdodDogc3BhY2luZy5kZXNrdG9wVG9vbGJhckhlaWdodCArICdweCcsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBwYWRkaW5nTGVmdDogc3BhY2luZy5kZXNrdG9wR3V0dGVyLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBzcGFjaW5nLmljb25TaXplICogMiArIHNwYWNpbmcuZGVza3RvcEd1dHRlck1pbmksXG4gICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICB0b3A6IDAsXG4gICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJ1xuICAgIH0sXG4gICAgbGFiZWxXaGVuT3Blbjoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRvcDogc3BhY2luZy5kZXNrdG9wVG9vbGJhckhlaWdodCAvIDhcbiAgICB9LFxuICAgIHJvb3Q6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZm9udFNpemU6IHNwYWNpbmcuZGVza3RvcERyb3BEb3duTWVudUZvbnRTaXplLFxuICAgICAgaGVpZ2h0OiBzcGFjaW5nLmRlc2t0b3BTdWJoZWFkZXJIZWlnaHQsXG4gICAgICBmb250RmFtaWx5OiBjb250ZXh0Lm11aVRoZW1lLmJhc2VUaGVtZS5mb250RmFtaWx5LFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpXG4gICAgfSxcbiAgICByb290V2hlbk9wZW46IHtcbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9LFxuICAgIHVuZGVybGluZToge1xuICAgICAgYm9yZGVyVG9wOiAnc29saWQgMXB4ICcgKyBhY2NlbnRDb2xvcixcbiAgICAgIGJvdHRvbTogMSxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBtYXJnaW46ICctMXB4ICcgKyBzcGFjaW5nLmRlc2t0b3BHdXR0ZXIgKyAncHgnLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH1cbiAgfTtcbn1cblxudmFyIERyb3BEb3duTWVudSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERyb3BEb3duTWVudSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRHJvcERvd25NZW51KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERyb3BEb3duTWVudSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEcm9wRG93bk1lbnUuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERyb3BEb3duTWVudSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGhpcy5yb290Tm9kZSA9IHVuZGVmaW5lZCwgX3RoaXMuYXJyb3dOb2RlID0gdW5kZWZpbmVkLCBfdGhpcy5oYW5kbGVUb3VjaFRhcENvbnRyb2wgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiAhX3RoaXMuc3RhdGUub3BlbixcbiAgICAgICAgICBhbmNob3JFbDogX3RoaXMucm9vdE5vZGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKGZhbHNlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVFc2NLZXlEb3duTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKHRydWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkpIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICBjYXNlICdkb3duJzpcbiAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgYW5jaG9yRWw6IF90aGlzLnJvb3ROb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlSXRlbVRvdWNoVGFwID0gZnVuY3Rpb24gKGV2ZW50LCBjaGlsZCwgaW5kZXgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICBpZiAoIV90aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46IGZhbHNlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGV2ZW50LCBpbmRleCwgY2hpbGQucHJvcHMudmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmNsb3NlKF9ldmVudHMyLmRlZmF1bHQuaXNLZXlib2FyZChldmVudCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMubXVsdGlwbGUgJiYgX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQsIHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKGlzS2V5Ym9hcmQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNLZXlib2FyZCkge1xuICAgICAgICAgIHZhciBkcm9wQXJyb3cgPSBfdGhpcy5hcnJvd05vZGU7XG4gICAgICAgICAgdmFyIGRyb3BOb2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKGRyb3BBcnJvdyk7XG4gICAgICAgICAgZHJvcE5vZGUuZm9jdXMoKTtcbiAgICAgICAgICBkcm9wQXJyb3cuc2V0S2V5Ym9hcmRGb2N1cyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIC8vIFRoZSBuZXN0ZWQgc3R5bGVzIGZvciBkcm9wLWRvd24tbWVudSBhcmUgbW9kaWZpZWQgYnkgdG9vbGJhciBhbmQgcG9zc2libHlcbiAgLy8gb3RoZXIgdXNlciBjb21wb25lbnRzLCBzbyBpdCB3aWxsIGdpdmUgZnVsbCBhY2Nlc3MgdG8gaXRzIGpzIHN0eWxlcyByYXRoZXJcbiAgLy8gdGhhbiBqdXN0IHRoZSBwYXJlbnQuXG5cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEcm9wRG93bk1lbnUsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5hdXRvV2lkdGgpIHtcbiAgICAgICAgdGhpcy5zZXRXaWR0aCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMub3BlbkltbWVkaWF0ZWx5KSB7XG4gICAgICAgIC8vIFRPRE86IFRlbXBvcmFyeSBmaXggdG8gbWFrZSBvcGVuSW1tZWRpYXRlbHkgd29yayB3aXRoIHBvcG92ZXIuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGUgKi9cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgYW5jaG9yRWw6IF90aGlzMi5yb290Tm9kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlICovXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5hdXRvV2lkdGgpIHtcbiAgICAgICAgdGhpcy5zZXRXaWR0aCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldElucHV0Tm9kZScsXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYnV0IHN0aWxsIGhlcmUgYmVjYXVzZSB0aGUgVGV4dEZpZWxkXG4gICAgICogbmVlZCBpdCBpbiBvcmRlciB0byB3b3JrLiBUT0RPOiBUaGF0IHdpbGwgYmUgYWRkcmVzc2VkIGxhdGVyLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnB1dE5vZGUoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHJvb3ROb2RlID0gdGhpcy5yb290Tm9kZTtcblxuICAgICAgcm9vdE5vZGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46ICFfdGhpczMuc3RhdGUub3BlbixcbiAgICAgICAgICAgIGFuY2hvckVsOiBfdGhpczMucm9vdE5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJvb3ROb2RlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0V2lkdGgoKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzLnJvb3ROb2RlO1xuICAgICAgaWYgKCF0aGlzLnByb3BzLnN0eWxlIHx8ICF0aGlzLnByb3BzLnN0eWxlLmhhc093blByb3BlcnR5KCd3aWR0aCcpKSB7XG4gICAgICAgIGVsLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbmltYXRlZCA9IF9wcm9wcy5hbmltYXRlZCxcbiAgICAgICAgICBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uLFxuICAgICAgICAgIGF1dG9XaWR0aCA9IF9wcm9wcy5hdXRvV2lkdGgsXG4gICAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMuaWNvblN0eWxlLFxuICAgICAgICAgIGxhYmVsU3R5bGUgPSBfcHJvcHMubGFiZWxTdHlsZSxcbiAgICAgICAgICBsaXN0U3R5bGUgPSBfcHJvcHMubGlzdFN0eWxlLFxuICAgICAgICAgIG1heEhlaWdodCA9IF9wcm9wcy5tYXhIZWlnaHQsXG4gICAgICAgICAgbWVudVN0eWxlUHJvcCA9IF9wcm9wcy5tZW51U3R5bGUsXG4gICAgICAgICAgc2VsZWN0aW9uUmVuZGVyZXIgPSBfcHJvcHMuc2VsZWN0aW9uUmVuZGVyZXIsXG4gICAgICAgICAgb25DbG9zZSA9IF9wcm9wcy5vbkNsb3NlLFxuICAgICAgICAgIG9wZW5JbW1lZGlhdGVseSA9IF9wcm9wcy5vcGVuSW1tZWRpYXRlbHksXG4gICAgICAgICAgbWVudUl0ZW1TdHlsZSA9IF9wcm9wcy5tZW51SXRlbVN0eWxlLFxuICAgICAgICAgIHNlbGVjdGVkTWVudUl0ZW1TdHlsZSA9IF9wcm9wcy5zZWxlY3RlZE1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdW5kZXJsaW5lU3R5bGUgPSBfcHJvcHMudW5kZXJsaW5lU3R5bGUsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgaWNvbkJ1dHRvbiA9IF9wcm9wcy5pY29uQnV0dG9uLFxuICAgICAgICAgIGFuY2hvck9yaWdpbiA9IF9wcm9wcy5hbmNob3JPcmlnaW4sXG4gICAgICAgICAgdGFyZ2V0T3JpZ2luID0gX3Byb3BzLnRhcmdldE9yaWdpbixcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhbmltYXRlZCcsICdhbmltYXRpb24nLCAnYXV0b1dpZHRoJywgJ211bHRpcGxlJywgJ2NoaWxkcmVuJywgJ2NsYXNzTmFtZScsICdkaXNhYmxlZCcsICdpY29uU3R5bGUnLCAnbGFiZWxTdHlsZScsICdsaXN0U3R5bGUnLCAnbWF4SGVpZ2h0JywgJ21lbnVTdHlsZScsICdzZWxlY3Rpb25SZW5kZXJlcicsICdvbkNsb3NlJywgJ29wZW5JbW1lZGlhdGVseScsICdtZW51SXRlbVN0eWxlJywgJ3NlbGVjdGVkTWVudUl0ZW1TdHlsZScsICdzdHlsZScsICd1bmRlcmxpbmVTdHlsZScsICd2YWx1ZScsICdpY29uQnV0dG9uJywgJ2FuY2hvck9yaWdpbicsICd0YXJnZXRPcmlnaW4nXSk7XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhbmNob3JFbCA9IF9zdGF0ZS5hbmNob3JFbCxcbiAgICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW47XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG5cbiAgICAgIHZhciBkaXNwbGF5VmFsdWUgPSAnJztcbiAgICAgIGlmICghbXVsdGlwbGUpIHtcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIGlmIChjaGlsZCAmJiB2YWx1ZSA9PT0gY2hpbGQucHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25SZW5kZXJlcikge1xuICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBzZWxlY3Rpb25SZW5kZXJlcih2YWx1ZSwgY2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIG5lZWQgdG8gYmUgaW1wcm92ZWQgKGluIGNhc2UgcHJpbWFyeVRleHQgaXMgYSBub2RlKVxuICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBjaGlsZC5wcm9wcy5sYWJlbCB8fCBjaGlsZC5wcm9wcy5wcmltYXJ5VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0aW9uUmVuZGVyZXJDaGlsZHJlbiA9IFtdO1xuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkICYmIHZhbHVlICYmIHZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25SZW5kZXJlcikge1xuICAgICAgICAgICAgICB2YWx1ZXMucHVzaChjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICAgIHNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWx1ZXMucHVzaChjaGlsZC5wcm9wcy5sYWJlbCB8fCBjaGlsZC5wcm9wcy5wcmltYXJ5VGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkaXNwbGF5VmFsdWUgPSBbXTtcbiAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgZGlzcGxheVZhbHVlID0gc2VsZWN0aW9uUmVuZGVyZXIodmFsdWVzLCBzZWxlY3Rpb25SZW5kZXJlckNoaWxkcmVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXNwbGF5VmFsdWUgPSB2YWx1ZXMuam9pbignLCAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbWVudVN0eWxlID0gdm9pZCAwO1xuICAgICAgaWYgKGFuY2hvckVsICYmICFhdXRvV2lkdGgpIHtcbiAgICAgICAgbWVudVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHtcbiAgICAgICAgICB3aWR0aDogYW5jaG9yRWwuY2xpZW50V2lkdGhcbiAgICAgICAgfSwgbWVudVN0eWxlUHJvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW51U3R5bGUgPSBtZW51U3R5bGVQcm9wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICAgIF90aGlzNC5yb290Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5yb290LCBvcGVuICYmIHN0eWxlcy5yb290V2hlbk9wZW4sIHN0eWxlKSlcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9DbGVhckZpeDIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuY29udHJvbCwgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcENvbnRyb2wgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5sYWJlbCwgb3BlbiAmJiBzdHlsZXMubGFiZWxXaGVuT3BlbiwgbGFiZWxTdHlsZSkpIH0sXG4gICAgICAgICAgICBkaXNwbGF5VmFsdWVcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuYXJyb3dOb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmljb24sIGljb25TdHlsZSksXG4gICAgICAgICAgICAgIGljb25TdHlsZTogc3R5bGVzLmljb25DaGlsZHJlblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGljb25CdXR0b25cbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnVuZGVybGluZSwgdW5kZXJsaW5lU3R5bGUpKSB9KVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfUG9wb3ZlcjIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhbmNob3JPcmlnaW46IGFuY2hvck9yaWdpbixcbiAgICAgICAgICAgIHRhcmdldE9yaWdpbjogdGFyZ2V0T3JpZ2luLFxuICAgICAgICAgICAgYW5jaG9yRWw6IGFuY2hvckVsLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiBhbmltYXRpb24gfHwgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICBhbmltYXRlZDogYW5pbWF0ZWQsXG4gICAgICAgICAgICBvblJlcXVlc3RDbG9zZTogdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VNZW51XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9NZW51Mi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICAgICAgICAgIG1heEhlaWdodDogbWF4SGVpZ2h0LFxuICAgICAgICAgICAgICBkZXNrdG9wOiB0cnVlLFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgIG9uRXNjS2V5RG93bjogdGhpcy5oYW5kbGVFc2NLZXlEb3duTWVudSxcbiAgICAgICAgICAgICAgc3R5bGU6IG1lbnVTdHlsZSxcbiAgICAgICAgICAgICAgbGlzdFN0eWxlOiBsaXN0U3R5bGUsXG4gICAgICAgICAgICAgIG9uSXRlbVRvdWNoVGFwOiB0aGlzLmhhbmRsZUl0ZW1Ub3VjaFRhcCxcbiAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICBtZW51SXRlbVN0eWxlOiBtZW51SXRlbVN0eWxlLFxuICAgICAgICAgICAgICBzZWxlY3RlZE1lbnVJdGVtU3R5bGU6IHNlbGVjdGVkTWVudUl0ZW1TdHlsZSxcbiAgICAgICAgICAgICAgYXV0b1dpZHRoOiBhdXRvV2lkdGgsXG4gICAgICAgICAgICAgIHdpZHRoOiAhYXV0b1dpZHRoICYmIG1lbnVTdHlsZSA/IG1lbnVTdHlsZS53aWR0aCA6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERyb3BEb3duTWVudTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRyb3BEb3duTWVudS5tdWlOYW1lID0gJ0Ryb3BEb3duTWVudSc7XG5Ecm9wRG93bk1lbnUuZGVmYXVsdFByb3BzID0ge1xuICBhbmltYXRlZDogdHJ1ZSxcbiAgYXV0b1dpZHRoOiB0cnVlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGljb25CdXR0b246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hcnJvd0Ryb3BEb3duMi5kZWZhdWx0LCBudWxsKSxcbiAgb3BlbkltbWVkaWF0ZWx5OiBmYWxzZSxcbiAgbWF4SGVpZ2h0OiA1MDAsXG4gIG11bHRpcGxlOiBmYWxzZSxcbiAgYW5jaG9yT3JpZ2luOiB7XG4gICAgdmVydGljYWw6ICd0b3AnLFxuICAgIGhvcml6b250YWw6ICdsZWZ0J1xuICB9XG59O1xuRHJvcERvd25NZW51LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5Ecm9wRG93bk1lbnUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgcG9pbnQgb24gdGhlIGFuY2hvciB0aGF0IHRoZSBwb3BvdmVyJ3NcbiAgICogYHRhcmdldE9yaWdpbmAgd2lsbCBhdHRhY2ggdG8uXG4gICAqIE9wdGlvbnM6XG4gICAqIHZlcnRpY2FsOiBbdG9wLCBjZW50ZXIsIGJvdHRvbV1cbiAgICogaG9yaXpvbnRhbDogW2xlZnQsIG1pZGRsZSwgcmlnaHRdLlxuICAgKi9cbiAgYW5jaG9yT3JpZ2luOiBfcHJvcFR5cGVzNC5kZWZhdWx0Lm9yaWdpbixcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBwb3BvdmVyIHdpbGwgYXBwbHkgdHJhbnNpdGlvbnMgd2hlblxuICAgKiBpdCBnZXRzIGFkZGVkIHRvIHRoZSBET00uXG4gICAqL1xuICBhbmltYXRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgYW5pbWF0aW9uIGNvbXBvbmVudCB1c2VkLlxuICAgKi9cbiAgYW5pbWF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggd2lsbCBhdXRvbWF0aWNhbGx5IGJlIHNldCBhY2NvcmRpbmcgdG8gdGhlIGl0ZW1zIGluc2lkZSB0aGUgbWVudS5cbiAgICogVG8gY29udHJvbCB0aGlzIHdpZHRoIGluIGNzcyBpbnN0ZWFkLCBzZXQgdGhpcyBwcm9wIHRvIGBmYWxzZWAuXG4gICAqL1xuICBhdXRvV2lkdGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBgTWVudUl0ZW1gcyB0byBwb3B1bGF0ZSB0aGUgYE1lbnVgIHdpdGguIElmIHRoZSBgTWVudUl0ZW1zYCBoYXZlIHRoZVxuICAgKiBwcm9wIGBsYWJlbGAgdGhhdCB2YWx1ZSB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSByZXByZXNlbnRhdGlvbiBvZiB0aGF0XG4gICAqIGl0ZW0gd2l0aGluIHRoZSBmaWVsZC5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgY3NzIGNsYXNzIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgbWVudS5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgU3ZnSWNvbmAgZHJvcGRvd24gYXJyb3cgY29tcG9uZW50LlxuICAgKi9cbiAgaWNvbkJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBzdHlsZXMgb2YgaWNvbiBlbGVtZW50LlxuICAgKi9cbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgc3R5bGVzIG9mIGxhYmVsIHdoZW4gdGhlIGBEcm9wRG93bk1lbnVgIGlzIGluYWN0aXZlLlxuICAgKi9cbiAgbGFiZWxTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2JqZWN0IHRvIHVzZSB0byBvdmVycmlkZSB1bmRlcmx5aW5nIGxpc3Qgc3R5bGUuXG4gICAqL1xuICBsaXN0U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIG1heGltdW0gaGVpZ2h0IG9mIHRoZSBgTWVudWAgd2hlbiBpdCBpcyBkaXNwbGF5ZWQuXG4gICAqL1xuICBtYXhIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgbWVudSBpdGVtcy5cbiAgICovXG4gIG1lbnVJdGVtU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBzdHlsZXMgb2YgYE1lbnVgIHdoZW4gdGhlIGBEcm9wRG93bk1lbnVgIGlzIGRpc3BsYXllZC5cbiAgICovXG4gIG1lbnVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCBgdmFsdWVgIG11c3QgYmUgYW4gYXJyYXkgYW5kIHRoZSBtZW51IHdpbGwgc3VwcG9ydFxuICAgKiBtdWx0aXBsZSBzZWxlY3Rpb25zLlxuICAgKi9cbiAgbXVsdGlwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gYSBtZW51IGl0ZW0gaXMgY2xpY2tlZCwgb3RoZXIgdGhhbiB0aGUgb25lIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRvdWNoVGFwIGV2ZW50IHRhcmdldGluZyB0aGUgbWVudSBpdGVtIHRoYXQgd2FzIGNsaWNrZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBrZXkgVGhlIGluZGV4IG9mIHRoZSBjbGlja2VkIG1lbnUgaXRlbSBpbiB0aGUgYGNoaWxkcmVuYCBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGUgbWVudSdzIGB2YWx1ZWBcbiAgICogYXJyYXkgd2l0aCBlaXRoZXIgdGhlIG1lbnUgaXRlbSdzIGB2YWx1ZWAgYWRkZWQgKGlmXG4gICAqIGl0IHdhc24ndCBhbHJlYWR5IHNlbGVjdGVkKSBvciBvbWl0dGVkIChpZiBpdCB3YXMgYWxyZWFkeSBzZWxlY3RlZCkuXG4gICAqIE90aGVyd2lzZSwgdGhlIGB2YWx1ZWAgb2YgdGhlIG1lbnUgaXRlbS5cbiAgICovXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBtZW51IGlzIGNsb3NlZC5cbiAgICovXG4gIG9uQ2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIGhhdmUgdGhlIGBEcm9wRG93bk1lbnVgIGF1dG9tYXRpY2FsbHkgb3BlbiBvbiBtb3VudC5cbiAgICovXG4gIG9wZW5JbW1lZGlhdGVseTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2Ygc2VsZWN0ZWQgbWVudSBpdGVtcy5cbiAgICovXG4gIHNlbGVjdGVkTWVudUl0ZW1TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIGEgbWVudSBpdGVtIGlzIGNsaWNrZWQsIG90aGVyIHRoYW4gdGhlIG9uZSBjdXJyZW50bHkgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIHRoZSBtZW51J3MgYHZhbHVlYFxuICAgKiBhcnJheSB3aXRoIGVpdGhlciB0aGUgbWVudSBpdGVtJ3MgYHZhbHVlYCBhZGRlZCAoaWZcbiAgICogaXQgd2Fzbid0IGFscmVhZHkgc2VsZWN0ZWQpIG9yIG9taXR0ZWQgKGlmIGl0IHdhcyBhbHJlYWR5IHNlbGVjdGVkKS5cbiAgICogT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgbWVudSBpdGVtLlxuICAgKiBAcGFyYW0ge2FueX0gbWVudUl0ZW0gVGhlIHNlbGVjdGVkIGBNZW51SXRlbWAuXG4gICAqIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhpcyB3aWxsIGJlIGFuIGFycmF5IHdpdGggdGhlIGBNZW51SXRlbWBzIG1hdGNoaW5nIHRoZSBgdmFsdWVgcyBwYXJhbWV0ZXIuXG4gICAqL1xuICBzZWxlY3Rpb25SZW5kZXJlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIHBvaW50IG9uIHRoZSBwb3BvdmVyIHdoaWNoIHdpbGwgYXR0YWNoIHRvXG4gICAqIHRoZSBhbmNob3IncyBvcmlnaW4uXG4gICAqIE9wdGlvbnM6XG4gICAqIHZlcnRpY2FsOiBbdG9wLCBjZW50ZXIsIGJvdHRvbV1cbiAgICogaG9yaXpvbnRhbDogW2xlZnQsIG1pZGRsZSwgcmlnaHRdLlxuICAgKi9cbiAgdGFyZ2V0T3JpZ2luOiBfcHJvcFR5cGVzNC5kZWZhdWx0Lm9yaWdpbixcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdW5kZXJsaW5lLlxuICAgKi9cbiAgdW5kZXJsaW5lU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgYG11bHRpcGxlYCBpcyB0cnVlLCBhbiBhcnJheSBvZiB0aGUgYHZhbHVlYHMgb2YgdGhlIHNlbGVjdGVkXG4gICAqIG1lbnUgaXRlbXMuIE90aGVyd2lzZSwgdGhlIGB2YWx1ZWAgb2YgdGhlIHNlbGVjdGVkIG1lbnUgaXRlbS5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBtZW51IHdpbGwgYmUgYSBjb250cm9sbGVkIGNvbXBvbmVudC5cbiAgICovXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRHJvcERvd25NZW51O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9Ecm9wRG93bk1lbnUvRHJvcERvd25NZW51LmpzXG4vLyBtb2R1bGUgaWQgPSAxNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lciA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0NsaWNrQXdheUxpc3RlbmVyJyk7XG5cbnZhciBfQ2xpY2tBd2F5TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xpY2tBd2F5TGlzdGVuZXIpO1xuXG52YXIgX1NuYWNrYmFyQm9keSA9IHJlcXVpcmUoJy4vU25hY2tiYXJCb2R5Jyk7XG5cbnZhciBfU25hY2tiYXJCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyQm9keSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgekluZGV4ID0gX2NvbnRleHQkbXVpVGhlbWUuekluZGV4O1xuICB2YXIgb3BlbiA9IHN0YXRlLm9wZW47XG5cblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBib3R0b206IDAsXG4gICAgICB6SW5kZXg6IHpJbmRleC5zbmFja2JhcixcbiAgICAgIHZpc2liaWxpdHk6IG9wZW4gPyAndmlzaWJsZScgOiAnaGlkZGVuJyxcbiAgICAgIHRyYW5zZm9ybTogb3BlbiA/ICd0cmFuc2xhdGUoLTUwJSwgMCknIDogJ3RyYW5zbGF0ZSgtNTAlLCAnICsgZGVza3RvcFN1YmhlYWRlckhlaWdodCArICdweCknLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQwMG1zJywgJ3RyYW5zZm9ybScpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICd2aXNpYmlsaXR5JylcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIFNuYWNrYmFyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU25hY2tiYXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNuYWNrYmFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNuYWNrYmFyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFNuYWNrYmFyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShTbmFja2JhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudENsaWNrQXdheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy50aW1lclRyYW5zaXRpb25JZCkge1xuICAgICAgICAvLyBJZiB0cmFuc2l0aW9uaW5nLCBkb24ndCBjbG9zZSB0aGUgc25hY2tiYXIuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9wZW4gIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoJ2NsaWNrYXdheScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU25hY2tiYXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRoaXMucHJvcHMub3BlbixcbiAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy5tZXNzYWdlLFxuICAgICAgICBhY3Rpb246IHRoaXMucHJvcHMuYWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLnNldEF1dG9IaWRlVGltZXIoKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uVGltZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5vcGVuICYmIG5leHRQcm9wcy5vcGVuICYmIChuZXh0UHJvcHMubWVzc2FnZSAhPT0gdGhpcy5wcm9wcy5tZXNzYWdlIHx8IG5leHRQcm9wcy5hY3Rpb24gIT09IHRoaXMucHJvcHMuYWN0aW9uKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lck9uZUF0VGhlVGltZUlkKTtcbiAgICAgICAgdGhpcy50aW1lck9uZUF0VGhlVGltZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5leHRQcm9wcy5tZXNzYWdlLFxuICAgICAgICAgICAgYWN0aW9uOiBuZXh0UHJvcHMuYWN0aW9uLFxuICAgICAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9wZW4gPSBuZXh0UHJvcHMub3BlbjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBvcGVuICE9PSBudWxsID8gb3BlbiA6IHRoaXMuc3RhdGUub3BlbixcbiAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMubWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb246IG5leHRQcm9wcy5hY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAocHJldlN0YXRlLm9wZW4gIT09IHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGlkZVRpbWVyKCk7XG4gICAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uVGltZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lclRyYW5zaXRpb25JZCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lck9uZUF0VGhlVGltZUlkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRBdXRvSGlkZVRpbWVyJyxcblxuXG4gICAgLy8gVGltZXIgdGhhdCBjb250cm9scyBkZWxheSBiZWZvcmUgc25hY2tiYXIgYXV0byBoaWRlc1xuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRvSGlkZVRpbWVyKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBhdXRvSGlkZUR1cmF0aW9uID0gdGhpcy5wcm9wcy5hdXRvSGlkZUR1cmF0aW9uO1xuXG4gICAgICBpZiAoYXV0b0hpZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgICAgdGhpcy50aW1lckF1dG9IaWRlSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLm9wZW4gIT09IG51bGwgJiYgX3RoaXMzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25SZXF1ZXN0Q2xvc2UoJ3RpbWVvdXQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBhdXRvSGlkZUR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaW1lciB0aGF0IGNvbnRyb2xzIGRlbGF5IGJlZm9yZSBjbGljay1hd2F5IGV2ZW50cyBhcmUgY2FwdHVyZWQgKGJhc2VkIG9uIHdoZW4gYW5pbWF0aW9uIGNvbXBsZXRlcylcblxuICB9LCB7XG4gICAga2V5OiAnc2V0VHJhbnNpdGlvblRpbWVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhbnNpdGlvblRpbWVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHRoaXMudGltZXJUcmFuc2l0aW9uSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnRpbWVyVHJhbnNpdGlvbklkID0gdW5kZWZpbmVkO1xuICAgICAgfSwgNDAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uID0gX3Byb3BzLmF1dG9IaWRlRHVyYXRpb24sXG4gICAgICAgICAgY29udGVudFN0eWxlID0gX3Byb3BzLmNvbnRlbnRTdHlsZSxcbiAgICAgICAgICBib2R5U3R5bGUgPSBfcHJvcHMuYm9keVN0eWxlLFxuICAgICAgICAgIG1lc3NhZ2VQcm9wID0gX3Byb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgb25SZXF1ZXN0Q2xvc2UgPSBfcHJvcHMub25SZXF1ZXN0Q2xvc2UsXG4gICAgICAgICAgb25BY3Rpb25Ub3VjaFRhcCA9IF9wcm9wcy5vbkFjdGlvblRvdWNoVGFwLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2F1dG9IaWRlRHVyYXRpb24nLCAnY29udGVudFN0eWxlJywgJ2JvZHlTdHlsZScsICdtZXNzYWdlJywgJ29uUmVxdWVzdENsb3NlJywgJ29uQWN0aW9uVG91Y2hUYXAnLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3Rpb24gPSBfc3RhdGUuYWN0aW9uLFxuICAgICAgICAgIG1lc3NhZ2UgPSBfc3RhdGUubWVzc2FnZSxcbiAgICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW47XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0NsaWNrQXdheUxpc3RlbmVyMi5kZWZhdWx0LFxuICAgICAgICB7IG9uQ2xpY2tBd2F5OiBvcGVuID8gdGhpcy5jb21wb25lbnRDbGlja0F3YXkgOiBudWxsIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpKSB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXJCb2R5Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZTogY29udGVudFN0eWxlLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICBvbkFjdGlvblRvdWNoVGFwOiBvbkFjdGlvblRvdWNoVGFwLFxuICAgICAgICAgICAgc3R5bGU6IGJvZHlTdHlsZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTbmFja2Jhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblNuYWNrYmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5TbmFja2Jhci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgZm9yIHRoZSBhY3Rpb24gb24gdGhlIHNuYWNrYmFyLlxuICAgKi9cbiAgYWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBhdXRvbWF0aWNhbGx5IGRpc21pc3NpbmcuXG4gICAqIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCB0aGUgc25hY2tiYXIgd2lsbCBkaXNtaXNzIG5vcm1hbGx5LlxuICAgKiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIHRoZSBzbmFja2JhciBjYW4gc3RpbGwgYmUgZGlzbWlzc2VkIG5vcm1hbGx5LlxuICAgKiBJZiBhIHNuYWNrYmFyIGlzIGRpc21pc3NlZCBiZWZvcmUgdGhlIHRpbWVyIGV4cGlyZXMsIHRoZSB0aW1lciB3aWxsIGJlIGNsZWFyZWQuXG4gICAqL1xuICBhdXRvSGlkZUR1cmF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBib2R5IGVsZW1lbnQuXG4gICAqL1xuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqXG4gICAqIChOb3RlOiBJZiB0aGUgbWVzc2FnZSBpcyBhbiBlbGVtZW50IG9yIGFycmF5LCBhbmQgdGhlIGBTbmFja2JhcmAgbWF5IHJlLXJlbmRlciB3aGlsZSBpdCBpcyBzdGlsbCBvcGVuLFxuICAgKiBlbnN1cmUgdGhhdCB0aGUgc2FtZSBvYmplY3QgcmVtYWlucyBhcyB0aGUgYG1lc3NhZ2VgIHByb3BlcnR5IGlmIHlvdSB3YW50IHRvIGF2b2lkIHRoZSBgU25hY2tiYXJgIGhpZGluZyBhbmRcbiAgICogc2hvd2luZyBhZ2FpbilcbiAgICovXG4gIG1lc3NhZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYWN0aW9uIGJ1dHRvbiBpcyB0b3VjaHRhcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFjdGlvbiBidXR0b24gZXZlbnQuXG4gICAqL1xuICBvbkFjdGlvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBgU25hY2tiYXJgIGlzIHJlcXVlc3RlZCB0byBiZSBjbG9zZWQgYnkgYSBjbGljayBvdXRzaWRlIHRoZSBgU25hY2tiYXJgLCBvciBhZnRlciB0aGVcbiAgICogYGF1dG9IaWRlRHVyYXRpb25gIHRpbWVyIGV4cGlyZXMuXG4gICAqXG4gICAqIFR5cGljYWxseSBgb25SZXF1ZXN0Q2xvc2VgIGlzIHVzZWQgdG8gc2V0IHN0YXRlIGluIHRoZSBwYXJlbnQgY29tcG9uZW50LCB3aGljaCBpcyB1c2VkIHRvIGNvbnRyb2wgdGhlIGBTbmFja2JhcmBcbiAgICogYG9wZW5gIHByb3AuXG4gICAqXG4gICAqIFRoZSBgcmVhc29uYCBwYXJhbWV0ZXIgY2FuIG9wdGlvbmFsbHkgYmUgdXNlZCB0byBjb250cm9sIHRoZSByZXNwb25zZSB0byBgb25SZXF1ZXN0Q2xvc2VgLFxuICAgKiBmb3IgZXhhbXBsZSBpZ25vcmluZyBgY2xpY2thd2F5YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiBDYW4gYmU6YFwidGltZW91dFwiYCAoYGF1dG9IaWRlRHVyYXRpb25gIGV4cGlyZWQpIG9yOiBgXCJjbGlja2F3YXlcImBcbiAgICovXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBgU25hY2tiYXJgIGlzIG9wZW5lZCBvciBub3QuXG4gICAqL1xuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNuYWNrYmFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9TbmFja2Jhci5qc1xuLy8gbW9kdWxlIGlkID0gMTUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5TbmFja2JhckJvZHkgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX3dpdGhXaWR0aCA9IHJlcXVpcmUoJy4uL3V0aWxzL3dpdGhXaWR0aCcpO1xuXG52YXIgX3dpdGhXaWR0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoV2lkdGgpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSByZXF1aXJlKCcuLi9GbGF0QnV0dG9uJyk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIHdpZHRoID0gcHJvcHMud2lkdGg7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMyID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnNwYWNpbmcsXG4gICAgICBkZXNrdG9wR3V0dGVyID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzMi5kZXNrdG9wR3V0dGVyLFxuICAgICAgZGVza3RvcFN1YmhlYWRlckhlaWdodCA9IF9jb250ZXh0JG11aVRoZW1lJGJhczIuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGZvbnRGYW1pbHkgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuZm9udEZhbWlseSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJHNuYSA9IF9jb250ZXh0JG11aVRoZW1lLnNuYWNrYmFyLFxuICAgICAgYmFja2dyb3VuZENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLmJhY2tncm91bmRDb2xvcixcbiAgICAgIHRleHRDb2xvciA9IF9jb250ZXh0JG11aVRoZW1lJHNuYS50ZXh0Q29sb3IsXG4gICAgICBhY3Rpb25Db2xvciA9IF9jb250ZXh0JG11aVRoZW1lJHNuYS5hY3Rpb25Db2xvcixcbiAgICAgIGJvcmRlclJhZGl1cyA9IF9jb250ZXh0JG11aVRoZW1lLmJvcmRlclJhZGl1cztcblxuXG4gIHZhciBpc1NtYWxsID0gd2lkdGggPT09IF93aXRoV2lkdGguU01BTEw7XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBwYWRkaW5nOiAnMCAnICsgZGVza3RvcEd1dHRlciArICdweCcsXG4gICAgICBoZWlnaHQ6IGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQsXG4gICAgICBsaW5lSGVpZ2h0OiBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ICsgJ3B4JyxcbiAgICAgIGJvcmRlclJhZGl1czogaXNTbWFsbCA/IDAgOiBib3JkZXJSYWRpdXMsXG4gICAgICBtYXhXaWR0aDogaXNTbWFsbCA/ICdpbmhlcml0JyA6IDU2OCxcbiAgICAgIG1pbldpZHRoOiBpc1NtYWxsID8gJ2luaGVyaXQnIDogMjg4LFxuICAgICAgd2lkdGg6IGlzU21hbGwgPyAnY2FsYygxMDB2dyAtICcgKyBkZXNrdG9wR3V0dGVyICogMiArICdweCknIDogJ2F1dG8nLFxuICAgICAgZmxleEdyb3c6IGlzU21hbGwgPyAxIDogMFxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgY29sb3I6IHRleHRDb2xvcixcbiAgICAgIG9wYWNpdHk6IG9wZW4gPyAxIDogMCxcbiAgICAgIHRyYW5zaXRpb246IG9wZW4gPyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNTAwbXMnLCAnb3BhY2l0eScsICcxMDBtcycpIDogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQwMG1zJywgJ29wYWNpdHknKVxuICAgIH0sXG4gICAgYWN0aW9uOiB7XG4gICAgICBjb2xvcjogYWN0aW9uQ29sb3IsXG4gICAgICBmbG9hdDogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpblRvcDogNixcbiAgICAgIG1hcmdpblJpZ2h0OiAtMTYsXG4gICAgICBtYXJnaW5MZWZ0OiBkZXNrdG9wR3V0dGVyLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBTbmFja2JhckJvZHkgPSBmdW5jdGlvbiBTbmFja2JhckJvZHkocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGFjdGlvbiA9IHByb3BzLmFjdGlvbixcbiAgICAgIGNvbnRlbnRTdHlsZSA9IHByb3BzLmNvbnRlbnRTdHlsZSxcbiAgICAgIG1lc3NhZ2UgPSBwcm9wcy5tZXNzYWdlLFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICBvbkFjdGlvblRvdWNoVGFwID0gcHJvcHMub25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKHByb3BzLCBbJ2FjdGlvbicsICdjb250ZW50U3R5bGUnLCAnbWVzc2FnZScsICdvcGVuJywgJ29uQWN0aW9uVG91Y2hUYXAnLCAnc3R5bGUnXSk7XG4gIHZhciBwcmVwYXJlU3R5bGVzID0gY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gIHZhciBzdHlsZXMgPSBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpO1xuXG4gIHZhciBhY3Rpb25CdXR0b24gPSBhY3Rpb24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICBzdHlsZTogc3R5bGVzLmFjdGlvbixcbiAgICBsYWJlbDogYWN0aW9uLFxuICAgIG9uVG91Y2hUYXA6IG9uQWN0aW9uVG91Y2hUYXBcbiAgfSk7XG5cbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpKSB9KSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZSkpIH0sXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICBudWxsLFxuICAgICAgICBtZXNzYWdlXG4gICAgICApLFxuICAgICAgYWN0aW9uQnV0dG9uXG4gICAgKVxuICApO1xufTtcblxuZXhwb3J0cy5TbmFja2JhckJvZHkgPSBTbmFja2JhckJvZHk7XG5TbmFja2JhckJvZHkucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogVGhlIGxhYmVsIGZvciB0aGUgYWN0aW9uIG9uIHRoZSBzbmFja2Jhci5cbiAgICovXG4gIGFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqXG4gICAqIChOb3RlOiBJZiB0aGUgbWVzc2FnZSBpcyBhbiBlbGVtZW50IG9yIGFycmF5LCBhbmQgdGhlIGBTbmFja2JhcmAgbWF5IHJlLXJlbmRlciB3aGlsZSBpdCBpcyBzdGlsbCBvcGVuLFxuICAgKiBlbnN1cmUgdGhhdCB0aGUgc2FtZSBvYmplY3QgcmVtYWlucyBhcyB0aGUgYG1lc3NhZ2VgIHByb3BlcnR5IGlmIHlvdSB3YW50IHRvIGF2b2lkIHRoZSBgU25hY2tiYXJgIGhpZGluZyBhbmRcbiAgICogc2hvd2luZyBhZ2FpbilcbiAgICovXG4gIG1lc3NhZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYWN0aW9uIGJ1dHRvbiBpcyB0b3VjaHRhcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFjdGlvbiBidXR0b24gZXZlbnQuXG4gICAqL1xuICBvbkFjdGlvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIGBTbmFja2JhcmAgaXMgb3BlbmVkIG9yIG5vdC5cbiAgICovXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogV2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICovXG4gIHdpZHRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkXG59IDoge307XG5cblNuYWNrYmFyQm9keS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3dpdGhXaWR0aDIuZGVmYXVsdCkoKShTbmFja2JhckJvZHkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9TbmFja2JhckJvZHkuanNcbi8vIG1vZHVsZSBpZCA9IDE1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogIEJlZm9yZUFmdGVyV3JhcHBlclxuICogICAgQW4gYWx0ZXJuYXRpdmUgZm9yIHRoZSA6OmJlZm9yZSBhbmQgOjphZnRlciBjc3MgcHNldWRvLWVsZW1lbnRzIGZvclxuICogICAgY29tcG9uZW50cyB3aG9zZSBzdHlsZXMgYXJlIGRlZmluZWQgaW4gamF2YXNjcmlwdCBpbnN0ZWFkIG9mIGNzcy5cbiAqXG4gKiAgVXNhZ2U6IEZvciB0aGUgZWxlbWVudCB0aGF0IHdlIHdhbnQgdG8gYXBwbHkgYmVmb3JlIGFuZCBhZnRlciBlbGVtZW50cyB0byxcbiAqICAgIHdyYXAgaXRzIGNoaWxkcmVuIHdpdGggQmVmb3JlQWZ0ZXJXcmFwcGVyLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhcGVyPlxuICogIDxQYXBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4gLy8gU2VlIG5vdGljZVxuICogICAgPEJlZm9yZUFmdGVyV3JhcHBlcj4gICAgICAgIHJlbmRlcnMgICAgICAgICA8ZGl2Lz4gLy8gYmVmb3JlIGVsZW1lbnRcbiAqICAgICAgW2NoaWxkcmVuIG9mIHBhcGVyXSAgICAgICAtLS0tLS0+ICAgICAgICAgW2NoaWxkcmVuIG9mIHBhcGVyXVxuICogICAgPC9CZWZvcmVBZnRlcldyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Lz4gLy8gYWZ0ZXIgZWxlbWVudFxuICogIDwvUGFwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAqXG4gKiAgTm90aWNlOiBOb3RpY2UgdGhhdCB0aGlzIGRpdiBidW5kbGVzIHRvZ2V0aGVyIG91ciBlbGVtZW50cy4gSWYgdGhlIGVsZW1lbnRcbiAqICAgIHRoYXQgd2Ugd2FudCB0byBhcHBseSBiZWZvcmUgYW5kIGFmdGVyIGVsZW1lbnRzIGlzIGEgSFRNTCB0YWcgKGkuZS4gYVxuICogICAgZGl2LCBwLCBvciBidXR0b24gdGFnKSwgd2UgY2FuIGF2b2lkIHRoaXMgZXh0cmEgbmVzdGluZyBieSBwYXNzaW5nIHVzaW5nXG4gKiAgICB0aGUgQmVmb3JlQWZ0ZXJXcmFwcGVyIGluIHBsYWNlIG9mIHNhaWQgdGFnIGxpa2Ugc286XG4gKlxuICogIDxwPlxuICogICAgPEJlZm9yZUFmdGVyV3JhcHBlcj4gICBkbyB0aGlzIGluc3RlYWQgICA8QmVmb3JlQWZ0ZXJXcmFwcGVyIGVsZW1lbnRUeXBlPSdwJz5cbiAqICAgICAgW2NoaWxkcmVuIG9mIHBdICAgICAgICAgIC0tLS0tLT4gICAgICAgICBbY2hpbGRyZW4gb2YgcF1cbiAqICAgIDwvQmVmb3JlQWZ0ZXJXcmFwcGVyPiAgICAgICAgICAgICAgICAgICAgPC9CZWZvcmVBZnRlcldyYXBwZXI+XG4gKiAgPC9wPlxuICpcbiAqICBCZWZvcmVBZnRlcldyYXBwZXIgZmVhdHVyZXMgc3ByZWFkIGZ1bmN0aW9uYWxpdHkuIFRoaXMgbWVhbnMgdGhhdCB3ZSBjYW5cbiAqICBwYXNzIEhUTUwgdGFnIHByb3BlcnRpZXMgZGlyZWN0bHkgaW50byB0aGUgQmVmb3JlQWZ0ZXJXcmFwcGVyIHRhZy5cbiAqXG4gKiAgV2hlbiB1c2luZyBCZWZvcmVBZnRlcldyYXBwZXIsIGVuc3VyZSB0aGF0IHRoZSBwYXJlbnQgb2YgdGhlIGJlZm9yZUVsZW1lbnRcbiAqICBhbmQgYWZ0ZXJFbGVtZW50IGhhdmUgYSBkZWZpbmVkIHN0eWxlIHBvc2l0aW9uLlxuICovXG5cbnZhciBzdHlsZXMgPSB7XG4gIGJveDoge1xuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gIH1cbn07XG5cbnZhciBCZWZvcmVBZnRlcldyYXBwZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShCZWZvcmVBZnRlcldyYXBwZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEJlZm9yZUFmdGVyV3JhcHBlcigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBCZWZvcmVBZnRlcldyYXBwZXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChCZWZvcmVBZnRlcldyYXBwZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEJlZm9yZUFmdGVyV3JhcHBlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQmVmb3JlQWZ0ZXJXcmFwcGVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJlZm9yZVN0eWxlID0gX3Byb3BzLmJlZm9yZVN0eWxlLFxuICAgICAgICAgIGFmdGVyU3R5bGUgPSBfcHJvcHMuYWZ0ZXJTdHlsZSxcbiAgICAgICAgICBiZWZvcmVFbGVtZW50VHlwZSA9IF9wcm9wcy5iZWZvcmVFbGVtZW50VHlwZSxcbiAgICAgICAgICBhZnRlckVsZW1lbnRUeXBlID0gX3Byb3BzLmFmdGVyRWxlbWVudFR5cGUsXG4gICAgICAgICAgZWxlbWVudFR5cGUgPSBfcHJvcHMuZWxlbWVudFR5cGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYmVmb3JlU3R5bGUnLCAnYWZ0ZXJTdHlsZScsICdiZWZvcmVFbGVtZW50VHlwZScsICdhZnRlckVsZW1lbnRUeXBlJywgJ2VsZW1lbnRUeXBlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgYmVmb3JlRWxlbWVudCA9IHZvaWQgMDtcbiAgICAgIHZhciBhZnRlckVsZW1lbnQgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChiZWZvcmVTdHlsZSkge1xuICAgICAgICBiZWZvcmVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5iZWZvcmVFbGVtZW50VHlwZSwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmJveCwgYmVmb3JlU3R5bGUpKSxcbiAgICAgICAgICBrZXk6ICc6OmJlZm9yZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhZnRlclN0eWxlKSB7XG4gICAgICAgIGFmdGVyRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuYWZ0ZXJFbGVtZW50VHlwZSwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmJveCwgYWZ0ZXJTdHlsZSkpLFxuICAgICAgICAgIGtleTogJzo6YWZ0ZXInXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBbYmVmb3JlRWxlbWVudCwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgYWZ0ZXJFbGVtZW50XTtcblxuICAgICAgdmFyIHByb3BzID0gb3RoZXI7XG4gICAgICBwcm9wcy5zdHlsZSA9IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0aGlzLnByb3BzLnN0eWxlKSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmVsZW1lbnRUeXBlLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQmVmb3JlQWZ0ZXJXcmFwcGVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQmVmb3JlQWZ0ZXJXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYmVmb3JlRWxlbWVudFR5cGU6ICdkaXYnLFxuICBhZnRlckVsZW1lbnRUeXBlOiAnZGl2JyxcbiAgZWxlbWVudFR5cGU6ICdkaXYnXG59O1xuQmVmb3JlQWZ0ZXJXcmFwcGVyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5CZWZvcmVBZnRlcldyYXBwZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBhZnRlckVsZW1lbnRUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWZ0ZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGJlZm9yZUVsZW1lbnRUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYmVmb3JlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBlbGVtZW50VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBCZWZvcmVBZnRlcldyYXBwZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL0JlZm9yZUFmdGVyV3JhcHBlci5qc1xuLy8gbW9kdWxlIGlkID0gMTU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0JlZm9yZUFmdGVyV3JhcHBlciA9IHJlcXVpcmUoJy4vQmVmb3JlQWZ0ZXJXcmFwcGVyJyk7XG5cbnZhciBfQmVmb3JlQWZ0ZXJXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JlZm9yZUFmdGVyV3JhcHBlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzdHlsZXMgPSB7XG4gIGJlZm9yZToge1xuICAgIGNvbnRlbnQ6IFwiJyAnXCIsXG4gICAgZGlzcGxheTogJ3RhYmxlJ1xuICB9LFxuICBhZnRlcjoge1xuICAgIGNvbnRlbnQ6IFwiJyAnXCIsXG4gICAgY2xlYXI6ICdib3RoJyxcbiAgICBkaXNwbGF5OiAndGFibGUnXG4gIH1cbn07XG5cbnZhciBDbGVhckZpeCA9IGZ1bmN0aW9uIENsZWFyRml4KF9yZWYpIHtcbiAgdmFyIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3JlZiwgWydzdHlsZScsICdjaGlsZHJlbiddKTtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9CZWZvcmVBZnRlcldyYXBwZXIyLmRlZmF1bHQsXG4gICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgIGJlZm9yZVN0eWxlOiBzdHlsZXMuYmVmb3JlLFxuICAgICAgYWZ0ZXJTdHlsZTogc3R5bGVzLmFmdGVyLFxuICAgICAgc3R5bGU6IHN0eWxlXG4gICAgfSksXG4gICAgY2hpbGRyZW5cbiAgKTtcbn07XG5cbkNsZWFyRml4Lm11aU5hbWUgPSAnQ2xlYXJGaXgnO1xuXG5DbGVhckZpeC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENsZWFyRml4O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9pbnRlcm5hbC9DbGVhckZpeC5qc1xuLy8gbW9kdWxlIGlkID0gMTU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfRm9jdXNSaXBwbGUgPSByZXF1aXJlKCcuL0ZvY3VzUmlwcGxlJyk7XG5cbnZhciBfRm9jdXNSaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9jdXNSaXBwbGUpO1xuXG52YXIgX1RvdWNoUmlwcGxlID0gcmVxdWlyZSgnLi9Ub3VjaFJpcHBsZScpO1xuXG52YXIgX1RvdWNoUmlwcGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvdWNoUmlwcGxlKTtcblxudmFyIF9QYXBlciA9IHJlcXVpcmUoJy4vLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGJhc2VUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgIGRpc3BsYXk6ICd0YWJsZScsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGN1cnNvcjogJ2luaGVyaXQnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ2FsbCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgekluZGV4OiAyLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMFxuICAgIH0sXG4gICAgY29udHJvbHM6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICB3aWR0aDogJ2NhbGMoMTAwJSAtIDYwcHgpJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyNHB4JyxcbiAgICAgIGNvbG9yOiBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250RmFtaWx5OiBiYXNlVGhlbWUuZm9udEZhbWlseVxuICAgIH0sXG4gICAgd3JhcDoge1xuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgd2lkdGg6IDYwIC0gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MsXG4gICAgICBtYXJnaW5SaWdodDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IHByb3BzLmxhYmVsUG9zaXRpb24gPT09ICdsZWZ0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMFxuICAgIH0sXG4gICAgcmlwcGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMucmlwcGxlQ29sb3IgfHwgYmFzZVRoZW1lLnBhbGV0dGUucHJpbWFyeTFDb2xvcixcbiAgICAgIGhlaWdodDogJzIwMCUnLFxuICAgICAgd2lkdGg6ICcyMDAlJyxcbiAgICAgIHRvcDogLTEyLFxuICAgICAgbGVmdDogLTEyXG4gICAgfVxuICB9O1xufVxuXG52YXIgRW5oYW5jZWRTd2l0Y2ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShFbmhhbmNlZFN3aXRjaCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRW5oYW5jZWRTd2l0Y2goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRW5oYW5jZWRTd2l0Y2gpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRW5oYW5jZWRTd2l0Y2guX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGlzSW5wdXRDaGVja2VkID0gX3RoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgJiYgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Td2l0Y2gpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Td2l0Y2goZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY29kZSA9ICgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpO1xuXG4gICAgICBpZiAoY29kZSA9PT0gJ3RhYicpIHtcbiAgICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgY29kZSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdzcGFjZScpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIG9ubHkgbGlzdGVuIHRvIGxlZnQgY2xpY2tzXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5lbmQoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gc2V0VGltZW91dCBpcyBuZWVkZWQgYmVjdWFzZSB0aGUgZm9jdXMgZXZlbnQgZmlyZXMgZmlyc3RcbiAgICAgIC8vIFdhaXQgc28gdGhhdCB3ZSBjYW4gY2FwdHVyZSBpZiB0aGlzIHdhcyBhIGtleWJvYXJkIGZvY3VzXG4gICAgICAvLyBvciB0b3VjaCBmb2N1c1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy50YWJQcmVzc2VkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUwKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5yZWZzLmNoZWNrYm94O1xuICAgICAgaWYgKCghdGhpcy5wcm9wcy5zd2l0Y2hlZCB8fCBpbnB1dE5vZGUuY2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkgJiYgdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKGlucHV0Tm9kZS5jaGVja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBoYXNDaGVja2VkUHJvcCA9IG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpO1xuICAgICAgdmFyIGhhc05ld0RlZmF1bHRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0Q2hlY2tlZCcpICYmIG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblxuICAgICAgaWYgKGhhc0NoZWNrZWRQcm9wIHx8IGhhc05ld0RlZmF1bHRQcm9wKSB7XG4gICAgICAgIHZhciBzd2l0Y2hlZCA9IG5leHRQcm9wcy5jaGVja2VkIHx8IG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fCBmYWxzZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogc3dpdGNoZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUgJiYgc3dpdGNoZWQgIT09IHRoaXMucHJvcHMuc3dpdGNoZWQpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKHN3aXRjaGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU3dpdGNoZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N3aXRjaGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuICAgIH1cblxuICAgIC8vIG5vIGNhbGxiYWNrIGhlcmUgYmVjYXVzZSB0aGVyZSBpcyBubyBldmVudFxuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN3aXRjaGVkKG5ld1N3aXRjaGVkVmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpIHx8IHRoaXMucHJvcHMuY2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKG5ld1N3aXRjaGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkID0gbmV3U3dpdGNoZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogQ2Fubm90IGNhbGwgc2V0IG1ldGhvZCB3aGlsZSBjaGVja2VkIGlzIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC52YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja2JveCBpbnB1dHMgb25seSB1c2UgU1BBQ0UgdG8gY2hhbmdlIHRoZWlyIHN0YXRlLiBVc2luZyBFTlRFUiB3aWxsXG4gICAgLy8gdXBkYXRlIHRoZSB1aSBidXQgbm90IHRoZSBpbnB1dC5cblxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSBib3RoIHRoZSByaXBwbGVzIGFuZCB0aGUgY2hlY2tib3ggaW5wdXQgY2Fubm90IHNoYXJlIHBvaW50ZXJcbiAgICAgKiBldmVudHMsIHRoZSBjaGVja2JveCBpbnB1dCB0YWtlcyBjb250cm9sIG9mIHBvaW50ZXIgZXZlbnRzIGFuZCBjYWxsc1xuICAgICAqIHJpcHBsZSBhbmltYXRpb25zIG1hbnVhbGx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzLmljb25TdHlsZSxcbiAgICAgICAgICBpbnB1dFN0eWxlID0gX3Byb3BzLmlucHV0U3R5bGUsXG4gICAgICAgICAgaW5wdXRUeXBlID0gX3Byb3BzLmlucHV0VHlwZSxcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbFN0eWxlID0gX3Byb3BzLmxhYmVsU3R5bGUsXG4gICAgICAgICAgbGFiZWxQb3NpdGlvbiA9IF9wcm9wcy5sYWJlbFBvc2l0aW9uLFxuICAgICAgICAgIG9uU3dpdGNoID0gX3Byb3BzLm9uU3dpdGNoLFxuICAgICAgICAgIG9uQmx1ciA9IF9wcm9wcy5vbkJsdXIsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uTW91c2VVcCA9IF9wcm9wcy5vbk1vdXNlVXAsXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfcHJvcHMub25Nb3VzZURvd24sXG4gICAgICAgICAgb25Nb3VzZUxlYXZlID0gX3Byb3BzLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoU3RhcnQgPSBfcHJvcHMub25Ub3VjaFN0YXJ0LFxuICAgICAgICAgIG9uVG91Y2hFbmQgPSBfcHJvcHMub25Ub3VjaEVuZCxcbiAgICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZSA9IF9wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGUgPSBfcHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcy5kaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICByaXBwbGVDb2xvciA9IF9wcm9wcy5yaXBwbGVDb2xvcixcbiAgICAgICAgICByaXBwbGVTdHlsZSA9IF9wcm9wcy5yaXBwbGVTdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBzd2l0Y2hlZCA9IF9wcm9wcy5zd2l0Y2hlZCxcbiAgICAgICAgICBzd2l0Y2hFbGVtZW50ID0gX3Byb3BzLnN3aXRjaEVsZW1lbnQsXG4gICAgICAgICAgdGh1bWJTdHlsZSA9IF9wcm9wcy50aHVtYlN0eWxlLFxuICAgICAgICAgIHRyYWNrU3R5bGUgPSBfcHJvcHMudHJhY2tTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWyduYW1lJywgJ3ZhbHVlJywgJ2ljb25TdHlsZScsICdpbnB1dFN0eWxlJywgJ2lucHV0VHlwZScsICdsYWJlbCcsICdsYWJlbFN0eWxlJywgJ2xhYmVsUG9zaXRpb24nLCAnb25Td2l0Y2gnLCAnb25CbHVyJywgJ29uRm9jdXMnLCAnb25Nb3VzZVVwJywgJ29uTW91c2VEb3duJywgJ29uTW91c2VMZWF2ZScsICdvblRvdWNoU3RhcnQnLCAnb25Ub3VjaEVuZCcsICdvblBhcmVudFNob3VsZFVwZGF0ZScsICdkaXNhYmxlZCcsICdkaXNhYmxlVG91Y2hSaXBwbGUnLCAnZGlzYWJsZUZvY3VzUmlwcGxlJywgJ2NsYXNzTmFtZScsICdyaXBwbGVDb2xvcicsICdyaXBwbGVTdHlsZScsICdzdHlsZScsICdzd2l0Y2hlZCcsICdzd2l0Y2hFbGVtZW50JywgJ3RodW1iU3R5bGUnLCAndHJhY2tTdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciB3cmFwU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy53cmFwLCBpY29uU3R5bGUpO1xuICAgICAgdmFyIG1lcmdlZFJpcHBsZVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yaXBwbGUsIHJpcHBsZVN0eWxlKTtcblxuICAgICAgaWYgKHRodW1iU3R5bGUpIHtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5MZWZ0IC89IDI7XG4gICAgICAgIHdyYXBTdHlsZXMubWFyZ2luUmlnaHQgLz0gMjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IGxhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGFiZWwnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIGxhYmVsU3R5bGUpKSB9LFxuICAgICAgICBsYWJlbFxuICAgICAgKTtcblxuICAgICAgdmFyIHNob3dUb3VjaFJpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZVRvdWNoUmlwcGxlO1xuICAgICAgdmFyIHNob3dGb2N1c1JpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZUZvY3VzUmlwcGxlO1xuXG4gICAgICB2YXIgdG91Y2hSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVG91Y2hSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAgcmVmOiAndG91Y2hSaXBwbGUnLFxuICAgICAgICBrZXk6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIHN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBjZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm9jdXNSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRm9jdXNSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAnZm9jdXNSaXBwbGUnLFxuICAgICAgICBpbm5lclN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBzaG93OiB0aGlzLnN0YXRlLmlzS2V5Ym9hcmRGb2N1c2VkXG4gICAgICB9KTtcblxuICAgICAgdmFyIHJpcHBsZXMgPSBbc2hvd1RvdWNoUmlwcGxlID8gdG91Y2hSaXBwbGUgOiBudWxsLCBzaG93Rm9jdXNSaXBwbGUgPyBmb2N1c1JpcHBsZSA6IG51bGxdO1xuXG4gICAgICB2YXIgaW5wdXRFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgcmVmOiAnY2hlY2tib3gnLFxuICAgICAgICB0eXBlOiBpbnB1dFR5cGUsXG4gICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaW5wdXQsIGlucHV0U3R5bGUpKSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIG9uTW91c2VVcDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgICAgb25Nb3VzZURvd246IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlRG93bixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgIG9uVG91Y2hFbmQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoRW5kXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIElmIHRvZ2dsZSBjb21wb25lbnQgKGluZGljYXRlZCBieSB3aGV0aGVyIHRoZSBzdHlsZSBpbmNsdWRlcyB0aHVtYikgbWFudWFsbHkgbGF5IG91dFxuICAgICAgLy8gZWxlbWVudHMgaW4gb3JkZXIgdG8gbmVzdCByaXBwbGUgZWxlbWVudHNcbiAgICAgIHZhciBzd2l0Y2hPclRodW1iRWxlbWVudCA9ICF0aHVtYlN0eWxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHdyYXBTdHlsZXMpIH0sXG4gICAgICAgIHN3aXRjaEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZXNcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0cmFja1N0eWxlKSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiB0aHVtYlN0eWxlLCB6RGVwdGg6IDEsIGNpcmNsZTogdHJ1ZSB9LFxuICAgICAgICAgICcgJyxcbiAgICAgICAgICByaXBwbGVzLFxuICAgICAgICAgICcgJ1xuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICB2YXIgZWxlbWVudHNJbk9yZGVyID0gbGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50LFxuICAgICAgICBsYWJlbEVsZW1lbnRcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9scyB9LFxuICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogJ3Jvb3QnLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXBcbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgZWxlbWVudHNJbk9yZGVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRW5oYW5jZWRTd2l0Y2g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5FbmhhbmNlZFN3aXRjaC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRW5oYW5jZWRTd2l0Y2gucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVGb2N1c1JpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlVG91Y2hSaXBwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGlucHV0VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25CbHVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZUxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblBhcmVudFNob3VsZFVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblN3aXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoRW5kOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICByaXBwbGVDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHJpcHBsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzd2l0Y2hFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc3dpdGNoZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICB0aHVtYlN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdHJhY2tTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRW5oYW5jZWRTd2l0Y2g7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL0VuaGFuY2VkU3dpdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSByZXF1aXJlKCdyZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb25Hcm91cCcpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2l0aW9uR3JvdXApO1xuXG52YXIgX1NsaWRlSW5DaGlsZCA9IHJlcXVpcmUoJy4vU2xpZGVJbkNoaWxkJyk7XG5cbnZhciBfU2xpZGVJbkNoaWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW5DaGlsZCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTbGlkZUluID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2xpZGVJbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2xpZGVJbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbGlkZUluKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFNsaWRlSW4uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNsaWRlSW4pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5nZXRMZWF2ZURpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5kaXJlY3Rpb247XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNsaWRlSW4sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGVudGVyRGVsYXkgPSBfcHJvcHMuZW50ZXJEZWxheSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjaGlsZFN0eWxlID0gX3Byb3BzLmNoaWxkU3R5bGUsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3Byb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydlbnRlckRlbGF5JywgJ2NoaWxkcmVuJywgJ2NoaWxkU3R5bGUnLCAnZGlyZWN0aW9uJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgbWVyZ2VkUm9vdFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluQ2hpbGQyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICAgIGVudGVyRGVsYXk6IGVudGVyRGVsYXksXG4gICAgICAgICAgICBnZXRMZWF2ZURpcmVjdGlvbjogX3RoaXMyLmdldExlYXZlRGlyZWN0aW9uLFxuICAgICAgICAgICAgc3R5bGU6IGNoaWxkU3R5bGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkXG4gICAgICAgICk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKG1lcmdlZFJvb3RTdHlsZXMpLFxuICAgICAgICAgIGNvbXBvbmVudDogJ2RpdidcbiAgICAgICAgfSksXG4gICAgICAgIG5ld0NoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2xpZGVJbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblNsaWRlSW4uZGVmYXVsdFByb3BzID0ge1xuICBlbnRlckRlbGF5OiAwLFxuICBkaXJlY3Rpb246ICdsZWZ0J1xufTtcblNsaWRlSW4uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblNsaWRlSW4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZGlyZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCcsICd1cCcsICdkb3duJ10pLFxuICBlbnRlckRlbGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbGlkZUluO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9pbnRlcm5hbC9TbGlkZUluLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IHJlcXVpcmUoJ3JlY29tcG9zZS9wdXJlJyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gcmVxdWlyZSgnLi4vLi4vU3ZnSWNvbicpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93biA9IGZ1bmN0aW9uIE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003IDEwbDUgNSA1LTV6JyB9KVxuICApO1xufTtcbk5hdmlnYXRpb25BcnJvd0Ryb3BEb3duID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bik7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bic7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL25hdmlnYXRpb24vYXJyb3ctZHJvcC1kb3duLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rID0gZnVuY3Rpb24gVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE5IDV2MTRINVY1aDE0bTAtMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6JyB9KVxuICApO1xufTtcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rID0gKDAsIF9wdXJlMi5kZWZhdWx0KShUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayk7XG5Ub2dnbGVDaGVja0JveE91dGxpbmVCbGFuay5kaXNwbGF5TmFtZSA9ICdUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayc7XG5Ub2dnbGVDaGVja0JveE91dGxpbmVCbGFuay5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL3RvZ2dsZS9jaGVjay1ib3gtb3V0bGluZS1ibGFuay5qc1xuLy8gbW9kdWxlIGlkID0gMTY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IHJlcXVpcmUoJ3JlY29tcG9zZS9wdXJlJyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gcmVxdWlyZSgnLi4vLi4vU3ZnSWNvbicpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUb2dnbGVDaGVja0JveCA9IGZ1bmN0aW9uIFRvZ2dsZUNoZWNrQm94KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6JyB9KVxuICApO1xufTtcblRvZ2dsZUNoZWNrQm94ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShUb2dnbGVDaGVja0JveCk7XG5Ub2dnbGVDaGVja0JveC5kaXNwbGF5TmFtZSA9ICdUb2dnbGVDaGVja0JveCc7XG5Ub2dnbGVDaGVja0JveC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVDaGVja0JveDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL3RvZ2dsZS9jaGVjay1ib3guanNcbi8vIG1vZHVsZSBpZCA9IDE2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTEFSR0UgPSBleHBvcnRzLk1FRElVTSA9IGV4cG9ydHMuU01BTEwgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gd2l0aFdpZHRoO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNNQUxMID0gZXhwb3J0cy5TTUFMTCA9IDE7XG52YXIgTUVESVVNID0gZXhwb3J0cy5NRURJVU0gPSAyO1xudmFyIExBUkdFID0gZXhwb3J0cy5MQVJHRSA9IDM7XG5cbmZ1bmN0aW9uIHdpdGhXaWR0aCgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkbGFyZ2VXaWR0aCA9IG9wdGlvbnMubGFyZ2VXaWR0aCxcbiAgICAgIGxhcmdlV2lkdGggPSBfb3B0aW9ucyRsYXJnZVdpZHRoID09PSB1bmRlZmluZWQgPyA5OTIgOiBfb3B0aW9ucyRsYXJnZVdpZHRoLFxuICAgICAgX29wdGlvbnMkbWVkaXVtV2lkdGggPSBvcHRpb25zLm1lZGl1bVdpZHRoLFxuICAgICAgbWVkaXVtV2lkdGggPSBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9PT0gdW5kZWZpbmVkID8gNzY4IDogX29wdGlvbnMkbWVkaXVtV2lkdGgsXG4gICAgICBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPSBvcHRpb25zLnJlc2l6ZUludGVydmFsLFxuICAgICAgcmVzaXplSW50ZXJ2YWwgPSBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPT09IHVuZGVmaW5lZCA/IDE2NiA6IF9vcHRpb25zJHJlc2l6ZUludGVydjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoTXlDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFdpdGhXaWR0aCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhXaWR0aCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBXaXRoV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFdpdGhXaWR0aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoV2l0aFdpZHRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSwgX3RoaXMuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgICBfdGhpcy5kZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVXaWR0aCgpO1xuICAgICAgICAgIH0sIHJlc2l6ZUludGVydmFsKTtcbiAgICAgICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoV2l0aFdpZHRoLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVmZXJUaW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlV2lkdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgICAgICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAoaW5uZXJXaWR0aCA+PSBsYXJnZVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IExBUkdFO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5uZXJXaWR0aCA+PSBtZWRpdW1XaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBNRURJVU07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlubmVyV2lkdGggPCA3NjhcbiAgICAgICAgICAgIHdpZHRoID0gU01BTEw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hlbiByZW5kZXJpbmcgdGhlIGNvbXBvbmVudCBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgICAqIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB0aGUgc2NyZWVuIHdpZHRoLlxuICAgICAgICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgYmxpbmtzIGFuZCBoZWxwIHRoZSByZWNvbmNpbGlhdGlvblxuICAgICAgICAgICAqIHdlIGFyZSBub3QgcmVuZGVyaW5nIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBIGJldHRlciBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzZW5kIGNsaWVudCBoaW50cy5cbiAgICAgICAgICAgKiBCdXQgdGhlIGJyb3dzZXIgc3VwcG9ydCBvZiB0aGlzIEFQSSBpcyBsb3c6XG4gICAgICAgICAgICogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2xpZW50JTIwaGludFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAnd2luZG93Jywgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNeUNvbXBvbmVudCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIFdpdGhXaWR0aDtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICB9O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS91dGlscy93aXRoV2lkdGguanNcbi8vIG1vZHVsZSBpZCA9IDE2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2lzSXRlcmFibGUyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvaXMtaXRlcmFibGVcIik7XG5cbnZhciBfaXNJdGVyYWJsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0l0ZXJhYmxlMik7XG5cbnZhciBfZ2V0SXRlcmF0b3IyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkoYXJyKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSBlbHNlIGlmICgoMCwgX2lzSXRlcmFibGUzLmRlZmF1bHQpKE9iamVjdChhcnIpKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gMjE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2xpY2VkVG9BcnJheTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheScpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RpbWVVdGlscyA9IHJlcXVpcmUoJy4vdGltZVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGRpcmVjdGlvbkludmFyaWFudDogdHJ1ZSxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogMzIsXG4gICAgICBoZWlnaHQ6IDMyLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxNnB4KScsXG4gICAgICB0b3A6IDEwLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdUb3A6IDUsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsIC8qIENocm9tZSBhbGwgLyBTYWZhcmkgYWxsICovXG4gICAgICBmb250U2l6ZTogJzEuMWVtJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgfVxuICB9O1xuXG4gIHZhciBtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWU7XG5cblxuICB2YXIgcG9zID0gcHJvcHMudmFsdWU7XG5cbiAgaWYgKHByb3BzLnR5cGUgPT09ICdob3VyJykge1xuICAgIHBvcyAlPSAxMjtcbiAgfSBlbHNlIHtcbiAgICBwb3MgPSBwb3MgLyA1O1xuICB9XG5cbiAgdmFyIHBvc2l0aW9ucyA9IFtbMCwgNV0sIFs1NC41LCAxNi42XSwgWzk0LjQsIDU5LjVdLCBbMTA5LCAxMTRdLCBbOTQuNCwgMTY4LjVdLCBbNTQuNSwgMjA4LjRdLCBbMCwgMjIzXSwgWy01NC41LCAyMDguNF0sIFstOTQuNCwgMTY4LjVdLCBbLTEwOSwgMTE0XSwgWy05NC40LCA1OS41XSwgWy01NC41LCAxOS42XV07XG5cbiAgdmFyIGlubmVyUG9zaXRpb25zID0gW1swLCA0MF0sIFszNi45LCA0OS45XSwgWzY0LCA3N10sIFs3NCwgMTE0XSwgWzY0LCAxNTFdLCBbMzcsIDE3OF0sIFswLCAxODhdLCBbLTM3LCAxNzhdLCBbLTY0LCAxNTFdLCBbLTc0LCAxMTRdLCBbLTY0LCA3N10sIFstMzcsIDUwXV07XG5cbiAgaWYgKHByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICBzdHlsZXMucm9vdC5iYWNrZ3JvdW5kQ29sb3IgPSBtdWlUaGVtZS50aW1lUGlja2VyLmFjY2VudENvbG9yO1xuICAgIHN0eWxlcy5yb290LmNvbG9yID0gbXVpVGhlbWUudGltZVBpY2tlci5zZWxlY3RUZXh0Q29sb3I7XG4gIH1cblxuICB2YXIgdHJhbnNmb3JtUG9zID0gcG9zaXRpb25zW3Bvc107XG5cbiAgaWYgKCgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKHByb3BzKSkge1xuICAgIHN0eWxlcy5yb290LndpZHRoID0gMjg7XG4gICAgc3R5bGVzLnJvb3QuaGVpZ2h0ID0gMjg7XG4gICAgc3R5bGVzLnJvb3QubGVmdCA9ICdjYWxjKDUwJSAtIDE0cHgpJztcbiAgICB0cmFuc2Zvcm1Qb3MgPSBpbm5lclBvc2l0aW9uc1twb3NdO1xuICB9XG5cbiAgdmFyIF90cmFuc2Zvcm1Qb3MgPSB0cmFuc2Zvcm1Qb3MsXG4gICAgICBfdHJhbnNmb3JtUG9zMiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3RyYW5zZm9ybVBvcywgMiksXG4gICAgICB4ID0gX3RyYW5zZm9ybVBvczJbMF0sXG4gICAgICB5ID0gX3RyYW5zZm9ybVBvczJbMV07XG5cbiAgc3R5bGVzLnJvb3QudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwgJyArIHkgKyAncHgpJztcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgQ2xvY2tOdW1iZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja051bWJlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tOdW1iZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tOdW1iZXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDbG9ja051bWJlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tOdW1iZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrTnVtYmVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciBjbG9ja051bWJlciA9IHRoaXMucHJvcHMudmFsdWUgPT09IDAgPyAnMDAnIDogdGhpcy5wcm9wcy52YWx1ZTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIGNsb2NrTnVtYmVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja051bWJlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiAwLFxuICB0eXBlOiAnbWludXRlJyxcbiAgaXNTZWxlY3RlZDogZmFsc2Vcbn07XG5DbG9ja051bWJlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBpc1NlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgdHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2hvdXInLCAnbWludXRlJ10pLFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrTnVtYmVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL0Nsb2NrTnVtYmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90aW1lVXRpbHMgPSByZXF1aXJlKCcuL3RpbWVVdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjYWxjQW5nbGUodmFsdWUsIGJhc2UpIHtcbiAgdmFsdWUgJT0gYmFzZTtcbiAgdmFyIGFuZ2xlID0gMzYwIC8gYmFzZSAqIHZhbHVlO1xuICByZXR1cm4gYW5nbGU7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIGhhc1NlbGVjdGVkID0gcHJvcHMuaGFzU2VsZWN0ZWQsXG4gICAgICB0eXBlID0gcHJvcHMudHlwZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gIHZhciBpbm5lciA9IHN0YXRlLmlubmVyO1xuICB2YXIgdGltZVBpY2tlciA9IGNvbnRleHQubXVpVGhlbWUudGltZVBpY2tlcjtcblxuICB2YXIgYW5nbGUgPSB0eXBlID09PSAnaG91cicgPyBjYWxjQW5nbGUodmFsdWUsIDEyKSA6IGNhbGNBbmdsZSh2YWx1ZSwgNjApO1xuXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgaGVpZ2h0OiBpbm5lciA/ICczMCUnIDogJzQwJScsXG4gICAgICBiYWNrZ3JvdW5kOiB0aW1lUGlja2VyLmFjY2VudENvbG9yLFxuICAgICAgd2lkdGg6IDIsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxcHgpJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgYm90dG9tOiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2JvdHRvbScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICB0cmFuc2Zvcm06ICdyb3RhdGVaKCcgKyBhbmdsZSArICdkZWcpJ1xuICAgIH0sXG4gICAgbWFyazoge1xuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnLFxuICAgICAgYmFja2dyb3VuZDogdGltZVBpY2tlci5zZWxlY3RUZXh0Q29sb3IsXG4gICAgICBib3JkZXI6ICc0cHggc29saWQgJyArIHRpbWVQaWNrZXIuYWNjZW50Q29sb3IsXG4gICAgICBkaXNwbGF5OiBoYXNTZWxlY3RlZCAmJiAnbm9uZScsXG4gICAgICB3aWR0aDogNyxcbiAgICAgIGhlaWdodDogNyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAtNSxcbiAgICAgIGxlZnQ6IC02LFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJSdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIENsb2NrUG9pbnRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrUG9pbnRlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tQb2ludGVyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrUG9pbnRlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDbG9ja1BvaW50ZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrUG9pbnRlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaW5uZXI6IGZhbHNlXG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrUG9pbnRlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW5uZXI6ICgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKHRoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpbm5lcjogKDAsIF90aW1lVXRpbHMuaXNJbm5lcikobmV4dFByb3BzKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLm1hcmspIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tQb2ludGVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2xvY2tQb2ludGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgaGFzU2VsZWN0ZWQ6IGZhbHNlLFxuICB2YWx1ZTogbnVsbCxcbiAgdHlwZTogJ21pbnV0ZSdcbn07XG5DbG9ja1BvaW50ZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNsb2NrUG9pbnRlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGhhc1NlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydob3VyJywgJ21pbnV0ZSddKSxcbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9ja1BvaW50ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tQb2ludGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0RhdGVQaWNrZXIgPSByZXF1aXJlKCcuL0RhdGVQaWNrZXInKTtcblxudmFyIF9EYXRlUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVQaWNrZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfRGF0ZVBpY2tlcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9UaW1lUGlja2VyID0gcmVxdWlyZSgnLi9UaW1lUGlja2VyJyk7XG5cbnZhciBfVGltZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lUGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX1RpbWVQaWNrZXIyLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDI4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJztcclxuXHJcbmltcG9ydCBNdWlUaGVtZVByb3ZpZGVyIGZyb20gJ21hdGVyaWFsLXVpL3N0eWxlcy9NdWlUaGVtZVByb3ZpZGVyJztcclxuaW1wb3J0IFJhaXNlZEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9SYWlzZWRCdXR0b24nO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ21hdGVyaWFsLXVpL1RleHRGaWVsZCc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRBY3Rpb25zLCBDYXJkSGVhZGVyLCBDYXJkVGV4dCB9IGZyb20gJ21hdGVyaWFsLXVpL0NhcmQnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnbWF0ZXJpYWwtdWkvQ2hlY2tib3gnO1xyXG5pbXBvcnQgRmxhdEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9GbGF0QnV0dG9uJztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdtYXRlcmlhbC11aS9EaWFsb2cnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnbWF0ZXJpYWwtdWkvU25hY2tiYXInO1xyXG5cclxuaW1wb3J0IERyb3BEb3duTWVudSBmcm9tICdtYXRlcmlhbC11aS9Ecm9wRG93bk1lbnUnO1xyXG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnbWF0ZXJpYWwtdWkvTWVudUl0ZW0nO1xyXG5cclxuaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAnbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlcic7XHJcbmltcG9ydCBUaW1lUGlja2VyIGZyb20gJ21hdGVyaWFsLXVpL1RpbWVQaWNrZXInO1xyXG5cclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXInO1xyXG5cclxuLyogRVNURSBGUkFHTUVOVE8gREUgQ09ESUdPIEVTIFJFUVVFUklETyBQQVJBIExPUyBFVkVOVE9TIERFIFRJUE8gVE9VQ0ggTyBDTElDSyBFTiBDT01QT05FTlRFUyBNQVRFUklBTC1VSSAqL1xyXG5pbXBvcnQgaW5qZWN0VGFwRXZlbnRQbHVnaW4gZnJvbSAncmVhY3QtdGFwLWV2ZW50LXBsdWdpbic7XHJcbmluamVjdFRhcEV2ZW50UGx1Z2luKCk7XHJcblxyXG5cclxuLyogRklOIERFIElNUE9SVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmNvbnN0IHRva2VuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rva2VuJykuaW5uZXJIVE1MO1xyXG5cclxuY29uc3QgRU1QVFlfQ0FMTEJBQ0sgPSAoKSA9PiB7IH07XHJcblxyXG5jb25zdCBTaG9wUmVnID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbXNnU25hY2tiYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tiYXJNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgbXlTaG9wOiB7fSxcclxuICAgICAgICAgICAgbXlTaG9wUmVhZHk6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuOiAnICsgdG9rZW4pO1xyXG4gICAgICAgIGF4aW9zLmdldChgL2FwaS92MS9zaG9wYWRtL215c2hvcD90b2tlbj0ke3Rva2VufWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGByZXNwb25zZS5kYXRhLnNob3A6ICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5zaG9wKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBteVNob3A6IHJlc3BvbnNlLmRhdGEuc2hvcCwgbXlTaG9wUmVhZHk6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGNhdXNlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tiYXIoJ0Vycm9yIGFsIGNhcmdhciBsb3MgZGF0b3MgZGVsIGNvbWVyY2lvJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuU25hY2tiYXIobXNnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FicmllbmRvIHNuYWNrIGJhcicpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtc2dTbmFja2Jhck9wZW46IHRydWUsIHNuYWNrYmFyTWVzc2FnZTogbXNnIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgdmFsaWRhdGVTaG9wKCkge1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcblxyXG4gICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZ0JvdHRvbTogMTAsIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luOiAyMCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlZhbGlkYWNpb24gZGUgYWx0YSBkZSBjb21lcmNpbzwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkRhdG9zIGJhc2ljb3M8L2gyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIk5vbWJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiTm9tYnJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiTm9tYnJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm15U2hvcC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiRGlyZWNjaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJEaXJlY2Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJEaXJlY2Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubXlTaG9wLmFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgYWRkcmVzczogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX0gLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJMYXRpdHVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJMYXRpdHVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiTGF0aXR1ZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5teVNob3AubGF0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IGxhdDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAxMCB9fSAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkxvbmdpdHVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJMb25naXR1ZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIkxvbmdpdHVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm15U2hvcC5sb25nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IGxvbmc6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiVGVsZWZvbm9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIlRlbGVmb25vIHNpbiBndWlvbiBuaSBlc3BhY2lvc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIlRlbGVmb25vXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm15U2hvcC5waG9uZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyBwaG9uZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX0gLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxociAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkRhdG9zIGRlbCBtZW51PC9oMj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJUaXBvIGRlIGNvbWlkYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiVGlwbyBkZSBjb21pZGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJUaXBvIGRlIGNvbWlkYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hZG1pbkVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IGFkbWluRW1haWw6IGUudGFyZ2V0LnZhbHVlIH0pfSAvPjxiciAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkhvcmFyaW8gZGUgZGlhIGRlIHNlbWFuYTwvaDM+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGltZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiMjRoclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dD1cIkhvcmEgZGUgYXBlcnR1cmFcIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIjI0aHJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ9XCJIb3JhIGRlIGNpZXJyZVwiIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Ib3JhcmlvIGRlIGZpbmVzIGRlIHNlbWFuYTwvaDM+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGltZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiMjRoclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dD1cIkhvcmEgZGUgYXBlcnR1cmFcIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIjI0aHJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ9XCJIb3JhIGRlIGNpZXJyZVwiIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5DcmVkZW5jaWFsZXMgZGVsIGFkbWluaXN0cmFkb3I8L2gyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIkVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFkbWluRW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgYWRtaW5FbWFpbDogZS50YXJnZXQudmFsdWUgfSl9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiUGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIlBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiUGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYWRtaW5QYXNzd29yZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyBhZG1pblBhc3N3b3JkOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3Bhc3N3b3JkJyAvPjxiciAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSYWlzZWRCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogMjAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVG9kbyBiaWVuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudmFsaWRhdGVTaG9wfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5PXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IDEwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUubXlTaG9wUmVhZHl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSYWlzZWRCdXR0b24gc3R5bGU9e3sgbWFyZ2luVG9wOiAyMCB9fSBsYWJlbD1cIkFsZ28gZXN0YSBtYWxcIiBkaXNhYmxlZD17IXRoaXMuc3RhdGUubXlTaG9wUmVhZHl9IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5tc2dTbmFja2Jhck9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuc25hY2tiYXJNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXszMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5oYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZX0gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPC9NdWlUaGVtZVByb3ZpZGVyID5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblJlYWN0RG9tLnJlbmRlcihcclxuICAgIDxTaG9wUmVnIC8+LFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxyXG4pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvU2hvcFJlZy5qcyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMzAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDMwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMzEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsInJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvY29yZS5pcy1pdGVyYWJsZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldCA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMzQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5pc0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPID0gT2JqZWN0KGl0KTtcbiAgcmV0dXJuIE9bSVRFUkFUT1JdICE9PSB1bmRlZmluZWRcbiAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICB8fCBJdGVyYXRvcnMuaGFzT3duUHJvcGVydHkoY2xhc3NvZihPKSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDM0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheScpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfQ2FsZW5kYXJBY3Rpb25CdXR0b25zID0gcmVxdWlyZSgnLi9DYWxlbmRhckFjdGlvbkJ1dHRvbnMnKTtcblxudmFyIF9DYWxlbmRhckFjdGlvbkJ1dHRvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJBY3Rpb25CdXR0b25zKTtcblxudmFyIF9DYWxlbmRhck1vbnRoID0gcmVxdWlyZSgnLi9DYWxlbmRhck1vbnRoJyk7XG5cbnZhciBfQ2FsZW5kYXJNb250aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhck1vbnRoKTtcblxudmFyIF9DYWxlbmRhclllYXIgPSByZXF1aXJlKCcuL0NhbGVuZGFyWWVhcicpO1xuXG52YXIgX0NhbGVuZGFyWWVhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhclllYXIpO1xuXG52YXIgX0NhbGVuZGFyVG9vbGJhciA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJUb29sYmFyJyk7XG5cbnZhciBfQ2FsZW5kYXJUb29sYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyVG9vbGJhcik7XG5cbnZhciBfRGF0ZURpc3BsYXkgPSByZXF1aXJlKCcuL0RhdGVEaXNwbGF5Jyk7XG5cbnZhciBfRGF0ZURpc3BsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZURpc3BsYXkpO1xuXG52YXIgX1NsaWRlSW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9TbGlkZUluJyk7XG5cbnZhciBfU2xpZGVJbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbGlkZUluKTtcblxudmFyIF9kYXRlVXRpbHMgPSByZXF1aXJlKCcuL2RhdGVVdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGF5c0FycmF5ID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKEFycmF5KDcpKSk7XG5cbnZhciBDYWxlbmRhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpc3BsYXlEYXRlOiB1bmRlZmluZWQsXG4gICAgICBkaXNwbGF5TW9udGhEYXk6IHVuZGVmaW5lZCxcbiAgICAgIHNlbGVjdGVkRGF0ZTogdW5kZWZpbmVkLFxuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ2xlZnQnLFxuICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlXG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXkgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGUpIHtcbiAgICAgIF90aGlzLnNldFNlbGVjdGVkRGF0ZShkYXRlKTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KSBfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KGV2ZW50LCBkYXRlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVNb250aENoYW5nZSA9IGZ1bmN0aW9uIChtb250aHMpIHtcbiAgICAgIHZhciBuZXh0RGlyZWN0aW9uID0gX3RoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICB2YXIgcHJldkRpcmVjdGlvbiA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IG1vbnRocyA+PSAwID8gbmV4dERpcmVjdGlvbiA6IHByZXZEaXJlY3Rpb247XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgZGlzcGxheURhdGU6IF90aGlzLnByb3BzLnV0aWxzLmFkZE1vbnRocyhfdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSwgbW9udGhzKVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBZZWFyID0gZnVuY3Rpb24gKGV2ZW50LCB5ZWFyKSB7XG4gICAgICBfdGhpcy5zZXRTZWxlY3RlZERhdGUoX3RoaXMucHJvcHMudXRpbHMuc2V0WWVhcihfdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsIHllYXIpLCBldmVudCk7XG4gICAgICBfdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlNb250aERheTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheVllYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlNb250aERheTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVdpbmRvd0tleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuKSB7XG4gICAgICAgIHZhciBuZXh0QXJyb3cgPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHByZXZBcnJvdyA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICBzd2l0Y2ggKCgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpKSB7XG4gICAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoLTEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKC03KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkWWVhcnMoMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIG5leHRBcnJvdzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZERheXMoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgcHJldkFycm93OlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoLTEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5wcm9wcy51dGlscy5nZXRGaXJzdERheU9mTW9udGgodGhpcy5wcm9wcy5pbml0aWFsRGF0ZSksXG4gICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5pbml0aWFsRGF0ZSxcbiAgICAgICAgZGlzcGxheU1vbnRoRGF5OiAhdGhpcy5wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuaW5pdGlhbERhdGUgIT09IHRoaXMucHJvcHMuaW5pdGlhbERhdGUpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXh0UHJvcHMuaW5pdGlhbERhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlzcGxheURhdGU6IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUpLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogZGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW5EYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWluRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1pbkRhdGUgfHwgdGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyhuZXcgRGF0ZSgpLCAtMTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNYXhEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4RGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1heERhdGUgfHwgdGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyhuZXcgRGF0ZSgpLCAxMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNlbGVjdGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1NlbGVjdGVkRGF0ZURpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRTZWxlY3RlZERheXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTZWxlY3RlZERheXMoZGF5cykge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZERhdGUodGhpcy5wcm9wcy51dGlscy5hZGREYXlzKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBkYXlzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWRNb250aHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTZWxlY3RlZE1vbnRocyhtb250aHMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkTW9udGhzKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBtb250aHMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRTZWxlY3RlZFllYXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWRZZWFycyh5ZWFycykge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZERhdGUodGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgeWVhcnMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXREaXNwbGF5RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3BsYXlEYXRlKGRhdGUsIG5ld1NlbGVjdGVkRGF0ZSkge1xuICAgICAgdmFyIG5ld0Rpc3BsYXlEYXRlID0gdGhpcy5wcm9wcy51dGlscy5nZXRGaXJzdERheU9mTW9udGgoZGF0ZSk7XG5cbiAgICAgIGlmIChuZXdEaXNwbGF5RGF0ZSAhPT0gdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSkge1xuICAgICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIHZhciBwcmV2RGlyZWN0aW9uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5ld0Rpc3BsYXlEYXRlID4gdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkaXNwbGF5RGF0ZTogbmV3RGlzcGxheURhdGUsXG4gICAgICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogbmV3U2VsZWN0ZWREYXRlIHx8IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFNlbGVjdGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkRGF0ZShkYXRlKSB7XG4gICAgICB2YXIgYWRqdXN0ZWREYXRlID0gZGF0ZTtcbiAgICAgIHZhciBtaW5EYXRlID0gdGhpcy5nZXRNaW5EYXRlKCk7XG4gICAgICB2YXIgbWF4RGF0ZSA9IHRoaXMuZ2V0TWF4RGF0ZSgpO1xuICAgICAgaWYgKCgwLCBfZGF0ZVV0aWxzLmlzQmVmb3JlRGF0ZSkoZGF0ZSwgbWluRGF0ZSkpIHtcbiAgICAgICAgYWRqdXN0ZWREYXRlID0gbWluRGF0ZTtcbiAgICAgIH0gZWxzZSBpZiAoKDAsIF9kYXRlVXRpbHMuaXNBZnRlckRhdGUpKGRhdGUsIG1heERhdGUpKSB7XG4gICAgICAgIGFkanVzdGVkRGF0ZSA9IG1heERhdGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdEaXNwbGF5RGF0ZSA9IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGFkanVzdGVkRGF0ZSk7XG4gICAgICBpZiAobmV3RGlzcGxheURhdGUgIT09IHRoaXMuc3RhdGUuZGlzcGxheURhdGUpIHtcbiAgICAgICAgdGhpcy5zZXREaXNwbGF5RGF0ZShuZXdEaXNwbGF5RGF0ZSwgYWRqdXN0ZWREYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogYWRqdXN0ZWREYXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRvb2xiYXJJbnRlcmFjdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb29sYmFySW50ZXJhY3Rpb25zKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJldk1vbnRoOiB0aGlzLnByb3BzLnV0aWxzLm1vbnRoRGlmZih0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLCB0aGlzLmdldE1pbkRhdGUoKSkgPiAwLFxuICAgICAgICBuZXh0TW9udGg6IHRoaXMucHJvcHMudXRpbHMubW9udGhEaWZmKHRoaXMuc3RhdGUuZGlzcGxheURhdGUsIHRoaXMuZ2V0TWF4RGF0ZSgpKSA8IDBcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAneWVhclNlbGVjdG9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24geWVhclNlbGVjdG9yKCkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJZZWFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiAneWVhcnMnLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiB0aGlzLnByb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgb25Ub3VjaFRhcFllYXI6IHRoaXMuaGFuZGxlVG91Y2hUYXBZZWFyLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgbWluRGF0ZTogdGhpcy5nZXRNaW5EYXRlKCksXG4gICAgICAgICAgbWF4RGF0ZTogdGhpcy5nZXRNYXhEYXRlKCksXG4gICAgICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcbiAgICAgIHZhciBoaWRlQ2FsZW5kYXJEYXRlID0gdGhpcy5wcm9wcy5oaWRlQ2FsZW5kYXJEYXRlO1xuXG4gICAgICB2YXIgdG9vbGJhckludGVyYWN0aW9ucyA9IHRoaXMuZ2V0VG9vbGJhckludGVyYWN0aW9ucygpO1xuICAgICAgdmFyIGlzTGFuZHNjYXBlID0gdGhpcy5wcm9wcy5tb2RlID09PSAnbGFuZHNjYXBlJztcbiAgICAgIHZhciBjYWxlbmRhclRleHRDb2xvciA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5kYXRlUGlja2VyLmNhbGVuZGFyVGV4dENvbG9yO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBjb2xvcjogY2FsZW5kYXJUZXh0Q29sb3IsXG4gICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgIHdpZHRoOiAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBpc0xhbmRzY2FwZSA/IDQ3OSA6IDMxMFxuICAgICAgICB9LFxuICAgICAgICBjYWxlbmRhcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ1xuICAgICAgICB9LFxuICAgICAgICBjYWxlbmRhckNvbnRhaW5lcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBhbGlnbkNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICBmb250V2VpZ2h0OiA0MDAsXG4gICAgICAgICAgcGFkZGluZzogJzBweCA4cHgnLFxuICAgICAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KClcbiAgICAgICAgfSxcbiAgICAgICAgeWVhckNvbnRhaW5lcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIGhlaWdodDogMjcyLFxuICAgICAgICAgIG1hcmdpblRvcDogMTAsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIHdpZHRoOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgd2Vla1RpdGxlOiB7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnMTVweCcsXG4gICAgICAgICAgb3BhY2l0eTogJzAuNScsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICB9LFxuICAgICAgICB3ZWVrVGl0bGVEYXk6IHtcbiAgICAgICAgICB3aWR0aDogNDJcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNpdGlvblNsaWRlOiB7XG4gICAgICAgICAgaGVpZ2h0OiAyMTRcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHdlZWtUaXRsZURheVN0eWxlID0gcHJlcGFyZVN0eWxlcyhzdHlsZXMud2Vla1RpdGxlRGF5KTtcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25Ub3VjaFRhcENhbmNlbCA9IF9wcm9wcy5vblRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgIG9uVG91Y2hUYXBPayA9IF9wcm9wcy5vblRvdWNoVGFwT2ssXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHM7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZVdpbmRvd0tleURvd25cbiAgICAgICAgfSksXG4gICAgICAgICFoaWRlQ2FsZW5kYXJEYXRlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EYXRlRGlzcGxheTIuZGVmYXVsdCwge1xuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbjogdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBvblRvdWNoVGFwTW9udGhEYXk6IHRoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyOiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlZZWFyLFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIG1vbnRoRGF5U2VsZWN0ZWQ6IHRoaXMuc3RhdGUuZGlzcGxheU1vbnRoRGF5LFxuICAgICAgICAgIG1vZGU6IHRoaXMucHJvcHMubW9kZSxcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jYWxlbmRhcikgfSxcbiAgICAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2FsZW5kYXJDb250YWluZXIpIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJUb29sYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICAgIGRpc3BsYXlEYXRlOiB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLFxuICAgICAgICAgICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZU1vbnRoQ2hhbmdlLFxuICAgICAgICAgICAgICBwcmV2TW9udGg6IHRvb2xiYXJJbnRlcmFjdGlvbnMucHJldk1vbnRoLFxuICAgICAgICAgICAgICBuZXh0TW9udGg6IHRvb2xiYXJJbnRlcmFjdGlvbnMubmV4dE1vbnRoXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMud2Vla1RpdGxlKSB9LFxuICAgICAgICAgICAgICBkYXlzQXJyYXkubWFwKGZ1bmN0aW9uIChldmVudCwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgIHsga2V5OiBpLCBzdHlsZTogd2Vla1RpdGxlRGF5U3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICgwLCBfZGF0ZVV0aWxzLmxvY2FsaXplZFdlZWtkYXkpKERhdGVUaW1lRm9ybWF0LCBsb2NhbGUsIGksIGZpcnN0RGF5T2ZXZWVrKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9TbGlkZUluMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGRpcmVjdGlvbjogdGhpcy5zdGF0ZS50cmFuc2l0aW9uRGlyZWN0aW9uLCBzdHlsZTogc3R5bGVzLnRyYW5zaXRpb25TbGlkZSB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJNb250aDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSxcbiAgICAgICAgICAgICAgICBmaXJzdERheU9mV2VlazogdGhpcy5wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICAgICAgICBrZXk6IHRoaXMuc3RhdGUuZGlzcGxheURhdGUudG9EYXRlU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbWluRGF0ZTogdGhpcy5nZXRNaW5EYXRlKCksXG4gICAgICAgICAgICAgICAgbWF4RGF0ZTogdGhpcy5nZXRNYXhEYXRlKCksXG4gICAgICAgICAgICAgICAgb25Ub3VjaFRhcERheTogdGhpcy5oYW5kbGVUb3VjaFRhcERheSxcbiAgICAgICAgICAgICAgICByZWY6ICdjYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogdGhpcy5wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgICF0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMueWVhckNvbnRhaW5lcikgfSxcbiAgICAgICAgICAgIHRoaXMueWVhclNlbGVjdG9yKClcbiAgICAgICAgICApLFxuICAgICAgICAgIG9rTGFiZWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyQWN0aW9uQnV0dG9uczIuZGVmYXVsdCwge1xuICAgICAgICAgICAgYXV0b09rOiB0aGlzLnByb3BzLmF1dG9PayxcbiAgICAgICAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgICBvblRvdWNoVGFwQ2FuY2VsOiBvblRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcE9rOiBvblRvdWNoVGFwT2tcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7XG4gIERhdGVUaW1lRm9ybWF0OiBfZGF0ZVV0aWxzLmRhdGVUaW1lRm9ybWF0LFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGluaXRpYWxEYXRlOiBuZXcgRGF0ZSgpLFxuICBsb2NhbGU6ICdlbi1VUycsXG4gIHV0aWxzOiBfZGF0ZVV0aWxzLmRlZmF1bHRVdGlsc1xufTtcbkNhbGVuZGFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYWxlbmRhci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgaGlkZUNhbGVuZGFyRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpbml0aWFsRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbWF4RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbkRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtb2RlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsncG9ydHJhaXQnLCAnbGFuZHNjYXBlJ10pLFxuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9uVG91Y2hUYXBDYW5jZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcERheTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHNob3VsZERpc2FibGVEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXIuanNcbi8vIG1vZHVsZSBpZCA9IDQwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSByZXF1aXJlKCcuLi9GbGF0QnV0dG9uJyk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENhbGVuZGFyQWN0aW9uQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FsZW5kYXJBY3Rpb25CdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyQWN0aW9uQnV0dG9uKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyQWN0aW9uQnV0dG9uKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQ2FsZW5kYXJBY3Rpb25CdXR0b24uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyQWN0aW9uQnV0dG9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhckFjdGlvbkJ1dHRvbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYW5jZWxMYWJlbCA9IF9wcm9wcy5jYW5jZWxMYWJlbCxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWw7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgbWF4SGVpZ2h0OiA0OCxcbiAgICAgICAgICBwYWRkaW5nOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGZsYXRCdXR0b25zOiB7XG4gICAgICAgICAgZm9udHNpemU6IDE0LFxuICAgICAgICAgIG1hcmdpbjogJzRweCA4cHggOHB4IDBweCcsXG4gICAgICAgICAgbWF4SGVpZ2h0OiAzNixcbiAgICAgICAgICBtaW5XaWR0aDogNjQsXG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMucm9vdCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICAgIGxhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLnByb3BzLm9uVG91Y2hUYXBDYW5jZWwsXG4gICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLmZsYXRCdXR0b25zXG4gICAgICAgIH0pLFxuICAgICAgICAhdGhpcy5wcm9wcy5hdXRvT2sgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5yZWZzLmNhbGVuZGFyICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSxcbiAgICAgICAgICBsYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLnByb3BzLm9uVG91Y2hUYXBPayxcbiAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMuZmxhdEJ1dHRvbnNcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhckFjdGlvbkJ1dHRvbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyQWN0aW9uQnV0dG9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgb25Ub3VjaFRhcENhbmNlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJBY3Rpb25CdXR0b247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXJBY3Rpb25CdXR0b25zLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9kYXRlVXRpbHMgPSByZXF1aXJlKCcuL2RhdGVVdGlscycpO1xuXG52YXIgX0RheUJ1dHRvbiA9IHJlcXVpcmUoJy4vRGF5QnV0dG9uJyk7XG5cbnZhciBfRGF5QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RheUJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzdHlsZXMgPSB7XG4gIHJvb3Q6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICBmb250V2VpZ2h0OiA0MDAsXG4gICAgaGVpZ2h0OiAyMjgsXG4gICAgbGluZUhlaWdodDogMixcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIE1velBhZGRpbmdTdGFydDogMFxuICB9LFxuICB3ZWVrOiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJyxcbiAgICBoZWlnaHQ6IDM0LFxuICAgIG1hcmdpbkJvdHRvbTogMlxuICB9XG59O1xuXG52YXIgQ2FsZW5kYXJNb250aCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyTW9udGgsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyTW9udGgoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXJNb250aCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhck1vbnRoLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYWxlbmRhck1vbnRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXkgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBEYXkoZXZlbnQsIGRhdGUpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhck1vbnRoLCBbe1xuICAgIGtleTogJ2lzU2VsZWN0ZWREYXRlRGlzYWJsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NlbGVjdGVkRGF0ZURpc2FibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWREYXRlRGlzYWJsZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvdWxkRGlzYWJsZURhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGREaXNhYmxlRGF0ZShkYXkpIHtcbiAgICAgIGlmIChkYXkgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBkaXNhYmxlZCA9ICEoMCwgX2RhdGVVdGlscy5pc0JldHdlZW5EYXRlcykoZGF5LCB0aGlzLnByb3BzLm1pbkRhdGUsIHRoaXMucHJvcHMubWF4RGF0ZSk7XG4gICAgICBpZiAoIWRpc2FibGVkICYmIHRoaXMucHJvcHMuc2hvdWxkRGlzYWJsZURhdGUpIGRpc2FibGVkID0gdGhpcy5wcm9wcy5zaG91bGREaXNhYmxlRGF0ZShkYXkpO1xuXG4gICAgICByZXR1cm4gZGlzYWJsZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0V2Vla0VsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0V2Vla0VsZW1lbnRzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB3ZWVrQXJyYXkgPSB0aGlzLnByb3BzLnV0aWxzLmdldFdlZWtBcnJheSh0aGlzLnByb3BzLmRpc3BsYXlEYXRlLCB0aGlzLnByb3BzLmZpcnN0RGF5T2ZXZWVrKTtcblxuICAgICAgcmV0dXJuIHdlZWtBcnJheS5tYXAoZnVuY3Rpb24gKHdlZWssIGkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsga2V5OiBpLCBzdHlsZTogc3R5bGVzLndlZWsgfSxcbiAgICAgICAgICBfdGhpczIuZ2V0RGF5RWxlbWVudHMod2VlaywgaSlcbiAgICAgICAgKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldERheUVsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF5RWxlbWVudHMod2VlaywgaSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlID0gX3Byb3BzLnNlbGVjdGVkRGF0ZTtcblxuXG4gICAgICByZXR1cm4gd2Vlay5tYXAoZnVuY3Rpb24gKGRheSwgaikge1xuICAgICAgICB2YXIgaXNTYW1lRGF0ZSA9ICgwLCBfZGF0ZVV0aWxzLmlzRXF1YWxEYXRlKShzZWxlY3RlZERhdGUsIGRheSk7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzMy5zaG91bGREaXNhYmxlRGF0ZShkYXkpO1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAhZGlzYWJsZWQgJiYgaXNTYW1lRGF0ZTtcblxuICAgICAgICBpZiAoaXNTYW1lRGF0ZSkge1xuICAgICAgICAgIF90aGlzMy5zZWxlY3RlZERhdGVEaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EYXlCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgZGF0ZTogZGF5LFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBrZXk6ICdkYicgKyAoaSArIGopLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IF90aGlzMy5oYW5kbGVUb3VjaFRhcERheSxcbiAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMucm9vdCB9LFxuICAgICAgICB0aGlzLmdldFdlZWtFbGVtZW50cygpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXJNb250aDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyTW9udGgucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNwbGF5RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgZmlyc3REYXlPZldlZWs6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgb25Ub3VjaFRhcERheTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYWxlbmRhck1vbnRoO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyTW9udGguanNcbi8vIG1vZHVsZSBpZCA9IDQwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0ljb25CdXR0b24gPSByZXF1aXJlKCcuLi9JY29uQnV0dG9uJyk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9jaGV2cm9uTGVmdCA9IHJlcXVpcmUoJy4uL3N2Zy1pY29ucy9uYXZpZ2F0aW9uL2NoZXZyb24tbGVmdCcpO1xuXG52YXIgX2NoZXZyb25MZWZ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZXZyb25MZWZ0KTtcblxudmFyIF9jaGV2cm9uUmlnaHQgPSByZXF1aXJlKCcuLi9zdmctaWNvbnMvbmF2aWdhdGlvbi9jaGV2cm9uLXJpZ2h0Jyk7XG5cbnZhciBfY2hldnJvblJpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZXZyb25SaWdodCk7XG5cbnZhciBfU2xpZGVJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFsL1NsaWRlSW4nKTtcblxudmFyIF9TbGlkZUluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgc3R5bGVzID0ge1xuICByb290OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnaW5oZXJpdCcsXG4gICAgaGVpZ2h0OiA0OFxuICB9LFxuICB0aXRsZURpdjoge1xuICAgIGZvbnRTaXplOiAxNCxcbiAgICBmb250V2VpZ2h0OiAnNTAwJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIHdpZHRoOiAnMTAwJSdcbiAgfSxcbiAgdGl0bGVUZXh0OiB7XG4gICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgcGFkZGluZ1RvcDogMTJcbiAgfVxufTtcblxudmFyIENhbGVuZGFyVG9vbGJhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyVG9vbGJhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJUb29sYmFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyVG9vbGJhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhclRvb2xiYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyVG9vbGJhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ3VwJ1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Nb250aENoYW5nZSgtMSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBOZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb250aENoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKDEpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhclRvb2xiYXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmRpc3BsYXlEYXRlICE9PSB0aGlzLnByb3BzLmRpc3BsYXlEYXRlKSB7XG4gICAgICAgIHZhciBuZXh0RGlyZWN0aW9uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgdmFyIHByZXZEaXJlY3Rpb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gbmV4dFByb3BzLmRpc3BsYXlEYXRlID4gdGhpcy5wcm9wcy5kaXNwbGF5RGF0ZSA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBkaXNwbGF5RGF0ZSA9IF9wcm9wcy5kaXNwbGF5RGF0ZTtcblxuXG4gICAgICB2YXIgZGF0ZVRpbWVGb3JtYXR0ZWQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgfSkuZm9ybWF0KGRpc3BsYXlEYXRlKTtcblxuICAgICAgdmFyIG5leHRCdXR0b25JY29uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25MZWZ0Mi5kZWZhdWx0LCBudWxsKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGV2cm9uUmlnaHQyLmRlZmF1bHQsIG51bGwpO1xuICAgICAgdmFyIHByZXZCdXR0b25JY29uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25SaWdodDIuZGVmYXVsdCwgbnVsbCkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hldnJvbkxlZnQyLmRlZmF1bHQsIG51bGwpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMucm9vdCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMucHJvcHMucHJldk1vbnRoLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcFByZXZNb250aFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldkJ1dHRvbkljb25cbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1NsaWRlSW4yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLnN0YXRlLnRyYW5zaXRpb25EaXJlY3Rpb24sXG4gICAgICAgICAgICBzdHlsZTogc3R5bGVzLnRpdGxlRGl2XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IGRhdGVUaW1lRm9ybWF0dGVkLCBzdHlsZTogc3R5bGVzLnRpdGxlVGV4dCB9LFxuICAgICAgICAgICAgZGF0ZVRpbWVGb3JtYXR0ZWRcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5wcm9wcy5uZXh0TW9udGgsXG4gICAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwTmV4dE1vbnRoXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuZXh0QnV0dG9uSWNvblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXJUb29sYmFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJUb29sYmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgbmV4dE1vbnRoOiB0cnVlLFxuICBwcmV2TW9udGg6IHRydWVcbn07XG5DYWxlbmRhclRvb2xiYXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhbGVuZGFyVG9vbGJhci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzcGxheURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbmV4dE1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uTW9udGhDaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcHJldk1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyVG9vbGJhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9DYWxlbmRhclRvb2xiYXIuanNcbi8vIG1vZHVsZSBpZCA9IDQwM1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9ZZWFyQnV0dG9uID0gcmVxdWlyZSgnLi9ZZWFyQnV0dG9uJyk7XG5cbnZhciBfWWVhckJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ZZWFyQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENhbGVuZGFyWWVhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyWWVhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJZZWFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyWWVhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhclllYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyWWVhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uIChldmVudCwgeWVhcikge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKGV2ZW50LCB5ZWFyKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJZZWFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWRZZWFyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkWWVhcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFllYXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0WWVhcnMoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG1pbkRhdGUgPSBfcHJvcHMubWluRGF0ZSxcbiAgICAgICAgICBtYXhEYXRlID0gX3Byb3BzLm1heERhdGUsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlID0gX3Byb3BzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscztcblxuXG4gICAgICB2YXIgbWluWWVhciA9IHV0aWxzLmdldFllYXIobWluRGF0ZSk7XG4gICAgICB2YXIgbWF4WWVhciA9IHV0aWxzLmdldFllYXIobWF4RGF0ZSk7XG4gICAgICB2YXIgeWVhcnMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgeWVhciA9IG1pblllYXI7IHllYXIgPD0gbWF4WWVhcjsgeWVhcisrKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHV0aWxzLmdldFllYXIoc2VsZWN0ZWREYXRlKSA9PT0geWVhcjtcbiAgICAgICAgdmFyIHNlbGVjdGVkUHJvcHMgPSB7fTtcbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgc2VsZWN0ZWRQcm9wcy5yZWYgPSAnc2VsZWN0ZWRZZWFyQnV0dG9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB5ZWFyRm9ybWF0ZWQgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICAgIH0pLmZvcm1hdCh1dGlscy5zZXRZZWFyKHNlbGVjdGVkRGF0ZSwgeWVhcikpO1xuXG4gICAgICAgIHZhciB5ZWFyQnV0dG9uID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1llYXJCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICBrZXk6ICd5YicgKyB5ZWFyLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcFllYXIsXG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyLFxuICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgfSwgc2VsZWN0ZWRQcm9wcyksXG4gICAgICAgICAgeWVhckZvcm1hdGVkXG4gICAgICAgICk7XG5cbiAgICAgICAgeWVhcnMucHVzaCh5ZWFyQnV0dG9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHllYXJzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvU2VsZWN0ZWRZZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9TZWxlY3RlZFllYXIoKSB7XG4gICAgICBpZiAodGhpcy5yZWZzLnNlbGVjdGVkWWVhckJ1dHRvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRhaW5lciA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciB5ZWFyQnV0dG9uTm9kZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VsZWN0ZWRZZWFyQnV0dG9uKTtcblxuICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICB2YXIgeWVhckJ1dHRvbk5vZGVIZWlnaHQgPSB5ZWFyQnV0dG9uTm9kZS5jbGllbnRIZWlnaHQgfHwgMzI7XG5cbiAgICAgIHZhciBzY3JvbGxZT2Zmc2V0ID0geWVhckJ1dHRvbk5vZGUub2Zmc2V0VG9wICsgeWVhckJ1dHRvbk5vZGVIZWlnaHQgLyAyIC0gY29udGFpbmVySGVpZ2h0IC8gMjtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGxZT2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IHRoaXMuY29udGV4dC5tdWlUaGVtZSxcbiAgICAgICAgICBwcmVwYXJlU3R5bGVzID0gX2NvbnRleHQkbXVpVGhlbWUucHJlcGFyZVN0eWxlcyxcbiAgICAgICAgICBjYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZS5kYXRlUGlja2VyLmNhbGVuZGFyWWVhckJhY2tncm91bmRDb2xvcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgbGluZUhlaWdodDogJzM1cHgnLFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZDoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgbWluSGVpZ2h0OiAnMTAwJSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2hpbGQpIH0sXG4gICAgICAgICAgdGhpcy5nZXRZZWFycygpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhclllYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhclllYXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhbGVuZGFyWWVhci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBvblRvdWNoVGFwWWVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICB3b3JkaW5nczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyWWVhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9DYWxlbmRhclllYXIuanNcbi8vIG1vZHVsZSBpZCA9IDQwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX1NsaWRlSW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9TbGlkZUluJyk7XG5cbnZhciBfU2xpZGVJbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbGlkZUluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgZGF0ZVBpY2tlciA9IGNvbnRleHQubXVpVGhlbWUuZGF0ZVBpY2tlcjtcbiAgdmFyIHNlbGVjdGVkWWVhciA9IHN0YXRlLnNlbGVjdGVkWWVhcjtcblxuICB2YXIgaXNMYW5kc2NhcGUgPSBwcm9wcy5tb2RlID09PSAnbGFuZHNjYXBlJztcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHdpZHRoOiBpc0xhbmRzY2FwZSA/IDE2NSA6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogaXNMYW5kc2NhcGUgPyAzMzAgOiAnYXV0bycsXG4gICAgICBmbG9hdDogaXNMYW5kc2NhcGUgPyAnbGVmdCcgOiAnbm9uZScsXG4gICAgICBmb250V2VpZ2h0OiA3MDAsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZGF0ZVBpY2tlci5oZWFkZXJDb2xvcixcbiAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDIsXG4gICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogaXNMYW5kc2NhcGUgPyAwIDogMixcbiAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IGlzTGFuZHNjYXBlID8gMiA6IDAsXG4gICAgICBjb2xvcjogZGF0ZVBpY2tlci50ZXh0Q29sb3IsXG4gICAgICBwYWRkaW5nOiAyMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgfSxcbiAgICBtb250aERheToge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZvbnRTaXplOiAzNixcbiAgICAgIGxpbmVIZWlnaHQ6ICczNnB4JyxcbiAgICAgIGhlaWdodDogcHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZScgPyAnMTAwJScgOiAzOCxcbiAgICAgIG9wYWNpdHk6IHNlbGVjdGVkWWVhciA/IDAuNyA6IDEsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnXG4gICAgfSxcbiAgICBtb250aERheVRpdGxlOiB7XG4gICAgICBjdXJzb3I6ICFzZWxlY3RlZFllYXIgPyAnZGVmYXVsdCcgOiAncG9pbnRlcicsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH0sXG4gICAgeWVhcjoge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnMTZweCcsXG4gICAgICBoZWlnaHQ6IDE2LFxuICAgICAgb3BhY2l0eTogc2VsZWN0ZWRZZWFyID8gMSA6IDAuNyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBtYXJnaW5Cb3R0b206IDEwXG4gICAgfSxcbiAgICB5ZWFyVGl0bGU6IHtcbiAgICAgIGN1cnNvcjogcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24gfHwgc2VsZWN0ZWRZZWFyID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBEYXRlRGlzcGxheSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERhdGVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlRGlzcGxheSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXRlRGlzcGxheSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXRlRGlzcGxheS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZURpc3BsYXkpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkWWVhcjogZmFsc2UsXG4gICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiAndXAnXG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBNb250aERheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwTW9udGhEYXkgJiYgX3RoaXMuc3RhdGUuc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBNb250aERheSgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkWWVhcjogZmFsc2UgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBZZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyICYmICFfdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbiAmJiAhX3RoaXMuc3RhdGUuc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24pIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVEaXNwbGF5LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5tb250aERheVNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLnNlbGVjdGVkRGF0ZSAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5leHRQcm9wcy5zZWxlY3RlZERhdGUgPiB0aGlzLnByb3BzLnNlbGVjdGVkRGF0ZSA/ICd1cCcgOiAnZG93bic7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRQcm9wcy5tb250aERheVNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0ZWRZZWFyOiAhbmV4dFByb3BzLm1vbnRoRGF5U2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb24gPSBfcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGUsXG4gICAgICAgICAgbW9udGhEYXlTZWxlY3RlZCA9IF9wcm9wcy5tb250aERheVNlbGVjdGVkLFxuICAgICAgICAgIG9uVG91Y2hUYXBNb250aERheSA9IF9wcm9wcy5vblRvdWNoVGFwTW9udGhEYXksXG4gICAgICAgICAgb25Ub3VjaFRhcFllYXIgPSBfcHJvcHMub25Ub3VjaFRhcFllYXIsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlID0gX3Byb3BzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdkaXNhYmxlWWVhclNlbGVjdGlvbicsICdsb2NhbGUnLCAnbW9kZScsICdtb250aERheVNlbGVjdGVkJywgJ29uVG91Y2hUYXBNb250aERheScsICdvblRvdWNoVGFwWWVhcicsICdzZWxlY3RlZERhdGUnLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHZhciB5ZWFyID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgIH0pLmZvcm1hdChzZWxlY3RlZERhdGUpO1xuXG4gICAgICB2YXIgZGF0ZVRpbWUgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICB3ZWVrZGF5OiAnc2hvcnQnLFxuICAgICAgICBkYXk6ICcyLWRpZ2l0J1xuICAgICAgfSkuZm9ybWF0KHNlbGVjdGVkRGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290LCBzdHlsZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluMi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy55ZWFyLCBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGtleTogeWVhciwgc3R5bGU6IHN0eWxlcy55ZWFyVGl0bGUsIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBZZWFyIH0sXG4gICAgICAgICAgICB5ZWFyXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMubW9udGhEYXksIGRpcmVjdGlvbjogdGhpcy5zdGF0ZS50cmFuc2l0aW9uRGlyZWN0aW9uIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBkYXRlVGltZSxcbiAgICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE1vbnRoRGF5LFxuICAgICAgICAgICAgICBzdHlsZTogc3R5bGVzLm1vbnRoRGF5VGl0bGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRlVGltZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERhdGVEaXNwbGF5O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF0ZURpc3BsYXkuZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIG1vbnRoRGF5U2VsZWN0ZWQ6IHRydWVcbn07XG5EYXRlRGlzcGxheS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF0ZURpc3BsYXkucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgbW9udGhEYXlTZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvblRvdWNoVGFwTW9udGhEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcFllYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGVEaXNwbGF5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0RhdGVEaXNwbGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA0MDVcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9kYXRlVXRpbHMnKTtcblxudmFyIF9EYXRlUGlja2VyRGlhbG9nID0gcmVxdWlyZSgnLi9EYXRlUGlja2VyRGlhbG9nJyk7XG5cbnZhciBfRGF0ZVBpY2tlckRpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyRGlhbG9nKTtcblxudmFyIF9UZXh0RmllbGQgPSByZXF1aXJlKCcuLi9UZXh0RmllbGQnKTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIERhdGVQaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlUGlja2VyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVQaWNrZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZVBpY2tlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZVBpY2tlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogdW5kZWZpbmVkXG4gICAgfSwgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmICghX3RoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRhdGU6IGRhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCwgZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMub3BlbkRpYWxvZygpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5mb3JtYXREYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5sb2NhbGUpIHtcbiAgICAgICAgdmFyIERhdGVUaW1lRm9ybWF0ID0gX3RoaXMucHJvcHMuRGF0ZVRpbWVGb3JtYXQgfHwgX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdDtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZUZvcm1hdChfdGhpcy5wcm9wcy5sb2NhbGUsIHtcbiAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICBtb250aDogJ251bWVyaWMnLFxuICAgICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgICB9KS5mb3JtYXQoZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDAsIF9kYXRlVXRpbHMuZm9ybWF0SXNvKShkYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZVBpY2tlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogdGhpcy5pc0NvbnRyb2xsZWQoKSA/IHRoaXMuZ2V0Q29udHJvbGxlZERhdGUoKSA6IHRoaXMucHJvcHMuZGVmYXVsdERhdGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgICAgdmFyIG5ld0RhdGUgPSB0aGlzLmdldENvbnRyb2xsZWREYXRlKG5leHRQcm9wcyk7XG4gICAgICAgIGlmICghKDAsIF9kYXRlVXRpbHMuaXNFcXVhbERhdGUpKHRoaXMuc3RhdGUuZGF0ZSwgbmV3RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGU6IG5ld0RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBkYXRlLXBpY2tlciBkaWFsb2cgcHJvZ3JhbW1hdGljYWxseSBmcm9tIGEgcGFyZW50LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRpYWxvZygpIHtcbiAgICAgIC8qKlxuICAgICAgICogaWYgdGhlIGRhdGUgaXMgbm90IHNlbGVjdGVkIHRoZW4gc2V0IGl0IHRvIG5ldyBkYXRlXG4gICAgICAgKiAoZ2V0IHRoZSBjdXJyZW50IHN5c3RlbSBkYXRlIHdoaWxlIGRvaW5nIHNvKVxuICAgICAgICogZWxzZSBzZXQgaXQgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkYXRlXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkaWFsb2dEYXRlOiB0aGlzLmdldERhdGUoKVxuICAgICAgICB9LCB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlhbG9nRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICB9LCB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgb3BlbkRpYWxvZygpYCBmb3IgYW4gYXBpIGNvbnNpc3RlbnQgd2l0aCBUZXh0RmllbGQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB0aGlzLm9wZW5EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NvbnRyb2xsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NvbnRyb2xsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb250cm9sbGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRyb2xsZWREYXRlKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuXG4gICAgICBpZiAocHJvcHMudmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGFpbmVyID0gX3Byb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICBkZWZhdWx0RGF0ZSA9IF9wcm9wcy5kZWZhdWx0RGF0ZSxcbiAgICAgICAgICBkaWFsb2dDb250YWluZXJTdHlsZSA9IF9wcm9wcy5kaWFsb2dDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBmb3JtYXREYXRlUHJvcCA9IF9wcm9wcy5mb3JtYXREYXRlLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9wcm9wcy5tYXhEYXRlLFxuICAgICAgICAgIG1pbkRhdGUgPSBfcHJvcHMubWluRGF0ZSxcbiAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGUsXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIG9uRGlzbWlzcyA9IF9wcm9wcy5vbkRpc21pc3MsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBfcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICBoaWRlQ2FsZW5kYXJEYXRlID0gX3Byb3BzLmhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGV4dEZpZWxkU3R5bGUgPSBfcHJvcHMudGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHMsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnRGF0ZVRpbWVGb3JtYXQnLCAnYXV0b09rJywgJ2NhbmNlbExhYmVsJywgJ2NsYXNzTmFtZScsICdjb250YWluZXInLCAnZGVmYXVsdERhdGUnLCAnZGlhbG9nQ29udGFpbmVyU3R5bGUnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnZmlyc3REYXlPZldlZWsnLCAnZm9ybWF0RGF0ZScsICdsb2NhbGUnLCAnbWF4RGF0ZScsICdtaW5EYXRlJywgJ21vZGUnLCAnb2tMYWJlbCcsICdvbkRpc21pc3MnLCAnb25Gb2N1cycsICdvblNob3cnLCAnb25Ub3VjaFRhcCcsICdvcGVuVG9ZZWFyU2VsZWN0aW9uJywgJ3Nob3VsZERpc2FibGVEYXRlJywgJ2hpZGVDYWxlbmRhckRhdGUnLCAnc3R5bGUnLCAndGV4dEZpZWxkU3R5bGUnLCAndXRpbHMnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGVQcm9wIHx8IHRoaXMuZm9ybWF0RGF0ZTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwLFxuICAgICAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgICAgICBzdHlsZTogdGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZGF0ZSA/IGZvcm1hdERhdGUodGhpcy5zdGF0ZS5kYXRlKSA6ICcnXG4gICAgICAgIH0pKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RhdGVQaWNrZXJEaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgYXV0b09rOiBhdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lclN0eWxlOiBkaWFsb2dDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgIGluaXRpYWxEYXRlOiB0aGlzLnN0YXRlLmRpYWxvZ0RhdGUsXG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBvbkFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgICAgb25EaXNtaXNzOiBvbkRpc21pc3MsXG4gICAgICAgICAgcmVmOiAnZGlhbG9nV2luZG93JyxcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgaGlkZUNhbGVuZGFyRGF0ZTogaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERhdGVQaWNrZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b09rOiBmYWxzZSxcbiAgY29udGFpbmVyOiAnZGlhbG9nJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGZpcnN0RGF5T2ZXZWVrOiAxLFxuICBoaWRlQ2FsZW5kYXJEYXRlOiBmYWxzZSxcbiAgc3R5bGU6IHt9LFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZVxufTtcbkRhdGVQaWNrZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRhdGVQaWNrZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGRhdGUgZm9ybWF0dGluZyBmb3IgdGhlIHNwZWNpZmllZCBgbG9jYWxlYC5cbiAgICogVGhlIGNvbnN0cnVjdG9yIG11c3QgZm9sbG93IHRoaXMgc3BlY2lmaWNhdGlvbjogRUNNQVNjcmlwdCBJbnRlcm5hdGlvbmFsaXphdGlvbiBBUEkgMS4wIChFQ01BLTQwMikuXG4gICAqIGBJbnRsLkRhdGVUaW1lRm9ybWF0YCBpcyBzdXBwb3J0ZWQgYnkgbW9zdCBtb2Rlcm4gYnJvd3NlcnMsIHNlZSBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1pbnRsLFxuICAgKiBvdGhlcndpc2UgaHR0cHM6Ly9naXRodWIuY29tL2FuZHllYXJuc2hhdy9JbnRsLmpzIGlzIGEgZ29vZCBwb2x5ZmlsbC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgYSBidWlsdC1pbiBgRGF0ZVRpbWVGb3JtYXRgIGlzIHVzZWQgd2hpY2ggc3VwcG9ydHMgdGhlICdlbi1VUycgYGxvY2FsZWAuXG4gICAqL1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBhY2NlcHQgYW5kIGNsb3NlIHRoZSBwaWNrZXIgb24gc2VsZWN0IGEgZGF0ZS5cbiAgICovXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGV4dCBvZiB0aGUgJ0NhbmNlbCcgYnV0dG9uLlxuICAgKi9cbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gY29udHJvbCBob3cgdGhlIERhdGUgUGlja2VyIHdpbGwgYmUgZGlzcGxheWVkIHdoZW4gdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQuXG4gICAqIGBkaWFsb2dgIChkZWZhdWx0KSBkaXNwbGF5cyB0aGUgRGF0ZVBpY2tlciBhcyBhIGRpYWxvZyB3aXRoIGEgbW9kYWwuXG4gICAqIGBpbmxpbmVgIGRpc3BsYXlzIHRoZSBEYXRlUGlja2VyIGJlbG93IHRoZSBpbnB1dCBmaWVsZCAoc2ltaWxhciB0byBhdXRvIGNvbXBsZXRlKS5cbiAgICovXG4gIGNvbnRhaW5lcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2RpYWxvZycsICdpbmxpbmUnXSksXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBpbml0aWFsIGRhdGUgdmFsdWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICogSWYgZWl0aGVyIGB2YWx1ZWAgb3IgYHZhbHVlTGlua2AgaXMgcHJvdmlkZWQgdGhleSB3aWxsIG92ZXJyaWRlIHRoaXNcbiAgICogcHJvcCB3aXRoIGB2YWx1ZWAgdGFraW5nIHByZWNlZGVuY2UuXG4gICAqL1xuICBkZWZhdWx0RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBEYXRlUGlja2VyRGlhbG9nJ3MgQ29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICBkaWFsb2dDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgeWVhciBzZWxlY3Rpb24gaW4gdGhlIGRhdGUgcGlja2VyLlxuICAgKi9cbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBEYXRlUGlja2VyLlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gY2hhbmdlIHRoZSBmaXJzdCBkYXkgb2Ygd2Vlay4gSXQgdmFyaWVzIGZyb21cbiAgICogU2F0dXJkYXkgdG8gTW9uZGF5IGJldHdlZW4gZGlmZmVyZW50IGxvY2FsZXMuXG4gICAqIFRoZSBhbGxvd2VkIHJhbmdlIGlzIDAgKFN1bmRheSkgdG8gNiAoU2F0dXJkYXkpLlxuICAgKiBUaGUgZGVmYXVsdCBpcyBgMWAsIE1vbmRheSwgYXMgcGVyIElTTyA4NjAxLlxuICAgKi9cbiAgZmlyc3REYXlPZldlZWs6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgdG8gZm9ybWF0IHRoZSBkYXRlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgZmllbGQsIGFuZCBzaG91bGQgcmV0dXJuIGEgc3RyaW5nLlxuICAgKiBCeSBkZWZhdWx0IGlmIG5vIGBsb2NhbGVgIGFuZCBgRGF0ZVRpbWVGb3JtYXRgIGlzIHByb3ZpZGVkIGRhdGUgb2JqZWN0cyBhcmUgZm9ybWF0dGVkIHRvIElTTyA4NjAxIFlZWVktTU0tREQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIERhdGUgb2JqZWN0IHRvIGJlIGZvcm1hdHRlZC5cbiAgICogQHJldHVybnMge2FueX0gVGhlIGZvcm1hdHRlZCBkYXRlLlxuICAgKi9cbiAgZm9ybWF0RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSGlkZSBkYXRlIGRpc3BsYXlcbiAgICovXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIExvY2FsZSB1c2VkIGZvciBmb3JtYXR0aW5nIHRoZSBgRGF0ZVBpY2tlcmAgZGF0ZSBzdHJpbmdzLiBPdGhlciB0aGFuIGZvciAnZW4tVVMnLCB5b3VcbiAgICogbXVzdCBwcm92aWRlIGEgYERhdGVUaW1lRm9ybWF0YCB0aGF0IHN1cHBvcnRzIHRoZSBjaG9zZW4gYGxvY2FsZWAuXG4gICAqL1xuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGVuZGluZyBvZiBhIHJhbmdlIG9mIHZhbGlkIGRhdGVzLiBUaGUgcmFuZ2UgaW5jbHVkZXMgdGhlIGVuZERhdGUuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGN1cnJlbnQgZGF0ZSArIDEwMCB5ZWFycy5cbiAgICovXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGJlZ2lubmluZyBvZiBhIHJhbmdlIG9mIHZhbGlkIGRhdGVzLiBUaGUgcmFuZ2UgaW5jbHVkZXMgdGhlIHN0YXJ0RGF0ZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgY3VycmVudCBkYXRlIC0gMTAwIHllYXJzLlxuICAgKi9cbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUZWxscyB0aGUgY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIHBpY2tlciBpbiBwb3J0cmFpdCBvciBsYW5kc2NhcGUgbW9kZS5cbiAgICovXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCB0ZXh0IG9mIHRoZSAnT0snIGJ1dHRvbi5cbiAgICovXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgZGF0ZSB2YWx1ZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bGx9IG51bGwgU2luY2UgdGhlcmUgaXMgbm8gcGFydGljdWxhciBldmVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGNoYW5nZSxcbiAgICogdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYWx3YXlzIGJlIG51bGwuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIFRoZSBuZXcgZGF0ZS5cbiAgICovXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIERhdGUgUGlja2VyJ3MgZGlhbG9nIGlzIGRpc21pc3NlZC5cbiAgICovXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBEYXRlIFBpY2tlcidzIGBUZXh0RmllbGRgIGdhaW5zIGZvY3VzLlxuICAgKi9cbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBEYXRlIFBpY2tlcidzIGRpYWxvZyBpcyBzaG93bi5cbiAgICovXG4gIG9uU2hvdzogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIGEgdG91Y2ggdGFwIGV2ZW50IG9jY3VycyBvbiB0aGUgRGF0ZSBQaWNrZXIncyBgVGV4dEZpZWxkYC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRvdWNoVGFwIGV2ZW50IHRhcmdldGluZyB0aGUgYFRleHRGaWVsZGAuXG4gICAqL1xuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBJZiB0cnVlIHNldHMgdGhlIGRhdGVwaWNrZXIgdG8gb3BlbiB0byB5ZWFyIHNlbGVjdGlvbiBmaXJzdC5cbiAgICovXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGEgZGF5J3MgZW50cnkgc2hvdWxkIGJlIGRpc2FibGVkIG9uIHRoZSBjYWxlbmRhci5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRheSBEYXRlIG9iamVjdCBvZiBhIGRheS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IEluZGljYXRlcyB3aGV0aGVyIHRoZSBkYXkgc2hvdWxkIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgc2hvdWxkRGlzYWJsZURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBEYXRlUGlja2VyJ3MgVGV4dEZpZWxkIGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0RmllbGRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGlzIG9iamVjdCBzaG91bGQgY29udGFpbiBtZXRob2RzIG5lZWRlZCB0byBidWlsZCB0aGUgY2FsZW5kYXIgc3lzdGVtLlxuICAgKlxuICAgKiBVc2VmdWwgZm9yIGJ1aWxkaW5nIGEgY3VzdG9tIGNhbGVuZGFyIHN5c3RlbS4gUmVmZXIgdG8gdGhlXG4gICAqIFtzb3VyY2UgY29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2NhbGxlbWFsbC9tYXRlcmlhbC11aS9ibG9iL21hc3Rlci9zcmMvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMpXG4gICAqIGFuZCBhbiBbZXhhbXBsZSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2FsaXRhaGVyaS9tYXRlcmlhbC11aS1wZXJzaWFuLWRhdGUtcGlja2VyLXV0aWxzKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFNldHMgdGhlIGRhdGUgZm9yIHRoZSBEYXRlIFBpY2tlciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEYXRlUGlja2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0RhdGVQaWNrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSByZXF1aXJlKCdrZXljb2RlJyk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF9DYWxlbmRhciA9IHJlcXVpcmUoJy4vQ2FsZW5kYXInKTtcblxudmFyIF9DYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhcik7XG5cbnZhciBfRGlhbG9nID0gcmVxdWlyZSgnLi4vRGlhbG9nJyk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfUG9wb3ZlciA9IHJlcXVpcmUoJy4uL1BvcG92ZXIvUG9wb3ZlcicpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gcmVxdWlyZSgnLi4vUG9wb3Zlci9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwnKTtcblxudmFyIF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxudmFyIF9kYXRlVXRpbHMgPSByZXF1aXJlKCcuL2RhdGVVdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRGF0ZVBpY2tlckRpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERhdGVQaWNrZXJEaWFsb2csIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVQaWNrZXJEaWFsb2coKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZVBpY2tlckRpYWxvZyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXRlUGlja2VyRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TaG93ICYmICFfdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uU2hvdygpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmRpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EaXNtaXNzICYmIF90aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmF1dG9Paykge1xuICAgICAgICBzZXRUaW1lb3V0KF90aGlzLmhhbmRsZVRvdWNoVGFwT2ssIDMwMCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZGlzbWlzcygpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwT2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25BY2NlcHQgJiYgIV90aGlzLnJlZnMuY2FsZW5kYXIuaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KF90aGlzLnJlZnMuY2FsZW5kYXIuZ2V0U2VsZWN0ZWREYXRlKCkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVXaW5kb3dLZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgX3RoaXMuaGFuZGxlVG91Y2hUYXBPaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgY29udGFpbmVyID0gX3Byb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJTdHlsZSA9IF9wcm9wcy5jb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBpbml0aWFsRGF0ZSA9IF9wcm9wcy5pbml0aWFsRGF0ZSxcbiAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG1heERhdGUgPSBfcHJvcHMubWF4RGF0ZSxcbiAgICAgICAgICBtaW5EYXRlID0gX3Byb3BzLm1pbkRhdGUsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBvbkFjY2VwdCA9IF9wcm9wcy5vbkFjY2VwdCxcbiAgICAgICAgICBvbkRpc21pc3MgPSBfcHJvcHMub25EaXNtaXNzLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX3Byb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGUgPSBfcHJvcHMuaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ0RhdGVUaW1lRm9ybWF0JywgJ2F1dG9PaycsICdjYW5jZWxMYWJlbCcsICdjb250YWluZXInLCAnY29udGFpbmVyU3R5bGUnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnaW5pdGlhbERhdGUnLCAnZmlyc3REYXlPZldlZWsnLCAnbG9jYWxlJywgJ21heERhdGUnLCAnbWluRGF0ZScsICdtb2RlJywgJ29rTGFiZWwnLCAnb25BY2NlcHQnLCAnb25EaXNtaXNzJywgJ29uU2hvdycsICdvcGVuVG9ZZWFyU2VsZWN0aW9uJywgJ3Nob3VsZERpc2FibGVEYXRlJywgJ2hpZGVDYWxlbmRhckRhdGUnLCAnc3R5bGUnLCAnYW5pbWF0aW9uJywgJ3V0aWxzJ10pO1xuICAgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgZGlhbG9nQ29udGVudDoge1xuICAgICAgICAgIHdpZHRoOiAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBtb2RlID09PSAnbGFuZHNjYXBlJyA/IDQ3OSA6IDMxMFxuICAgICAgICB9LFxuICAgICAgICBkaWFsb2dCb2R5Q29udGVudDoge1xuICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgbWluSGVpZ2h0OiBoaWRlQ2FsZW5kYXJEYXRlIHx8IG1vZGUgPT09ICdsYW5kc2NhcGUnID8gMzMwIDogNDM0LFxuICAgICAgICAgIG1pbldpZHRoOiBoaWRlQ2FsZW5kYXJEYXRlIHx8IG1vZGUgIT09ICdsYW5kc2NhcGUnID8gMzEwIDogNDc5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBDb250YWluZXIgPSBjb250YWluZXIgPT09ICdpbmxpbmUnID8gX1BvcG92ZXIyLmRlZmF1bHQgOiBfRGlhbG9nMi5kZWZhdWx0O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyByZWY6ICdyb290JyB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQ29udGFpbmVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvckVsOiB0aGlzLnJlZnMucm9vdCAvLyBGb3IgUG9wb3ZlclxuICAgICAgICAgICAgLCBhbmltYXRpb246IGFuaW1hdGlvbiB8fCBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMi5kZWZhdWx0IC8vIEZvciBQb3BvdmVyXG4gICAgICAgICAgICAsIGJvZHlTdHlsZTogc3R5bGVzLmRpYWxvZ0JvZHlDb250ZW50LFxuICAgICAgICAgICAgY29udGVudFN0eWxlOiBzdHlsZXMuZGlhbG9nQ29udGVudCxcbiAgICAgICAgICAgIHJlZjogJ2RpYWxvZycsXG4gICAgICAgICAgICByZXBvc2l0aW9uT25VcGRhdGU6IHRydWUsXG4gICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U6IHRoaXMuaGFuZGxlUmVxdWVzdENsb3NlLFxuICAgICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuZGlhbG9nQm9keUNvbnRlbnQsIGNvbnRhaW5lclN0eWxlKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgdGFyZ2V0OiAnd2luZG93JyxcbiAgICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlV2luZG93S2V5VXBcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGF1dG9PazogYXV0b09rLFxuICAgICAgICAgICAgRGF0ZVRpbWVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgaW5pdGlhbERhdGU6IGluaXRpYWxEYXRlLFxuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICBvblRvdWNoVGFwRGF5OiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF5LFxuICAgICAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIHJlZjogJ2NhbGVuZGFyJyxcbiAgICAgICAgICAgIG9uVG91Y2hUYXBDYW5jZWw6IHRoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwsXG4gICAgICAgICAgICBvblRvdWNoVGFwT2s6IHRoaXMuaGFuZGxlVG91Y2hUYXBPayxcbiAgICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgICAgaGlkZUNhbGVuZGFyRGF0ZTogaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXRlUGlja2VyRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF0ZVBpY2tlckRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIERhdGVUaW1lRm9ybWF0OiBfZGF0ZVV0aWxzLmRhdGVUaW1lRm9ybWF0LFxuICBjYW5jZWxMYWJlbDogJ0NhbmNlbCcsXG4gIGNvbnRhaW5lcjogJ2RpYWxvZycsXG4gIGxvY2FsZTogJ2VuLVVTJyxcbiAgb2tMYWJlbDogJ09LJyxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2Vcbn07XG5EYXRlUGlja2VyRGlhbG9nLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EYXRlUGlja2VyRGlhbG9nLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgYW5pbWF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjb250YWluZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydkaWFsb2cnLCAnaW5saW5lJ10pLFxuICBjb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgaGlkZUNhbGVuZGFyRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpbml0aWFsRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvbkFjY2VwdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkRpc21pc3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRGF0ZVBpY2tlckRpYWxvZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXRlUGlja2VyRGlhbG9nLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9kYXRlVXRpbHMgPSByZXF1aXJlKCcuL2RhdGVVdGlscycpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvRW5oYW5jZWRCdXR0b24nKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbmhhbmNlZEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIGRhdGUgPSBwcm9wcy5kYXRlLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQ7XG4gIHZhciBob3ZlciA9IHN0YXRlLmhvdmVyO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgYmFzZVRoZW1lID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgZGF0ZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLmRhdGVQaWNrZXI7XG5cblxuICB2YXIgbGFiZWxDb2xvciA9IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcjtcbiAgdmFyIGJ1dHRvblN0YXRlT3BhY2l0eSA9IDA7XG4gIHZhciBidXR0b25TdGF0ZVRyYW5zZm9ybSA9ICdzY2FsZSgwKSc7XG5cbiAgaWYgKGhvdmVyIHx8IHNlbGVjdGVkKSB7XG4gICAgbGFiZWxDb2xvciA9IGRhdGVQaWNrZXIuc2VsZWN0VGV4dENvbG9yO1xuICAgIGJ1dHRvblN0YXRlT3BhY2l0eSA9IHNlbGVjdGVkID8gMSA6IDAuNjtcbiAgICBidXR0b25TdGF0ZVRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gIH0gZWxzZSBpZiAoKDAsIF9kYXRlVXRpbHMuaXNFcXVhbERhdGUpKGRhdGUsIG5ldyBEYXRlKCkpKSB7XG4gICAgbGFiZWxDb2xvciA9IGRhdGVQaWNrZXIuY29sb3I7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICBvcGFjaXR5OiBkaXNhYmxlZCAmJiAnMC40JyxcbiAgICAgIHBhZGRpbmc6ICc0cHggMHB4JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHdpZHRoOiA0MlxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGNvbG9yOiBsYWJlbENvbG9yLFxuICAgICAgZm9udFdlaWdodDogJzQwMCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgYnV0dG9uU3RhdGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZGF0ZVBpY2tlci5zZWxlY3RDb2xvcixcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDM0LFxuICAgICAgbGVmdDogNCxcbiAgICAgIG9wYWNpdHk6IGJ1dHRvblN0YXRlT3BhY2l0eSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgdHJhbnNmb3JtOiBidXR0b25TdGF0ZVRyYW5zZm9ybSxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICB3aWR0aDogMzRcbiAgICB9XG4gIH07XG59XG5cbnZhciBEYXlCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXlCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERheUJ1dHRvbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXlCdXR0b24pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF5QnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEYXlCdXR0b24pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQgJiYgX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50LCBfdGhpcy5wcm9wcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlib2FyZEZvY3VzID0gZnVuY3Rpb24gKGV2ZW50LCBrZXlib2FyZEZvY3VzZWQpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQgJiYgX3RoaXMucHJvcHMub25LZXlib2FyZEZvY3VzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uS2V5Ym9hcmRGb2N1cyhldmVudCwga2V5Ym9hcmRGb2N1c2VkLCBfdGhpcy5wcm9wcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF5QnV0dG9uLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGRhdGUgPSBfcHJvcHMuZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBzZWxlY3RlZCA9IF9wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdkYXRlJywgJ2Rpc2FibGVkJywgJ2xvY2FsZScsICdvblRvdWNoVGFwJywgJ3NlbGVjdGVkJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gZGF0ZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRW5oYW5jZWRCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZTogdHJ1ZSxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGU6IHRydWUsXG4gICAgICAgICAgb25LZXlib2FyZEZvY3VzOiB0aGlzLmhhbmRsZUtleWJvYXJkRm9jdXMsXG4gICAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcCxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLnJvb3RcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5idXR0b25TdGF0ZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5sYWJlbCkgfSxcbiAgICAgICAgICBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJ1xuICAgICAgICAgIH0pLmZvcm1hdChkYXRlKVxuICAgICAgICApXG4gICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERheUJ1dHRvbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRheUJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHNlbGVjdGVkOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuRGF5QnV0dG9uLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EYXlCdXR0b24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uS2V5Ym9hcmRGb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERheUJ1dHRvbjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXlCdXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDQwOFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvRW5oYW5jZWRCdXR0b24nKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbmhhbmNlZEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIHNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQsXG4gICAgICB5ZWFyID0gcHJvcHMueWVhcixcbiAgICAgIHV0aWxzID0gcHJvcHMudXRpbHM7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBiYXNlVGhlbWUgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBkYXRlUGlja2VyID0gX2NvbnRleHQkbXVpVGhlbWUuZGF0ZVBpY2tlcjtcbiAgdmFyIGhvdmVyID0gc3RhdGUuaG92ZXI7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgY29sb3I6IHllYXIgPT09IHV0aWxzLmdldFllYXIobmV3IERhdGUoKSkgJiYgZGF0ZVBpY2tlci5jb2xvcixcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgbGluZUhlaWdodDogJ2luaGVyaXQnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJyAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gICAgICBjb2xvcjogaG92ZXIgfHwgc2VsZWN0ZWQgPyBkYXRlUGlja2VyLmNvbG9yIDogYmFzZVRoZW1lLnBhbGV0dGUudGV4dENvbG9yLFxuICAgICAgZm9udFNpemU6IHNlbGVjdGVkID8gMjYgOiAxNyxcbiAgICAgIGZvbnRXZWlnaHQ6IGhvdmVyID8gNDUwIDogc2VsZWN0ZWQgPyA1MDAgOiA0MDAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRvcDogLTFcbiAgICB9XG4gIH07XG59XG5cbnZhciBZZWFyQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoWWVhckJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gWWVhckJ1dHRvbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBZZWFyQnV0dG9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFllYXJCdXR0b24uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFllYXJCdXR0b24pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiB0cnVlIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiBmYWxzZSB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCwgX3RoaXMucHJvcHMueWVhcik7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFllYXJCdXR0b24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvblRvdWNoVGFwID0gX3Byb3BzLm9uVG91Y2hUYXAsXG4gICAgICAgICAgc2VsZWN0ZWQgPSBfcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgICAgeWVhciA9IF9wcm9wcy55ZWFyLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2NoaWxkcmVuJywgJ2NsYXNzTmFtZScsICdvblRvdWNoVGFwJywgJ3NlbGVjdGVkJywgJ3llYXInLCAndXRpbHMnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0VuaGFuY2VkQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZTogdHJ1ZSxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGU6IHRydWUsXG4gICAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcCxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLnJvb3RcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5sYWJlbCkgfSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gWWVhckJ1dHRvbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblllYXJCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBzZWxlY3RlZDogZmFsc2Vcbn07XG5ZZWFyQnV0dG9uLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5ZZWFyQnV0dG9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICB5ZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBZZWFyQnV0dG9uO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL1llYXJCdXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDQwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RpbWVEaXNwbGF5ID0gcmVxdWlyZSgnLi9UaW1lRGlzcGxheScpO1xuXG52YXIgX1RpbWVEaXNwbGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVEaXNwbGF5KTtcblxudmFyIF9DbG9ja0hvdXJzID0gcmVxdWlyZSgnLi9DbG9ja0hvdXJzJyk7XG5cbnZhciBfQ2xvY2tIb3VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja0hvdXJzKTtcblxudmFyIF9DbG9ja01pbnV0ZXMgPSByZXF1aXJlKCcuL0Nsb2NrTWludXRlcycpO1xuXG52YXIgX0Nsb2NrTWludXRlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja01pbnV0ZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2xvY2sgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9jaywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2spO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2suX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZFRpbWU6IG51bGwsXG4gICAgICBtb2RlOiAnaG91cidcbiAgICB9LCBfdGhpcy5zZXRNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlU2VsZWN0QWZmaXggPSBmdW5jdGlvbiAoYWZmaXgpIHtcbiAgICAgIGlmIChhZmZpeCA9PT0gX3RoaXMuZ2V0QWZmaXgoKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgaG91cnMgPSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKTtcblxuICAgICAgaWYgKGFmZml4ID09PSAnYW0nKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUhvdXJzKGhvdXJzIC0gMTIsIGFmZml4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VIb3Vycyhob3VycyArIDEyLCBhZmZpeCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlQ2hhbmdlSG91cnMgPSBmdW5jdGlvbiAoaG91cnMsIGZpbmlzaGVkKSB7XG4gICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKF90aGlzLnN0YXRlLnNlbGVjdGVkVGltZSk7XG4gICAgICB2YXIgYWZmaXggPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0eXBlb2YgZmluaXNoZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGFmZml4ID0gZmluaXNoZWQ7XG4gICAgICAgIGZpbmlzaGVkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFhZmZpeCkge1xuICAgICAgICBhZmZpeCA9IF90aGlzLmdldEFmZml4KCk7XG4gICAgICB9XG4gICAgICBpZiAoYWZmaXggPT09ICdwbScgJiYgaG91cnMgPCAxMikge1xuICAgICAgICBob3VycyArPSAxMjtcbiAgICAgIH1cblxuICAgICAgdGltZS5zZXRIb3Vycyhob3Vycyk7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVGltZTogdGltZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtb2RlOiAnbWludXRlJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIG9uQ2hhbmdlSG91cnMgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZUhvdXJzO1xuXG4gICAgICAgICAgaWYgKG9uQ2hhbmdlSG91cnMpIHtcbiAgICAgICAgICAgIG9uQ2hhbmdlSG91cnModGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZU1pbnV0ZXMgPSBmdW5jdGlvbiAobWludXRlcywgZmluaXNoZWQpIHtcbiAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoX3RoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lKTtcbiAgICAgIHRpbWUuc2V0TWludXRlcyhtaW51dGVzKTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRUaW1lOiB0aW1lXG4gICAgICB9KTtcblxuICAgICAgdmFyIG9uQ2hhbmdlTWludXRlcyA9IF90aGlzLnByb3BzLm9uQ2hhbmdlTWludXRlcztcblxuICAgICAgaWYgKG9uQ2hhbmdlTWludXRlcyAmJiBmaW5pc2hlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbkNoYW5nZU1pbnV0ZXModGltZSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDbG9jaywgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRUaW1lID0gdGhpcy5wcm9wcy5pbml0aWFsVGltZSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBzZWxlY3RlZFRpbWUuZ2V0TWludXRlcygpO1xuICAgICAgc2VsZWN0ZWRUaW1lLnNldE1pbnV0ZXMobWludXRlcyAtIG1pbnV0ZXMgJSB0aGlzLnByb3BzLm1pbnV0ZXNTdGVwKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVGltZTogc2VsZWN0ZWRUaW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRBZmZpeCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFmZml4KCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ICE9PSAnYW1wbScpIHJldHVybiAnJztcblxuICAgICAgdmFyIGhvdXJzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKTtcbiAgICAgIGlmIChob3VycyA8IDEyKSB7XG4gICAgICAgIHJldHVybiAnYW0nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ3BtJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZFRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNsb2NrID0gbnVsbDtcblxuICAgICAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICAgIHByZXBhcmVTdHlsZXMgPSBfY29udGV4dCRtdWlUaGVtZS5wcmVwYXJlU3R5bGVzLFxuICAgICAgICAgIHRpbWVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS50aW1lUGlja2VyO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZSdcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgaGVpZ2h0OiAyODAsXG4gICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgICAgIH0sXG4gICAgICAgIGNpcmNsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgd2lkdGg6IDI2MCxcbiAgICAgICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRpbWVQaWNrZXIuY2xvY2tDaXJjbGVDb2xvclxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5tb2RlID09PSAnaG91cicpIHtcbiAgICAgICAgY2xvY2sgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tIb3VyczIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ2hvdXJzJyxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0LFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUhvdXJzLFxuICAgICAgICAgIGluaXRpYWxIb3VyczogdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb2NrID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTWludXRlczIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ21pbnV0ZXMnLFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1pbnV0ZXMsXG4gICAgICAgICAgaW5pdGlhbE1pbnV0ZXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICBzdGVwOiB0aGlzLnByb3BzLm1pbnV0ZXNTdGVwXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZURpc3BsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBzZWxlY3RlZFRpbWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLFxuICAgICAgICAgIG1vZGU6IHRoaXMuc3RhdGUubW9kZSxcbiAgICAgICAgICBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGFmZml4OiB0aGlzLmdldEFmZml4KCksXG4gICAgICAgICAgb25TZWxlY3RBZmZpeDogdGhpcy5oYW5kbGVTZWxlY3RBZmZpeCxcbiAgICAgICAgICBvblNlbGVjdEhvdXI6IHRoaXMuc2V0TW9kZS5iaW5kKHRoaXMsICdob3VyJyksXG4gICAgICAgICAgb25TZWxlY3RNaW46IHRoaXMuc2V0TW9kZS5iaW5kKHRoaXMsICdtaW51dGUnKVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY29udGFpbmVyKSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jaXJjbGUpIH0pLFxuICAgICAgICAgIGNsb2NrXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9jaztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgaW5pdGlhbFRpbWU6IG5ldyBEYXRlKClcbn07XG5DbG9jay5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2sucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIGluaXRpYWxUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWludXRlc1N0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBvbkNoYW5nZUhvdXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uQ2hhbmdlTWludXRlczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9jaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9jay5qc1xuLy8gbW9kdWxlIGlkID0gNDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfQ2xvY2tOdW1iZXIgPSByZXF1aXJlKCcuL0Nsb2NrTnVtYmVyJyk7XG5cbnZhciBfQ2xvY2tOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tOdW1iZXIpO1xuXG52YXIgX0Nsb2NrUG9pbnRlciA9IHJlcXVpcmUoJy4vQ2xvY2tQb2ludGVyJyk7XG5cbnZhciBfQ2xvY2tQb2ludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb2NrUG9pbnRlcik7XG5cbnZhciBfdGltZVV0aWxzID0gcmVxdWlyZSgnLi90aW1lVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENsb2NrSG91cnMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja0hvdXJzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja0hvdXJzKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrSG91cnMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2tIb3Vycy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tIb3VycykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIHRydWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoX3RoaXMuaXNNb3VzZVByZXNzZWQoZXZlbnQpICE9PSAxKSByZXR1cm47XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5uYXRpdmVFdmVudCwgZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLCBmYWxzZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5jaGFuZ2VkVG91Y2hlc1swXSwgdHJ1ZSk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrSG91cnMsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBjbG9ja0VsZW1lbnQgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLm1hc2spO1xuXG4gICAgICB0aGlzLmNlbnRlciA9IHtcbiAgICAgICAgeDogY2xvY2tFbGVtZW50Lm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2xvY2tFbGVtZW50Lm9mZnNldEhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYmFzZVBvaW50ID0ge1xuICAgICAgICB4OiB0aGlzLmNlbnRlci54LFxuICAgICAgICB5OiAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTW91c2VQcmVzc2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNb3VzZVByZXNzZWQoZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQuYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnQuYnV0dG9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDbG9jaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsb2NrKGV2ZW50LCBmaW5pc2gpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQub2Zmc2V0WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9ICgwLCBfdGltZVV0aWxzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMpKGV2ZW50KTtcblxuICAgICAgICBldmVudC5vZmZzZXRYID0gb2Zmc2V0Lm9mZnNldFg7XG4gICAgICAgIGV2ZW50Lm9mZnNldFkgPSBvZmZzZXQub2Zmc2V0WTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhvdXJzID0gdGhpcy5nZXRIb3VycyhldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTtcblxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShob3VycywgZmluaXNoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3VycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFkpIHtcbiAgICAgIHZhciBzdGVwID0gMzA7XG4gICAgICB2YXIgeCA9IG9mZnNldFggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIHkgPSBvZmZzZXRZIC0gdGhpcy5jZW50ZXIueTtcbiAgICAgIHZhciBjeCA9IHRoaXMuYmFzZVBvaW50LnggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIGN5ID0gdGhpcy5iYXNlUG9pbnQueSAtIHRoaXMuY2VudGVyLnk7XG5cbiAgICAgIHZhciBhdGFuID0gTWF0aC5hdGFuMihjeCwgY3kpIC0gTWF0aC5hdGFuMih4LCB5KTtcblxuICAgICAgdmFyIGRlZyA9ICgwLCBfdGltZVV0aWxzLnJhZDJkZWcpKGF0YW4pO1xuICAgICAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBkZWcgJT0gMzYwO1xuXG4gICAgICB2YXIgdmFsdWUgPSBNYXRoLmZsb29yKGRlZyAvIHN0ZXApIHx8IDA7XG5cbiAgICAgIHZhciBkZWx0YSA9IE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMik7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEpO1xuXG4gICAgICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ID09PSAnMjRocicpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgOTApIHtcbiAgICAgICAgICB2YWx1ZSArPSAxMjtcbiAgICAgICAgICB2YWx1ZSAlPSAyNDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgJT0gMTI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkKCkge1xuICAgICAgdmFyIGhvdXIgPSB0aGlzLnByb3BzLmluaXRpYWxIb3VycztcblxuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICAgICAgaG91ciAlPSAxMjtcbiAgICAgICAgaG91ciA9IGhvdXIgfHwgMTI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhvdXJOdW1iZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SG91ck51bWJlcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgIH07XG4gICAgICB2YXIgaG91clNpemUgPSB0aGlzLnByb3BzLmZvcm1hdCA9PT0gJ2FtcG0nID8gMTIgOiAyNDtcblxuICAgICAgdmFyIGhvdXJzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBob3VyU2l6ZTsgaSsrKSB7XG4gICAgICAgIGhvdXJzLnB1c2goaSAlIDI0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhvdXJzLm1hcChmdW5jdGlvbiAoaG91cikge1xuICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IF90aGlzMi5nZXRTZWxlY3RlZCgpID09PSBob3VyO1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTnVtYmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBob3VyLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICAgIHR5cGU6ICdob3VyJyxcbiAgICAgICAgICB2YWx1ZTogaG91clxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpdE1hc2s6IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgaG91cnMgPSB0aGlzLmdldFNlbGVjdGVkKCk7XG4gICAgICB2YXIgbnVtYmVycyA9IHRoaXMuZ2V0SG91ck51bWJlcnMoKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyByZWY6ICdjbG9jaycsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tQb2ludGVyMi5kZWZhdWx0LCB7IGhhc1NlbGVjdGVkOiB0cnVlLCB2YWx1ZTogaG91cnMsIHR5cGU6ICdob3VyJyB9KSxcbiAgICAgICAgbnVtYmVycyxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICByZWY6ICdtYXNrJywgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmhpdE1hc2spLCBvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCwgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZVVwLCBvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3ZlXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tIb3Vycztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrSG91cnMuZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsSG91cnM6IG5ldyBEYXRlKCkuZ2V0SG91cnMoKSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG4gIGZvcm1hdDogJ2FtcG0nXG59O1xuQ2xvY2tIb3Vycy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tIb3Vycy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgaW5pdGlhbEhvdXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2tIb3VycztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9ja0hvdXJzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9DbG9ja051bWJlciA9IHJlcXVpcmUoJy4vQ2xvY2tOdW1iZXInKTtcblxudmFyIF9DbG9ja051bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja051bWJlcik7XG5cbnZhciBfQ2xvY2tQb2ludGVyID0gcmVxdWlyZSgnLi9DbG9ja1BvaW50ZXInKTtcblxudmFyIF9DbG9ja1BvaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tQb2ludGVyKTtcblxudmFyIF90aW1lVXRpbHMgPSByZXF1aXJlKCcuL3RpbWVVdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2xvY2tNaW51dGVzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2xvY2tNaW51dGVzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja01pbnV0ZXMoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tNaW51dGVzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENsb2NrTWludXRlcy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tNaW51dGVzKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChfdGhpcy5pc01vdXNlUHJlc3NlZChldmVudCkgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLCBldmVudC50eXBlID09PSAndG91Y2hlbmQnKTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2tNaW51dGVzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgY2xvY2tFbGVtZW50ID0gdGhpcy5yZWZzLm1hc2s7XG5cbiAgICAgIHRoaXMuY2VudGVyID0ge1xuICAgICAgICB4OiBjbG9ja0VsZW1lbnQub2Zmc2V0V2lkdGggLyAyLFxuICAgICAgICB5OiBjbG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgICAgdGhpcy5iYXNlUG9pbnQgPSB7XG4gICAgICAgIHg6IHRoaXMuY2VudGVyLngsXG4gICAgICAgIHk6IDBcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNNb3VzZVByZXNzZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc01vdXNlUHJlc3NlZChldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiBldmVudC5idXR0b25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXZlbnQubmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXZlbnQuYnV0dG9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDbG9jaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsb2NrKGV2ZW50LCBmaW5pc2gpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQub2Zmc2V0WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9ICgwLCBfdGltZVV0aWxzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMpKGV2ZW50KTtcblxuICAgICAgICBldmVudC5vZmZzZXRYID0gb2Zmc2V0Lm9mZnNldFg7XG4gICAgICAgIGV2ZW50Lm9mZnNldFkgPSBvZmZzZXQub2Zmc2V0WTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1pbnV0ZXMgPSB0aGlzLmdldE1pbnV0ZXMoZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WSk7XG5cbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UobWludXRlcywgZmluaXNoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW51dGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICB2YXIgc3RlcCA9IDYgKiB0aGlzLnByb3BzLnN0ZXA7XG4gICAgICB2YXIgeCA9IG9mZnNldFggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIHkgPSBvZmZzZXRZIC0gdGhpcy5jZW50ZXIueTtcbiAgICAgIHZhciBjeCA9IHRoaXMuYmFzZVBvaW50LnggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIGN5ID0gdGhpcy5iYXNlUG9pbnQueSAtIHRoaXMuY2VudGVyLnk7XG5cbiAgICAgIHZhciBhdGFuID0gTWF0aC5hdGFuMihjeCwgY3kpIC0gTWF0aC5hdGFuMih4LCB5KTtcblxuICAgICAgdmFyIGRlZyA9ICgwLCBfdGltZVV0aWxzLnJhZDJkZWcpKGF0YW4pO1xuICAgICAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBkZWcgJT0gMzYwO1xuXG4gICAgICB2YXIgdmFsdWUgPSBNYXRoLmZsb29yKGRlZyAvIHN0ZXApIHx8IDA7XG5cbiAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMucHJvcHMuc3RlcDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW51dGVOdW1iZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWludXRlTnVtYmVycygpIHtcbiAgICAgIHZhciBtaW51dGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgbWludXRlcy5wdXNoKGkgKiA1KTtcbiAgICAgIH1cbiAgICAgIHZhciBzZWxlY3RlZE1pbnV0ZXMgPSB0aGlzLnByb3BzLmluaXRpYWxNaW51dGVzO1xuICAgICAgdmFyIGhhc1NlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgIHZhciBudW1iZXJzID0gbWludXRlcy5tYXAoZnVuY3Rpb24gKG1pbnV0ZSkge1xuICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTWludXRlcyA9PT0gbWludXRlO1xuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTnVtYmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBtaW51dGUsXG4gICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICB0eXBlOiAnbWludXRlJyxcbiAgICAgICAgICB2YWx1ZTogbWludXRlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG51bWJlcnM6IG51bWJlcnMsXG4gICAgICAgIGhhc1NlbGVjdGVkOiBoYXNTZWxlY3RlZCxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkTWludXRlc1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICAgICAgfSxcblxuICAgICAgICBoaXRNYXNrOiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIG1pbnV0ZXMgPSB0aGlzLmdldE1pbnV0ZU51bWJlcnMoKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyByZWY6ICdjbG9jaycsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tQb2ludGVyMi5kZWZhdWx0LCB7IHZhbHVlOiBtaW51dGVzLnNlbGVjdGVkLCB0eXBlOiAnbWludXRlJywgaGFzU2VsZWN0ZWQ6IG1pbnV0ZXMuaGFzU2VsZWN0ZWQgfSksXG4gICAgICAgIG1pbnV0ZXMubnVtYmVycyxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICByZWY6ICdtYXNrJyxcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuaGl0TWFzayksXG4gICAgICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2gsXG4gICAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaCxcbiAgICAgICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlVXAsXG4gICAgICAgICAgb25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW92ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrTWludXRlcztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrTWludXRlcy5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxNaW51dGVzOiBuZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG4gIHN0ZXA6IDFcbn07XG5DbG9ja01pbnV0ZXMuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNsb2NrTWludXRlcy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGluaXRpYWxNaW51dGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3RlcDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrTWludXRlcztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9ja01pbnV0ZXMuanNcbi8vIG1vZHVsZSBpZCA9IDQzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXknKTtcblxudmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUaW1lRGlzcGxheSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFRpbWVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lRGlzcGxheSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUaW1lRGlzcGxheSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBUaW1lRGlzcGxheS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVGltZURpc3BsYXkpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246ICd1cCdcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZURpc3BsYXksIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLnNlbGVjdGVkVGltZSAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5leHRQcm9wcy5zZWxlY3RlZFRpbWUgPiB0aGlzLnByb3BzLnNlbGVjdGVkVGltZSA/ICd1cCcgOiAnZG93bic7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nhbml0aXplVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhbml0aXplVGltZSgpIHtcbiAgICAgIHZhciBob3VyID0gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUuZ2V0SG91cnMoKTtcbiAgICAgIHZhciBtaW4gPSB0aGlzLnByb3BzLnNlbGVjdGVkVGltZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICAgICAgaG91ciAlPSAxMjtcbiAgICAgICAgaG91ciA9IGhvdXIgfHwgMTI7XG4gICAgICB9XG5cbiAgICAgIGhvdXIgPSBob3VyLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoaG91ci5sZW5ndGggPCAyKSBob3VyID0gJzAnICsgaG91cjtcbiAgICAgIGlmIChtaW4ubGVuZ3RoIDwgMikgbWluID0gJzAnICsgbWluO1xuXG4gICAgICByZXR1cm4gW2hvdXIsIG1pbl07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWZmaXggPSBfcHJvcHMuYWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGUsXG4gICAgICAgICAgb25TZWxlY3RBZmZpeCA9IF9wcm9wcy5vblNlbGVjdEFmZml4LFxuICAgICAgICAgIG9uU2VsZWN0SG91ciA9IF9wcm9wcy5vblNlbGVjdEhvdXIsXG4gICAgICAgICAgb25TZWxlY3RNaW4gPSBfcHJvcHMub25TZWxlY3RNaW4sXG4gICAgICAgICAgc2VsZWN0ZWRUaW1lID0gX3Byb3BzLnNlbGVjdGVkVGltZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhZmZpeCcsICdmb3JtYXQnLCAnbW9kZScsICdvblNlbGVjdEFmZml4JywgJ29uU2VsZWN0SG91cicsICdvblNlbGVjdE1pbicsICdzZWxlY3RlZFRpbWUnXSk7XG4gICAgICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgICAgcHJlcGFyZVN0eWxlcyA9IF9jb250ZXh0JG11aVRoZW1lLnByZXBhcmVTdHlsZXMsXG4gICAgICAgICAgdGltZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLnRpbWVQaWNrZXI7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIHBhZGRpbmc6ICcxNHB4IDAnLFxuICAgICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDIsXG4gICAgICAgICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IDIsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aW1lUGlja2VyLmhlYWRlckNvbG9yLFxuICAgICAgICAgIGNvbG9yOiB0aW1lUGlja2VyLnRleHRDb2xvclxuICAgICAgICB9LFxuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgbWFyZ2luOiAnNnB4IDAnLFxuICAgICAgICAgIGxpbmVIZWlnaHQ6ICc1OHB4JyxcbiAgICAgICAgICBoZWlnaHQ6IDU4LFxuICAgICAgICAgIGZvbnRTaXplOiA1OCxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIGFsaWduSXRlbXM6ICdiYXNlbGluZSdcbiAgICAgICAgfSxcbiAgICAgICAgdGltZToge1xuICAgICAgICAgIG1hcmdpbjogJzAgMTBweCdcbiAgICAgICAgfSxcbiAgICAgICAgYWZmaXg6IHtcbiAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxN3B4JyxcbiAgICAgICAgICBoZWlnaHQ6IDE3LFxuICAgICAgICAgIGZvbnRTaXplOiAxN1xuICAgICAgICB9LFxuICAgICAgICBhZmZpeFRvcDoge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogLTIwLFxuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgY2xpY2thYmxlOiB7XG4gICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgfSxcbiAgICAgICAgaW5hY3RpdmU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIF9zYW5pdGl6ZVRpbWUgPSB0aGlzLnNhbml0aXplVGltZSgpLFxuICAgICAgICAgIF9zYW5pdGl6ZVRpbWUyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfc2FuaXRpemVUaW1lLCAyKSxcbiAgICAgICAgICBob3VyID0gX3Nhbml0aXplVGltZTJbMF0sXG4gICAgICAgICAgbWluID0gX3Nhbml0aXplVGltZTJbMV07XG5cbiAgICAgIHZhciBidXR0b25zID0gW107XG4gICAgICBpZiAoZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICAgICAgYnV0dG9ucyA9IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdwbScsXG4gICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5jbGlja2FibGUsIGFmZml4ID09PSAncG0nID8ge30gOiBzdHlsZXMuaW5hY3RpdmUpKSxcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IGZ1bmN0aW9uIG9uVG91Y2hUYXAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvblNlbGVjdEFmZml4KCdwbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ1BNJ1xuICAgICAgICApLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdhbScsXG4gICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5hZmZpeFRvcCwgc3R5bGVzLmNsaWNrYWJsZSwgYWZmaXggPT09ICdhbScgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogZnVuY3Rpb24gb25Ub3VjaFRhcCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9uU2VsZWN0QWZmaXgoJ2FtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAnQU0nXG4gICAgICAgICldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnRleHQpIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWZmaXgpKSB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMudGltZSkgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5jbGlja2FibGUsIG1vZGUgPT09ICdob3VyJyA/IHt9IDogc3R5bGVzLmluYWN0aXZlKSksXG4gICAgICAgICAgICAgICAgb25Ub3VjaFRhcDogb25TZWxlY3RIb3VyXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGhvdXJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAnOidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuY2xpY2thYmxlLCBtb2RlID09PSAnbWludXRlJyA/IHt9IDogc3R5bGVzLmluYWN0aXZlKSksXG4gICAgICAgICAgICAgICAgb25Ub3VjaFRhcDogb25TZWxlY3RNaW5cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWluXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5hZmZpeCkpIH0sXG4gICAgICAgICAgICBidXR0b25zXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVGltZURpc3BsYXk7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UaW1lRGlzcGxheS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFmZml4OiAnJyxcbiAgbW9kZTogJ2hvdXInXG59O1xuVGltZURpc3BsYXkuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRpbWVEaXNwbGF5LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgYWZmaXg6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWycnLCAncG0nLCAnYW0nXSksXG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2hvdXInLCAnbWludXRlJ10pLFxuICBvblNlbGVjdEFmZml4OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU2VsZWN0SG91cjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblNlbGVjdE1pbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZFRpbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVEaXNwbGF5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL1RpbWVEaXNwbGF5LmpzXG4vLyBtb2R1bGUgaWQgPSA0MzJcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVGltZVBpY2tlckRpYWxvZyA9IHJlcXVpcmUoJy4vVGltZVBpY2tlckRpYWxvZycpO1xuXG52YXIgX1RpbWVQaWNrZXJEaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlckRpYWxvZyk7XG5cbnZhciBfVGV4dEZpZWxkID0gcmVxdWlyZSgnLi4vVGV4dEZpZWxkJyk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfdGltZVV0aWxzID0gcmVxdWlyZSgnLi90aW1lVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGVtcHR5VGltZSA9IG5ldyBEYXRlKCk7XG5lbXB0eVRpbWUuc2V0SG91cnMoMCk7XG5lbXB0eVRpbWUuc2V0TWludXRlcygwKTtcbmVtcHR5VGltZS5zZXRTZWNvbmRzKDApO1xuZW1wdHlUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcblxudmFyIFRpbWVQaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lUGlja2VyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWVQaWNrZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZVBpY2tlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVGltZVBpY2tlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdGltZTogbnVsbCxcbiAgICAgIGRpYWxvZ1RpbWU6IG5ldyBEYXRlKClcbiAgICB9LCBfdGhpcy5oYW5kbGVBY2NlcHREaWFsb2cgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0aW1lOiB0aW1lXG4gICAgICB9KTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkgX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCwgdGltZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlRm9jdXNJbnB1dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwSW5wdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMub3BlbkRpYWxvZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZVBpY2tlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdGltZTogdGhpcy5pc0NvbnRyb2xsZWQoKSA/IHRoaXMuZ2V0Q29udHJvbGxlZFRpbWUoKSA6IHRoaXMucHJvcHMuZGVmYXVsdFRpbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0aW1lOiB0aGlzLmdldENvbnRyb2xsZWRUaW1lKG5leHRQcm9wcylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBvcGVuRGlhbG9nKClgIGZvciBhbiBhcGkgY29uc2lzdGVudCB3aXRoIFRleHRGaWVsZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgIHRoaXMub3BlbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29wZW5EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRGlhbG9nKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpYWxvZ1RpbWU6IHRoaXMuc3RhdGUudGltZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NvbnRyb2xsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NvbnRyb2xsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZSAhPT0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb250cm9sbGVkVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRyb2xsZWRUaW1lKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgIGlmIChwcm9wcy52YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmVzdWx0ID0gcHJvcHMudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgZGVmYXVsdFRpbWUgPSBfcHJvcHMuZGVmYXVsdFRpbWUsXG4gICAgICAgICAgZGlhbG9nQm9keVN0eWxlID0gX3Byb3BzLmRpYWxvZ0JvZHlTdHlsZSxcbiAgICAgICAgICBkaWFsb2dTdHlsZSA9IF9wcm9wcy5kaWFsb2dTdHlsZSxcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb25EaXNtaXNzID0gX3Byb3BzLm9uRGlzbWlzcyxcbiAgICAgICAgICBwZWRhbnRpYyA9IF9wcm9wcy5wZWRhbnRpYyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB0ZXh0RmllbGRTdHlsZSA9IF9wcm9wcy50ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcCA9IF9wcm9wcy5taW51dGVzU3RlcCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhdXRvT2snLCAnY2FuY2VsTGFiZWwnLCAnZGVmYXVsdFRpbWUnLCAnZGlhbG9nQm9keVN0eWxlJywgJ2RpYWxvZ1N0eWxlJywgJ2Zvcm1hdCcsICdva0xhYmVsJywgJ29uRm9jdXMnLCAnb25Ub3VjaFRhcCcsICdvblNob3cnLCAnb25EaXNtaXNzJywgJ3BlZGFudGljJywgJ3N0eWxlJywgJ3RleHRGaWVsZFN0eWxlJywgJ21pbnV0ZXNTdGVwJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcbiAgICAgIHZhciB0aW1lID0gdGhpcy5zdGF0ZS50aW1lO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgc3R5bGU6IHRleHRGaWVsZFN0eWxlLFxuICAgICAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgICAgICB2YWx1ZTogdGltZSA9PT0gZW1wdHlUaW1lID8gbnVsbCA6ICgwLCBfdGltZVV0aWxzLmZvcm1hdFRpbWUpKHRpbWUsIGZvcm1hdCwgcGVkYW50aWMpLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXNJbnB1dCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwSW5wdXRcbiAgICAgICAgfSkpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckRpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIHJlZjogJ2RpYWxvZ1dpbmRvdycsXG4gICAgICAgICAgYm9keVN0eWxlOiBkaWFsb2dCb2R5U3R5bGUsXG4gICAgICAgICAgaW5pdGlhbFRpbWU6IHRoaXMuc3RhdGUuZGlhbG9nVGltZSxcbiAgICAgICAgICBvbkFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHREaWFsb2csXG4gICAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgICAgb25EaXNtaXNzOiBvbkRpc21pc3MsXG4gICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgYXV0b09rOiBhdXRvT2ssXG4gICAgICAgICAgc3R5bGU6IGRpYWxvZ1N0eWxlLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwOiBtaW51dGVzU3RlcFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVQaWNrZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b09rOiBmYWxzZSxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxuICBkZWZhdWx0VGltZTogbnVsbCxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBmb3JtYXQ6ICdhbXBtJyxcbiAgb2tMYWJlbDogJ09LJyxcbiAgcGVkYW50aWM6IGZhbHNlLFxuICBzdHlsZToge30sXG4gIHZhbHVlOiBudWxsLFxuICBtaW51dGVzU3RlcDogMVxufTtcblRpbWVQaWNrZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRpbWVQaWNrZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBhY2NlcHQgYW5kIGNsb3NlIHRoZSBwaWNrZXIgb24gc2V0IG1pbnV0ZXMuXG4gICAqL1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBsYWJlbCBvZiB0aGUgJ0NhbmNlbCcgYnV0dG9uLlxuICAgKi9cbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIHRpbWUgdmFsdWUgb2YgdGhlIFRpbWVQaWNrZXIuXG4gICAqL1xuICBkZWZhdWx0VGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyRGlhbG9nJ3MgYm9keSBlbGVtZW50LlxuICAgKi9cbiAgZGlhbG9nQm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIFRpbWVQaWNrZXJEaWFsb2cncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBkaWFsb2dTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgVGltZVBpY2tlciBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUZWxscyB0aGUgY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIHBpY2tlciBpbiBgYW1wbWAgKDEyaHIpIGZvcm1hdCBvciBgMjRocmAgZm9ybWF0LlxuICAgKi9cbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICAvKipcbiAgICogSG93IG1hbnkgbWludXRlcyBzaG91bGQgYmUgYWRkZWQvc3VidHJhY3RlZCB3aGVuIG1vdmluZyB0aGUgY2xvY2sgcG9pbnRlci5cbiAgICovXG4gIG1pbnV0ZXNTdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBsYWJlbCBvZiB0aGUgJ09LJyBidXR0b24uXG4gICAqL1xuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRpbWUgdmFsdWUgY2hhbmdlcy4gVGhlIHRpbWUgdmFsdWUgaXMgcGFzc2VkIGluIGEgRGF0ZSBPYmplY3QuXG4gICAqIFNpbmNlIHRoZXJlIGlzIG5vIHBhcnRpY3VsYXIgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGFuZ2UgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYWx3YXlzIGJlIG51bGxcbiAgICogYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgd2lsbCBiZSB0aGUgbmV3IERhdGUgaW5zdGFuY2UuXG4gICAqL1xuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBkaWFsb2cgaXMgZGlzbWlzc2VkLlxuICAgKi9cbiAgb25EaXNtaXNzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBUaW1lUGlja2VyIGBUZXh0RmllbGRgIGdhaW5zIGZvY3VzLlxuICAgKi9cbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBkaWFsb2cgaXMgc2hvd24uXG4gICAqL1xuICBvblNob3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgaXMgdGFwcGVkIG9yIGNsaWNrZWQuXG4gICAqL1xuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB1c2VzIChcIm5vb25cIiAvIFwibWlkbmlnaHRcIikgaW5zdGVhZCBvZiAoXCIxMiBhLm0uXCIgLyBcIjEyIHAubS5cIikuXG4gICAqXG4gICAqIEl0J3MgdGVjaG5pY2FsbHkgbW9yZSBjb3JyZWN0IHRvIHJlZmVyIHRvIFwiMTIgbm9vblwiIGFuZCBcIjEyIG1pZG5pZ2h0XCIgcmF0aGVyIHRoYW4gXCIxMiBhLm0uXCIgYW5kIFwiMTIgcC5tLlwiXG4gICAqIGFuZCBpdCBhdm9pZHMgY29uZnVzaW9uIGJldHdlZW4gZGlmZmVyZW50IGxvY2FsZXMuIEJ5IGRlZmF1bHQgKGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMpIFRpbWVQaWNrZXIgdXNlc1xuICAgKiAoXCIxMiBhLm0uXCIgLyBcIjEyIHAubS5cIikuXG4gICAqL1xuICBwZWRhbnRpYzogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIFRpbWVQaWNrZXIncyBUZXh0RmllbGQgZWxlbWVudC5cbiAgICovXG4gIHRleHRGaWVsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWUgZm9yIHRoZSBUaW1lIFBpY2tlciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lUGlja2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL1RpbWVQaWNrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSByZXF1aXJlKCdrZXljb2RlJyk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF9DbG9jayA9IHJlcXVpcmUoJy4vQ2xvY2snKTtcblxudmFyIF9DbG9jazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9jayk7XG5cbnZhciBfRGlhbG9nID0gcmVxdWlyZSgnLi4vRGlhbG9nJyk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRmxhdEJ1dHRvbiA9IHJlcXVpcmUoJy4uL0ZsYXRCdXR0b24nKTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGltZVBpY2tlckRpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFRpbWVQaWNrZXJEaWFsb2csIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXJEaWFsb2coKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGltZVBpY2tlckRpYWxvZyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBUaW1lUGlja2VyRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShUaW1lUGlja2VyRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcENhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcE9LID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KF90aGlzLnJlZnMuY2xvY2suZ2V0U2VsZWN0ZWRUaW1lKCkpO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZVRvdWNoVGFwT0soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZVBpY2tlckRpYWxvZywgW3tcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uU2hvdyAmJiAhdGhpcy5zdGF0ZS5vcGVuKSB0aGlzLnByb3BzLm9uU2hvdygpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc21pc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNtaXNzKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25EaXNtaXNzICYmIHRoaXMuc3RhdGUub3BlbikgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzLmJvZHlTdHlsZSxcbiAgICAgICAgICBpbml0aWFsVGltZSA9IF9wcm9wcy5pbml0aWFsVGltZSxcbiAgICAgICAgICBvbkFjY2VwdCA9IF9wcm9wcy5vbkFjY2VwdCxcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwID0gX3Byb3BzLm1pbnV0ZXNTdGVwLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2JvZHlTdHlsZScsICdpbml0aWFsVGltZScsICdvbkFjY2VwdCcsICdmb3JtYXQnLCAnYXV0b09rJywgJ29rTGFiZWwnLCAnY2FuY2VsTGFiZWwnLCAnc3R5bGUnLCAnbWludXRlc1N0ZXAnXSk7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb250ZXh0Lm11aVRoZW1lLnRpbWVQaWNrZXIuY2xvY2tDb2xvclxuICAgICAgICB9LFxuICAgICAgICBkaWFsb2dDb250ZW50OiB7XG4gICAgICAgICAgd2lkdGg6IDI4MFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgYWN0aW9ucyA9IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6IDAsXG4gICAgICAgIGxhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcENhbmNlbFxuICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgIGtleTogMSxcbiAgICAgICAgbGFiZWw6IG9rTGFiZWwsXG4gICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBPS1xuICAgICAgfSldO1xuXG4gICAgICB2YXIgb25DbG9ja0NoYW5nZU1pbnV0ZXMgPSBhdXRvT2sgPT09IHRydWUgPyB0aGlzLmhhbmRsZVRvdWNoVGFwT0sgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRGlhbG9nMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSxcbiAgICAgICAgICBib2R5U3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKSxcbiAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZTogc3R5bGVzLmRpYWxvZ0NvbnRlbnQsXG4gICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlOiBmYWxzZSxcbiAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZVxuICAgICAgICB9KSxcbiAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LCB7IHRhcmdldDogJ3dpbmRvdycsIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXAgfSksXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrMi5kZWZhdWx0LCB7XG4gICAgICAgICAgcmVmOiAnY2xvY2snLFxuICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgIGluaXRpYWxUaW1lOiBpbml0aWFsVGltZSxcbiAgICAgICAgICBvbkNoYW5nZU1pbnV0ZXM6IG9uQ2xvY2tDaGFuZ2VNaW51dGVzLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwOiBtaW51dGVzU3RlcFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVQaWNrZXJEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UaW1lUGlja2VyRGlhbG9nLmRlZmF1bHRQcm9wcyA9IHtcbiAgb2tMYWJlbDogJ09LJyxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnXG59O1xuVGltZVBpY2tlckRpYWxvZy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVGltZVBpY2tlckRpYWxvZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIGluaXRpYWxUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWludXRlc1N0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9uQWNjZXB0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblNob3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lUGlja2VyRGlhbG9nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL1RpbWVQaWNrZXJEaWFsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDQzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9hdXRvUHJlZml4ID0gcmVxdWlyZSgnLi4vdXRpbHMvYXV0b1ByZWZpeCcpO1xuXG52YXIgX2F1dG9QcmVmaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXV0b1ByZWZpeCk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTbGlkZUluQ2hpbGQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTbGlkZUluQ2hpbGQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNsaWRlSW5DaGlsZCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbGlkZUluQ2hpbGQpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChTbGlkZUluQ2hpbGQuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNsaWRlSW5DaGlsZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU2xpZGVJbkNoaWxkLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVyKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihjYWxsYmFjaykge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgdmFyIHggPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gJzEwMCUnIDogdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdyaWdodCcgPyAnLTEwMCUnIDogJzAnO1xuICAgICAgdmFyIHkgPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ3VwJyA/ICcxMDAlJyA6IHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAnZG93bicgPyAnLTEwMCUnIDogJzAnO1xuXG4gICAgICBzdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgX2F1dG9QcmVmaXgyLmRlZmF1bHQuc2V0KHN0eWxlLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknKTtcblxuICAgICAgdGhpcy5lbnRlclRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGhpcy5wcm9wcy5lbnRlckRlbGF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZEVudGVyKCkge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgIF9hdXRvUHJlZml4Mi5kZWZhdWx0LnNldChzdHlsZSwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxMZWF2ZShjYWxsYmFjaykge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMucHJvcHMuZ2V0TGVhdmVEaXJlY3Rpb24oKTtcbiAgICAgIHZhciB4ID0gZGlyZWN0aW9uID09PSAnbGVmdCcgPyAnLTEwMCUnIDogZGlyZWN0aW9uID09PSAncmlnaHQnID8gJzEwMCUnIDogJzAnO1xuICAgICAgdmFyIHkgPSBkaXJlY3Rpb24gPT09ICd1cCcgPyAnLTEwMCUnIDogZGlyZWN0aW9uID09PSAnZG93bicgPyAnMTAwJScgOiAnMCc7XG5cbiAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBfYXV0b1ByZWZpeDIuZGVmYXVsdC5zZXQoc3R5bGUsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB4ICsgJywgJyArIHkgKyAnKScpO1xuXG4gICAgICB0aGlzLmxlYXZlVGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCA0NTApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGVudGVyRGVsYXkgPSBfcHJvcHMuZW50ZXJEZWxheSxcbiAgICAgICAgICBnZXRMZWF2ZURpcmVjdGlvbiA9IF9wcm9wcy5nZXRMZWF2ZURpcmVjdGlvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydjaGlsZHJlbicsICdlbnRlckRlbGF5JywgJ2dldExlYXZlRGlyZWN0aW9uJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgbWVyZ2VkUm9vdFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQobnVsbCwgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKVxuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhtZXJnZWRSb290U3R5bGVzKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTbGlkZUluQ2hpbGQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5TbGlkZUluQ2hpbGQuZGVmYXVsdFByb3BzID0ge1xuICBlbnRlckRlbGF5OiAwXG59O1xuU2xpZGVJbkNoaWxkLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5TbGlkZUluQ2hpbGQucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBkaXJlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBlbnRlckRlbGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLy8gVGhpcyBjYWxsYmFjayBpcyBuZWVkZWQgYmFjYXVzZSB0aGUgZGlyZWN0aW9uIGNvdWxkIGNoYW5nZSB3aGVuIGxlYXZpbmcgdGhlIERPTVxuICBnZXRMZWF2ZURpcmVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gU2xpZGVJbkNoaWxkO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9pbnRlcm5hbC9TbGlkZUluQ2hpbGQuanNcbi8vIG1vZHVsZSBpZCA9IDQzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5hdmlnYXRpb25DaGV2cm9uTGVmdCA9IGZ1bmN0aW9uIE5hdmlnYXRpb25DaGV2cm9uTGVmdChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnonIH0pXG4gICk7XG59O1xuTmF2aWdhdGlvbkNoZXZyb25MZWZ0ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQ2hldnJvbkxlZnQpO1xuTmF2aWdhdGlvbkNoZXZyb25MZWZ0LmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25DaGV2cm9uTGVmdCc7XG5OYXZpZ2F0aW9uQ2hldnJvbkxlZnQubXVpTmFtZSA9ICdTdmdJY29uJztcblxuZXhwb3J0cy5kZWZhdWx0ID0gTmF2aWdhdGlvbkNoZXZyb25MZWZ0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9jaGV2cm9uLWxlZnQuanNcbi8vIG1vZHVsZSBpZCA9IDQ0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfRGlhbG9nID0gcmVxdWlyZSgnLi9EaWFsb2cnKTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0RpYWxvZzIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGlhbG9nL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSByZXF1aXJlKCdyZWNvbXBvc2UvcHVyZScpO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IHJlcXVpcmUoJy4uLy4uL1N2Z0ljb24nKTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgTmF2aWdhdGlvbkNoZXZyb25SaWdodCA9IGZ1bmN0aW9uIE5hdmlnYXRpb25DaGV2cm9uUmlnaHQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02eicgfSlcbiAgKTtcbn07XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0KTtcbk5hdmlnYXRpb25DaGV2cm9uUmlnaHQuZGlzcGxheU5hbWUgPSAnTmF2aWdhdGlvbkNoZXZyb25SaWdodCc7XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0Lm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5hdmlnYXRpb25DaGV2cm9uUmlnaHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy9uYXZpZ2F0aW9uL2NoZXZyb24tcmlnaHQuanNcbi8vIG1vZHVsZSBpZCA9IDQ1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfQ2hlY2tib3ggPSByZXF1aXJlKCcuL0NoZWNrYm94Jyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfQ2hlY2tib3gyLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9TbmFja2JhciA9IHJlcXVpcmUoJy4vU25hY2tiYXInKTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9TbmFja2JhcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0VXRpbHMgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmRhdGVUaW1lRm9ybWF0ID0gZGF0ZVRpbWVGb3JtYXQ7XG5leHBvcnRzLmdldFllYXIgPSBnZXRZZWFyO1xuZXhwb3J0cy5zZXRZZWFyID0gc2V0WWVhcjtcbmV4cG9ydHMuYWRkRGF5cyA9IGFkZERheXM7XG5leHBvcnRzLmFkZE1vbnRocyA9IGFkZE1vbnRocztcbmV4cG9ydHMuYWRkWWVhcnMgPSBhZGRZZWFycztcbmV4cG9ydHMuY2xvbmVEYXRlID0gY2xvbmVEYXRlO1xuZXhwb3J0cy5jbG9uZUFzRGF0ZSA9IGNsb25lQXNEYXRlO1xuZXhwb3J0cy5nZXREYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuZXhwb3J0cy5nZXRGaXJzdERheU9mTW9udGggPSBnZXRGaXJzdERheU9mTW9udGg7XG5leHBvcnRzLmdldEZpcnN0RGF5T2ZXZWVrID0gZ2V0Rmlyc3REYXlPZldlZWs7XG5leHBvcnRzLmdldFdlZWtBcnJheSA9IGdldFdlZWtBcnJheTtcbmV4cG9ydHMubG9jYWxpemVkV2Vla2RheSA9IGxvY2FsaXplZFdlZWtkYXk7XG5leHBvcnRzLmZvcm1hdElzbyA9IGZvcm1hdElzbztcbmV4cG9ydHMuaXNFcXVhbERhdGUgPSBpc0VxdWFsRGF0ZTtcbmV4cG9ydHMuaXNCZWZvcmVEYXRlID0gaXNCZWZvcmVEYXRlO1xuZXhwb3J0cy5pc0FmdGVyRGF0ZSA9IGlzQWZ0ZXJEYXRlO1xuZXhwb3J0cy5pc0JldHdlZW5EYXRlcyA9IGlzQmV0d2VlbkRhdGVzO1xuZXhwb3J0cy5tb250aERpZmYgPSBtb250aERpZmY7XG5leHBvcnRzLnllYXJEaWZmID0geWVhckRpZmY7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGF5QWJicmV2aWF0aW9uID0gWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ107XG52YXIgZGF5TGlzdCA9IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J107XG52YXIgbW9udGhMaXN0ID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xudmFyIG1vbnRoTG9uZ0xpc3QgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcblxuZnVuY3Rpb24gZGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBvcHRpb25zKSB7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkobG9jYWxlID09PSAnZW4tVVMnLCAnTWF0ZXJpYWwtVUk6IFRoZSAnICsgbG9jYWxlICsgJyBsb2NhbGUgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnVpbHQtaW4gRGF0ZVRpbWVGb3JtYXQuXFxuICBVc2UgdGhlIGBEYXRlVGltZUZvcm1hdGAgcHJvcCB0byBzdXBwbHkgYW4gYWx0ZXJuYXRpdmUgaW1wbGVtZW50YXRpb24uJykgOiB2b2lkIDA7XG5cbiAgdGhpcy5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIGlmIChvcHRpb25zLm1vbnRoID09PSAnc2hvcnQnICYmIG9wdGlvbnMud2Vla2RheSA9PT0gJ3Nob3J0JyAmJiBvcHRpb25zLmRheSA9PT0gJzItZGlnaXQnKSB7XG4gICAgICByZXR1cm4gZGF5TGlzdFtkYXRlLmdldERheSgpXSArICcsICcgKyBtb250aExpc3RbZGF0ZS5nZXRNb250aCgpXSArICcgJyArIGRhdGUuZ2V0RGF0ZSgpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5tb250aCA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMuZGF5ID09PSAnbnVtZXJpYycpIHtcbiAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCkgKyAxICsgJy8nICsgZGF0ZS5nZXREYXRlKCkgKyAnLycgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnllYXIgPT09ICdudW1lcmljJyAmJiBvcHRpb25zLm1vbnRoID09PSAnbG9uZycpIHtcbiAgICAgIHJldHVybiBtb250aExvbmdMaXN0W2RhdGUuZ2V0TW9udGgoKV0gKyAnICcgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLndlZWtkYXkgPT09ICduYXJyb3cnKSB7XG4gICAgICByZXR1cm4gZGF5QWJicmV2aWF0aW9uW2RhdGUuZ2V0RGF5KCldO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycpIHtcbiAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF5ID09PSAnbnVtZXJpYycpIHtcbiAgICAgIHJldHVybiBkYXRlLmdldERhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ01hdGVyaWFsLVVJOiBXcm9uZyB1c2FnZSBvZiBEYXRlVGltZUZvcm1hdCcpIDogdm9pZCAwO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0WWVhcihkKSB7XG4gIHJldHVybiBkLmdldEZ1bGxZZWFyKCk7XG59XG5cbmZ1bmN0aW9uIHNldFllYXIoZCwgeWVhcikge1xuICB2YXIgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcbiAgcmV0dXJuIG5ld0RhdGU7XG59XG5cbmZ1bmN0aW9uIGFkZERheXMoZCwgZGF5cykge1xuICB2YXIgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXREYXRlKGQuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRNb250aHMoZCwgbW9udGhzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmVEYXRlKGQpO1xuICBuZXdEYXRlLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArIG1vbnRocyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRZZWFycyhkLCB5ZWFycykge1xuICB2YXIgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRGdWxsWWVhcihkLmdldEZ1bGxZZWFyKCkgKyB5ZWFycyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBjbG9uZURhdGUoZCkge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRUaW1lKCkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFzRGF0ZShkKSB7XG4gIHZhciBjbG9uZWREYXRlID0gY2xvbmVEYXRlKGQpO1xuICBjbG9uZWREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gY2xvbmVkRGF0ZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoZCkge1xuICB2YXIgcmVzdWx0RGF0ZSA9IGdldEZpcnN0RGF5T2ZNb250aChkKTtcblxuICByZXN1bHREYXRlLnNldE1vbnRoKHJlc3VsdERhdGUuZ2V0TW9udGgoKSArIDEpO1xuICByZXN1bHREYXRlLnNldERhdGUocmVzdWx0RGF0ZS5nZXREYXRlKCkgLSAxKTtcblxuICByZXR1cm4gcmVzdWx0RGF0ZS5nZXREYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZNb250aChkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgMSk7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZXZWVrKCkge1xuICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla0FycmF5KGQsIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIHZhciBkYXlBcnJheSA9IFtdO1xuICB2YXIgZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aChkKTtcbiAgdmFyIHdlZWtBcnJheSA9IFtdO1xuICB2YXIgd2VlayA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IGRheXNJbk1vbnRoOyBpKyspIHtcbiAgICBkYXlBcnJheS5wdXNoKG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBpKSk7XG4gIH1cblxuICB2YXIgYWRkV2VlayA9IGZ1bmN0aW9uIGFkZFdlZWsod2Vlaykge1xuICAgIHZhciBlbXB0eURheXMgPSA3IC0gd2Vlay5sZW5ndGg7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGVtcHR5RGF5czsgKytfaSkge1xuICAgICAgd2Vla1t3ZWVrQXJyYXkubGVuZ3RoID8gJ3B1c2gnIDogJ3Vuc2hpZnQnXShudWxsKTtcbiAgICB9XG4gICAgd2Vla0FycmF5LnB1c2god2Vlayk7XG4gIH07XG5cbiAgZGF5QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZGF5KSB7XG4gICAgaWYgKHdlZWsubGVuZ3RoID4gMCAmJiBkYXkuZ2V0RGF5KCkgPT09IGZpcnN0RGF5T2ZXZWVrKSB7XG4gICAgICBhZGRXZWVrKHdlZWspO1xuICAgICAgd2VlayA9IFtdO1xuICAgIH1cbiAgICB3ZWVrLnB1c2goZGF5KTtcbiAgICBpZiAoZGF5QXJyYXkuaW5kZXhPZihkYXkpID09PSBkYXlBcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICBhZGRXZWVrKHdlZWspO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHdlZWtBcnJheTtcbn1cblxuZnVuY3Rpb24gbG9jYWxpemVkV2Vla2RheShEYXRlVGltZUZvcm1hdCwgbG9jYWxlLCBkYXksIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIHZhciB3ZWVrZGF5Rm9ybWF0dGVyID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgeyB3ZWVrZGF5OiAnbmFycm93JyB9KTtcbiAgdmFyIGZpcnN0RGF5RGF0ZSA9IGdldEZpcnN0RGF5T2ZXZWVrKCk7XG5cbiAgcmV0dXJuIHdlZWtkYXlGb3JtYXR0ZXIuZm9ybWF0KGFkZERheXMoZmlyc3REYXlEYXRlLCBkYXkgKyBmaXJzdERheU9mV2VlaykpO1xufVxuXG4vLyBDb252ZXJ0IGRhdGUgdG8gSVNPIDg2MDEgKFlZWVktTU0tREQpIGRhdGUgc3RyaW5nLCBhY2NvdW50aW5nIGZvciBjdXJyZW50IHRpbWV6b25lXG5mdW5jdGlvbiBmb3JtYXRJc28oZGF0ZSkge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZS50b0RhdGVTdHJpbmcoKSArICcgMTI6MDA6MDAgKzAwMDAnKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XG59XG5cbmZ1bmN0aW9uIGlzRXF1YWxEYXRlKGQxLCBkMikge1xuICByZXR1cm4gZDEgJiYgZDIgJiYgZDEuZ2V0RnVsbFllYXIoKSA9PT0gZDIuZ2V0RnVsbFllYXIoKSAmJiBkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpICYmIGQxLmdldERhdGUoKSA9PT0gZDIuZ2V0RGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBpc0JlZm9yZURhdGUoZDEsIGQyKSB7XG4gIHZhciBkYXRlMSA9IGNsb25lQXNEYXRlKGQxKTtcbiAgdmFyIGRhdGUyID0gY2xvbmVBc0RhdGUoZDIpO1xuXG4gIHJldHVybiBkYXRlMS5nZXRUaW1lKCkgPCBkYXRlMi5nZXRUaW1lKCk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXJEYXRlKGQxLCBkMikge1xuICB2YXIgZGF0ZTEgPSBjbG9uZUFzRGF0ZShkMSk7XG4gIHZhciBkYXRlMiA9IGNsb25lQXNEYXRlKGQyKTtcblxuICByZXR1cm4gZGF0ZTEuZ2V0VGltZSgpID4gZGF0ZTIuZ2V0VGltZSgpO1xufVxuXG5mdW5jdGlvbiBpc0JldHdlZW5EYXRlcyhkYXRlVG9DaGVjaywgc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gIHJldHVybiAhaXNCZWZvcmVEYXRlKGRhdGVUb0NoZWNrLCBzdGFydERhdGUpICYmICFpc0FmdGVyRGF0ZShkYXRlVG9DaGVjaywgZW5kRGF0ZSk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoRGlmZihkMSwgZDIpIHtcbiAgdmFyIG0gPSB2b2lkIDA7XG4gIG0gPSAoZDEuZ2V0RnVsbFllYXIoKSAtIGQyLmdldEZ1bGxZZWFyKCkpICogMTI7XG4gIG0gKz0gZDEuZ2V0TW9udGgoKTtcbiAgbSAtPSBkMi5nZXRNb250aCgpO1xuICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24geWVhckRpZmYoZDEsIGQyKSB7XG4gIHJldHVybiB+fihtb250aERpZmYoZDEsIGQyKSAvIDEyKTtcbn1cblxudmFyIGRlZmF1bHRVdGlscyA9IGV4cG9ydHMuZGVmYXVsdFV0aWxzID0ge1xuICBnZXRZZWFyOiBnZXRZZWFyLFxuICBzZXRZZWFyOiBzZXRZZWFyLFxuICBhZGREYXlzOiBhZGREYXlzLFxuICBhZGRNb250aHM6IGFkZE1vbnRocyxcbiAgYWRkWWVhcnM6IGFkZFllYXJzLFxuICBnZXRGaXJzdERheU9mTW9udGg6IGdldEZpcnN0RGF5T2ZNb250aCxcbiAgZ2V0V2Vla0FycmF5OiBnZXRXZWVrQXJyYXksXG4gIG1vbnRoRGlmZjogbW9udGhEaWZmXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL2RhdGVVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hZGRIb3VycyA9IGFkZEhvdXJzO1xuZXhwb3J0cy5hZGRNaW51dGVzID0gYWRkTWludXRlcztcbmV4cG9ydHMuYWRkU2Vjb25kcyA9IGFkZFNlY29uZHM7XG5leHBvcnRzLmZvcm1hdFRpbWUgPSBmb3JtYXRUaW1lO1xuZXhwb3J0cy5yYWQyZGVnID0gcmFkMmRlZztcbmV4cG9ydHMuZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcyA9IGdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXM7XG5leHBvcnRzLmlzSW5uZXIgPSBpc0lubmVyO1xuZnVuY3Rpb24gYWRkSG91cnMoZCwgaG91cnMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRIb3VycyhkLmdldEhvdXJzKCkgKyBob3Vycyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRNaW51dGVzKGQsIG1pbnV0ZXMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRNaW51dGVzKGQuZ2V0TWludXRlcygpICsgbWludXRlcyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRTZWNvbmRzKGQsIHNlY29uZHMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRTZWNvbmRzKGQuZ2V0TWludXRlcygpICsgc2Vjb25kcyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBjbG9uZShkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldFRpbWUoKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIGRhdGUgW0RhdGVdIEEgRGF0ZSBvYmplY3QuXG4gKiBAcGFyYW0gZm9ybWF0IFtTdHJpbmddIE9uZSBvZiAnYW1wbScsICcyNGhyJywgZGVmYXVsdHMgdG8gJ2FtcG0nLlxuICogQHBhcmFtIHBlZGFudGljIFtCb29sZWFuXSBDaGVjayB0aW1lLXBpY2tlci90aW1lLXBpY2tlci5qc3ggZmlsZS5cbiAqXG4gKiBAcmV0dXJuIFN0cmluZyBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGZvcm1hdHRlZCB0aW1lLlxuICovXG5mdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGUpIHtcbiAgdmFyIGZvcm1hdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2FtcG0nO1xuICB2YXIgcGVkYW50aWMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gIGlmICghZGF0ZSkgcmV0dXJuICcnO1xuICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gIHZhciBtaW5zID0gZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTtcblxuICBpZiAoZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICB2YXIgaXNBTSA9IGhvdXJzIDwgMTI7XG4gICAgaG91cnMgPSBob3VycyAlIDEyO1xuICAgIHZhciBhZGRpdGlvbmFsID0gaXNBTSA/ICcgYW0nIDogJyBwbSc7XG4gICAgaG91cnMgPSAoaG91cnMgfHwgMTIpLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAobWlucy5sZW5ndGggPCAyKSBtaW5zID0gJzAnICsgbWlucztcblxuICAgIGlmIChwZWRhbnRpYykge1xuICAgICAgLy8gVHJlYXQgbWlkZGF5L21pZG5pZ2h0IHNwZWNpYWxseSBodHRwOi8vd3d3Lm5pc3QuZ292L3BtbC9kaXY2ODgvdGltZXMuY2ZtXG4gICAgICBpZiAoaG91cnMgPT09ICcxMicgJiYgbWlucyA9PT0gJzAwJykge1xuICAgICAgICByZXR1cm4gYWRkaXRpb25hbCA9PT0gJyBwbScgPyAnMTIgbm9vbicgOiAnMTIgbWlkbmlnaHQnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBob3VycyArIChtaW5zID09PSAnMDAnID8gJycgOiAnOicgKyBtaW5zKSArIGFkZGl0aW9uYWw7XG4gIH1cblxuICBob3VycyA9IGhvdXJzLnRvU3RyaW5nKCk7XG5cbiAgaWYgKGhvdXJzLmxlbmd0aCA8IDIpIGhvdXJzID0gJzAnICsgaG91cnM7XG4gIGlmIChtaW5zLmxlbmd0aCA8IDIpIG1pbnMgPSAnMCcgKyBtaW5zO1xuXG4gIHJldHVybiBob3VycyArICc6JyArIG1pbnM7XG59XG5cbmZ1bmN0aW9uIHJhZDJkZWcocmFkKSB7XG4gIHJldHVybiByYWQgKiA1Ny4yOTU3Nzk1MTMwODIzMjtcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcyhldmVudCkge1xuICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG4gIHZhciBib3VuZGluZ1JlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICByZXR1cm4ge1xuICAgIG9mZnNldFg6IGV2ZW50LmNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdCxcbiAgICBvZmZzZXRZOiBldmVudC5jbGllbnRZIC0gYm91bmRpbmdSZWN0LnRvcFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc0lubmVyKHByb3BzKSB7XG4gIGlmIChwcm9wcy50eXBlICE9PSAnaG91cicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHByb3BzLnZhbHVlIDwgMSB8fCBwcm9wcy52YWx1ZSA+IDEyO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL3RpbWVVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==