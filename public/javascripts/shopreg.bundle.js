webpackJsonp([2],{107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.targetOrigin,o=a.open,i=t.muiTheme,l=n.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:i.zIndex.popover,opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:l+" "+n.vertical,transition:M.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),l=n(i),r=a(2),s=n(r),u=a(3),d=n(u),c=a(6),f=n(c),p=a(5),h=n(p),m=a(7),y=n(m),v=a(0),T=n(v),g=a(1),b=n(g),D=a(22),S=n(D),k=a(12),M=n(k),x=a(21),_=(n(x),function(e){function t(){var e,a,n,o;(0,s.default)(this,t);for(var i=arguments.length,r=Array(i),u=0;u<i;u++)r[u]=arguments[u];return a=n=(0,f.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),n.state={open:!1},o=a,(0,f.default)(n,o)}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style,n=e.zDepth,i=o(this.props,this.context,this.state);return T.default.createElement(S.default,{style:(0,y.default)(i.root,a),zDepth:n,className:t},this.props.children)}}]),t}(v.Component));_.defaultProps={style:{},zDepth:1},_.contextTypes={muiTheme:b.default.object.isRequired},_.propTypes={},t.default=_},115:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=t.DropDownMenu=void 0;var o=a(149),i=n(o),l=a(90),r=n(l);t.DropDownMenu=i.default,t.MenuItem=r.default,t.default=i.default},145:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=t.muiTheme.checkbox;return{icon:{height:24,width:24},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:C.default.easeOut("450ms","opacity","0ms")+", "+C.default.easeOut("0ms","transform","450ms"),fill:a.checkedColor},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:C.default.easeOut("0ms","opacity","0ms")+", "+C.default.easeOut("800ms","transform","0ms")},checkWhenDisabled:{fill:a.disabledColor},box:{position:"absolute",opacity:1,fill:a.boxColor,transition:C.default.easeOut("1000ms","opacity","200ms")},boxWhenSwitched:{opacity:0,transition:C.default.easeOut("650ms","opacity","150ms"),fill:a.checkedColor},boxWhenDisabled:{fill:e.checked?"transparent":a.disabledColor},label:{color:e.disabled?a.labelDisabledColor:a.labelColor}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(157),_=n(x),E=a(12),C=n(E),w=a(167),O=n(w),P=a(168),R=n(P),W=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={switched:!1},n.handleStateChange=function(e){n.setState({switched:e})},n.handleCheck=function(e,t){n.props.onCheck&&n.props.onCheck(e,t)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.checked,a=e.defaultChecked,n=e.valueLink;(t||a||n&&n.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.checked!==e.checked&&this.setState({switched:e.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"render",value:function(){var e=this.props,t=e.iconStyle,a=(e.onCheck,e.checkedIcon),n=e.uncheckedIcon,i=(0,s.default)(e,["iconStyle","onCheck","checkedIcon","uncheckedIcon"]),r=o(this.props,this.context),u=(0,b.default)(r.box,this.state.switched&&r.boxWhenSwitched,t,this.props.disabled&&r.boxWhenDisabled),d=(0,b.default)(r.check,this.state.switched&&r.checkWhenSwitched,t,this.props.disabled&&r.checkWhenDisabled),c=a?S.default.cloneElement(a,{style:(0,b.default)(d,a.props.style)}):S.default.createElement(R.default,{style:d}),f=n?S.default.cloneElement(n,{style:(0,b.default)(u,n.props.style)}):S.default.createElement(O.default,{style:u}),p=S.default.createElement("div",null,f,c),h=this.state.switched?d.fill:u.fill,m=(0,b.default)(r.icon,t),y=(0,b.default)(r.label,this.props.labelStyle),v={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:p,rippleColor:h,iconStyle:m,onSwitch:this.handleCheck,labelStyle:y,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return S.default.createElement(_.default,(0,l.default)({},i,v))}}]),t}(D.Component);W.defaultProps={labelPosition:"right",disabled:!1},W.contextTypes={muiTheme:M.default.object.isRequired},W.propTypes={},t.default=W},146:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.autoScrollBodyContent,n=e.open,o=t.muiTheme,i=o.baseTheme,l=i.spacing,r=i.palette,s=o.dialog,u=o.zIndex,d=l.desktopGutter,c="1px solid "+r.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:u.dialog,top:0,left:n?0:-1e4,width:"100%",height:"100%",transition:n?R.default.easeOut("0ms","left","0ms"):R.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:R.default.easeOut(),position:"relative",width:"75%",maxWidth:12*l.desktopKeylineIncrement,margin:"0 auto",zIndex:u.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:a?-1:0},overlay:{zIndex:u.dialogOverlay},title:{margin:0,padding:d+"px "+d+"px 20px "+d+"px",color:r.textColor,fontSize:s.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:a?-1:0},body:{fontSize:s.bodyFontSize,color:s.bodyColor,padding:(e.title?0:d)+"px "+d+"px "+d+"px",boxSizing:"border-box",overflowY:a?"auto":"hidden",borderTop:a?c:"none",borderBottom:a?c:"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(15),_=n(x),E=a(26),C=n(E),w=a(25),O=n(w),P=a(12),R=n(P),W=a(108),F=n(W),Y=a(159),A=n(Y),L=a(22),H=n(L),j=a(97),N=n(j),I=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={style:{}},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(e){this.componentWillAppear(e)}},{key:"componentWillAppear",value:function(e){var t=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+t.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(e,450)}},{key:"componentWillLeave",value:function(e){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.style,a=e.children,n=(0,s.default)(e,["style","children"]),o=this.context.muiTheme.prepareStyles;return S.default.createElement("div",(0,l.default)({},n,{style:o((0,b.default)({},this.state.style,t))}),a)}}]),t}(D.Component);I.contextTypes={muiTheme:M.default.object.isRequired},I.propTypes={};var z=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.handleTouchTapOverlay=function(){n.requestClose(!1)},n.handleKeyUp=function(e){"esc"===(0,O.default)(e)&&n.requestClose(!1)},n.handleResize=function(){n.positionDialog()},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var e=this.props,t=e.actions,a=e.autoDetectWindowHeight,n=e.autoScrollBodyContent,i=e.bodyStyle,l=e.open,r=e.repositionOnUpdate,s=e.title;if(l){var u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=_.default.findDOMNode(this),c=_.default.findDOMNode(this.refs.dialogWindow),f=_.default.findDOMNode(this.refs.dialogContent);c.style.height="",f.style.height="";var p=c.offsetHeight,h=(u-p)/2-64;if(h<16&&(h=16),!r&&d.style.paddingTop||(d.style.paddingTop=h+"px"),a||n){var m=o(this.props,this.context);m.body=(0,b.default)(m.body,i);var y=u-128;s&&(y-=f.previousSibling.offsetHeight),S.default.Children.count(t)&&(y-=f.nextSibling.offsetHeight),f.style.maxHeight=y+"px",y>p&&(f.style.borderBottom="none",f.style.borderTop="none")}}}},{key:"requestClose",value:function(e){!e&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!e)}},{key:"render",value:function(){var e=this.props,t=e.actions,a=e.actionsContainerClassName,n=e.actionsContainerStyle,i=e.bodyClassName,r=e.bodyStyle,s=e.children,u=e.className,d=e.contentClassName,c=e.contentStyle,f=e.overlayClassName,p=e.overlayStyle,h=e.open,m=e.paperClassName,y=e.paperProps,v=e.style,T=e.titleClassName,g=e.titleStyle,D=e.title,k=this.context.muiTheme.prepareStyles,M=o(this.props,this.context);M.root=(0,b.default)(M.root,v),M.content=(0,b.default)(M.content,c),M.body=(0,b.default)(M.body,r),M.actionsContainer=(0,b.default)(M.actionsContainer,n),M.overlay=(0,b.default)(M.overlay,p),M.title=(0,b.default)(M.title,g);var x=S.default.Children.count(t)>0&&S.default.createElement("div",{className:a,style:k(M.actionsContainer)},S.default.Children.toArray(t)),_=D;return S.default.isValidElement(D)?_=S.default.cloneElement(D,{className:D.props.className||T,style:k((0,b.default)(M.title,D.props.style))}):"string"==typeof D&&(_=S.default.createElement("h3",{className:T,style:k(M.title)},D)),S.default.createElement("div",{className:u,style:k(M.root)},h&&S.default.createElement(C.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),S.default.createElement(N.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},h&&S.default.createElement(I,{className:d,style:M.content},S.default.createElement(H.default,(0,l.default)({className:m,zDepth:4},y),_,S.default.createElement("div",{ref:"dialogContent",className:i,style:k(M.body)},s),x))),S.default.createElement(F.default,{show:h,className:f,style:M.overlay,onTouchTap:this.handleTouchTapOverlay}))}}]),t}(D.Component);z.contextTypes={muiTheme:M.default.object.isRequired},z.propTypes={};var K=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.renderLayer=function(){return S.default.createElement(z,n.props)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return S.default.createElement(A.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),t}(D.Component);K.contextTypes={muiTheme:M.default.object.isRequired},K.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},K.propTypes={},t.default=K},149:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.disabled,n=t.muiTheme.baseTheme.spacing,o=t.muiTheme.baseTheme.palette,i=t.muiTheme.dropDownMenu.accentColor;return{control:{cursor:a?"not-allowed":"pointer",height:"100%",position:"relative",width:"100%"},icon:{fill:i,position:"absolute",right:n.desktopGutterLess,top:(n.iconSize-24)/2+n.desktopGutterMini/2},iconChildren:{fill:"inherit"},label:{color:a?o.disabledColor:o.textColor,height:n.desktopToolbarHeight+"px",lineHeight:n.desktopToolbarHeight+"px",overflow:"hidden",opacity:1,position:"relative",paddingLeft:n.desktopGutter,paddingRight:2*n.iconSize+n.desktopGutterMini,textOverflow:"ellipsis",top:0,whiteSpace:"nowrap"},labelWhenOpen:{opacity:0,top:n.desktopToolbarHeight/8},root:{display:"inline-block",fontSize:n.desktopDropDownMenuFontSize,height:n.desktopSubheaderHeight,fontFamily:t.muiTheme.baseTheme.fontFamily,outline:"none",position:"relative",transition:C.default.easeOut()},rootWhenOpen:{opacity:1},underline:{borderTop:"solid 1px "+i,bottom:1,left:0,margin:"-1px "+n.desktopGutter+"px",right:0,position:"absolute"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(15),_=n(x),E=a(12),C=n(E),w=a(164),O=n(w),P=a(91),R=n(P),W=a(155),F=n(W),Y=a(67),A=n(Y),L=a(107),H=n(L),j=a(25),N=n(j),I=a(70),z=n(I),K=a(38),q=n(K),U=a(21),B=(n(U),function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.rootNode=void 0,n.arrowNode=void 0,n.handleTouchTapControl=function(e){e.preventDefault(),n.props.disabled||n.setState({open:!n.state.open,anchorEl:n.rootNode})},n.handleRequestCloseMenu=function(){n.close(!1)},n.handleEscKeyDownMenu=function(){n.close(!0)},n.handleKeyDown=function(e){switch((0,N.default)(e)){case"up":case"down":case"space":case"enter":e.preventDefault(),n.setState({open:!0,anchorEl:n.rootNode})}},n.handleItemTouchTap=function(e,t,a){n.props.multiple?n.state.open||n.setState({open:!0}):(e.persist(),n.setState({open:!1},function(){n.props.onChange&&n.props.onChange(e,a,t.props.value),n.close(z.default.isKeyboard(e))}))},n.handleChange=function(e,t){n.props.multiple&&n.props.onChange&&n.props.onChange(e,void 0,t)},n.close=function(e){n.setState({open:!1},function(){if(n.props.onClose&&n.props.onClose(),e){var t=n.arrowNode;_.default.findDOMNode(t).focus(),t.setKeyboardFocus(!0)}})},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.autoWidth&&this.setWidth(),this.props.openImmediately&&setTimeout(function(){return e.setState({open:!0,anchorEl:e.rootNode})},0)}},{key:"componentWillReceiveProps",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getInputNode",value:function(){var e=this,t=this.rootNode;return t.focus=function(){e.props.disabled||e.setState({open:!e.state.open,anchorEl:e.rootNode})},t}},{key:"setWidth",value:function(){var e=this.rootNode;this.props.style&&this.props.style.hasOwnProperty("width")||(e.style.width="auto")}},{key:"render",value:function(){var e=this,t=this.props,a=t.animated,n=t.animation,i=t.autoWidth,r=t.multiple,u=t.children,d=t.className,c=t.disabled,f=t.iconStyle,p=t.labelStyle,h=t.listStyle,m=t.maxHeight,y=t.menuStyle,v=t.selectionRenderer,T=(t.onClose,t.openImmediately,t.menuItemStyle),g=t.selectedMenuItemStyle,D=t.style,k=t.underlineStyle,M=t.value,x=t.iconButton,_=t.anchorOrigin,E=t.targetOrigin,C=(0,s.default)(t,["animated","animation","autoWidth","multiple","children","className","disabled","iconStyle","labelStyle","listStyle","maxHeight","menuStyle","selectionRenderer","onClose","openImmediately","menuItemStyle","selectedMenuItemStyle","style","underlineStyle","value","iconButton","anchorOrigin","targetOrigin"]),w=this.state,O=w.anchorEl,P=w.open,W=this.context.muiTheme.prepareStyles,Y=o(this.props,this.context),L="";if(r){var j=[],N=[];S.default.Children.forEach(u,function(e){e&&M&&M.indexOf(e.props.value)>-1&&(v?(j.push(e.props.value),N.push(e)):j.push(e.props.label||e.props.primaryText))}),L=[],L=v?v(j,N):j.join(", ")}else S.default.Children.forEach(u,function(e){e&&M===e.props.value&&(L=v?v(M,e):e.props.label||e.props.primaryText)});var I=void 0;return I=O&&!i?(0,b.default)({width:O.clientWidth},y):y,S.default.createElement("div",(0,l.default)({},C,{ref:function(t){e.rootNode=t},className:d,style:W((0,b.default)({},Y.root,P&&Y.rootWhenOpen,D))}),S.default.createElement(F.default,{style:Y.control,onTouchTap:this.handleTouchTapControl},S.default.createElement("div",{style:W((0,b.default)({},Y.label,P&&Y.labelWhenOpen,p))},L),S.default.createElement(q.default,{disabled:c,onKeyDown:this.handleKeyDown,ref:function(t){e.arrowNode=t},style:(0,b.default)({},Y.icon,f),iconStyle:Y.iconChildren},x),S.default.createElement("div",{style:W((0,b.default)({},Y.underline,k))})),S.default.createElement(A.default,{anchorOrigin:_,targetOrigin:E,anchorEl:O,animation:n||H.default,open:P,animated:a,onRequestClose:this.handleRequestCloseMenu},S.default.createElement(R.default,{multiple:r,maxHeight:m,desktop:!0,value:M,onEscKeyDown:this.handleEscKeyDownMenu,style:I,listStyle:h,onItemTouchTap:this.handleItemTouchTap,onChange:this.handleChange,menuItemStyle:T,selectedMenuItemStyle:g,autoWidth:i,width:!i&&I?I.width:null},u)))}}]),t}(D.Component));B.muiName="DropDownMenu",B.defaultProps={animated:!0,autoWidth:!0,disabled:!1,iconButton:S.default.createElement(O.default,null),openImmediately:!1,maxHeight:500,multiple:!1,anchorOrigin:{vertical:"top",horizontal:"left"}},B.contextTypes={muiTheme:M.default.object.isRequired},B.propTypes={},t.default=B},152:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=t.muiTheme,o=n.baseTheme.spacing.desktopSubheaderHeight,i=n.zIndex,l=a.open;return{root:{position:"fixed",left:"50%",display:"flex",bottom:0,zIndex:i.snackbar,visibility:l?"visible":"hidden",transform:l?"translate(-50%, 0)":"translate(-50%, "+o+"px)",transition:_.default.easeOut("400ms","transform")+", "+_.default.easeOut("400ms","visibility")}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(12),_=n(x),E=a(156),C=n(E),w=a(153),O=n(w),P=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.componentClickAway=function(){n.timerTransitionId||(null!==n.props.open&&n.props.onRequestClose?n.props.onRequestClose("clickaway"):n.setState({open:!1}))},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.open&&e.open&&(e.message!==this.props.message||e.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){t.setState({message:e.message,action:e.action,open:!0})},400);else{var a=e.open;this.setState({open:null!==a?a:this.state.open,message:e.message,action:e.action})}}},{key:"componentDidUpdate",value:function(e,t){t.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var e=this,t=this.props.autoHideDuration;t>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==e.props.open&&e.props.onRequestClose?e.props.onRequestClose("timeout"):e.setState({open:!1})},t))}},{key:"setTransitionTimer",value:function(){var e=this;this.timerTransitionId=setTimeout(function(){e.timerTransitionId=void 0},400)}},{key:"render",value:function(){var e=this.props,t=(e.autoHideDuration,e.contentStyle),a=e.bodyStyle,n=(e.message,e.onRequestClose,e.onActionTouchTap),i=e.style,r=(0,s.default)(e,["autoHideDuration","contentStyle","bodyStyle","message","onRequestClose","onActionTouchTap","style"]),u=this.state,d=u.action,c=u.message,f=u.open,p=this.context.muiTheme.prepareStyles,h=o(this.props,this.context,this.state);return S.default.createElement(C.default,{onClickAway:f?this.componentClickAway:null},S.default.createElement("div",(0,l.default)({},r,{style:p((0,b.default)(h.root,i))}),S.default.createElement(O.default,{action:d,contentStyle:t,message:c,open:f,onActionTouchTap:n,style:a})))}}]),t}(D.Component);P.contextTypes={muiTheme:M.default.object.isRequired},P.propTypes={},t.default=P},153:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=e.open,n=e.width,o=t.muiTheme,i=o.baseTheme,l=i.spacing,r=l.desktopGutter,s=l.desktopSubheaderHeight,u=i.fontFamily,d=o.snackbar,c=d.backgroundColor,f=d.textColor,p=d.actionColor,h=o.borderRadius,m=n===v.SMALL;return{root:{fontFamily:u,backgroundColor:c,padding:"0 "+r+"px",height:s,lineHeight:s+"px",borderRadius:m?0:h,maxWidth:m?"inherit":568,minWidth:m?"inherit":288,width:m?"calc(100vw - "+2*r+"px)":"auto",flexGrow:m?1:0},content:{fontSize:14,color:f,opacity:a?1:0,transition:a?y.default.easeOut("500ms","opacity","100ms"):y.default.easeOut("400ms","opacity")},action:{color:p,float:"right",marginTop:6,marginRight:-16,marginLeft:r,backgroundColor:"transparent"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarBody=void 0;var i=a(8),l=n(i),r=a(9),s=n(r),u=a(7),d=n(u),c=a(0),f=n(c),p=a(1),h=n(p),m=a(12),y=n(m),v=a(169),T=n(v),g=a(29),b=n(g),D=function(e,t){var a=e.action,n=e.contentStyle,i=e.message,r=(e.open,e.onActionTouchTap),u=e.style,c=(0,s.default)(e,["action","contentStyle","message","open","onActionTouchTap","style"]),p=t.muiTheme.prepareStyles,h=o(e,t),m=a&&f.default.createElement(b.default,{style:h.action,label:a,onTouchTap:r});return f.default.createElement("div",(0,l.default)({},c,{style:p((0,d.default)(h.root,u))}),f.default.createElement("div",{style:p((0,d.default)(h.content,n))},f.default.createElement("span",null,i),m))};t.SnackbarBody=D,D.propTypes={},D.contextTypes={muiTheme:h.default.object.isRequired},t.default=(0,T.default)()(D)},154:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(9),i=n(o),l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),f=a(6),p=n(f),h=a(5),m=n(h),y=a(7),v=n(y),T=a(0),g=n(T),b=a(1),D=n(b),S={box:{boxSizing:"border-box"}},k=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.beforeStyle,a=e.afterStyle,n=(e.beforeElementType,e.afterElementType,e.elementType,(0,i.default)(e,["beforeStyle","afterStyle","beforeElementType","afterElementType","elementType"])),o=this.context.muiTheme.prepareStyles,l=void 0,r=void 0;t&&(l=g.default.createElement(this.props.beforeElementType,{style:o((0,v.default)({},S.box,t)),key:"::before"})),a&&(r=g.default.createElement(this.props.afterElementType,{style:o((0,v.default)({},S.box,a)),key:"::after"}));var s=[l,this.props.children,r],u=n;return u.style=o((0,v.default)({},this.props.style)),g.default.createElement(this.props.elementType,u,s)}}]),t}(T.Component);k.defaultProps={beforeElementType:"div",afterElementType:"div",elementType:"div"},k.contextTypes={muiTheme:D.default.object.isRequired},k.propTypes={},t.default=k},155:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(0),u=n(s),d=a(1),c=(n(d),a(154)),f=n(c),p={before:{content:"' '",display:"table"},after:{content:"' '",clear:"both",display:"table"}},h=function(e){var t=e.style,a=e.children,n=(0,r.default)(e,["style","children"]);return u.default.createElement(f.default,(0,i.default)({},n,{beforeStyle:p.before,afterStyle:p.after,style:t}),a)};h.muiName="ClearFix",h.propTypes={},t.default=h},157:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=t.muiTheme.baseTheme;return{root:{cursor:e.disabled?"not-allowed":"pointer",position:"relative",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:"inherit",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:a.palette.textColor,fontFamily:a.fontFamily},wrap:{transition:O.default.easeOut(),float:"left",position:"relative",display:"block",flexShrink:0,width:60-a.spacing.desktopGutterLess,marginRight:"right"===e.labelPosition?a.spacing.desktopGutterLess:0,marginLeft:"left"===e.labelPosition?a.spacing.desktopGutterLess:0},ripple:{color:e.rippleColor||a.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(7),b=n(g),D=a(0),S=n(D),k=a(1),M=n(k),x=a(26),_=n(x),E=a(25),C=n(E),w=a(12),O=n(w),P=a(158),R=n(P),W=a(161),F=n(W),Y=a(22),A=n(Y),L=a(10),H=(n(L),function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={isKeyboardFocused:!1},n.handleChange=function(e){n.tabPressed=!1,n.setState({isKeyboardFocused:!1});var t=n.refs.checkbox.checked;!n.props.hasOwnProperty("checked")&&n.props.onParentShouldUpdate&&n.props.onParentShouldUpdate(t),n.props.onSwitch&&n.props.onSwitch(e,t)},n.handleKeyDown=function(e){var t=(0,C.default)(e);"tab"===t&&(n.tabPressed=!0),n.state.isKeyboardFocused&&"space"===t&&n.handleChange(e)},n.handleKeyUp=function(e){n.state.isKeyboardFocused&&"space"===(0,C.default)(e)&&n.handleChange(e)},n.handleMouseDown=function(e){0===e.button&&n.refs.touchRipple.start(e)},n.handleMouseUp=function(){n.refs.touchRipple.end()},n.handleMouseLeave=function(){n.refs.touchRipple.end()},n.handleTouchStart=function(e){n.refs.touchRipple.start(e)},n.handleTouchEnd=function(){n.refs.touchRipple.end()},n.handleBlur=function(e){n.setState({isKeyboardFocused:!1}),n.props.onBlur&&n.props.onBlur(e)},n.handleFocus=function(e){setTimeout(function(){n.tabPressed&&n.setState({isKeyboardFocused:!0})},150),n.props.onFocus&&n.props.onFocus(e)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.checkbox;this.props.switched&&e.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(e.checked)}},{key:"componentWillReceiveProps",value:function(e){var t=e.hasOwnProperty("checked"),a=e.hasOwnProperty("defaultChecked")&&e.defaultChecked!==this.props.defaultChecked;if(t||a){var n=e.checked||e.defaultChecked||!1;this.setState({switched:n}),this.props.onParentShouldUpdate&&n!==this.props.switched&&this.props.onParentShouldUpdate(n)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(e){this.props.hasOwnProperty("checked")&&!1!==this.props.checked||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(e),this.refs.checkbox.checked=e)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.iconStyle,i=e.inputStyle,r=e.inputType,u=e.label,d=e.labelStyle,c=e.labelPosition,f=(e.onSwitch,e.onBlur,e.onFocus,e.onMouseUp,e.onMouseDown,e.onMouseLeave,e.onTouchStart,e.onTouchEnd,e.onParentShouldUpdate,e.disabled),p=e.disableTouchRipple,h=e.disableFocusRipple,m=e.className,y=(e.rippleColor,e.rippleStyle),v=e.style,T=(e.switched,e.switchElement),g=e.thumbStyle,D=e.trackStyle,k=(0,s.default)(e,["name","value","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),M=this.context.muiTheme.prepareStyles,x=o(this.props,this.context),E=(0,b.default)(x.wrap,n),C=(0,b.default)(x.ripple,y);g&&(E.marginLeft/=2,E.marginRight/=2);var w=u&&S.default.createElement("label",{style:M((0,b.default)(x.label,d))},u),O=!f&&!p,P=!f&&!h,W=S.default.createElement(F.default,{ref:"touchRipple",key:"touchRipple",style:C,color:C.color,muiTheme:this.context.muiTheme,centerRipple:!0}),Y=S.default.createElement(R.default,{key:"focusRipple",innerStyle:C,color:C.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),L=[O?W:null,P?Y:null],H=S.default.createElement("input",(0,l.default)({},k,{ref:"checkbox",type:r,style:M((0,b.default)(x.input,i)),name:t,value:a,disabled:f,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onMouseUp:O&&this.handleMouseUp,onMouseDown:O&&this.handleMouseDown,onMouseLeave:O&&this.handleMouseLeave,onTouchStart:O&&this.handleTouchStart,onTouchEnd:O&&this.handleTouchEnd})),j=g?S.default.createElement("div",{style:M(E)},S.default.createElement("div",{style:M((0,b.default)({},D))}),S.default.createElement(A.default,{style:g,zDepth:1,circle:!0}," ",L," ")):S.default.createElement("div",{style:M(E)},T,L),N="right"===c?S.default.createElement("div",{style:x.controls},j,w):S.default.createElement("div",{style:x.controls},w,j);return S.default.createElement("div",{ref:"root",className:m,style:M((0,b.default)(x.root,v))},S.default.createElement(_.default,{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),H,N)}}]),t}(D.Component));H.contextTypes={muiTheme:M.default.object.isRequired},H.propTypes={},t.default=H},160:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(97),x=n(M),_=a(442),E=n(_),C=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.getLeaveDirection=function(){return n.props.direction},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.enterDelay,n=t.children,o=t.childStyle,l=t.direction,s=t.style,u=(0,r.default)(t,["enterDelay","children","childStyle","direction","style"]),d=this.context.muiTheme.prepareStyles,c=(0,g.default)({},{position:"relative",overflow:"hidden",height:"100%"},s),f=D.default.Children.map(n,function(t){return D.default.createElement(E.default,{key:t.key,direction:l,enterDelay:a,getLeaveDirection:e.getLeaveDirection,style:o},t)},this);return D.default.createElement(x.default,(0,i.default)({},u,{style:d(c),component:"div"}),f)}}]),t}(b.Component);C.defaultProps={enterDelay:0,direction:"left"},C.contextTypes={muiTheme:k.default.object.isRequired},C.propTypes={},t.default=C},164:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M7 10l5 5 5-5z"}))};d=(0,r.default)(d),d.displayName="NavigationArrowDropDown",d.muiName="SvgIcon",t.default=d},167:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};d=(0,r.default)(d),d.displayName="ToggleCheckBoxOutlineBlank",d.muiName="SvgIcon",t.default=d},168:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};d=(0,r.default)(d),d.displayName="ToggleCheckBox",d.muiName="SvgIcon",t.default=d},169:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.largeWidth,a=void 0===t?992:t,n=e.mediumWidth,o=void 0===n?768:n,i=e.resizeInterval,r=void 0===i?166:i;return function(e){return function(t){function n(){var e,t,a,o;(0,d.default)(this,n);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return t=a=(0,h.default)(this,(e=n.__proto__||(0,s.default)(n)).call.apply(e,[this].concat(l))),a.state={width:null},a.handleResize=function(){clearTimeout(a.deferTimer),a.deferTimer=setTimeout(function(){a.updateWidth()},r)},o=t,(0,h.default)(a,o)}return(0,y.default)(n,t),(0,f.default)(n,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var e=window.innerWidth,t=void 0;(t=e>=a?k:e>=o?S:D)!==this.state.width&&this.setState({width:t})}},{key:"render",value:function(){var t=this.state.width;return null===t?null:T.default.createElement(b.default,{target:"window",onResize:this.handleResize},T.default.createElement(e,(0,l.default)({width:t},this.props)))}}]),n}(v.Component)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LARGE=t.MEDIUM=t.SMALL=void 0;var i=a(8),l=n(i),r=a(4),s=n(r),u=a(2),d=n(u),c=a(3),f=n(c),p=a(6),h=n(p),m=a(5),y=n(m);t.default=o;var v=a(0),T=n(v),g=a(26),b=n(g),D=t.SMALL=1,S=t.MEDIUM=2,k=t.LARGE=3},214:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=a(306),i=n(o),l=a(305),r=n(l);t.default=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var l,s=(0,r.default)(e);!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},239:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={root:{directionInvariant:!0,display:"inline-block",position:"absolute",width:32,height:32,borderRadius:"100%",left:"calc(50% - 16px)",top:10,textAlign:"center",paddingTop:5,userSelect:"none",fontSize:"1.1em",pointerEvents:"none",boxSizing:"border-box"}},n=t.muiTheme,o=e.value;"hour"===e.type?o%=12:o/=5;var i=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],l=[[0,40],[36.9,49.9],[64,77],[74,114],[64,151],[37,178],[0,188],[-37,178],[-64,151],[-74,114],[-64,77],[-37,50]];e.isSelected&&(a.root.backgroundColor=n.timePicker.accentColor,a.root.color=n.timePicker.selectTextColor);var r=i[o];(0,D.isInner)(e)&&(a.root.width=28,a.root.height=28,a.root.left="calc(50% - 14px)",r=l[o]);var s=r,u=(0,y.default)(s,2),d=u[0],c=u[1];return a.root.transform="translate("+d+"px, "+c+"px)",a}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),l=n(i),r=a(2),s=n(r),u=a(3),d=n(u),c=a(6),f=n(c),p=a(5),h=n(p),m=a(214),y=n(m),v=a(0),T=n(v),g=a(1),b=n(g),D=a(92),S=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.context.muiTheme.prepareStyles,t=o(this.props,this.context),a=0===this.props.value?"00":this.props.value;return T.default.createElement("span",{style:e(t.root)},a)}}]),t}(v.Component);S.defaultProps={value:0,type:"minute",isSelected:!1},S.contextTypes={muiTheme:b.default.object.isRequired},S.propTypes={},t.default=S},240:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e%=t,360/t*e}function i(e,t,a){var n=e.hasSelected,i=e.type,l=e.value,r=a.inner,s=t.muiTheme.timePicker,u="hour"===i?o(l,12):o(l,60);return{root:{height:r?"30%":"40%",background:s.accentColor,width:2,left:"calc(50% - 1px)",position:"absolute",bottom:"50%",transformOrigin:"bottom",pointerEvents:"none",transform:"rotateZ("+u+"deg)"},mark:{boxSizing:"content-box",background:s.selectTextColor,border:"4px solid "+s.accentColor,display:n&&"none",width:7,height:7,position:"absolute",top:-5,left:-6,borderRadius:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),f=a(6),p=n(f),h=a(5),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(92),D=function(e){function t(){var e,a,n,o;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=(0,p.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.state={inner:!1},o=a,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.setState({inner:(0,b.isInner)(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({inner:(0,b.isInner)(e)})}},{key:"render",value:function(){if(null===this.props.value)return v.default.createElement("span",null);var e=i(this.props,this.context,this.state),t=this.context.muiTheme.prepareStyles;return v.default.createElement("div",{style:t(e.root)},v.default.createElement("div",{style:t(e.mark)}))}}]),t}(y.Component);D.defaultProps={hasSelected:!1,value:null,type:"minute"},D.contextTypes={muiTheme:g.default.object.isRequired},D.propTypes={},t.default=D},281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(408),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(436),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},304:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=a(0),l=n(i),r=a(15),s=n(r),u=a(34),d=n(u),c=a(60),f=n(c),p=a(41),h=n(p),m=(a(59),a(80)),y=(n(m),a(29)),v=(n(y),a(45)),T=(n(v),a(81)),g=n(T),b=a(115),D=n(b),S=a(101),k=n(S),M=a(281),x=(n(M),a(282)),_=n(x),E=a(36),C=n(E),w=a(79);n(w);(0,n(a(82)).default)();var O=document.querySelector("#token").innerHTML,P=l.default.createClass({displayName:"ShopReg",getInitialState:function(){return{msgSnackbarOpen:!1,snackbarMessage:"",myShop:{},myShopReady:!1,weekstart:new Date,weekfinish:new Date,weekendstart:new Date,weekendfinish:new Date,foodtypes:null,foodtype:0}},componentDidMount:function(){var e=this;console.log("token: "+O);var t=void 0;C.default.get("/api/v1/shopadm/myshop?token="+O).then(function(e){return console.log("response.data.shop: "+JSON.stringify(e.data.shop)),t=e.data.shop,C.default.get("/api/v1/foodtypes")}).then(function(a){console.log("response.data.foodTypes: "+JSON.stringify(a.data.foodTypes)),e.setState({myShop:t,myShopReady:!0,foodtypes:a.data.foodTypes})}).catch(function(t){console.error(t),e.openSnackbar("Error al cargar los datos del comercio")})},openSnackbar:function(e){console.log("Abriendo snack bar"),this.setState({msgSnackbarOpen:!0,snackbarMessage:e})},validateShop:function(){var e=this;this.state.foodtypes.find(function(t){return t.id==e.state.foodtype});C.default.post("/api/v1/shopadm/verify?token="+O).then(function(t){e.openSnackbar("exito")}).catch(function(e){return console.error(e)})},render:function(){var e,t=this;if(!this.state.foodtypes)return l.default.createElement("span",null,"Espere...");var a=[l.default.createElement(k.default,{value:0,primaryText:"Tipo de comida"})];return this.state.foodtypes.forEach(function(e){return a.push(l.default.createElement(k.default,{value:e.id,primaryText:e.foodtype}))}),l.default.createElement(d.default,null,l.default.createElement("div",{style:{paddingBottom:10,backgroundColor:"rgba(255,255,255,0.7)"}},l.default.createElement("div",{style:{margin:20}},l.default.createElement("h1",null,"Validacion de alta de comercio"),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos basicos"),l.default.createElement(h.default,{name:"Nombre",hint:"Nombre",floatingLabelText:"Nombre",value:this.state.myShop.name,disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Direccion",hint:"Direccion",floatingLabelText:"Direccion",value:this.state.myShop.address,disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Latitud",hint:"Latitud",floatingLabelText:"Latitud",value:this.state.myShop.lat,disabled:!0,style:{marginRight:10}}),l.default.createElement(h.default,{name:"Longitud",hint:"Longitud",floatingLabelText:"Longitud",value:this.state.myShop.long,disabled:!0}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Telefono",hint:"Telefono sin guion ni espacios",floatingLabelText:"Telefono",value:this.state.myShop.phone,disabled:!0}),l.default.createElement("br",null),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos del menu"),l.default.createElement(D.default,{value:this.state.foodtype,onChange:function(e,a,n){return t.setState({foodtype:n})},openImmediately:!1,style:{width:200,padding:0}},a)," ",l.default.createElement("br",null),l.default.createElement("h3",null,"Horario de dia de semana"),l.default.createElement(_.default,{format:"24hr",hintText:"Hora de apertura",onChange:function(e,a){return t.setState({weekstart:a})},autoOk:!0}),l.default.createElement(_.default,{format:"24hr",hintText:"Hora de cierre",onChange:function(e,a){return t.setState({weekfinish:a})},autoOk:!0}),l.default.createElement("br",null),l.default.createElement("h3",null,"Horario de fines de semana"),l.default.createElement(_.default,{format:"24hr",hintText:"Hora de apertura",onChange:function(e,a){return t.setState({weekendstart:a})},autoOk:!0}),l.default.createElement(_.default,{format:"24hr",hintText:"Hora de cierre",onChange:function(e,a){return t.setState({weekendfinish:a})},autoOk:!0}),l.default.createElement("hr",null),l.default.createElement("h2",null,"Credenciales del administrador"),l.default.createElement(h.default,{name:"Email",hint:"Email",floatingLabelText:"Email",value:this.state.adminEmail,onChange:function(e){return t.setState({adminEmail:e.target.value})}}),l.default.createElement("br",null),l.default.createElement(h.default,{name:"Password",hint:"Password",floatingLabelText:"Password",value:this.state.adminPassword,onChange:function(e){return t.setState({adminPassword:e.target.value})},type:"password"}),l.default.createElement("br",null),l.default.createElement(f.default,(e={style:{marginTop:20},label:"Todo bien",onClick:this.validateShop,secondary:!0},o(e,"style",{marginRight:10}),o(e,"disabled",!this.state.myShopReady),e)),l.default.createElement(f.default,{style:{marginTop:20},label:"Algo esta mal",disabled:!this.state.myShopReady})),l.default.createElement(g.default,{open:this.state.msgSnackbarOpen,message:this.state.snackbarMessage,autoHideDuration:3e3,onRequestClose:this.handleSnackbarRequestClose})))}});s.default.render(l.default.createElement(P,null),document.getElementById("root"))},305:function(e,t,a){e.exports={default:a(314),__esModule:!0}},306:function(e,t,a){e.exports={default:a(315),__esModule:!0}},314:function(e,t,a){a(133),a(105),e.exports=a(343)},315:function(e,t,a){a(133),a(105),e.exports=a(344)},343:function(e,t,a){var n=a(47),o=a(228);e.exports=a(23).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},344:function(e,t,a){var n=a(216),o=a(30)("iterator"),i=a(64);e.exports=a(23).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},402:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(117),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(26),D=n(b),S=a(25),k=n(S),M=a(12),x=n(M),_=a(403),E=n(_),C=a(404),w=n(C),O=a(406),P=n(O),R=a(405),W=n(R),F=a(407),Y=n(F),A=a(160),L=n(A),H=a(89),j=[].concat((0,m.default)(Array(7))),N=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={displayDate:void 0,displayMonthDay:void 0,selectedDate:void 0,transitionDirection:"left",transitionEnter:!0},n.handleTouchTapDay=function(e,t){n.setSelectedDate(t),n.props.onTouchTapDay&&n.props.onTouchTapDay(e,t)},n.handleMonthChange=function(e){var t=n.context.muiTheme.isRtl?"right":"left",a=n.context.muiTheme.isRtl?"left":"right",o=e>=0?t:a;n.setState({transitionDirection:o,displayDate:n.props.utils.addMonths(n.state.displayDate,e)})},n.handleTouchTapYear=function(e,t){n.setSelectedDate(n.props.utils.setYear(n.state.selectedDate,t),e),n.handleTouchTapDateDisplayMonthDay()},n.handleTouchTapDateDisplayMonthDay=function(){n.setState({displayMonthDay:!0})},n.handleTouchTapDateDisplayYear=function(){n.setState({displayMonthDay:!1})},n.handleWindowKeyDown=function(e){if(n.props.open){var t=n.context.muiTheme.isRtl?"left":"right",a=n.context.muiTheme.isRtl?"right":"left";switch((0,k.default)(e)){case"up":e.altKey&&e.shiftKey?n.addSelectedYears(-1):e.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-7);break;case"down":e.altKey&&e.shiftKey?n.addSelectedYears(1):e.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(7);break;case t:e.altKey&&e.shiftKey?n.addSelectedYears(1):e.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(1);break;case a:e.altKey&&e.shiftKey?n.addSelectedYears(-1):e.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-1)}}},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.setState({displayDate:this.props.utils.getFirstDayOfMonth(this.props.initialDate),selectedDate:this.props.initialDate,displayMonthDay:!this.props.openToYearSelection})}},{key:"componentWillReceiveProps",value:function(e){if(e.initialDate!==this.props.initialDate){var t=e.initialDate||new Date;this.setState({displayDate:this.props.utils.getFirstDayOfMonth(t),selectedDate:t})}}},{key:"getMinDate",value:function(){return this.props.minDate||this.props.utils.addYears(new Date,-100)}},{key:"getMaxDate",value:function(){return this.props.maxDate||this.props.utils.addYears(new Date,100)}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"isSelectedDateDisabled",value:function(){return!!this.state.displayMonthDay&&this.refs.calendar.isSelectedDateDisabled()}},{key:"addSelectedDays",value:function(e){this.setSelectedDate(this.props.utils.addDays(this.state.selectedDate,e))}},{key:"addSelectedMonths",value:function(e){this.setSelectedDate(this.props.utils.addMonths(this.state.selectedDate,e))}},{key:"addSelectedYears",value:function(e){this.setSelectedDate(this.props.utils.addYears(this.state.selectedDate,e))}},{key:"setDisplayDate",value:function(e,t){var a=this.props.utils.getFirstDayOfMonth(e);if(a!==this.state.displayDate){var n=this.context.muiTheme.isRtl?"right":"left",o=this.context.muiTheme.isRtl?"left":"right",i=a>this.state.displayDate?n:o;this.setState({displayDate:a,transitionDirection:i,selectedDate:t||this.state.selectedDate})}}},{key:"setSelectedDate",value:function(e){var t=e,a=this.getMinDate(),n=this.getMaxDate();(0,H.isBeforeDate)(e,a)?t=a:(0,H.isAfterDate)(e,n)&&(t=n);var o=this.props.utils.getFirstDayOfMonth(t);o!==this.state.displayDate?this.setDisplayDate(o,t):this.setState({selectedDate:t})}},{key:"getToolbarInteractions",value:function(){return{prevMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMinDate())>0,nextMonth:this.props.utils.monthDiff(this.state.displayDate,this.getMaxDate())<0}}},{key:"yearSelector",value:function(){if(!this.props.disableYearSelection)return v.default.createElement(P.default,{key:"years",DateTimeFormat:this.props.DateTimeFormat,locale:this.props.locale,onTouchTapYear:this.handleTouchTapYear,selectedDate:this.state.selectedDate,minDate:this.getMinDate(),maxDate:this.getMaxDate(),utils:this.props.utils})}},{key:"render",value:function(){var e=this.context.muiTheme.prepareStyles,t=this.props.hideCalendarDate,a=this.getToolbarInteractions(),n="landscape"===this.props.mode,o=this.context.muiTheme.datePicker.calendarTextColor,i={root:{color:o,userSelect:"none",width:!t&&n?479:310},calendar:{display:"flex",flexDirection:"column"},calendarContainer:{display:"flex",alignContent:"space-between",justifyContent:"space-between",flexDirection:"column",fontSize:12,fontWeight:400,padding:"0px 8px",transition:x.default.easeOut()},yearContainer:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:272,marginTop:10,overflow:"hidden",width:310},weekTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"500",height:20,lineHeight:"15px",opacity:"0.5",textAlign:"center"},weekTitleDay:{width:42},transitionSlide:{height:214}},l=e(i.weekTitleDay),r=this.props,s=r.cancelLabel,u=r.DateTimeFormat,d=r.firstDayOfWeek,c=r.locale,f=r.okLabel,p=r.onTouchTapCancel,h=r.onTouchTapOk,m=r.utils;return v.default.createElement("div",{style:e(i.root)},v.default.createElement(D.default,{target:"window",onKeyDown:this.handleWindowKeyDown}),!t&&v.default.createElement(Y.default,{DateTimeFormat:u,disableYearSelection:this.props.disableYearSelection,onTouchTapMonthDay:this.handleTouchTapDateDisplayMonthDay,onTouchTapYear:this.handleTouchTapDateDisplayYear,locale:c,monthDaySelected:this.state.displayMonthDay,mode:this.props.mode,selectedDate:this.state.selectedDate}),v.default.createElement("div",{style:e(i.calendar)},this.state.displayMonthDay&&v.default.createElement("div",{style:e(i.calendarContainer)},v.default.createElement(W.default,{DateTimeFormat:u,locale:c,displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:a.prevMonth,nextMonth:a.nextMonth}),v.default.createElement("div",{style:e(i.weekTitle)},j.map(function(e,t){return v.default.createElement("span",{key:t,style:l},(0,H.localizedWeekday)(u,c,t,d))})),v.default.createElement(L.default,{direction:this.state.transitionDirection,style:i.transitionSlide},v.default.createElement(w.default,{DateTimeFormat:u,locale:c,displayDate:this.state.displayDate,firstDayOfWeek:this.props.firstDayOfWeek,key:this.state.displayDate.toDateString(),minDate:this.getMinDate(),maxDate:this.getMaxDate(),onTouchTapDay:this.handleTouchTapDay,ref:"calendar",selectedDate:this.state.selectedDate,shouldDisableDate:this.props.shouldDisableDate,utils:m}))),!this.state.displayMonthDay&&v.default.createElement("div",{style:e(i.yearContainer)},this.yearSelector()),f&&v.default.createElement(E.default,{autoOk:this.props.autoOk,cancelLabel:s,okLabel:f,onTouchTapCancel:p,onTouchTapOk:h})))}}]),t}(y.Component);N.defaultProps={DateTimeFormat:H.dateTimeFormat,disableYearSelection:!1,initialDate:new Date,locale:"en-US",utils:H.defaultUtils},N.contextTypes={muiTheme:g.default.object.isRequired},N.propTypes={},t.default=N},403:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=(n(y),a(29)),T=n(v),g=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.cancelLabel,a=e.okLabel,n={root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:0,maxHeight:48,padding:0},flatButtons:{fontsize:14,margin:"4px 8px 8px 0px",maxHeight:36,minWidth:64,padding:0}};return m.default.createElement("div",{style:n.root},m.default.createElement(T.default,{label:t,onTouchTap:this.props.onTouchTapCancel,primary:!0,style:n.flatButtons}),!this.props.autoOk&&m.default.createElement(T.default,{disabled:void 0!==this.refs.calendar&&this.refs.calendar.isSelectedDateDisabled(),label:a,onTouchTap:this.props.onTouchTapOk,primary:!0,style:n.flatButtons}))}}]),t}(h.Component);g.propTypes={},t.default=g},404:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=(n(y),a(89)),T=a(410),g=n(T),b={root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",fontWeight:400,height:228,lineHeight:2,position:"relative",textAlign:"center",MozPaddingStart:0},week:{display:"flex",flexDirection:"row",justifyContent:"space-around",height:34,marginBottom:2}},D=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleTouchTapDay=function(e,t){n.props.onTouchTapDay&&n.props.onTouchTapDay(e,t)},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"isSelectedDateDisabled",value:function(){return this.selectedDateDisabled}},{key:"shouldDisableDate",value:function(e){if(null===e)return!1;var t=!(0,v.isBetweenDates)(e,this.props.minDate,this.props.maxDate);return!t&&this.props.shouldDisableDate&&(t=this.props.shouldDisableDate(e)),t}},{key:"getWeekElements",value:function(){var e=this;return this.props.utils.getWeekArray(this.props.displayDate,this.props.firstDayOfWeek).map(function(t,a){return m.default.createElement("div",{key:a,style:b.week},e.getDayElements(t,a))},this)}},{key:"getDayElements",value:function(e,t){var a=this,n=this.props,o=n.DateTimeFormat,i=n.locale,l=n.selectedDate;return e.map(function(e,n){var r=(0,v.isEqualDate)(l,e),s=a.shouldDisableDate(e),u=!s&&r;return r&&(a.selectedDateDisabled=s),m.default.createElement(g.default,{DateTimeFormat:o,locale:i,date:e,disabled:s,key:"db"+(t+n),onTouchTap:a.handleTouchTapDay,selected:u})},this)}},{key:"render",value:function(){return m.default.createElement("div",{style:b.root},this.getWeekElements())}}]),t}(h.Component);D.propTypes={},t.default=D},405:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=n(y),T=a(38),g=n(T),b=a(453),D=n(b),S=a(454),k=n(S),M=a(160),x=n(M),_={root:{display:"flex",justifyContent:"space-between",backgroundColor:"inherit",height:48},titleDiv:{fontSize:14,fontWeight:"500",textAlign:"center",width:"100%"},titleText:{height:"inherit",paddingTop:12}},E=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={transitionDirection:"up"},n.handleTouchTapPrevMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(-1)},n.handleTouchTapNextMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(1)},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.displayDate!==this.props.displayDate){var t=this.context.muiTheme.isRtl?"right":"left",a=this.context.muiTheme.isRtl?"left":"right",n=e.displayDate>this.props.displayDate?t:a;this.setState({transitionDirection:n})}}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.locale,n=e.displayDate,o=new t(a,{month:"long",year:"numeric"}).format(n),i=this.context.muiTheme.isRtl?m.default.createElement(D.default,null):m.default.createElement(k.default,null),l=this.context.muiTheme.isRtl?m.default.createElement(k.default,null):m.default.createElement(D.default,null);return m.default.createElement("div",{style:_.root},m.default.createElement(g.default,{disabled:!this.props.prevMonth,onTouchTap:this.handleTouchTapPrevMonth},l),m.default.createElement(x.default,{direction:this.state.transitionDirection,style:_.titleDiv},m.default.createElement("div",{key:o,style:_.titleText},o)),m.default.createElement(g.default,{disabled:!this.props.nextMonth,onTouchTap:this.handleTouchTapNextMonth},i))}}]),t}(h.Component);E.defaultProps={nextMonth:!0,prevMonth:!0},E.contextTypes={muiTheme:v.default.object.isRequired},E.propTypes={},t.default=E},406:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(4),r=n(l),s=a(2),u=n(s),d=a(3),c=n(d),f=a(6),p=n(f),h=a(5),m=n(h),y=a(0),v=n(y),T=a(1),g=n(T),b=a(15),D=n(b),S=a(411),k=n(S),M=function(e){function t(){var e,a,n,o;(0,u.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=(0,p.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),n.handleTouchTapYear=function(e,t){n.props.onTouchTapYear&&n.props.onTouchTapYear(e,t)},o=a,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.scrollToSelectedYear()}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedYear()}},{key:"getYears",value:function(){for(var e=this.props,t=e.DateTimeFormat,a=e.locale,n=e.minDate,o=e.maxDate,l=e.selectedDate,r=e.utils,s=r.getYear(n),u=r.getYear(o),d=[],c=s;c<=u;c++){var f=r.getYear(l)===c,p={};f&&(p.ref="selectedYearButton");var h=new t(a,{year:"numeric"}).format(r.setYear(l,c)),m=v.default.createElement(k.default,(0,i.default)({key:"yb"+c,onTouchTap:this.handleTouchTapYear,selected:f,year:c,utils:r},p),h);d.push(m)}return d}},{key:"scrollToSelectedYear",value:function(){if(void 0!==this.refs.selectedYearButton){var e=D.default.findDOMNode(this),t=D.default.findDOMNode(this.refs.selectedYearButton),a=e.clientHeight,n=t.clientHeight||32,o=t.offsetTop+n/2-a/2;e.scrollTop=o}}},{key:"render",value:function(){var e=this.context.muiTheme,t=e.prepareStyles,a=e.datePicker.calendarYearBackgroundColor,n={root:{backgroundColor:a,height:"inherit",lineHeight:"35px",overflowX:"hidden",overflowY:"scroll",position:"relative"},child:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}};return v.default.createElement("div",{style:t(n.root)},v.default.createElement("div",{style:t(n.child)},this.getYears()))}}]),t}(y.Component);M.contextTypes={muiTheme:g.default.object.isRequired},M.propTypes={},t.default=M},407:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=t.muiTheme.datePicker,o=a.selectedYear,i="landscape"===e.mode;return{root:{width:i?165:"100%",height:i?330:"auto",float:i?"left":"none",fontWeight:700,display:"inline-block",backgroundColor:n.headerColor,borderTopLeftRadius:2,borderTopRightRadius:i?0:2,borderBottomLeftRadius:i?2:0,color:n.textColor,padding:20,boxSizing:"border-box"},monthDay:{display:"block",fontSize:36,lineHeight:"36px",height:"landscape"===e.mode?"100%":38,opacity:o?.7:1,transition:M.default.easeOut(),width:"100%",fontWeight:"500"},monthDayTitle:{cursor:o?"pointer":"default",width:"100%",display:"block"},year:{margin:0,fontSize:16,fontWeight:"500",lineHeight:"16px",height:16,opacity:o?1:.7,transition:M.default.easeOut(),marginBottom:10},yearTitle:{cursor:e.disableYearSelection||o?"default":"pointer"}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(12),M=n(k),x=a(160),_=n(x),E=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={selectedYear:!1,transitionDirection:"up"},n.handleTouchTapMonthDay=function(){n.props.onTouchTapMonthDay&&n.state.selectedYear&&n.props.onTouchTapMonthDay(),n.setState({selectedYear:!1})},n.handleTouchTapYear=function(){!n.props.onTouchTapYear||n.props.disableYearSelection||n.state.selectedYear||n.props.onTouchTapYear(),n.props.disableYearSelection||n.setState({selectedYear:!0})},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"componentWillReceiveProps",value:function(e){if(e.selectedDate!==this.props.selectedDate){var t=e.selectedDate>this.props.selectedDate?"up":"down";this.setState({transitionDirection:t})}void 0!==e.monthDaySelected&&this.setState({selectedYear:!e.monthDaySelected})}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=(e.disableYearSelection,e.locale),n=(e.mode,e.monthDaySelected,e.onTouchTapMonthDay,e.onTouchTapYear,e.selectedDate),i=e.style,r=(0,s.default)(e,["DateTimeFormat","disableYearSelection","locale","mode","monthDaySelected","onTouchTapMonthDay","onTouchTapYear","selectedDate","style"]),u=this.context.muiTheme.prepareStyles,d=o(this.props,this.context,this.state),c=new t(a,{year:"numeric"}).format(n),f=new t(a,{month:"short",weekday:"short",day:"2-digit"}).format(n);return b.default.createElement("div",(0,l.default)({},r,{style:u(d.root,i)}),b.default.createElement(_.default,{style:d.year,direction:this.state.transitionDirection},b.default.createElement("div",{key:c,style:d.yearTitle,onTouchTap:this.handleTouchTapYear},c)),b.default.createElement(_.default,{style:d.monthDay,direction:this.state.transitionDirection},b.default.createElement("div",{key:f,onTouchTap:this.handleTouchTapMonthDay,style:d.monthDayTitle},f)))}}]),t}(g.Component);E.defaultProps={disableYearSelection:!1,monthDaySelected:!0},E.contextTypes={muiTheme:S.default.object.isRequired},E.propTypes={},t.default=E},408:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(89),x=a(409),_=n(x),E=a(41),C=n(E),w=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={date:void 0},n.handleAccept=function(e){n.isControlled()||n.setState({date:e}),n.props.onChange&&n.props.onChange(null,e)},n.handleFocus=function(e){e.target.blur(),n.props.onFocus&&n.props.onFocus(e)},n.handleTouchTap=function(e){n.props.onTouchTap&&n.props.onTouchTap(e),n.props.disabled||setTimeout(function(){n.openDialog()},0)},n.formatDate=function(e){if(n.props.locale){return new(n.props.DateTimeFormat||M.dateTimeFormat)(n.props.locale,{day:"numeric",month:"numeric",year:"numeric"}).format(e)}return(0,M.formatIso)(e)},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({date:this.isControlled()?this.getControlledDate():this.props.defaultDate})}},{key:"componentWillReceiveProps",value:function(e){if(this.isControlled()){var t=this.getControlledDate(e);(0,M.isEqualDate)(this.state.date,t)||this.setState({date:t})}}},{key:"getDate",value:function(){return this.state.date}},{key:"openDialog",value:function(){void 0!==this.state.date?this.setState({dialogDate:this.getDate()},this.refs.dialogWindow.show):this.setState({dialogDate:new Date},this.refs.dialogWindow.show)}},{key:"focus",value:function(){this.openDialog()}},{key:"isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"getControlledDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.value instanceof Date)return e.value}},{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.autoOk,n=e.cancelLabel,o=e.className,l=e.container,s=(e.defaultDate,e.dialogContainerStyle),u=e.disableYearSelection,d=e.firstDayOfWeek,c=e.formatDate,f=e.locale,p=e.maxDate,h=e.minDate,m=e.mode,y=e.okLabel,v=e.onDismiss,T=(e.onFocus,e.onShow),b=(e.onTouchTap,e.openToYearSelection),S=e.shouldDisableDate,k=e.hideCalendarDate,M=e.style,x=e.textFieldStyle,E=e.utils,w=(0,r.default)(e,["DateTimeFormat","autoOk","cancelLabel","className","container","defaultDate","dialogContainerStyle","disableYearSelection","firstDayOfWeek","formatDate","locale","maxDate","minDate","mode","okLabel","onDismiss","onFocus","onShow","onTouchTap","openToYearSelection","shouldDisableDate","hideCalendarDate","style","textFieldStyle","utils"]),O=this.context.muiTheme.prepareStyles,P=c||this.formatDate;return D.default.createElement("div",{className:o,style:O((0,g.default)({},M))},D.default.createElement(C.default,(0,i.default)({},w,{onFocus:this.handleFocus,onTouchTap:this.handleTouchTap,ref:"input",style:x,value:this.state.date?P(this.state.date):""})),D.default.createElement(_.default,{DateTimeFormat:t,autoOk:a,cancelLabel:n,container:l,containerStyle:s,disableYearSelection:u,firstDayOfWeek:d,initialDate:this.state.dialogDate,locale:f,maxDate:p,minDate:h,mode:m,okLabel:y,onAccept:this.handleAccept,onShow:T,onDismiss:v,ref:"dialogWindow",shouldDisableDate:S,hideCalendarDate:k,openToYearSelection:b,utils:E}))}}]),t}(b.Component);w.defaultProps={autoOk:!1,container:"dialog",disabled:!1,disableYearSelection:!1,firstDayOfWeek:1,hideCalendarDate:!1,style:{},openToYearSelection:!1},w.contextTypes={muiTheme:k.default.object.isRequired},w.propTypes={},t.default=w},409:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(26),x=n(M),_=a(25),E=n(_),C=a(402),w=n(C),O=a(45),P=n(O),R=a(67),W=n(R),F=a(107),Y=n(F),A=a(89),L=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.show=function(){n.props.onShow&&!n.state.open&&n.props.onShow(),n.setState({open:!0})},n.dismiss=function(){n.props.onDismiss&&n.state.open&&n.props.onDismiss(),n.setState({open:!1})},n.handleTouchTapDay=function(){n.props.autoOk&&setTimeout(n.handleTouchTapOk,300)},n.handleTouchTapCancel=function(){n.dismiss()},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapOk=function(){n.props.onAccept&&!n.refs.calendar.isSelectedDateDisabled()&&n.props.onAccept(n.refs.calendar.getSelectedDate()),n.setState({open:!1})},n.handleWindowKeyUp=function(e){switch((0,E.default)(e)){case"enter":n.handleTouchTapOk()}},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.autoOk,n=e.cancelLabel,o=e.container,l=e.containerStyle,s=e.disableYearSelection,u=e.initialDate,d=e.firstDayOfWeek,c=e.locale,f=e.maxDate,p=e.minDate,h=e.mode,m=e.okLabel,y=(e.onAccept,e.onDismiss,e.onShow,e.openToYearSelection),v=e.shouldDisableDate,T=e.hideCalendarDate,b=(e.style,e.animation),S=e.utils,k=(0,r.default)(e,["DateTimeFormat","autoOk","cancelLabel","container","containerStyle","disableYearSelection","initialDate","firstDayOfWeek","locale","maxDate","minDate","mode","okLabel","onAccept","onDismiss","onShow","openToYearSelection","shouldDisableDate","hideCalendarDate","style","animation","utils"]),M=this.state.open,_={dialogContent:{width:T||"landscape"!==h?310:479},dialogBodyContent:{padding:0,minHeight:T||"landscape"===h?330:434,minWidth:T||"landscape"!==h?310:479}},E="inline"===o?W.default:P.default;return D.default.createElement("div",(0,i.default)({},k,{ref:"root"}),D.default.createElement(E,{anchorEl:this.refs.root,animation:b||Y.default,bodyStyle:_.dialogBodyContent,contentStyle:_.dialogContent,ref:"dialog",repositionOnUpdate:!0,open:M,onRequestClose:this.handleRequestClose,style:(0,g.default)(_.dialogBodyContent,l)},D.default.createElement(x.default,{target:"window",onKeyUp:this.handleWindowKeyUp}),D.default.createElement(w.default,{autoOk:a,DateTimeFormat:t,cancelLabel:n,disableYearSelection:s,firstDayOfWeek:d,initialDate:u,locale:c,onTouchTapDay:this.handleTouchTapDay,maxDate:f,minDate:p,mode:h,open:M,ref:"calendar",onTouchTapCancel:this.handleTouchTapCancel,onTouchTapOk:this.handleTouchTapOk,okLabel:m,openToYearSelection:y,shouldDisableDate:v,hideCalendarDate:T,utils:S})))}}]),t}(b.Component);L.defaultProps={DateTimeFormat:A.dateTimeFormat,cancelLabel:"Cancel",container:"dialog",locale:"en-US",okLabel:"OK",openToYearSelection:!1},L.contextTypes={muiTheme:k.default.object.isRequired},L.propTypes={},t.default=L},410:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.date,o=e.disabled,i=e.selected,l=a.hover,r=t.muiTheme,s=r.baseTheme,u=r.datePicker,d=s.palette.textColor,c=0,f="scale(0)";return l||i?(d=u.selectTextColor,c=i?1:.6,f="scale(1)"):(0,x.isEqualDate)(n,new Date)&&(d=u.color),{root:{boxSizing:"border-box",fontWeight:"400",opacity:o&&"0.4",padding:"4px 0px",position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)",width:42},label:{color:d,fontWeight:"400",position:"relative"},buttonState:{backgroundColor:u.selectColor,borderRadius:"50%",height:34,left:4,opacity:c,position:"absolute",top:0,transform:f,transition:M.default.easeOut(),width:34}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(12),M=n(k),x=a(89),_=a(53),E=n(_),C=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.handleMouseEnter=function(){n.props.disabled||n.setState({hover:!0})},n.handleMouseLeave=function(){n.props.disabled||n.setState({hover:!1})},n.handleTouchTap=function(e){!n.props.disabled&&n.props.onTouchTap&&n.props.onTouchTap(e,n.props.date)},n.handleKeyboardFocus=function(e,t){!n.props.disabled&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(e,t,n.props.date)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.DateTimeFormat,a=e.date,n=e.disabled,i=e.locale,r=(e.onTouchTap,e.selected,(0,s.default)(e,["DateTimeFormat","date","disabled","locale","onTouchTap","selected"])),u=this.context.muiTheme.prepareStyles,d=o(this.props,this.context,this.state);return a?b.default.createElement(E.default,(0,l.default)({},r,{disabled:n,disableFocusRipple:!0,disableTouchRipple:!0,onKeyboardFocus:this.handleKeyboardFocus,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:d.root}),b.default.createElement("div",{style:u(d.buttonState)}),b.default.createElement("span",{style:u(d.label)},new t(i,{day:"numeric"}).format(a))):b.default.createElement("span",{style:u(d.root)})}}]),t}(g.Component);C.defaultProps={selected:!1,disabled:!1},C.contextTypes={muiTheme:S.default.object.isRequired},C.propTypes={},t.default=C},411:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=e.selected,o=e.year,i=e.utils,l=t.muiTheme,r=l.baseTheme,s=l.datePicker,u=a.hover;return{root:{boxSizing:"border-box",color:o===i.getYear(new Date)&&s.color,display:"block",fontSize:14,margin:"0 auto",position:"relative",textAlign:"center",lineHeight:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},label:{alignSelf:"center",color:u||n?s.color:r.palette.textColor,fontSize:n?26:17,fontWeight:u?450:n?500:400,position:"relative",top:-1}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(9),s=n(r),u=a(4),d=n(u),c=a(2),f=n(c),p=a(3),h=n(p),m=a(6),y=n(m),v=a(5),T=n(v),g=a(0),b=n(g),D=a(1),S=n(D),k=a(53),M=n(k),x=function(e){function t(){var e,a,n,o;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleTouchTap=function(e){n.props.onTouchTap&&n.props.onTouchTap(e,n.props.year)},o=a,(0,y.default)(n,o)}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=(e.className,e.onTouchTap,e.selected,e.year,e.utils,(0,s.default)(e,["children","className","onTouchTap","selected","year","utils"])),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context,this.state);return b.default.createElement(M.default,(0,l.default)({},a,{disableFocusRipple:!0,disableTouchRipple:!0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:i.root}),b.default.createElement("span",{style:n(i.label)},t))}}]),t}(g.Component);x.defaultProps={selected:!1},x.contextTypes={muiTheme:S.default.object.isRequired},x.propTypes={},t.default=x},432:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=n(y),T=a(435),g=n(T),b=a(433),D=n(b),S=a(434),k=n(S),M=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.state={selectedTime:null,mode:"hour"},n.setMode=function(e){setTimeout(function(){n.setState({mode:e})},100)},n.handleSelectAffix=function(e){if(e!==n.getAffix()){var t=n.state.selectedTime.getHours();if("am"===e)return void n.handleChangeHours(t-12,e);n.handleChangeHours(t+12,e)}},n.handleChangeHours=function(e,t){var a=new Date(n.state.selectedTime),o=void 0;"string"==typeof t&&(o=t,t=void 0),o||(o=n.getAffix()),"pm"===o&&e<12&&(e+=12),a.setHours(e),n.setState({selectedTime:a}),t&&setTimeout(function(){n.setState({mode:"minute"});var e=n.props.onChangeHours;e&&e(a)},100)},n.handleChangeMinutes=function(e,t){var a=new Date(n.state.selectedTime);a.setMinutes(e),n.setState({selectedTime:a});var o=n.props.onChangeMinutes;o&&t&&setTimeout(function(){o(a)},0)},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.initialTime||new Date,t=e.getMinutes();e.setMinutes(t-t%this.props.minutesStep),this.setState({selectedTime:e})}},{key:"getAffix",value:function(){return"ampm"!==this.props.format?"":this.state.selectedTime.getHours()<12?"am":"pm"}},{key:"getSelectedTime",value:function(){return this.state.selectedTime}},{key:"render",value:function(){var e=null,t=this.context.muiTheme,a=t.prepareStyles,n=t.timePicker,o={root:{userSelect:"none"},container:{height:280,padding:10,position:"relative",boxSizing:"content-box"},circle:{position:"absolute",top:20,width:260,height:260,borderRadius:"100%",backgroundColor:n.clockCircleColor}};return e="hour"===this.state.mode?m.default.createElement(D.default,{key:"hours",format:this.props.format,onChange:this.handleChangeHours,initialHours:this.state.selectedTime.getHours()}):m.default.createElement(k.default,{key:"minutes",onChange:this.handleChangeMinutes,initialMinutes:this.state.selectedTime.getMinutes(),step:this.props.minutesStep}),m.default.createElement("div",{style:a(o.root)},m.default.createElement(g.default,{selectedTime:this.state.selectedTime,mode:this.state.mode,format:this.props.format,affix:this.getAffix(),onSelectAffix:this.handleSelectAffix,onSelectHour:this.setMode.bind(this,"hour"),onSelectMin:this.setMode.bind(this,"minute")}),m.default.createElement("div",{style:a(o.container)},m.default.createElement("div",{style:a(o.circle)}),e))}}]),t}(h.Component);M.defaultProps={initialTime:new Date},M.contextTypes={muiTheme:v.default.object.isRequired},M.propTypes={},t.default=M},433:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=n(y),T=a(15),g=n(T),b=a(239),D=n(b),S=a(240),k=n(S),M=a(92),x=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleUp=function(e){e.preventDefault(),n.setClock(e.nativeEvent,!0)},n.handleMove=function(e){e.preventDefault(),1===n.isMousePressed(e)&&n.setClock(e.nativeEvent,!1)},n.handleTouchMove=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],!1)},n.handleTouchEnd=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],!0)},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=g.default.findDOMNode(this.refs.mask);this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var a=(0,M.getTouchEventOffsetValues)(e);e.offsetX=a.offsetX,e.offsetY=a.offsetY}var n=this.getHours(e.offsetX,e.offsetY);this.props.onChange(n,t)}},{key:"getHours",value:function(e,t){var a=e-this.center.x,n=t-this.center.y,o=this.basePoint.x-this.center.x,i=this.basePoint.y-this.center.y,l=Math.atan2(o,i)-Math.atan2(a,n),r=(0,M.rad2deg)(l);r=30*Math.round(r/30),r%=360;var s=Math.floor(r/30)||0,u=Math.pow(a,2)+Math.pow(n,2),d=Math.sqrt(u);return s=s||12,"24hr"===this.props.format?d<90&&(s+=12,s%=24):s%=12,s}},{key:"getSelected",value:function(){var e=this.props.initialHours;return"ampm"===this.props.format&&(e%=12,e=e||12),e}},{key:"getHourNumbers",value:function(){for(var e=this,t={pointerEvents:"none"},a="ampm"===this.props.format?12:24,n=[],o=1;o<=a;o++)n.push(o%24);return n.map(function(a){var n=e.getSelected()===a;return m.default.createElement(D.default,{key:a,style:t,isSelected:n,type:"hour",value:a})})}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,a=this.getSelected(),n=this.getHourNumbers();return m.default.createElement("div",{ref:"clock",style:t(e.root)},m.default.createElement(k.default,{hasSelected:!0,value:a,type:"hour"}),n,m.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(h.Component);x.defaultProps={initialHours:(new Date).getHours(),onChange:function(){},format:"ampm"},x.contextTypes={muiTheme:v.default.object.isRequired},x.propTypes={},t.default=x},434:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=n(o),l=a(2),r=n(l),s=a(3),u=n(s),d=a(6),c=n(d),f=a(5),p=n(f),h=a(0),m=n(h),y=a(1),v=n(y),T=a(239),g=n(T),b=a(240),D=n(b),S=a(92),k=function(e){function t(){var e,a,n,o;(0,r.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.handleUp=function(e){e.preventDefault(),n.setClock(e.nativeEvent,!0)},n.handleMove=function(e){e.preventDefault(),1===n.isMousePressed(e)&&n.setClock(e.nativeEvent,!1)},n.handleTouch=function(e){e.preventDefault(),n.setClock(e.changedTouches[0],"touchend"===e.type)},o=a,(0,c.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.mask;this.center={x:e.offsetWidth/2,y:e.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(e){return void 0===e.buttons?e.nativeEvent.which:e.buttons}},{key:"setClock",value:function(e,t){if(void 0===e.offsetX){var a=(0,S.getTouchEventOffsetValues)(e);e.offsetX=a.offsetX,e.offsetY=a.offsetY}var n=this.getMinutes(e.offsetX,e.offsetY);this.props.onChange(n,t)}},{key:"getMinutes",value:function(e,t){var a=6*this.props.step,n=e-this.center.x,o=t-this.center.y,i=this.basePoint.x-this.center.x,l=this.basePoint.y-this.center.y,r=Math.atan2(i,l)-Math.atan2(n,o),s=(0,S.rad2deg)(r);return s=Math.round(s/a)*a,s%=360,(Math.floor(s/a)||0)*this.props.step}},{key:"getMinuteNumbers",value:function(){for(var e=[],t=0;t<12;t++)e.push(5*t);var a=this.props.initialMinutes,n=!1;return{numbers:e.map(function(e){var t=a===e;return t&&(n=!0),m.default.createElement(g.default,{key:e,isSelected:t,type:"minute",value:e})}),hasSelected:n,selected:a}}},{key:"render",value:function(){var e={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},t=this.context.muiTheme.prepareStyles,a=this.getMinuteNumbers();return m.default.createElement("div",{ref:"clock",style:t(e.root)},m.default.createElement(D.default,{value:a.selected,type:"minute",hasSelected:a.hasSelected}),a.numbers,m.default.createElement("div",{ref:"mask",style:t(e.hitMask),onTouchMove:this.handleTouch,onTouchEnd:this.handleTouch,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),t}(h.Component);k.defaultProps={initialMinutes:(new Date).getMinutes(),onChange:function(){},step:1},k.contextTypes={muiTheme:v.default.object.isRequired},k.propTypes={},t.default=k},435:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(214),r=n(l),s=a(9),u=n(s),d=a(4),c=n(d),f=a(2),p=n(f),h=a(3),m=n(h),y=a(6),v=n(y),T=a(5),g=n(T),b=a(7),D=n(b),S=a(0),k=n(S),M=a(1),x=n(M),_=function(e){function t(){var e,a,n,o;(0,p.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(l))),n.state={transitionDirection:"up"},o=a,(0,v.default)(n,o)}return(0,g.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.selectedTime!==this.props.selectedTime){var t=e.selectedTime>this.props.selectedTime?"up":"down";this.setState({transitionDirection:t})}}},{key:"sanitizeTime",value:function(){var e=this.props.selectedTime.getHours(),t=this.props.selectedTime.getMinutes().toString();return"ampm"===this.props.format&&(e%=12,e=e||12),e=e.toString(),e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),[e,t]}},{key:"render",value:function(){var e=this.props,t=e.affix,a=e.format,n=e.mode,o=e.onSelectAffix,l=e.onSelectHour,s=e.onSelectMin,d=(e.selectedTime,(0,u.default)(e,["affix","format","mode","onSelectAffix","onSelectHour","onSelectMin","selectedTime"])),c=this.context.muiTheme,f=c.prepareStyles,p=c.timePicker,h={root:{padding:"14px 0",borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:p.headerColor,color:p.textColor},text:{margin:"6px 0",lineHeight:"58px",height:58,fontSize:58,display:"flex",justifyContent:"center",alignItems:"baseline"},time:{margin:"0 10px"},affix:{flex:1,position:"relative",lineHeight:"17px",height:17,fontSize:17},affixTop:{position:"absolute",top:-20,left:0},clickable:{cursor:"pointer"},inactive:{opacity:.7}},m=this.sanitizeTime(),y=(0,r.default)(m,2),v=y[0],T=y[1],g=[];return"ampm"===a&&(g=[k.default.createElement("div",{key:"pm",style:f((0,D.default)({},h.clickable,"pm"===t?{}:h.inactive)),onTouchTap:function(){return o("pm")}},"PM"),k.default.createElement("div",{key:"am",style:f((0,D.default)({},h.affixTop,h.clickable,"am"===t?{}:h.inactive)),onTouchTap:function(){return o("am")}},"AM")]),k.default.createElement("div",(0,i.default)({},d,{style:f(h.root)}),k.default.createElement("div",{style:f(h.text)},k.default.createElement("div",{style:f((0,D.default)({},h.affix))}),k.default.createElement("div",{style:f(h.time)},k.default.createElement("span",{style:f((0,D.default)({},h.clickable,"hour"===n?{}:h.inactive)),onTouchTap:l},v),k.default.createElement("span",null,":"),k.default.createElement("span",{style:f((0,D.default)({},h.clickable,"minute"===n?{}:h.inactive)),onTouchTap:s},T)),k.default.createElement("div",{style:f((0,D.default)({},h.affix))},g)))}}]),t}(S.Component);_.defaultProps={affix:"",mode:"hour"},_.contextTypes={muiTheme:x.default.object.isRequired},_.propTypes={},t.default=_},436:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(437),x=n(M),_=a(41),E=n(_),C=a(92),w=new Date;w.setHours(0),w.setMinutes(0),w.setSeconds(0),w.setMilliseconds(0);var O=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={time:null,dialogTime:new Date},n.handleAcceptDialog=function(e){n.setState({time:e}),n.props.onChange&&n.props.onChange(null,e)},n.handleFocusInput=function(e){e.target.blur(),n.props.onFocus&&n.props.onFocus(e)},n.handleTouchTapInput=function(e){e.preventDefault(),n.props.disabled||n.openDialog(),n.props.onTouchTap&&n.props.onTouchTap(e)},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({time:this.isControlled()?this.getControlledTime():this.props.defaultTime})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({time:this.getControlledTime(e)})}},{key:"focus",value:function(){this.openDialog()}},{key:"openDialog",value:function(){this.setState({dialogTime:this.state.time}),this.refs.dialogWindow.show()}},{key:"isControlled",value:function(){return null!==this.props.value}},{key:"getControlledTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=null;return e.value instanceof Date&&(t=e.value),t}},{key:"render",value:function(){var e=this.props,t=e.autoOk,a=e.cancelLabel,n=(e.defaultTime,e.dialogBodyStyle),o=e.dialogStyle,l=e.format,s=e.okLabel,u=(e.onFocus,e.onTouchTap,e.onShow),d=e.onDismiss,c=e.pedantic,f=e.style,p=e.textFieldStyle,h=e.minutesStep,m=(0,r.default)(e,["autoOk","cancelLabel","defaultTime","dialogBodyStyle","dialogStyle","format","okLabel","onFocus","onTouchTap","onShow","onDismiss","pedantic","style","textFieldStyle","minutesStep"]),y=this.context.muiTheme.prepareStyles,v=this.state.time;return D.default.createElement("div",{style:y((0,g.default)({},f))},D.default.createElement(E.default,(0,i.default)({},m,{style:p,ref:"input",value:v===w?null:(0,C.formatTime)(v,l,c),onFocus:this.handleFocusInput,onTouchTap:this.handleTouchTapInput})),D.default.createElement(x.default,{ref:"dialogWindow",bodyStyle:n,initialTime:this.state.dialogTime,onAccept:this.handleAcceptDialog,onShow:u,onDismiss:d,format:l,okLabel:s,cancelLabel:a,autoOk:t,style:o,minutesStep:h}))}}]),t}(b.Component);O.defaultProps={autoOk:!1,cancelLabel:"Cancel",defaultTime:null,disabled:!1,format:"ampm",okLabel:"OK",pedantic:!1,style:{},value:null,minutesStep:1},O.contextTypes={muiTheme:k.default.object.isRequired},O.propTypes={},t.default=O},437:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(26),x=n(M),_=a(25),E=n(_),C=a(432),w=n(C),O=a(45),P=n(O),R=a(29),W=n(R),F=function(e){function t(){var e,a,n,o;(0,c.default)(this,t);for(var i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapCancel=function(){n.dismiss()},n.handleTouchTapOK=function(){n.props.onAccept&&n.props.onAccept(n.refs.clock.getSelectedTime()),n.setState({open:!1})},n.handleKeyUp=function(e){switch((0,E.default)(e)){case"enter":n.handleTouchTapOK()}},o=a,(0,m.default)(n,o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"show",value:function(){this.props.onShow&&!this.state.open&&this.props.onShow(),this.setState({open:!0})}},{key:"dismiss",value:function(){this.props.onDismiss&&this.state.open&&this.props.onDismiss(),this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.bodyStyle,a=e.initialTime,n=(e.onAccept,e.format),o=e.autoOk,l=e.okLabel,s=e.cancelLabel,u=e.style,d=e.minutesStep,c=(0,r.default)(e,["bodyStyle","initialTime","onAccept","format","autoOk","okLabel","cancelLabel","style","minutesStep"]),f={root:{fontSize:14,color:this.context.muiTheme.timePicker.clockColor},dialogContent:{width:280},body:{padding:0}},p=[D.default.createElement(W.default,{key:0,label:s,primary:!0,onTouchTap:this.handleTouchTapCancel}),D.default.createElement(W.default,{key:1,label:l,primary:!0,onTouchTap:this.handleTouchTapOK})],h=!0===o?this.handleTouchTapOK:void 0,m=this.state.open;return D.default.createElement(P.default,(0,i.default)({},c,{style:(0,g.default)(f.root,u),bodyStyle:(0,g.default)(f.body,t),actions:p,contentStyle:f.dialogContent,repositionOnUpdate:!1,open:m,onRequestClose:this.handleRequestClose}),m&&D.default.createElement(x.default,{target:"window",onKeyUp:this.handleKeyUp}),m&&D.default.createElement(w.default,{ref:"clock",format:n,initialTime:a,onChangeMinutes:h,minutesStep:d}))}}]),t}(b.Component);F.defaultProps={okLabel:"OK",cancelLabel:"Cancel"},F.contextTypes={muiTheme:k.default.object.isRequired},F.propTypes={},t.default=F},442:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),i=n(o),l=a(9),r=n(l),s=a(4),u=n(s),d=a(2),c=n(d),f=a(3),p=n(f),h=a(6),m=n(h),y=a(5),v=n(y),T=a(7),g=n(T),b=a(0),D=n(b),S=a(1),k=n(S),M=a(15),x=n(M),_=a(68),E=n(_),C=a(12),w=n(C),O=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillEnter",value:function(e){var t=x.default.findDOMNode(this).style,a="left"===this.props.direction?"100%":"right"===this.props.direction?"-100%":"0",n="up"===this.props.direction?"100%":"down"===this.props.direction?"-100%":"0";t.opacity="0",E.default.set(t,"transform","translate("+a+", "+n+")"),this.enterTimer=setTimeout(e,this.props.enterDelay)}},{key:"componentDidEnter",value:function(){var e=x.default.findDOMNode(this).style;e.opacity="1",E.default.set(e,"transform","translate(0,0)")}},{key:"componentWillLeave",value:function(e){var t=x.default.findDOMNode(this).style,a=this.props.getLeaveDirection(),n="left"===a?"-100%":"right"===a?"100%":"0",o="up"===a?"-100%":"down"===a?"100%":"0";t.opacity="0",E.default.set(t,"transform","translate("+n+", "+o+")"),this.leaveTimer=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.children,a=(e.enterDelay,e.getLeaveDirection,e.style),n=(0,r.default)(e,["children","enterDelay","getLeaveDirection","style"]),o=this.context.muiTheme.prepareStyles,l=(0,g.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:w.default.easeOut(null,["transform","opacity"])},a);return D.default.createElement("div",(0,i.default)({},n,{style:o(l)}),t)}}]),t}(b.Component);O.defaultProps={enterDelay:0},O.contextTypes={muiTheme:k.default.object.isRequired},O.propTypes={},t.default=O},45:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(146),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},453:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))};d=(0,r.default)(d),d.displayName="NavigationChevronLeft",d.muiName="SvgIcon",t.default=d},454:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=n(o),l=a(20),r=n(l),s=a(19),u=n(s),d=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))};d=(0,r.default)(d),d.displayName="NavigationChevronRight",d.muiName="SvgIcon",t.default=d},80:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(145),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},81:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(152),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},89:function(e,t,a){"use strict";function n(e,t){this.format=function(e){return"short"===t.month&&"short"===t.weekday&&"2-digit"===t.day?x[e.getDay()]+", "+_[e.getMonth()]+" "+e.getDate():"numeric"===t.year&&"numeric"===t.month&&"numeric"===t.day?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():"numeric"===t.year&&"long"===t.month?E[e.getMonth()]+" "+e.getFullYear():"narrow"===t.weekday?M[e.getDay()]:"numeric"===t.year?e.getFullYear().toString():"numeric"===t.day?e.getDate():void 0}}function o(e){return e.getFullYear()}function i(e,t){var a=u(e);return a.setFullYear(t),a}function l(e,t){var a=u(e);return a.setDate(e.getDate()+t),a}function r(e,t){var a=u(e);return a.setMonth(e.getMonth()+t),a}function s(e,t){var a=u(e);return a.setFullYear(e.getFullYear()+t),a}function u(e){return new Date(e.getTime())}function d(e){var t=u(e);return t.setHours(0,0,0,0),t}function c(e){var t=f(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function f(e){return new Date(e.getFullYear(),e.getMonth(),1)}function p(){var e=new Date;return new Date(e.setDate(e.getDate()-e.getDay()))}function h(e,t){for(var a=[],n=c(e),o=[],i=[],l=1;l<=n;l++)a.push(new Date(e.getFullYear(),e.getMonth(),l));var r=function(e){for(var t=7-e.length,a=0;a<t;++a)e[o.length?"push":"unshift"](null);o.push(e)};return a.forEach(function(e){i.length>0&&e.getDay()===t&&(r(i),i=[]),i.push(e),a.indexOf(e)===a.length-1&&r(i)}),o}function m(e,t,a,n){var o=new e(t,{weekday:"narrow"}),i=p();return o.format(l(i,a+n))}function y(e){return new Date(e.toDateString()+" 12:00:00 +0000").toISOString().substring(0,10)}function v(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function T(e,t){var a=d(e),n=d(t);return a.getTime()<n.getTime()}function g(e,t){var a=d(e),n=d(t);return a.getTime()>n.getTime()}function b(e,t,a){return!T(e,t)&&!g(e,a)}function D(e,t){var a=void 0;return a=12*(e.getFullYear()-t.getFullYear()),a+=e.getMonth(),a-=t.getMonth()}function S(e,t){return~~(D(e,t)/12)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUtils=void 0,t.dateTimeFormat=n,t.getYear=o,t.setYear=i,t.addDays=l,t.addMonths=r,t.addYears=s,t.cloneDate=u,t.cloneAsDate=d,t.getDaysInMonth=c,t.getFirstDayOfMonth=f,t.getFirstDayOfWeek=p,t.getWeekArray=h,t.localizedWeekday=m,t.formatIso=y,t.isEqualDate=v,t.isBeforeDate=T,t.isAfterDate=g,t.isBetweenDates=b,t.monthDiff=D,t.yearDiff=S;var k=a(10),M=(function(e){e&&e.__esModule}(k),["S","M","T","W","T","F","S"]),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=["January","February","March","April","May","June","July","August","September","October","November","December"];t.defaultUtils={getYear:o,setYear:i,addDays:l,addMonths:r,addYears:s,getFirstDayOfMonth:f,getWeekArray:h,monthDiff:D}},92:function(e,t,a){"use strict";function n(e,t){var a=l(e);return a.setHours(e.getHours()+t),a}function o(e,t){var a=l(e);return a.setMinutes(e.getMinutes()+t),a}function i(e,t){var a=l(e);return a.setSeconds(e.getMinutes()+t),a}function l(e){return new Date(e.getTime())}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ampm",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"";var n=e.getHours(),o=e.getMinutes().toString();if("ampm"===t){var i=n<12;n%=12;var l=i?" am":" pm";return n=(n||12).toString(),o.length<2&&(o="0"+o),a&&"12"===n&&"00"===o?" pm"===l?"12 noon":"12 midnight":n+("00"===o?"":":"+o)+l}return n=n.toString(),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),n+":"+o}function s(e){return 57.29577951308232*e}function u(e){var t=e.target,a=t.getBoundingClientRect();return{offsetX:e.clientX-a.left,offsetY:e.clientY-a.top}}function d(e){return"hour"===e.type&&(e.value<1||e.value>12)}Object.defineProperty(t,"__esModule",{value:!0}),t.addHours=n,t.addMinutes=o,t.addSeconds=i,t.formatTime=r,t.rad2deg=s,t.getTouchEventOffsetValues=u,t.isInner=d}},[304]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2hvcHJlZy5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9Qb3BvdmVyL1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5qcz83OTQ4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRHJvcERvd25NZW51L2luZGV4LmpzP2NlNTEiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9DaGVja2JveC9DaGVja2JveC5qcz9hYjMzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGlhbG9nL0RpYWxvZy5qcz84OWE0Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRHJvcERvd25NZW51L0Ryb3BEb3duTWVudS5qcz83MjAyIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvU25hY2tiYXIuanM/NDIyMSIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL1NuYWNrYmFyQm9keS5qcz85YWM2Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvQmVmb3JlQWZ0ZXJXcmFwcGVyLmpzPzM0OTkiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9pbnRlcm5hbC9DbGVhckZpeC5qcz9kMjM4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvRW5oYW5jZWRTd2l0Y2guanM/NzhmOCIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL1NsaWRlSW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9hcnJvdy1kcm9wLWRvd24uanM/ZmFhNyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LW91dGxpbmUtYmxhbmsuanM/ZDU1NSIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LmpzPzg4MTciLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS91dGlscy93aXRoV2lkdGguanM/ZDUwOCIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9ja051bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tQb2ludGVyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9TaG9wUmVnLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9pcy1pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9DYWxlbmRhckFjdGlvbkJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyTW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyVG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXJZZWFyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXRlRGlzcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF0ZVBpY2tlckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF5QnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9ZZWFyQnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9jay5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tIb3Vycy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tNaW51dGVzLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9UaW1lRGlzcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvVGltZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvVGltZVBpY2tlckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL1NsaWRlSW5DaGlsZC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0RpYWxvZy9pbmRleC5qcz84N2M4Iiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL25hdmlnYXRpb24vY2hldnJvbi1sZWZ0LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL25hdmlnYXRpb24vY2hldnJvbi1yaWdodC5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L2luZGV4LmpzPzJiYTIiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9pbmRleC5qcz8xMzkxIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9UaW1lUGlja2VyL3RpbWVVdGlscy5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIxMDciLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldFN0eWxlcyIsInByb3BzIiwiY29udGV4dCIsInN0YXRlIiwidGFyZ2V0T3JpZ2luIiwib3BlbiIsIm11aVRoZW1lIiwiaG9yaXpvbnRhbCIsInJlcGxhY2UiLCJyb290IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJwb3BvdmVyIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU9yaWdpbiIsInZlcnRpY2FsIiwidHJhbnNpdGlvbiIsIl90cmFuc2l0aW9uczIiLCJlYXNlT3V0IiwibWF4SGVpZ2h0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfc2ltcGxlQXNzaWduIiwiX3NpbXBsZUFzc2lnbjIiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3Byb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwiX1BhcGVyIiwiX1BhcGVyMiIsIl90cmFuc2l0aW9ucyIsIl9wcm9wVHlwZXMzIiwiUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsIiwiX0NvbXBvbmVudCIsIl9yZWYiLCJfdGVtcCIsIl90aGlzIiwiX3JldCIsInRoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsIl9fcHJvdG9fXyIsImNhbGwiLCJhcHBseSIsImNvbmNhdCIsImtleSIsInNldFN0YXRlIiwibmV4dFByb3BzIiwiX3Byb3BzIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ6RGVwdGgiLCJzdHlsZXMiLCJjcmVhdGVFbGVtZW50IiwiY2hpbGRyZW4iLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJjb250ZXh0VHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwicHJvcFR5cGVzIiwiMTE1IiwiTWVudUl0ZW0iLCJEcm9wRG93bk1lbnUiLCJ1bmRlZmluZWQiLCJfRHJvcERvd25NZW51MiIsIl9Ecm9wRG93bk1lbnUzIiwiX01lbnVJdGVtMiIsIl9NZW51SXRlbTMiLCIxNDUiLCJjaGVja2JveCIsImljb24iLCJoZWlnaHQiLCJ3aWR0aCIsImNoZWNrIiwidHJhbnNpdGlvbk9yaWdpbiIsImZpbGwiLCJjaGVja2VkQ29sb3IiLCJjaGVja1doZW5Td2l0Y2hlZCIsImNoZWNrV2hlbkRpc2FibGVkIiwiZGlzYWJsZWRDb2xvciIsImJveCIsImJveENvbG9yIiwiYm94V2hlblN3aXRjaGVkIiwiYm94V2hlbkRpc2FibGVkIiwiY2hlY2tlZCIsImxhYmVsIiwiY29sb3IiLCJkaXNhYmxlZCIsImxhYmVsRGlzYWJsZWRDb2xvciIsImxhYmVsQ29sb3IiLCJfZXh0ZW5kczIiLCJfZXh0ZW5kczMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyIsIl9FbmhhbmNlZFN3aXRjaCIsIl9FbmhhbmNlZFN3aXRjaDIiLCJfY2hlY2tCb3hPdXRsaW5lQmxhbmsiLCJfY2hlY2tCb3hPdXRsaW5lQmxhbmsyIiwiX2NoZWNrQm94IiwiX2NoZWNrQm94MiIsIkNoZWNrYm94Iiwic3dpdGNoZWQiLCJoYW5kbGVTdGF0ZUNoYW5nZSIsIm5ld1N3aXRjaGVkIiwiaGFuZGxlQ2hlY2siLCJldmVudCIsImlzSW5wdXRDaGVja2VkIiwib25DaGVjayIsImRlZmF1bHRDaGVja2VkIiwidmFsdWVMaW5rIiwicmVmcyIsImVuaGFuY2VkU3dpdGNoIiwiaXNTd2l0Y2hlZCIsIm5ld0NoZWNrZWRWYWx1ZSIsInNldFN3aXRjaGVkIiwiX3Byb3BzMiIsImljb25TdHlsZSIsImNoZWNrZWRJY29uIiwidW5jaGVja2VkSWNvbiIsIm90aGVyIiwiYm94U3R5bGVzIiwiY2hlY2tTdHlsZXMiLCJjaGVja2VkRWxlbWVudCIsImNsb25lRWxlbWVudCIsInVuQ2hlY2tlZEVsZW1lbnQiLCJjaGVja2JveEVsZW1lbnQiLCJyaXBwbGVDb2xvciIsIm1lcmdlZEljb25TdHlsZSIsImxhYmVsU3R5bGUiLCJlbmhhbmNlZFN3aXRjaFByb3BzIiwicmVmIiwiaW5wdXRUeXBlIiwic3dpdGNoRWxlbWVudCIsIm9uU3dpdGNoIiwib25QYXJlbnRTaG91bGRVcGRhdGUiLCJsYWJlbFBvc2l0aW9uIiwiMTQ2IiwiYXV0b1Njcm9sbEJvZHlDb250ZW50IiwiX2NvbnRleHQkbXVpVGhlbWUiLCJfY29udGV4dCRtdWlUaGVtZSRiYXMiLCJiYXNlVGhlbWUiLCJzcGFjaW5nIiwicGFsZXR0ZSIsImRpYWxvZyIsImd1dHRlciIsImRlc2t0b3BHdXR0ZXIiLCJib3JkZXJTY3JvbGwiLCJib3JkZXJDb2xvciIsImJveFNpemluZyIsIldlYmtpdFRhcEhpZ2hsaWdodENvbG9yIiwidG9wIiwibGVmdCIsImNvbnRlbnQiLCJtYXhXaWR0aCIsImRlc2t0b3BLZXlsaW5lSW5jcmVtZW50IiwibWFyZ2luIiwiYWN0aW9uc0NvbnRhaW5lciIsInBhZGRpbmciLCJ0ZXh0QWxpZ24iLCJtYXJnaW5Ub3AiLCJvdmVybGF5IiwiZGlhbG9nT3ZlcmxheSIsInRpdGxlIiwidGV4dENvbG9yIiwiZm9udFNpemUiLCJ0aXRsZUZvbnRTaXplIiwibGluZUhlaWdodCIsImZvbnRXZWlnaHQiLCJtYXJnaW5Cb3R0b20iLCJib2R5IiwiYm9keUZvbnRTaXplIiwiYm9keUNvbG9yIiwib3ZlcmZsb3dZIiwiYm9yZGVyVG9wIiwiYm9yZGVyQm90dG9tIiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl9yZWFjdEV2ZW50TGlzdGVuZXIiLCJfcmVhY3RFdmVudExpc3RlbmVyMiIsIl9rZXljb2RlIiwiX2tleWNvZGUyIiwiX092ZXJsYXkiLCJfT3ZlcmxheTIiLCJfUmVuZGVyVG9MYXllciIsIl9SZW5kZXJUb0xheWVyMiIsIl9UcmFuc2l0aW9uR3JvdXAiLCJfVHJhbnNpdGlvbkdyb3VwMiIsIlRyYW5zaXRpb25JdGVtIiwiY2xlYXJUaW1lb3V0IiwiZW50ZXJUaW1lb3V0IiwibGVhdmVUaW1lb3V0IiwiY2FsbGJhY2siLCJjb21wb25lbnRXaWxsQXBwZWFyIiwic2V0VGltZW91dCIsInByZXBhcmVTdHlsZXMiLCJEaWFsb2dJbmxpbmUiLCJfQ29tcG9uZW50MiIsIl9yZWYyIiwiX3RlbXAyIiwiX3RoaXMyIiwiX3JldDIiLCJfbGVuMiIsIl9rZXkyIiwiaGFuZGxlVG91Y2hUYXBPdmVybGF5IiwicmVxdWVzdENsb3NlIiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVSZXNpemUiLCJwb3NpdGlvbkRpYWxvZyIsImFjdGlvbnMiLCJhdXRvRGV0ZWN0V2luZG93SGVpZ2h0IiwiYm9keVN0eWxlIiwicmVwb3NpdGlvbk9uVXBkYXRlIiwiY2xpZW50SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNvbnRhaW5lciIsImZpbmRET01Ob2RlIiwiZGlhbG9nV2luZG93IiwiZGlhbG9nQ29udGVudCIsImRpYWxvZ1dpbmRvd0hlaWdodCIsIm9mZnNldEhlaWdodCIsInBhZGRpbmdUb3AiLCJtYXhEaWFsb2dDb250ZW50SGVpZ2h0IiwicHJldmlvdXNTaWJsaW5nIiwiQ2hpbGRyZW4iLCJjb3VudCIsIm5leHRTaWJsaW5nIiwiYnV0dG9uQ2xpY2tlZCIsIm1vZGFsIiwib25SZXF1ZXN0Q2xvc2UiLCJfcHJvcHMzIiwiYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSIsImFjdGlvbnNDb250YWluZXJTdHlsZSIsImJvZHlDbGFzc05hbWUiLCJjb250ZW50Q2xhc3NOYW1lIiwiY29udGVudFN0eWxlIiwib3ZlcmxheUNsYXNzTmFtZSIsIm92ZXJsYXlTdHlsZSIsInBhcGVyQ2xhc3NOYW1lIiwicGFwZXJQcm9wcyIsInRpdGxlQ2xhc3NOYW1lIiwidGl0bGVTdHlsZSIsInRvQXJyYXkiLCJ0aXRsZUVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsInRhcmdldCIsIm9uS2V5VXAiLCJvblJlc2l6ZSIsImNvbXBvbmVudCIsInRyYW5zaXRpb25BcHBlYXIiLCJ0cmFuc2l0aW9uQXBwZWFyVGltZW91dCIsInRyYW5zaXRpb25FbnRlciIsInRyYW5zaXRpb25FbnRlclRpbWVvdXQiLCJzaG93Iiwib25Ub3VjaFRhcCIsIkRpYWxvZyIsIl9Db21wb25lbnQzIiwiX3JlZjMiLCJfdGVtcDMiLCJfdGhpczMiLCJfcmV0MyIsIl9sZW4zIiwiX2tleTMiLCJyZW5kZXJMYXllciIsInJlbmRlciIsInVzZUxheWVyRm9yQ2xpY2tBd2F5IiwiMTQ5IiwiYWNjZW50Q29sb3IiLCJkcm9wRG93bk1lbnUiLCJjb250cm9sIiwiY3Vyc29yIiwicmlnaHQiLCJkZXNrdG9wR3V0dGVyTGVzcyIsImljb25TaXplIiwiZGVza3RvcEd1dHRlck1pbmkiLCJpY29uQ2hpbGRyZW4iLCJkZXNrdG9wVG9vbGJhckhlaWdodCIsIm92ZXJmbG93IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJ0ZXh0T3ZlcmZsb3ciLCJ3aGl0ZVNwYWNlIiwibGFiZWxXaGVuT3BlbiIsImRpc3BsYXkiLCJkZXNrdG9wRHJvcERvd25NZW51Rm9udFNpemUiLCJkZXNrdG9wU3ViaGVhZGVySGVpZ2h0IiwiZm9udEZhbWlseSIsIm91dGxpbmUiLCJyb290V2hlbk9wZW4iLCJ1bmRlcmxpbmUiLCJib3R0b20iLCJfYXJyb3dEcm9wRG93biIsIl9hcnJvd0Ryb3BEb3duMiIsIl9NZW51IiwiX01lbnUyIiwiX0NsZWFyRml4IiwiX0NsZWFyRml4MiIsIl9Qb3BvdmVyIiwiX1BvcG92ZXIyIiwiX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCIsIl9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwyIiwiX2V2ZW50cyIsIl9ldmVudHMyIiwiX0ljb25CdXR0b24iLCJfSWNvbkJ1dHRvbjIiLCJyb290Tm9kZSIsImFycm93Tm9kZSIsImhhbmRsZVRvdWNoVGFwQ29udHJvbCIsInByZXZlbnREZWZhdWx0IiwiYW5jaG9yRWwiLCJoYW5kbGVSZXF1ZXN0Q2xvc2VNZW51IiwiY2xvc2UiLCJoYW5kbGVFc2NLZXlEb3duTWVudSIsImhhbmRsZUtleURvd24iLCJoYW5kbGVJdGVtVG91Y2hUYXAiLCJjaGlsZCIsImluZGV4IiwibXVsdGlwbGUiLCJwZXJzaXN0Iiwib25DaGFuZ2UiLCJpc0tleWJvYXJkIiwiaGFuZGxlQ2hhbmdlIiwib25DbG9zZSIsImRyb3BBcnJvdyIsImZvY3VzIiwic2V0S2V5Ym9hcmRGb2N1cyIsImF1dG9XaWR0aCIsInNldFdpZHRoIiwib3BlbkltbWVkaWF0ZWx5IiwiZWwiLCJoYXNPd25Qcm9wZXJ0eSIsIl90aGlzNCIsImFuaW1hdGVkIiwiYW5pbWF0aW9uIiwibGlzdFN0eWxlIiwibWVudVN0eWxlUHJvcCIsIm1lbnVTdHlsZSIsInNlbGVjdGlvblJlbmRlcmVyIiwibWVudUl0ZW1TdHlsZSIsInNlbGVjdGVkTWVudUl0ZW1TdHlsZSIsInVuZGVybGluZVN0eWxlIiwiaWNvbkJ1dHRvbiIsImFuY2hvck9yaWdpbiIsIl9zdGF0ZSIsImRpc3BsYXlWYWx1ZSIsInZhbHVlcyIsInNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4iLCJmb3JFYWNoIiwiaW5kZXhPZiIsInB1c2giLCJwcmltYXJ5VGV4dCIsImpvaW4iLCJjbGllbnRXaWR0aCIsIm5vZGUiLCJvbktleURvd24iLCJkZXNrdG9wIiwib25Fc2NLZXlEb3duIiwib25JdGVtVG91Y2hUYXAiLCJtdWlOYW1lIiwiMTUyIiwic25hY2tiYXIiLCJ2aXNpYmlsaXR5IiwiX0NsaWNrQXdheUxpc3RlbmVyIiwiX0NsaWNrQXdheUxpc3RlbmVyMiIsIl9TbmFja2JhckJvZHkiLCJfU25hY2tiYXJCb2R5MiIsIlNuYWNrYmFyIiwiY29tcG9uZW50Q2xpY2tBd2F5IiwidGltZXJUcmFuc2l0aW9uSWQiLCJtZXNzYWdlIiwiYWN0aW9uIiwic2V0QXV0b0hpZGVUaW1lciIsInNldFRyYW5zaXRpb25UaW1lciIsInRpbWVyT25lQXRUaGVUaW1lSWQiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJ0aW1lckF1dG9IaWRlSWQiLCJhdXRvSGlkZUR1cmF0aW9uIiwib25BY3Rpb25Ub3VjaFRhcCIsIm9uQ2xpY2tBd2F5IiwiMTUzIiwiX2NvbnRleHQkbXVpVGhlbWUkYmFzMiIsIl9jb250ZXh0JG11aVRoZW1lJHNuYSIsImJhY2tncm91bmRDb2xvciIsImFjdGlvbkNvbG9yIiwiYm9yZGVyUmFkaXVzIiwiaXNTbWFsbCIsIl93aXRoV2lkdGgiLCJTTUFMTCIsIm1pbldpZHRoIiwiZmxleEdyb3ciLCJmbG9hdCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luTGVmdCIsIlNuYWNrYmFyQm9keSIsIl93aXRoV2lkdGgyIiwiX0ZsYXRCdXR0b24iLCJfRmxhdEJ1dHRvbjIiLCJhY3Rpb25CdXR0b24iLCIxNTQiLCJCZWZvcmVBZnRlcldyYXBwZXIiLCJiZWZvcmVTdHlsZSIsImFmdGVyU3R5bGUiLCJiZWZvcmVFbGVtZW50VHlwZSIsImFmdGVyRWxlbWVudFR5cGUiLCJlbGVtZW50VHlwZSIsImJlZm9yZUVsZW1lbnQiLCJhZnRlckVsZW1lbnQiLCIxNTUiLCJfQmVmb3JlQWZ0ZXJXcmFwcGVyIiwiX0JlZm9yZUFmdGVyV3JhcHBlcjIiLCJiZWZvcmUiLCJhZnRlciIsImNsZWFyIiwiQ2xlYXJGaXgiLCIxNTciLCJpbnB1dCIsInBvaW50ZXJFdmVudHMiLCJjb250cm9scyIsIndyYXAiLCJmbGV4U2hyaW5rIiwicmlwcGxlIiwicHJpbWFyeTFDb2xvciIsIl9Gb2N1c1JpcHBsZSIsIl9Gb2N1c1JpcHBsZTIiLCJfVG91Y2hSaXBwbGUiLCJfVG91Y2hSaXBwbGUyIiwiX3dhcm5pbmciLCJFbmhhbmNlZFN3aXRjaCIsImlzS2V5Ym9hcmRGb2N1c2VkIiwidGFiUHJlc3NlZCIsImNvZGUiLCJoYW5kbGVNb3VzZURvd24iLCJidXR0b24iLCJ0b3VjaFJpcHBsZSIsInN0YXJ0IiwiaGFuZGxlTW91c2VVcCIsImVuZCIsImhhbmRsZU1vdXNlTGVhdmUiLCJoYW5kbGVUb3VjaFN0YXJ0IiwiaGFuZGxlVG91Y2hFbmQiLCJoYW5kbGVCbHVyIiwib25CbHVyIiwiaGFuZGxlRm9jdXMiLCJvbkZvY3VzIiwiaW5wdXROb2RlIiwiaGFzQ2hlY2tlZFByb3AiLCJoYXNOZXdEZWZhdWx0UHJvcCIsIm5ld1N3aXRjaGVkVmFsdWUiLCJuYW1lIiwiaW5wdXRTdHlsZSIsIm9uTW91c2VVcCIsIm9uTW91c2VEb3duIiwib25Nb3VzZUxlYXZlIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsImRpc2FibGVUb3VjaFJpcHBsZSIsImRpc2FibGVGb2N1c1JpcHBsZSIsInJpcHBsZVN0eWxlIiwidGh1bWJTdHlsZSIsInRyYWNrU3R5bGUiLCJ3cmFwU3R5bGVzIiwibWVyZ2VkUmlwcGxlU3R5bGUiLCJsYWJlbEVsZW1lbnQiLCJzaG93VG91Y2hSaXBwbGUiLCJzaG93Rm9jdXNSaXBwbGUiLCJjZW50ZXJSaXBwbGUiLCJmb2N1c1JpcHBsZSIsImlubmVyU3R5bGUiLCJyaXBwbGVzIiwiaW5wdXRFbGVtZW50IiwidHlwZSIsInN3aXRjaE9yVGh1bWJFbGVtZW50IiwiY2lyY2xlIiwiZWxlbWVudHNJbk9yZGVyIiwiMTYwIiwiX1NsaWRlSW5DaGlsZCIsIl9TbGlkZUluQ2hpbGQyIiwiU2xpZGVJbiIsImdldExlYXZlRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwiZW50ZXJEZWxheSIsImNoaWxkU3R5bGUiLCJtZXJnZWRSb290U3R5bGVzIiwibmV3Q2hpbGRyZW4iLCJtYXAiLCIxNjQiLCJfcHVyZSIsIl9wdXJlMiIsIl9TdmdJY29uIiwiX1N2Z0ljb24yIiwiTmF2aWdhdGlvbkFycm93RHJvcERvd24iLCJkIiwiZGlzcGxheU5hbWUiLCIxNjciLCJUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayIsIjE2OCIsIlRvZ2dsZUNoZWNrQm94IiwiMTY5Iiwid2l0aFdpZHRoIiwib3B0aW9ucyIsIl9vcHRpb25zJGxhcmdlV2lkdGgiLCJsYXJnZVdpZHRoIiwiX29wdGlvbnMkbWVkaXVtV2lkdGgiLCJtZWRpdW1XaWR0aCIsIl9vcHRpb25zJHJlc2l6ZUludGVydiIsInJlc2l6ZUludGVydmFsIiwiTXlDb21wb25lbnQiLCJXaXRoV2lkdGgiLCJkZWZlclRpbWVyIiwidXBkYXRlV2lkdGgiLCJpbm5lcldpZHRoIiwiTEFSR0UiLCJNRURJVU0iLCIyMTQiLCJfaXNJdGVyYWJsZTIiLCJfaXNJdGVyYWJsZTMiLCJfZ2V0SXRlcmF0b3IyIiwiX2dldEl0ZXJhdG9yMyIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJpIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwiZG9uZSIsImVyciIsImlzQXJyYXkiLCJUeXBlRXJyb3IiLCIyMzkiLCJkaXJlY3Rpb25JbnZhcmlhbnQiLCJ1c2VyU2VsZWN0IiwicG9zIiwicG9zaXRpb25zIiwiaW5uZXJQb3NpdGlvbnMiLCJpc1NlbGVjdGVkIiwidGltZVBpY2tlciIsInNlbGVjdFRleHRDb2xvciIsInRyYW5zZm9ybVBvcyIsIl90aW1lVXRpbHMiLCJpc0lubmVyIiwiX3RyYW5zZm9ybVBvcyIsIl90cmFuc2Zvcm1Qb3MyIiwiX3NsaWNlZFRvQXJyYXkzIiwieCIsInkiLCJfc2xpY2VkVG9BcnJheTIiLCJDbG9ja051bWJlciIsImNsb2NrTnVtYmVyIiwiMjQwIiwiY2FsY0FuZ2xlIiwiYmFzZSIsImhhc1NlbGVjdGVkIiwiaW5uZXIiLCJhbmdsZSIsImJhY2tncm91bmQiLCJtYXJrIiwiYm9yZGVyIiwiQ2xvY2tQb2ludGVyIiwiMjgxIiwiX0RhdGVQaWNrZXIiLCJfRGF0ZVBpY2tlcjIiLCIyODIiLCJfVGltZVBpY2tlciIsIl9UaW1lUGlja2VyMiIsIjMwNCIsIl9kZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9NdWlUaGVtZVByb3ZpZGVyIiwiX011aVRoZW1lUHJvdmlkZXIyIiwiX1JhaXNlZEJ1dHRvbiIsIl9SYWlzZWRCdXR0b24yIiwiX1RleHRGaWVsZCIsIl9UZXh0RmllbGQyIiwiX0NoZWNrYm94IiwiX0RpYWxvZyIsIl9TbmFja2JhciIsIl9TbmFja2JhcjIiLCJfRHJvcERvd25NZW51IiwiX01lbnVJdGVtIiwiX2F4aW9zIiwiX2F4aW9zMiIsIl9IZWFkZXIiLCJ0b2tlbiIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJTaG9wUmVnIiwiY3JlYXRlQ2xhc3MiLCJnZXRJbml0aWFsU3RhdGUiLCJtc2dTbmFja2Jhck9wZW4iLCJzbmFja2Jhck1lc3NhZ2UiLCJteVNob3AiLCJteVNob3BSZWFkeSIsIndlZWtzdGFydCIsIkRhdGUiLCJ3ZWVrZmluaXNoIiwid2Vla2VuZHN0YXJ0Iiwid2Vla2VuZGZpbmlzaCIsImZvb2R0eXBlcyIsImZvb2R0eXBlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzaG9wIiwiZm9vZFR5cGVzIiwiY2F0Y2giLCJjYXVzZSIsImVycm9yIiwib3BlblNuYWNrYmFyIiwibXNnIiwidmFsaWRhdGVTaG9wIiwiZmluZCIsImZ0IiwiaWQiLCJwb3N0IiwiX1JlYWN0JGNyZWF0ZUVsZW1lbnQiLCJmb29kdHlwZUl0ZW1zIiwicGFkZGluZ0JvdHRvbSIsImhpbnQiLCJmbG9hdGluZ0xhYmVsVGV4dCIsImFkZHJlc3MiLCJsYXQiLCJsb25nIiwicGhvbmUiLCJlIiwiZm9ybWF0IiwiaGludFRleHQiLCJhdXRvT2siLCJhZG1pbkVtYWlsIiwiYWRtaW5QYXNzd29yZCIsIm9uQ2xpY2siLCJzZWNvbmRhcnkiLCJoYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZSIsImdldEVsZW1lbnRCeUlkIiwiMzA1IiwiMzA2IiwiMzE0IiwiMzE1IiwiMzQzIiwiYW5PYmplY3QiLCJnZXRJdGVyYXRvciIsIml0IiwiaXRlckZuIiwiMzQ0IiwiY2xhc3NvZiIsIklURVJBVE9SIiwiSXRlcmF0b3JzIiwiaXNJdGVyYWJsZSIsIk8iLCI0MDIiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9DYWxlbmRhckFjdGlvbkJ1dHRvbnMiLCJfQ2FsZW5kYXJBY3Rpb25CdXR0b25zMiIsIl9DYWxlbmRhck1vbnRoIiwiX0NhbGVuZGFyTW9udGgyIiwiX0NhbGVuZGFyWWVhciIsIl9DYWxlbmRhclllYXIyIiwiX0NhbGVuZGFyVG9vbGJhciIsIl9DYWxlbmRhclRvb2xiYXIyIiwiX0RhdGVEaXNwbGF5IiwiX0RhdGVEaXNwbGF5MiIsIl9TbGlkZUluIiwiX1NsaWRlSW4yIiwiX2RhdGVVdGlscyIsImRheXNBcnJheSIsIkNhbGVuZGFyIiwiZGlzcGxheURhdGUiLCJkaXNwbGF5TW9udGhEYXkiLCJzZWxlY3RlZERhdGUiLCJ0cmFuc2l0aW9uRGlyZWN0aW9uIiwiaGFuZGxlVG91Y2hUYXBEYXkiLCJkYXRlIiwic2V0U2VsZWN0ZWREYXRlIiwib25Ub3VjaFRhcERheSIsImhhbmRsZU1vbnRoQ2hhbmdlIiwibW9udGhzIiwibmV4dERpcmVjdGlvbiIsImlzUnRsIiwicHJldkRpcmVjdGlvbiIsInV0aWxzIiwiYWRkTW9udGhzIiwiaGFuZGxlVG91Y2hUYXBZZWFyIiwieWVhciIsInNldFllYXIiLCJoYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkiLCJoYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5WWVhciIsImhhbmRsZVdpbmRvd0tleURvd24iLCJuZXh0QXJyb3ciLCJwcmV2QXJyb3ciLCJhbHRLZXkiLCJzaGlmdEtleSIsImFkZFNlbGVjdGVkWWVhcnMiLCJhZGRTZWxlY3RlZE1vbnRocyIsImFkZFNlbGVjdGVkRGF5cyIsImdldEZpcnN0RGF5T2ZNb250aCIsImluaXRpYWxEYXRlIiwib3BlblRvWWVhclNlbGVjdGlvbiIsIm1pbkRhdGUiLCJhZGRZZWFycyIsIm1heERhdGUiLCJjYWxlbmRhciIsImlzU2VsZWN0ZWREYXRlRGlzYWJsZWQiLCJkYXlzIiwiYWRkRGF5cyIsInllYXJzIiwibmV3U2VsZWN0ZWREYXRlIiwibmV3RGlzcGxheURhdGUiLCJhZGp1c3RlZERhdGUiLCJnZXRNaW5EYXRlIiwiZ2V0TWF4RGF0ZSIsImlzQmVmb3JlRGF0ZSIsImlzQWZ0ZXJEYXRlIiwic2V0RGlzcGxheURhdGUiLCJwcmV2TW9udGgiLCJtb250aERpZmYiLCJuZXh0TW9udGgiLCJkaXNhYmxlWWVhclNlbGVjdGlvbiIsIkRhdGVUaW1lRm9ybWF0IiwibG9jYWxlIiwib25Ub3VjaFRhcFllYXIiLCJoaWRlQ2FsZW5kYXJEYXRlIiwidG9vbGJhckludGVyYWN0aW9ucyIsImdldFRvb2xiYXJJbnRlcmFjdGlvbnMiLCJpc0xhbmRzY2FwZSIsIm1vZGUiLCJjYWxlbmRhclRleHRDb2xvciIsImRhdGVQaWNrZXIiLCJmbGV4RGlyZWN0aW9uIiwiY2FsZW5kYXJDb250YWluZXIiLCJhbGlnbkNvbnRlbnQiLCJqdXN0aWZ5Q29udGVudCIsInllYXJDb250YWluZXIiLCJ3ZWVrVGl0bGUiLCJ3ZWVrVGl0bGVEYXkiLCJ0cmFuc2l0aW9uU2xpZGUiLCJ3ZWVrVGl0bGVEYXlTdHlsZSIsImNhbmNlbExhYmVsIiwiZmlyc3REYXlPZldlZWsiLCJva0xhYmVsIiwib25Ub3VjaFRhcENhbmNlbCIsIm9uVG91Y2hUYXBPayIsIm9uVG91Y2hUYXBNb250aERheSIsIm1vbnRoRGF5U2VsZWN0ZWQiLCJvbk1vbnRoQ2hhbmdlIiwibG9jYWxpemVkV2Vla2RheSIsInRvRGF0ZVN0cmluZyIsInNob3VsZERpc2FibGVEYXRlIiwieWVhclNlbGVjdG9yIiwiZGF0ZVRpbWVGb3JtYXQiLCJkZWZhdWx0VXRpbHMiLCI0MDMiLCJDYWxlbmRhckFjdGlvbkJ1dHRvbiIsImZsYXRCdXR0b25zIiwiZm9udHNpemUiLCJwcmltYXJ5IiwiNDA0IiwiX0RheUJ1dHRvbiIsIl9EYXlCdXR0b24yIiwiTW96UGFkZGluZ1N0YXJ0Iiwid2VlayIsIkNhbGVuZGFyTW9udGgiLCJzZWxlY3RlZERhdGVEaXNhYmxlZCIsImRheSIsImlzQmV0d2VlbkRhdGVzIiwiZ2V0V2Vla0FycmF5IiwiZ2V0RGF5RWxlbWVudHMiLCJqIiwiaXNTYW1lRGF0ZSIsImlzRXF1YWxEYXRlIiwic2VsZWN0ZWQiLCJnZXRXZWVrRWxlbWVudHMiLCI0MDUiLCJfY2hldnJvbkxlZnQiLCJfY2hldnJvbkxlZnQyIiwiX2NoZXZyb25SaWdodCIsIl9jaGV2cm9uUmlnaHQyIiwidGl0bGVEaXYiLCJ0aXRsZVRleHQiLCJDYWxlbmRhclRvb2xiYXIiLCJoYW5kbGVUb3VjaFRhcFByZXZNb250aCIsImhhbmRsZVRvdWNoVGFwTmV4dE1vbnRoIiwiZGF0ZVRpbWVGb3JtYXR0ZWQiLCJtb250aCIsIm5leHRCdXR0b25JY29uIiwicHJldkJ1dHRvbkljb24iLCI0MDYiLCJfWWVhckJ1dHRvbiIsIl9ZZWFyQnV0dG9uMiIsIkNhbGVuZGFyWWVhciIsInNjcm9sbFRvU2VsZWN0ZWRZZWFyIiwibWluWWVhciIsImdldFllYXIiLCJtYXhZZWFyIiwic2VsZWN0ZWRQcm9wcyIsInllYXJGb3JtYXRlZCIsInllYXJCdXR0b24iLCJzZWxlY3RlZFllYXJCdXR0b24iLCJ5ZWFyQnV0dG9uTm9kZSIsImNvbnRhaW5lckhlaWdodCIsInllYXJCdXR0b25Ob2RlSGVpZ2h0Iiwic2Nyb2xsWU9mZnNldCIsIm9mZnNldFRvcCIsInNjcm9sbFRvcCIsImNhbGVuZGFyWWVhckJhY2tncm91bmRDb2xvciIsIm92ZXJmbG93WCIsIm1pbkhlaWdodCIsImdldFllYXJzIiwiNDA3Iiwic2VsZWN0ZWRZZWFyIiwiaGVhZGVyQ29sb3IiLCJib3JkZXJUb3BMZWZ0UmFkaXVzIiwiYm9yZGVyVG9wUmlnaHRSYWRpdXMiLCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzIiwibW9udGhEYXkiLCJtb250aERheVRpdGxlIiwieWVhclRpdGxlIiwiRGF0ZURpc3BsYXkiLCJoYW5kbGVUb3VjaFRhcE1vbnRoRGF5IiwiZGF0ZVRpbWUiLCJ3ZWVrZGF5IiwiNDA4IiwiX0RhdGVQaWNrZXJEaWFsb2ciLCJfRGF0ZVBpY2tlckRpYWxvZzIiLCJEYXRlUGlja2VyIiwiaGFuZGxlQWNjZXB0IiwiaXNDb250cm9sbGVkIiwiYmx1ciIsImhhbmRsZVRvdWNoVGFwIiwib3BlbkRpYWxvZyIsImZvcm1hdERhdGUiLCJmb3JtYXRJc28iLCJnZXRDb250cm9sbGVkRGF0ZSIsImRlZmF1bHREYXRlIiwibmV3RGF0ZSIsImRpYWxvZ0RhdGUiLCJnZXREYXRlIiwiZGlhbG9nQ29udGFpbmVyU3R5bGUiLCJmb3JtYXREYXRlUHJvcCIsIm9uRGlzbWlzcyIsIm9uU2hvdyIsInRleHRGaWVsZFN0eWxlIiwiY29udGFpbmVyU3R5bGUiLCJvbkFjY2VwdCIsIjQwOSIsIl9DYWxlbmRhciIsIl9DYWxlbmRhcjIiLCJfRGlhbG9nMiIsIkRhdGVQaWNrZXJEaWFsb2ciLCJkaXNtaXNzIiwiaGFuZGxlVG91Y2hUYXBPayIsImhhbmRsZVRvdWNoVGFwQ2FuY2VsIiwiaGFuZGxlUmVxdWVzdENsb3NlIiwiZ2V0U2VsZWN0ZWREYXRlIiwiaGFuZGxlV2luZG93S2V5VXAiLCJkaWFsb2dCb2R5Q29udGVudCIsIkNvbnRhaW5lciIsIjQxMCIsImhvdmVyIiwiYnV0dG9uU3RhdGVPcGFjaXR5IiwiYnV0dG9uU3RhdGVUcmFuc2Zvcm0iLCJidXR0b25TdGF0ZSIsInNlbGVjdENvbG9yIiwiX0VuaGFuY2VkQnV0dG9uIiwiX0VuaGFuY2VkQnV0dG9uMiIsIkRheUJ1dHRvbiIsImhhbmRsZU1vdXNlRW50ZXIiLCJoYW5kbGVLZXlib2FyZEZvY3VzIiwia2V5Ym9hcmRGb2N1c2VkIiwib25LZXlib2FyZEZvY3VzIiwib25Nb3VzZUVudGVyIiwiNDExIiwiYWxpZ25TZWxmIiwiWWVhckJ1dHRvbiIsIjQzMiIsIl9UaW1lRGlzcGxheSIsIl9UaW1lRGlzcGxheTIiLCJfQ2xvY2tIb3VycyIsIl9DbG9ja0hvdXJzMiIsIl9DbG9ja01pbnV0ZXMiLCJfQ2xvY2tNaW51dGVzMiIsIkNsb2NrIiwic2VsZWN0ZWRUaW1lIiwic2V0TW9kZSIsImhhbmRsZVNlbGVjdEFmZml4IiwiYWZmaXgiLCJnZXRBZmZpeCIsImhvdXJzIiwiZ2V0SG91cnMiLCJoYW5kbGVDaGFuZ2VIb3VycyIsImZpbmlzaGVkIiwidGltZSIsInNldEhvdXJzIiwib25DaGFuZ2VIb3VycyIsImhhbmRsZUNoYW5nZU1pbnV0ZXMiLCJtaW51dGVzIiwic2V0TWludXRlcyIsIm9uQ2hhbmdlTWludXRlcyIsImluaXRpYWxUaW1lIiwiZ2V0TWludXRlcyIsIm1pbnV0ZXNTdGVwIiwiY2xvY2siLCJjbG9ja0NpcmNsZUNvbG9yIiwiaW5pdGlhbEhvdXJzIiwiaW5pdGlhbE1pbnV0ZXMiLCJzdGVwIiwib25TZWxlY3RBZmZpeCIsIm9uU2VsZWN0SG91ciIsImJpbmQiLCJvblNlbGVjdE1pbiIsIjQzMyIsIl9DbG9ja051bWJlciIsIl9DbG9ja051bWJlcjIiLCJfQ2xvY2tQb2ludGVyIiwiX0Nsb2NrUG9pbnRlcjIiLCJDbG9ja0hvdXJzIiwiaGFuZGxlVXAiLCJzZXRDbG9jayIsIm5hdGl2ZUV2ZW50IiwiaGFuZGxlTW92ZSIsImlzTW91c2VQcmVzc2VkIiwiaGFuZGxlVG91Y2hNb3ZlIiwiY2hhbmdlZFRvdWNoZXMiLCJjbG9ja0VsZW1lbnQiLCJtYXNrIiwiY2VudGVyIiwib2Zmc2V0V2lkdGgiLCJiYXNlUG9pbnQiLCJidXR0b25zIiwid2hpY2giLCJmaW5pc2giLCJvZmZzZXRYIiwib2Zmc2V0IiwiZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcyIsIm9mZnNldFkiLCJjeCIsImN5IiwiYXRhbiIsIk1hdGgiLCJhdGFuMiIsImRlZyIsInJhZDJkZWciLCJyb3VuZCIsImZsb29yIiwiZGVsdGEiLCJwb3ciLCJkaXN0YW5jZSIsInNxcnQiLCJob3VyIiwiaG91clNpemUiLCJnZXRTZWxlY3RlZCIsImhpdE1hc2siLCJudW1iZXJzIiwiZ2V0SG91ck51bWJlcnMiLCJvblRvdWNoTW92ZSIsIm9uTW91c2VNb3ZlIiwiNDM0IiwiQ2xvY2tNaW51dGVzIiwiaGFuZGxlVG91Y2giLCJzZWxlY3RlZE1pbnV0ZXMiLCJtaW51dGUiLCJnZXRNaW51dGVOdW1iZXJzIiwiNDM1IiwiVGltZURpc3BsYXkiLCJtaW4iLCJ0b1N0cmluZyIsInRleHQiLCJhbGlnbkl0ZW1zIiwiZmxleCIsImFmZml4VG9wIiwiY2xpY2thYmxlIiwiaW5hY3RpdmUiLCJfc2FuaXRpemVUaW1lIiwic2FuaXRpemVUaW1lIiwiX3Nhbml0aXplVGltZTIiLCI0MzYiLCJfVGltZVBpY2tlckRpYWxvZyIsIl9UaW1lUGlja2VyRGlhbG9nMiIsImVtcHR5VGltZSIsInNldFNlY29uZHMiLCJzZXRNaWxsaXNlY29uZHMiLCJUaW1lUGlja2VyIiwiZGlhbG9nVGltZSIsImhhbmRsZUFjY2VwdERpYWxvZyIsImhhbmRsZUZvY3VzSW5wdXQiLCJoYW5kbGVUb3VjaFRhcElucHV0IiwiZ2V0Q29udHJvbGxlZFRpbWUiLCJkZWZhdWx0VGltZSIsInJlc3VsdCIsImRpYWxvZ0JvZHlTdHlsZSIsImRpYWxvZ1N0eWxlIiwicGVkYW50aWMiLCJmb3JtYXRUaW1lIiwiNDM3IiwiX0Nsb2NrIiwiX0Nsb2NrMiIsIlRpbWVQaWNrZXJEaWFsb2ciLCJoYW5kbGVUb3VjaFRhcE9LIiwiZ2V0U2VsZWN0ZWRUaW1lIiwiY2xvY2tDb2xvciIsIm9uQ2xvY2tDaGFuZ2VNaW51dGVzIiwiNDQyIiwiX2F1dG9QcmVmaXgiLCJfYXV0b1ByZWZpeDIiLCJTbGlkZUluQ2hpbGQiLCJlbnRlclRpbWVyIiwibGVhdmVUaW1lciIsInNldCIsIjQ1IiwiNDUzIiwiTmF2aWdhdGlvbkNoZXZyb25MZWZ0IiwiNDU0IiwiTmF2aWdhdGlvbkNoZXZyb25SaWdodCIsIjgwIiwiX0NoZWNrYm94MiIsIjgxIiwiODkiLCJkYXlMaXN0IiwiZ2V0RGF5IiwibW9udGhMaXN0IiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsIm1vbnRoTG9uZ0xpc3QiLCJkYXlBYmJyZXZpYXRpb24iLCJjbG9uZURhdGUiLCJzZXRGdWxsWWVhciIsInNldERhdGUiLCJzZXRNb250aCIsImdldFRpbWUiLCJjbG9uZUFzRGF0ZSIsImNsb25lZERhdGUiLCJnZXREYXlzSW5Nb250aCIsInJlc3VsdERhdGUiLCJnZXRGaXJzdERheU9mV2VlayIsIm5vdyIsImRheUFycmF5IiwiZGF5c0luTW9udGgiLCJ3ZWVrQXJyYXkiLCJhZGRXZWVrIiwiZW1wdHlEYXlzIiwid2Vla2RheUZvcm1hdHRlciIsImZpcnN0RGF5RGF0ZSIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwiZDEiLCJkMiIsImRhdGUxIiwiZGF0ZTIiLCJkYXRlVG9DaGVjayIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJtIiwieWVhckRpZmYiLCI5MiIsImFkZEhvdXJzIiwiY2xvbmUiLCJhZGRNaW51dGVzIiwiYWRkU2Vjb25kcyIsInNlY29uZHMiLCJtaW5zIiwiaXNBTSIsImFkZGl0aW9uYWwiLCJyYWQiLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwiY2xpZW50WSJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsSUFDQSxTQUFVQyxFQUFRQyxFQUFTQyxHQUVqQyxZQzZDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQUcsR0FBQUMsRUFB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Zy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzJdLHtcblxuLyoqKi8gMTA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX3Byb3BUeXBlczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIHRhcmdldE9yaWdpbiA9IHByb3BzLnRhcmdldE9yaWdpbjtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuICB2YXIgbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lO1xuXG4gIHZhciBob3Jpem9udGFsID0gdGFyZ2V0T3JpZ2luLmhvcml6b250YWwucmVwbGFjZSgnbWlkZGxlJywgJ3ZlcnRpY2FsJyk7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHpJbmRleDogbXVpVGhlbWUuekluZGV4LnBvcG92ZXIsXG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAnc2NhbGVZKDEpJyA6ICdzY2FsZVkoMCknLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiBob3Jpem9udGFsICsgJyAnICsgdGFyZ2V0T3JpZ2luLnZlcnRpY2FsLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQ1MG1zJywgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKSxcbiAgICAgIG1heEhlaWdodDogJzEwMCUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBuZXh0UHJvcHMub3BlblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB6RGVwdGggPSBfcHJvcHMuekRlcHRoO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0eWxlOiB7fSxcbiAgekRlcHRoOiAxXG59O1xuUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHRhcmdldE9yaWdpbjogX3Byb3BUeXBlczQuZGVmYXVsdC5vcmlnaW4uaXNSZXF1aXJlZCxcbiAgekRlcHRoOiBfcHJvcFR5cGVzNC5kZWZhdWx0LnpEZXB0aFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTE1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5NZW51SXRlbSA9IGV4cG9ydHMuRHJvcERvd25NZW51ID0gdW5kZWZpbmVkO1xuXG52YXIgX0Ryb3BEb3duTWVudTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cbnZhciBfRHJvcERvd25NZW51MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3BEb3duTWVudTIpO1xuXG52YXIgX01lbnVJdGVtMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTApO1xuXG52YXIgX01lbnVJdGVtMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuRHJvcERvd25NZW51ID0gX0Ryb3BEb3duTWVudTMuZGVmYXVsdDtcbmV4cG9ydHMuTWVudUl0ZW0gPSBfTWVudUl0ZW0zLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfRHJvcERvd25NZW51My5kZWZhdWx0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTQ1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRTd2l0Y2gpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG52YXIgX2NoZWNrQm94T3V0bGluZUJsYW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrQm94T3V0bGluZUJsYW5rKTtcblxudmFyIF9jaGVja0JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9jaGVja0JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2hlY2tib3ggPSBjb250ZXh0Lm11aVRoZW1lLmNoZWNrYm94O1xuXG4gIHZhciBjaGVja2JveFNpemUgPSAyNDtcblxuICByZXR1cm4ge1xuICAgIGljb246IHtcbiAgICAgIGhlaWdodDogY2hlY2tib3hTaXplLFxuICAgICAgd2lkdGg6IGNoZWNrYm94U2l6ZVxuICAgIH0sXG4gICAgY2hlY2s6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDApJyxcbiAgICAgIHRyYW5zaXRpb25PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0NTBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAndHJhbnNmb3JtJywgJzQ1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGNoZWNrV2hlblN3aXRjaGVkOiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc4MDBtcycsICd0cmFuc2Zvcm0nLCAnMG1zJylcbiAgICB9LFxuICAgIGNoZWNrV2hlbkRpc2FibGVkOiB7XG4gICAgICBmaWxsOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBib3g6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGZpbGw6IGNoZWNrYm94LmJveENvbG9yLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzEwMDBtcycsICdvcGFjaXR5JywgJzIwMG1zJylcbiAgICB9LFxuICAgIGJveFdoZW5Td2l0Y2hlZDoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc2NTBtcycsICdvcGFjaXR5JywgJzE1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGJveFdoZW5EaXNhYmxlZDoge1xuICAgICAgZmlsbDogcHJvcHMuY2hlY2tlZCA/ICd0cmFuc3BhcmVudCcgOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgY29sb3I6IHByb3BzLmRpc2FibGVkID8gY2hlY2tib3gubGFiZWxEaXNhYmxlZENvbG9yIDogY2hlY2tib3gubGFiZWxDb2xvclxuICAgIH1cbiAgfTtcbn1cblxudmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2hlY2tib3gsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENoZWNrYm94KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENoZWNrYm94KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENoZWNrYm94Ll9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDaGVja2JveCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3dpdGNoZWQ6IGZhbHNlXG4gICAgfSwgX3RoaXMuaGFuZGxlU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3U3dpdGNoZWQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3dpdGNoZWQ6IG5ld1N3aXRjaGVkXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGVjayA9IGZ1bmN0aW9uIChldmVudCwgaXNJbnB1dENoZWNrZWQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoZWNrKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2hlY2soZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2hlY2tib3gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gX3Byb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgIHZhbHVlTGluayA9IF9wcm9wcy52YWx1ZUxpbms7XG5cblxuICAgICAgaWYgKGNoZWNrZWQgfHwgZGVmYXVsdENoZWNrZWQgfHwgdmFsdWVMaW5rICYmIHZhbHVlTGluay52YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoZWNrZWQgIT09IG5leHRQcm9wcy5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NoZWNrZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoZWNrZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmVuaGFuY2VkU3dpdGNoLmlzU3dpdGNoZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDaGVja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hlY2tlZChuZXdDaGVja2VkVmFsdWUpIHtcbiAgICAgIHRoaXMucmVmcy5lbmhhbmNlZFN3aXRjaC5zZXRTd2l0Y2hlZChuZXdDaGVja2VkVmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMyLmljb25TdHlsZSxcbiAgICAgICAgICBvbkNoZWNrID0gX3Byb3BzMi5vbkNoZWNrLFxuICAgICAgICAgIGNoZWNrZWRJY29uID0gX3Byb3BzMi5jaGVja2VkSWNvbixcbiAgICAgICAgICB1bmNoZWNrZWRJY29uID0gX3Byb3BzMi51bmNoZWNrZWRJY29uLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzMiwgWydpY29uU3R5bGUnLCAnb25DaGVjaycsICdjaGVja2VkSWNvbicsICd1bmNoZWNrZWRJY29uJ10pO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgYm94U3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5ib3gsIHRoaXMuc3RhdGUuc3dpdGNoZWQgJiYgc3R5bGVzLmJveFdoZW5Td2l0Y2hlZCwgaWNvblN0eWxlLCB0aGlzLnByb3BzLmRpc2FibGVkICYmIHN0eWxlcy5ib3hXaGVuRGlzYWJsZWQpO1xuICAgICAgdmFyIGNoZWNrU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jaGVjaywgdGhpcy5zdGF0ZS5zd2l0Y2hlZCAmJiBzdHlsZXMuY2hlY2tXaGVuU3dpdGNoZWQsIGljb25TdHlsZSwgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBzdHlsZXMuY2hlY2tXaGVuRGlzYWJsZWQpO1xuXG4gICAgICB2YXIgY2hlY2tlZEVsZW1lbnQgPSBjaGVja2VkSWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShjaGVja1N0eWxlcywgY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveDIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogY2hlY2tTdHlsZXNcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdW5DaGVja2VkRWxlbWVudCA9IHVuY2hlY2tlZEljb24gPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KHVuY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShib3hTdHlsZXMsIHVuY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveE91dGxpbmVCbGFuazIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogYm94U3R5bGVzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNoZWNrYm94RWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdW5DaGVja2VkRWxlbWVudCxcbiAgICAgICAgY2hlY2tlZEVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIHZhciByaXBwbGVDb2xvciA9IHRoaXMuc3RhdGUuc3dpdGNoZWQgPyBjaGVja1N0eWxlcy5maWxsIDogYm94U3R5bGVzLmZpbGw7XG4gICAgICB2YXIgbWVyZ2VkSWNvblN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uU3R5bGUpO1xuXG4gICAgICB2YXIgbGFiZWxTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIHRoaXMucHJvcHMubGFiZWxTdHlsZSk7XG5cbiAgICAgIHZhciBlbmhhbmNlZFN3aXRjaFByb3BzID0ge1xuICAgICAgICByZWY6ICdlbmhhbmNlZFN3aXRjaCcsXG4gICAgICAgIGlucHV0VHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgc3dpdGNoZWQ6IHRoaXMuc3RhdGUuc3dpdGNoZWQsXG4gICAgICAgIHN3aXRjaEVsZW1lbnQ6IGNoZWNrYm94RWxlbWVudCxcbiAgICAgICAgcmlwcGxlQ29sb3I6IHJpcHBsZUNvbG9yLFxuICAgICAgICBpY29uU3R5bGU6IG1lcmdlZEljb25TdHlsZSxcbiAgICAgICAgb25Td2l0Y2g6IHRoaXMuaGFuZGxlQ2hlY2ssXG4gICAgICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXG4gICAgICAgIG9uUGFyZW50U2hvdWxkVXBkYXRlOiB0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlLFxuICAgICAgICBsYWJlbFBvc2l0aW9uOiB0aGlzLnByb3BzLmxhYmVsUG9zaXRpb25cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRW5oYW5jZWRTd2l0Y2gyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCBlbmhhbmNlZFN3aXRjaFByb3BzKSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaGVja2JveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgbGFiZWxQb3NpdGlvbjogJ3JpZ2h0JyxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuQ2hlY2tib3guY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNoZWNrYm94LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIENoZWNrYm94IGlzIGNoZWNrZWQgaWYgdHJ1ZS5cbiAgICovXG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIGNoZWNrZWQgc3RhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBpY29uIHRvZ2dsZXMuXG4gICAqL1xuICBjaGVja2VkSWNvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3RhdGUgb2Ygb3VyIGNoZWNrYm94IGNvbXBvbmVudC5cbiAgICogKipXYXJuaW5nOioqIFRoaXMgY2Fubm90IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgY2hlY2tlZGAuXG4gICAqIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy5cbiAgICogTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50c1xuICAgKi9cbiAgZGVmYXVsdENoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIERpc2FibGVkIGlmIHRydWUuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBXaGVyZSB0aGUgbGFiZWwgd2lsbCBiZSBwbGFjZWQgbmV4dCB0byB0aGUgY2hlY2tib3guXG4gICAqL1xuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgQ2hlY2tib3ggZWxlbWVudCBsYWJlbC5cbiAgICovXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgYGNoYW5nZWAgZXZlbnQgdGFyZ2V0aW5nIHRoZSB1bmRlcmx5aW5nIGNoZWNrYm94IGBpbnB1dGAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNJbnB1dENoZWNrZWQgVGhlIGBjaGVja2VkYCB2YWx1ZSBvZiB0aGUgdW5kZXJseWluZyBjaGVja2JveCBgaW5wdXRgLlxuICAgKi9cbiAgb25DaGVjazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIHVuY2hlY2tlZCBzdGF0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGljb24gdG9nZ2xlcy5cbiAgICovXG4gIHVuY2hlY2tlZEljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCxcbiAgLyoqXG4gICAqIFZhbHVlTGluayBmb3Igd2hlbiB1c2luZyBjb250cm9sbGVkIGNoZWNrYm94LlxuICAgKi9cbiAgdmFsdWVMaW5rOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2hlY2tib3g7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9PdmVybGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXG52YXIgX092ZXJsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3ZlcmxheSk7XG5cbnZhciBfUmVuZGVyVG9MYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblxudmFyIF9SZW5kZXJUb0xheWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRvTGF5ZXIpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2l0aW9uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVHJhbnNpdGlvbkl0ZW0gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkl0ZW0oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVHJhbnNpdGlvbkl0ZW0pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVHJhbnNpdGlvbkl0ZW0uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdHlsZToge31cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0sIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVudGVyVGltZW91dCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sZWF2ZVRpbWVvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihjYWxsYmFjaykge1xuICAgICAgdGhpcy5jb21wb25lbnRXaWxsQXBwZWFyKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsQXBwZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEFwcGVhcihjYWxsYmFjaykge1xuICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsICcgKyBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICsgJ3B4KSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZW50ZXJUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbExlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbExlYXZlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGVhdmVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnc3R5bGUnLCAnY2hpbGRyZW4nXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgdGhpcy5zdGF0ZS5zdHlsZSwgc3R5bGUpKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUcmFuc2l0aW9uSXRlbTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25JdGVtLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UcmFuc2l0aW9uSXRlbS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuXG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gcHJvcHMuYXV0b1Njcm9sbEJvZHlDb250ZW50LFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW47XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBzcGFjaW5nID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnNwYWNpbmcsXG4gICAgICBwYWxldHRlID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnBhbGV0dGUsXG4gICAgICBkaWFsb2cgPSBfY29udGV4dCRtdWlUaGVtZS5kaWFsb2csXG4gICAgICB6SW5kZXggPSBfY29udGV4dCRtdWlUaGVtZS56SW5kZXg7XG5cblxuICB2YXIgZ3V0dGVyID0gc3BhY2luZy5kZXNrdG9wR3V0dGVyO1xuICB2YXIgYm9yZGVyU2Nyb2xsID0gJzFweCBzb2xpZCAnICsgcGFsZXR0ZS5ib3JkZXJDb2xvcjtcblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogb3BlbiA/IDAgOiAtMTAwMDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB0cmFuc2l0aW9uOiBvcGVuID8gX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzBtcycpIDogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzQ1MG1zJylcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnNzUlJyxcbiAgICAgIG1heFdpZHRoOiBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICogMTIsXG4gICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nXG4gICAgfSxcbiAgICBhY3Rpb25zQ29udGFpbmVyOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpblRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICB6SW5kZXg6IHpJbmRleC5kaWFsb2dPdmVybGF5XG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcGFkZGluZzogZ3V0dGVyICsgJ3B4ICcgKyBndXR0ZXIgKyAncHggMjBweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGNvbG9yOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBkaWFsb2cudGl0bGVGb250U2l6ZSxcbiAgICAgIGxpbmVIZWlnaHQ6ICczMnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICAgIG1hcmdpbkJvdHRvbTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBmb250U2l6ZTogZGlhbG9nLmJvZHlGb250U2l6ZSxcbiAgICAgIGNvbG9yOiBkaWFsb2cuYm9keUNvbG9yLFxuICAgICAgcGFkZGluZzogKHByb3BzLnRpdGxlID8gMCA6IGd1dHRlcikgKyAncHggJyArIGd1dHRlciArICdweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgb3ZlcmZsb3dZOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyAnYXV0bycgOiAnaGlkZGVuJyxcbiAgICAgIGJvcmRlclRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gYm9yZGVyU2Nyb2xsIDogJ25vbmUnLFxuICAgICAgYm9yZGVyQm90dG9tOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyBib3JkZXJTY3JvbGwgOiAnbm9uZSdcbiAgICB9XG4gIH07XG59XG5cbnZhciBEaWFsb2dJbmxpbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nSW5saW5lLCBfQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gRGlhbG9nSW5saW5lKCkge1xuICAgIHZhciBfcmVmMjtcblxuICAgIHZhciBfdGVtcDIsIF90aGlzMiwgX3JldDI7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2dJbmxpbmUpO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDIgPSAoX3RlbXAyID0gKF90aGlzMiA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYyID0gRGlhbG9nSW5saW5lLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2dJbmxpbmUpKS5jYWxsLmFwcGx5KF9yZWYyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMiksIF90aGlzMi5oYW5kbGVUb3VjaFRhcE92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucmVxdWVzdENsb3NlKGZhbHNlKTtcbiAgICB9LCBfdGhpczIuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSA9PT0gJ2VzYycpIHtcbiAgICAgICAgX3RoaXMyLnJlcXVlc3RDbG9zZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMyLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH0sIF90ZW1wMiksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMyLCBfcmV0Mik7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaWFsb2dJbmxpbmUsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucG9zaXRpb25EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9zaXRpb25EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbkRpYWxvZygpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3Rpb25zID0gX3Byb3BzMi5hY3Rpb25zLFxuICAgICAgICAgIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQgPSBfcHJvcHMyLmF1dG9EZXRlY3RXaW5kb3dIZWlnaHQsXG4gICAgICAgICAgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gX3Byb3BzMi5hdXRvU2Nyb2xsQm9keUNvbnRlbnQsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzMi5ib2R5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczIub3BlbixcbiAgICAgICAgICByZXBvc2l0aW9uT25VcGRhdGUgPSBfcHJvcHMyLnJlcG9zaXRpb25PblVwZGF0ZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wczIudGl0bGU7XG5cblxuICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciBkaWFsb2dXaW5kb3cgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZ1dpbmRvdyk7XG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZGlhbG9nQ29udGVudCk7XG4gICAgICB2YXIgbWluUGFkZGluZ1RvcCA9IDE2O1xuXG4gICAgICAvLyBSZXNldCB0aGUgaGVpZ2h0IGluIGNhc2UgdGhlIHdpbmRvdyB3YXMgcmVzaXplZC5cbiAgICAgIGRpYWxvZ1dpbmRvdy5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cbiAgICAgIHZhciBkaWFsb2dXaW5kb3dIZWlnaHQgPSBkaWFsb2dXaW5kb3cub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIHBhZGRpbmdUb3AgPSAoY2xpZW50SGVpZ2h0IC0gZGlhbG9nV2luZG93SGVpZ2h0KSAvIDIgLSA2NDtcbiAgICAgIGlmIChwYWRkaW5nVG9wIDwgbWluUGFkZGluZ1RvcCkgcGFkZGluZ1RvcCA9IG1pblBhZGRpbmdUb3A7XG5cbiAgICAgIC8vIFZlcnRpY2FsbHkgY2VudGVyIHRoZSBkaWFsb2cgd2luZG93LCBidXQgbWFrZSBzdXJlIGl0IGRvZXNuJ3RcbiAgICAgIC8vIHRyYW5zaXRpb24gdG8gdGhhdCBwb3NpdGlvbi5cbiAgICAgIGlmIChyZXBvc2l0aW9uT25VcGRhdGUgfHwgIWNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wKSB7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvcmNlIGEgaGVpZ2h0IGlmIHRoZSBkaWFsb2cgaXMgdGFsbGVyIHRoYW4gY2xpZW50SGVpZ2h0XG4gICAgICBpZiAoYXV0b0RldGVjdFdpbmRvd0hlaWdodCB8fCBhdXRvU2Nyb2xsQm9keUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgICAgdmFyIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgPSBjbGllbnRIZWlnaHQgLSAyICogNjQ7XG5cbiAgICAgICAgaWYgKHRpdGxlKSBtYXhEaWFsb2dDb250ZW50SGVpZ2h0IC09IGRpYWxvZ0NvbnRlbnQucHJldmlvdXNTaWJsaW5nLm9mZnNldEhlaWdodDtcblxuICAgICAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGFjdGlvbnMpKSB7XG4gICAgICAgICAgbWF4RGlhbG9nQ29udGVudEhlaWdodCAtPSBkaWFsb2dDb250ZW50Lm5leHRTaWJsaW5nLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gbWF4RGlhbG9nQ29udGVudEhlaWdodCArICdweCc7XG4gICAgICAgIGlmIChtYXhEaWFsb2dDb250ZW50SGVpZ2h0ID4gZGlhbG9nV2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJCb3R0b20gPSAnbm9uZSc7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJUb3AgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXF1ZXN0Q2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0Q2xvc2UoYnV0dG9uQ2xpY2tlZCkge1xuICAgICAgaWYgKCFidXR0b25DbGlja2VkICYmIHRoaXMucHJvcHMubW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCEhYnV0dG9uQ2xpY2tlZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdGlvbnMgPSBfcHJvcHMzLmFjdGlvbnMsXG4gICAgICAgICAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSA9IF9wcm9wczMuYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyU3R5bGUgPSBfcHJvcHMzLmFjdGlvbnNDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBib2R5Q2xhc3NOYW1lID0gX3Byb3BzMy5ib2R5Q2xhc3NOYW1lLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wczMuYm9keVN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjb250ZW50Q2xhc3NOYW1lID0gX3Byb3BzMy5jb250ZW50Q2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wczMuY29udGVudFN0eWxlLFxuICAgICAgICAgIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMzLm92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3Byb3BzMy5vdmVybGF5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczMub3BlbixcbiAgICAgICAgICBwYXBlckNsYXNzTmFtZSA9IF9wcm9wczMucGFwZXJDbGFzc05hbWUsXG4gICAgICAgICAgcGFwZXJQcm9wcyA9IF9wcm9wczMucGFwZXJQcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczMuc3R5bGUsXG4gICAgICAgICAgdGl0bGVDbGFzc05hbWUgPSBfcHJvcHMzLnRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHRpdGxlU3R5bGUgPSBfcHJvcHMzLnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMzLnRpdGxlO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICBzdHlsZXMucm9vdCA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgc3R5bGVzLmNvbnRlbnQgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZSk7XG4gICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgIHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyLCBhY3Rpb25zQ29udGFpbmVyU3R5bGUpO1xuICAgICAgc3R5bGVzLm92ZXJsYXkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLm92ZXJsYXksIG92ZXJsYXlTdHlsZSk7XG4gICAgICBzdHlsZXMudGl0bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRpdGxlLCB0aXRsZVN0eWxlKTtcblxuICAgICAgdmFyIGFjdGlvbnNDb250YWluZXIgPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoYWN0aW9ucykgPiAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGFjdGlvbnNDb250YWluZXJDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShhY3Rpb25zKVxuICAgICAgKTtcblxuICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IHRpdGxlO1xuICAgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudCh0aXRsZSkpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudCh0aXRsZSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGUucHJvcHMuY2xhc3NOYW1lIHx8IHRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlLnByb3BzLnN0eWxlKSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2gzJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogdGl0bGVDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50aXRsZSkgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgdGFyZ2V0OiAnd2luZG93JyxcbiAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLFxuICAgICAgICAgIG9uUmVzaXplOiB0aGlzLmhhbmRsZVJlc2l6ZVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1RyYW5zaXRpb25Hcm91cDIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICAgICAgcmVmOiAnZGlhbG9nV2luZG93JyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyVGltZW91dDogNDUwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNDUwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgVHJhbnNpdGlvbkl0ZW0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy5jb250ZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGNsYXNzTmFtZTogcGFwZXJDbGFzc05hbWUsIHpEZXB0aDogNCB9LCBwYXBlclByb3BzKSxcbiAgICAgICAgICAgICAgdGl0bGVFbGVtZW50LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZWY6ICdkaWFsb2dDb250ZW50JyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYm9keUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5ib2R5KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgYWN0aW9uc0NvbnRhaW5lclxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX092ZXJsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBzaG93OiBvcGVuLFxuICAgICAgICAgIGNsYXNzTmFtZTogb3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLm92ZXJsYXksXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE92ZXJsYXlcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2dJbmxpbmU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2dJbmxpbmUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZ0lubGluZS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGFjdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGlvbnNDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGJvZHlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBjb250ZW50Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvdmVybGF5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBwYXBlckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHBhcGVyUHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICByZXBvc2l0aW9uT25VcGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0aXRsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICB0aXRsZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5cbnZhciBEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDMpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nLCBfQ29tcG9uZW50Myk7XG5cbiAgZnVuY3Rpb24gRGlhbG9nKCkge1xuICAgIHZhciBfcmVmMztcblxuICAgIHZhciBfdGVtcDMsIF90aGlzMywgX3JldDM7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDMgPSAoX3RlbXAzID0gKF90aGlzMyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYzID0gRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2cpKS5jYWxsLmFwcGx5KF9yZWYzLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMyksIF90aGlzMy5yZW5kZXJMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChEaWFsb2dJbmxpbmUsIF90aGlzMy5wcm9wcyk7XG4gICAgfSwgX3RlbXAzKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpczMsIF9yZXQzKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpYWxvZywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JlbmRlclRvTGF5ZXIyLmRlZmF1bHQsIHsgcmVuZGVyOiB0aGlzLnJlbmRlckxheWVyLCBvcGVuOiB0cnVlLCB1c2VMYXllckZvckNsaWNrQXdheTogZmFsc2UgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2cuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IHRydWUsXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogZmFsc2UsXG4gIG1vZGFsOiBmYWxzZSxcbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiB0cnVlXG59O1xuRGlhbG9nLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIEFjdGlvbiBidXR0b25zIHRvIGRpc3BsYXkgYmVsb3cgdGhlIERpYWxvZyBjb250ZW50IChgY2hpbGRyZW5gKS5cbiAgICogVGhpcyBwcm9wZXJ0eSBhY2NlcHRzIGVpdGhlciBhIFJlYWN0IGVsZW1lbnQsIG9yIGFuIGFycmF5IG9mIFJlYWN0IGVsZW1lbnRzLlxuICAgKi9cbiAgYWN0aW9uczogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBoZWlnaHQgb2YgdGhlIGBEaWFsb2dgIHdpbGwgYmUgYXV0byBkZXRlY3RlZC4gQSBtYXggaGVpZ2h0XG4gICAqIHdpbGwgYmUgZW5mb3JjZWQgc28gdGhhdCB0aGUgY29udGVudCBkb2VzIG5vdCBleHRlbmQgYmV5b25kIHRoZSB2aWV3cG9ydC5cbiAgICovXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgYm9keSBjb250ZW50IG9mIHRoZSBgRGlhbG9nYCB3aWxsIGJlIHNjcm9sbGFibGUuXG4gICAqL1xuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIEZvcmNlIHRoZSB1c2VyIHRvIHVzZSBvbmUgb2YgdGhlIGFjdGlvbnMgaW4gdGhlIGBEaWFsb2dgLlxuICAgKiBDbGlja2luZyBvdXRzaWRlIHRoZSBgRGlhbG9nYCB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBgb25SZXF1ZXN0Q2xvc2VgLlxuICAgKi9cbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGBEaWFsb2dgIGlzIHJlcXVlc3RlZCB0byBiZSBjbG9zZWQgYnkgYSBjbGljayBvdXRzaWRlIHRoZSBgRGlhbG9nYCBvciBvbiB0aGUgYnV0dG9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sfSBidXR0b25DbGlja2VkIERldGVybWluZXMgd2hldGhlciBhIGJ1dHRvbiBjbGljayB0cmlnZ2VyZWQgdGhpcyByZXF1ZXN0LlxuICAgKi9cbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIERpYWxvZyBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgQ1NTIGNsYXNzIG5hbWUgb2YgdGhlIGBQYXBlcmAgZWxlbWVudC5cbiAgICovXG4gIHBhcGVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBlbGVtZW50LlxuICAgKi9cbiAgcGFwZXJQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBEaWFsb2dgIHNob3VsZCBiZSByZXBvc2l0aW9uZWQgd2hlbiBpdCdzIGNvbnRlbnRzIGFyZSB1cGRhdGVkLlxuICAgKi9cbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHRpdGxlIHRvIGRpc3BsYXkgb24gdGhlIGBEaWFsb2dgLiBDb3VsZCBiZSBudW1iZXIsIHN0cmluZywgZWxlbWVudCBvciBhbiBhcnJheSBjb250YWluaW5nIHRoZXNlIHR5cGVzLlxuICAgKi9cbiAgdGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIHRpdGxlJ3Mgcm9vdCBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIHRpdGxlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdGl0bGUncyByb290IGNvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgdGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERpYWxvZztcblxuLyoqKi8gfSksXG5cbi8qKiovIDE0OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2Fycm93RHJvcERvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cbnZhciBfYXJyb3dEcm9wRG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJvd0Ryb3BEb3duKTtcblxudmFyIF9NZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cbnZhciBfTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51KTtcblxudmFyIF9DbGVhckZpeCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblxudmFyIF9DbGVhckZpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGVhckZpeCk7XG5cbnZhciBfUG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX2V2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG52YXIgX2V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudHMpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcblxuICB2YXIgc3BhY2luZyA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG4gIHZhciBwYWxldHRlID0gY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWUucGFsZXR0ZTtcbiAgdmFyIGFjY2VudENvbG9yID0gY29udGV4dC5tdWlUaGVtZS5kcm9wRG93bk1lbnUuYWNjZW50Q29sb3I7XG4gIHJldHVybiB7XG4gICAgY29udHJvbDoge1xuICAgICAgY3Vyc29yOiBkaXNhYmxlZCA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgZmlsbDogYWNjZW50Q29sb3IsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHJpZ2h0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzLFxuICAgICAgdG9wOiAoc3BhY2luZy5pY29uU2l6ZSAtIDI0KSAvIDIgKyBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJNaW5pIC8gMlxuICAgIH0sXG4gICAgaWNvbkNoaWxkcmVuOiB7XG4gICAgICBmaWxsOiAnaW5oZXJpdCdcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjb2xvcjogZGlzYWJsZWQgPyBwYWxldHRlLmRpc2FibGVkQ29sb3IgOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGhlaWdodDogc3BhY2luZy5kZXNrdG9wVG9vbGJhckhlaWdodCArICdweCcsXG4gICAgICBsaW5lSGVpZ2h0OiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0ICsgJ3B4JyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcuaWNvblNpemUgKiAyICsgc3BhY2luZy5kZXNrdG9wR3V0dGVyTWluaSxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgfSxcbiAgICBsYWJlbFdoZW5PcGVuOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdG9wOiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0IC8gOFxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBmb250U2l6ZTogc3BhY2luZy5kZXNrdG9wRHJvcERvd25NZW51Rm9udFNpemUsXG4gICAgICBoZWlnaHQ6IHNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGZvbnRGYW1pbHk6IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLmZvbnRGYW1pbHksXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KClcbiAgICB9LFxuICAgIHJvb3RXaGVuT3Blbjoge1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICBib3JkZXJUb3A6ICdzb2xpZCAxcHggJyArIGFjY2VudENvbG9yLFxuICAgICAgYm90dG9tOiAxLFxuICAgICAgbGVmdDogMCxcbiAgICAgIG1hcmdpbjogJy0xcHggJyArIHNwYWNpbmcuZGVza3RvcEd1dHRlciArICdweCcsXG4gICAgICByaWdodDogMCxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgRHJvcERvd25NZW51ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRHJvcERvd25NZW51LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wRG93bk1lbnUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRHJvcERvd25NZW51KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IERyb3BEb3duTWVudS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRHJvcERvd25NZW51KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLnJvb3ROb2RlID0gdW5kZWZpbmVkLCBfdGhpcy5hcnJvd05vZGUgPSB1bmRlZmluZWQsIF90aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46ICFfdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgICAgIGFuY2hvckVsOiBfdGhpcy5yb290Tm9kZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZUVzY0tleURvd25NZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UodHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMucm9vdE5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVJdGVtVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQsIGNoaWxkLCBpbmRleCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIGlmICghX3RoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQsIGluZGV4LCBjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuY2xvc2UoX2V2ZW50czIuZGVmYXVsdC5pc0tleWJvYXJkKGV2ZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5tdWx0aXBsZSAmJiBfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShldmVudCwgdW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoaXNLZXlib2FyZCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0tleWJvYXJkKSB7XG4gICAgICAgICAgdmFyIGRyb3BBcnJvdyA9IF90aGlzLmFycm93Tm9kZTtcbiAgICAgICAgICB2YXIgZHJvcE5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoZHJvcEFycm93KTtcbiAgICAgICAgICBkcm9wTm9kZS5mb2N1cygpO1xuICAgICAgICAgIGRyb3BBcnJvdy5zZXRLZXlib2FyZEZvY3VzKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gVGhlIG5lc3RlZCBzdHlsZXMgZm9yIGRyb3AtZG93bi1tZW51IGFyZSBtb2RpZmllZCBieSB0b29sYmFyIGFuZCBwb3NzaWJseVxuICAvLyBvdGhlciB1c2VyIGNvbXBvbmVudHMsIHNvIGl0IHdpbGwgZ2l2ZSBmdWxsIGFjY2VzcyB0byBpdHMganMgc3R5bGVzIHJhdGhlclxuICAvLyB0aGFuIGp1c3QgdGhlIHBhcmVudC5cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERyb3BEb3duTWVudSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5vcGVuSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgLy8gVE9ETzogVGVtcG9yYXJ5IGZpeCB0byBtYWtlIG9wZW5JbW1lZGlhdGVseSB3b3JrIHdpdGggcG9wb3Zlci5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tZGlkLW1vdW50LXNldC1zdGF0ZSAqL1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMyLnJvb3ROb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGUgKi9cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SW5wdXROb2RlJyxcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBidXQgc3RpbGwgaGVyZSBiZWNhdXNlIHRoZSBUZXh0RmllbGRcbiAgICAgKiBuZWVkIGl0IGluIG9yZGVyIHRvIHdvcmsuIFRPRE86IFRoYXQgd2lsbCBiZSBhZGRyZXNzZWQgbGF0ZXIuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElucHV0Tm9kZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcm9vdE5vZGUgPSB0aGlzLnJvb3ROb2RlO1xuXG4gICAgICByb290Tm9kZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpczMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlbjogIV90aGlzMy5zdGF0ZS5vcGVuLFxuICAgICAgICAgICAgYW5jaG9yRWw6IF90aGlzMy5yb290Tm9kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcm9vdE5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRXaWR0aCgpIHtcbiAgICAgIHZhciBlbCA9IHRoaXMucm9vdE5vZGU7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuc3R5bGUgfHwgIXRoaXMucHJvcHMuc3R5bGUuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykpIHtcbiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAnYXV0byc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFuaW1hdGVkID0gX3Byb3BzLmFuaW1hdGVkLFxuICAgICAgICAgIGFuaW1hdGlvbiA9IF9wcm9wcy5hbmltYXRpb24sXG4gICAgICAgICAgYXV0b1dpZHRoID0gX3Byb3BzLmF1dG9XaWR0aCxcbiAgICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wcy5pY29uU3R5bGUsXG4gICAgICAgICAgbGFiZWxTdHlsZSA9IF9wcm9wcy5sYWJlbFN0eWxlLFxuICAgICAgICAgIGxpc3RTdHlsZSA9IF9wcm9wcy5saXN0U3R5bGUsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gX3Byb3BzLm1heEhlaWdodCxcbiAgICAgICAgICBtZW51U3R5bGVQcm9wID0gX3Byb3BzLm1lbnVTdHlsZSxcbiAgICAgICAgICBzZWxlY3Rpb25SZW5kZXJlciA9IF9wcm9wcy5zZWxlY3Rpb25SZW5kZXJlcixcbiAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzLm9uQ2xvc2UsXG4gICAgICAgICAgb3BlbkltbWVkaWF0ZWx5ID0gX3Byb3BzLm9wZW5JbW1lZGlhdGVseSxcbiAgICAgICAgICBtZW51SXRlbVN0eWxlID0gX3Byb3BzLm1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlID0gX3Byb3BzLnNlbGVjdGVkTWVudUl0ZW1TdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB1bmRlcmxpbmVTdHlsZSA9IF9wcm9wcy51bmRlcmxpbmVTdHlsZSxcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgICBpY29uQnV0dG9uID0gX3Byb3BzLmljb25CdXR0b24sXG4gICAgICAgICAgYW5jaG9yT3JpZ2luID0gX3Byb3BzLmFuY2hvck9yaWdpbixcbiAgICAgICAgICB0YXJnZXRPcmlnaW4gPSBfcHJvcHMudGFyZ2V0T3JpZ2luLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FuaW1hdGVkJywgJ2FuaW1hdGlvbicsICdhdXRvV2lkdGgnLCAnbXVsdGlwbGUnLCAnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ2Rpc2FibGVkJywgJ2ljb25TdHlsZScsICdsYWJlbFN0eWxlJywgJ2xpc3RTdHlsZScsICdtYXhIZWlnaHQnLCAnbWVudVN0eWxlJywgJ3NlbGVjdGlvblJlbmRlcmVyJywgJ29uQ2xvc2UnLCAnb3BlbkltbWVkaWF0ZWx5JywgJ21lbnVJdGVtU3R5bGUnLCAnc2VsZWN0ZWRNZW51SXRlbVN0eWxlJywgJ3N0eWxlJywgJ3VuZGVybGluZVN0eWxlJywgJ3ZhbHVlJywgJ2ljb25CdXR0b24nLCAnYW5jaG9yT3JpZ2luJywgJ3RhcmdldE9yaWdpbiddKTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFuY2hvckVsID0gX3N0YXRlLmFuY2hvckVsLFxuICAgICAgICAgIG9wZW4gPSBfc3RhdGUub3BlbjtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgdmFyIGRpc3BsYXlWYWx1ZSA9ICcnO1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkICYmIHZhbHVlID09PSBjaGlsZC5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHNlbGVjdGlvblJlbmRlcmVyKHZhbHVlLCBjaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBpbXByb3ZlZCAoaW4gY2FzZSBwcmltYXJ5VGV4dCBpcyBhIG5vZGUpXG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBzZWxlY3Rpb25SZW5kZXJlckNoaWxkcmVuID0gW107XG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgJiYgdmFsdWUgJiYgdmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uUmVuZGVyZXJDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IFtdO1xuICAgICAgICBpZiAoc2VsZWN0aW9uUmVuZGVyZXIpIHtcbiAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBzZWxlY3Rpb25SZW5kZXJlcih2YWx1ZXMsIHNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHZhbHVlcy5qb2luKCcsICcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBtZW51U3R5bGUgPSB2b2lkIDA7XG4gICAgICBpZiAoYW5jaG9yRWwgJiYgIWF1dG9XaWR0aCkge1xuICAgICAgICBtZW51U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe1xuICAgICAgICAgIHdpZHRoOiBhbmNob3JFbC5jbGllbnRXaWR0aFxuICAgICAgICB9LCBtZW51U3R5bGVQcm9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbnVTdHlsZSA9IG1lbnVTdHlsZVByb3A7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgX3RoaXM0LnJvb3ROb2RlID0gbm9kZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnJvb3QsIG9wZW4gJiYgc3R5bGVzLnJvb3RXaGVuT3Blbiwgc3R5bGUpKVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0NsZWFyRml4Mi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9sLCBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmxhYmVsLCBvcGVuICYmIHN0eWxlcy5sYWJlbFdoZW5PcGVuLCBsYWJlbFN0eWxlKSkgfSxcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5hcnJvd05vZGUgPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuaWNvbiwgaWNvblN0eWxlKSxcbiAgICAgICAgICAgICAgaWNvblN0eWxlOiBzdHlsZXMuaWNvbkNoaWxkcmVuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWNvbkJ1dHRvblxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMudW5kZXJsaW5lLCB1bmRlcmxpbmVTdHlsZSkpIH0pXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogYW5jaG9yT3JpZ2luLFxuICAgICAgICAgICAgdGFyZ2V0T3JpZ2luOiB0YXJnZXRPcmlnaW4sXG4gICAgICAgICAgICBhbmNob3JFbDogYW5jaG9yRWwsXG4gICAgICAgICAgICBhbmltYXRpb246IGFuaW1hdGlvbiB8fCBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMi5kZWZhdWx0LFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcbiAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZU1lbnVcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX01lbnUyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQsXG4gICAgICAgICAgICAgIGRlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgb25Fc2NLZXlEb3duOiB0aGlzLmhhbmRsZUVzY0tleURvd25NZW51LFxuICAgICAgICAgICAgICBzdHlsZTogbWVudVN0eWxlLFxuICAgICAgICAgICAgICBsaXN0U3R5bGU6IGxpc3RTdHlsZSxcbiAgICAgICAgICAgICAgb25JdGVtVG91Y2hUYXA6IHRoaXMuaGFuZGxlSXRlbVRvdWNoVGFwLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgIG1lbnVJdGVtU3R5bGU6IG1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgICAgIHNlbGVjdGVkTWVudUl0ZW1TdHlsZTogc2VsZWN0ZWRNZW51SXRlbVN0eWxlLFxuICAgICAgICAgICAgICBhdXRvV2lkdGg6IGF1dG9XaWR0aCxcbiAgICAgICAgICAgICAgd2lkdGg6ICFhdXRvV2lkdGggJiYgbWVudVN0eWxlID8gbWVudVN0eWxlLndpZHRoIDogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRHJvcERvd25NZW51O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRHJvcERvd25NZW51Lm11aU5hbWUgPSAnRHJvcERvd25NZW51JztcbkRyb3BEb3duTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFuaW1hdGVkOiB0cnVlLFxuICBhdXRvV2lkdGg6IHRydWUsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgaWNvbkJ1dHRvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Fycm93RHJvcERvd24yLmRlZmF1bHQsIG51bGwpLFxuICBvcGVuSW1tZWRpYXRlbHk6IGZhbHNlLFxuICBtYXhIZWlnaHQ6IDUwMCxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBhbmNob3JPcmlnaW46IHtcbiAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gIH1cbn07XG5Ecm9wRG93bk1lbnUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRyb3BEb3duTWVudS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBwb2ludCBvbiB0aGUgYW5jaG9yIHRoYXQgdGhlIHBvcG92ZXInc1xuICAgKiBgdGFyZ2V0T3JpZ2luYCB3aWxsIGF0dGFjaCB0by5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICBhbmNob3JPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIHBvcG92ZXIgd2lsbCBhcHBseSB0cmFuc2l0aW9ucyB3aGVuXG4gICAqIGl0IGdldHMgYWRkZWQgdG8gdGhlIERPTS5cbiAgICovXG4gIGFuaW1hdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBhbmltYXRpb24gY29tcG9uZW50IHVzZWQuXG4gICAqL1xuICBhbmltYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIFRoZSB3aWR0aCB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgc2V0IGFjY29yZGluZyB0byB0aGUgaXRlbXMgaW5zaWRlIHRoZSBtZW51LlxuICAgKiBUbyBjb250cm9sIHRoaXMgd2lkdGggaW4gY3NzIGluc3RlYWQsIHNldCB0aGlzIHByb3AgdG8gYGZhbHNlYC5cbiAgICovXG4gIGF1dG9XaWR0aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGhlIGBNZW51SXRlbWBzIHRvIHBvcHVsYXRlIHRoZSBgTWVudWAgd2l0aC4gSWYgdGhlIGBNZW51SXRlbXNgIGhhdmUgdGhlXG4gICAqIHByb3AgYGxhYmVsYCB0aGF0IHZhbHVlIHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHJlcHJlc2VudGF0aW9uIG9mIHRoYXRcbiAgICogaXRlbSB3aXRoaW4gdGhlIGZpZWxkLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBtZW51LlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBkZWZhdWx0IGBTdmdJY29uYCBkcm9wZG93biBhcnJvdyBjb21wb25lbnQuXG4gICAqL1xuICBpY29uQnV0dG9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBzdHlsZXMgb2YgbGFiZWwgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgaW5hY3RpdmUuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvYmplY3QgdG8gdXNlIHRvIG92ZXJyaWRlIHVuZGVybHlpbmcgbGlzdCBzdHlsZS5cbiAgICovXG4gIGxpc3RTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBoZWlnaHQgb2YgdGhlIGBNZW51YCB3aGVuIGl0IGlzIGRpc3BsYXllZC5cbiAgICovXG4gIG1heEhlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBtZW51IGl0ZW1zLlxuICAgKi9cbiAgbWVudUl0ZW1TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBgTWVudWAgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgZGlzcGxheWVkLlxuICAgKi9cbiAgbWVudVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIGB2YWx1ZWAgbXVzdCBiZSBhbiBhcnJheSBhbmQgdGhlIG1lbnUgd2lsbCBzdXBwb3J0XG4gICAqIG11bHRpcGxlIHNlbGVjdGlvbnMuXG4gICAqL1xuICBtdWx0aXBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiBhIG1lbnUgaXRlbSBpcyBjbGlja2VkLCBvdGhlciB0aGFuIHRoZSBvbmUgY3VycmVudGx5IHNlbGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVG91Y2hUYXAgZXZlbnQgdGFyZ2V0aW5nIHRoZSBtZW51IGl0ZW0gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGtleSBUaGUgaW5kZXggb2YgdGhlIGNsaWNrZWQgbWVudSBpdGVtIGluIHRoZSBgY2hpbGRyZW5gIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIHRoZSBtZW51J3MgYHZhbHVlYFxuICAgKiBhcnJheSB3aXRoIGVpdGhlciB0aGUgbWVudSBpdGVtJ3MgYHZhbHVlYCBhZGRlZCAoaWZcbiAgICogaXQgd2Fzbid0IGFscmVhZHkgc2VsZWN0ZWQpIG9yIG9taXR0ZWQgKGlmIGl0IHdhcyBhbHJlYWR5IHNlbGVjdGVkKS5cbiAgICogT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkLlxuICAgKi9cbiAgb25DbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gaGF2ZSB0aGUgYERyb3BEb3duTWVudWAgYXV0b21hdGljYWxseSBvcGVuIG9uIG1vdW50LlxuICAgKi9cbiAgb3BlbkltbWVkaWF0ZWx5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBzZWxlY3RlZCBtZW51IGl0ZW1zLlxuICAgKi9cbiAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gYSBtZW51IGl0ZW0gaXMgY2xpY2tlZCwgb3RoZXIgdGhhbiB0aGUgb25lIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhlIG1lbnUncyBgdmFsdWVgXG4gICAqIGFycmF5IHdpdGggZWl0aGVyIHRoZSBtZW51IGl0ZW0ncyBgdmFsdWVgIGFkZGVkIChpZlxuICAgKiBpdCB3YXNuJ3QgYWxyZWFkeSBzZWxlY3RlZCkgb3Igb21pdHRlZCAoaWYgaXQgd2FzIGFscmVhZHkgc2VsZWN0ZWQpLlxuICAgKiBPdGhlcndpc2UsIHRoZSBgdmFsdWVgIG9mIHRoZSBtZW51IGl0ZW0uXG4gICAqIEBwYXJhbSB7YW55fSBtZW51SXRlbSBUaGUgc2VsZWN0ZWQgYE1lbnVJdGVtYC5cbiAgICogSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGlzIHdpbGwgYmUgYW4gYXJyYXkgd2l0aCB0aGUgYE1lbnVJdGVtYHMgbWF0Y2hpbmcgdGhlIGB2YWx1ZWBzIHBhcmFtZXRlci5cbiAgICovXG4gIHNlbGVjdGlvblJlbmRlcmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgcG9pbnQgb24gdGhlIHBvcG92ZXIgd2hpY2ggd2lsbCBhdHRhY2ggdG9cbiAgICogdGhlIGFuY2hvcidzIG9yaWdpbi5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICB0YXJnZXRPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB1bmRlcmxpbmUuXG4gICAqL1xuICB1bmRlcmxpbmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIGFuIGFycmF5IG9mIHRoZSBgdmFsdWVgcyBvZiB0aGUgc2VsZWN0ZWRcbiAgICogbWVudSBpdGVtcy4gT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgc2VsZWN0ZWQgbWVudSBpdGVtLlxuICAgKiBJZiBwcm92aWRlZCwgdGhlIG1lbnUgd2lsbCBiZSBhIGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wRG93bk1lbnU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGlja0F3YXlMaXN0ZW5lcik7XG5cbnZhciBfU25hY2tiYXJCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXG52YXIgX1NuYWNrYmFyQm9keTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2JhckJvZHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIHpJbmRleCA9IF9jb250ZXh0JG11aVRoZW1lLnpJbmRleDtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuXG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgekluZGV4OiB6SW5kZXguc25hY2tiYXIsXG4gICAgICB2aXNpYmlsaXR5OiBvcGVuID8gJ3Zpc2libGUnIDogJ2hpZGRlbicsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAndHJhbnNsYXRlKC01MCUsIDApJyA6ICd0cmFuc2xhdGUoLTUwJSwgJyArIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgpJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICd0cmFuc2Zvcm0nKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAndmlzaWJpbGl0eScpXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBTbmFja2JhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFNuYWNrYmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbmFja2JhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbmFja2Jhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBTbmFja2Jhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoU25hY2tiYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5jb21wb25lbnRDbGlja0F3YXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMudGltZXJUcmFuc2l0aW9uSWQpIHtcbiAgICAgICAgLy8gSWYgdHJhbnNpdGlvbmluZywgZG9uJ3QgY2xvc2UgdGhlIHNuYWNrYmFyLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCdjbGlja2F3YXknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNuYWNrYmFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0aGlzLnByb3BzLm9wZW4sXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMucHJvcHMubWVzc2FnZSxcbiAgICAgICAgYWN0aW9uOiB0aGlzLnByb3BzLmFjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zZXRBdXRvSGlkZVRpbWVyKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMub3BlbiAmJiBuZXh0UHJvcHMub3BlbiAmJiAobmV4dFByb3BzLm1lc3NhZ2UgIT09IHRoaXMucHJvcHMubWVzc2FnZSB8fCBuZXh0UHJvcHMuYWN0aW9uICE9PSB0aGlzLnByb3BzLmFjdGlvbikpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgICAgIHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgIGFjdGlvbjogbmV4dFByb3BzLmFjdGlvbixcbiAgICAgICAgICAgIG9wZW46IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcGVuID0gbmV4dFByb3BzLm9wZW47XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3Blbjogb3BlbiAhPT0gbnVsbCA/IG9wZW4gOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgbWVzc2FnZTogbmV4dFByb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uOiBuZXh0UHJvcHMuYWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKHByZXZTdGF0ZS5vcGVuICE9PSB0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIHRoaXMuc2V0QXV0b0hpZGVUaW1lcigpO1xuICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJUcmFuc2l0aW9uSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0QXV0b0hpZGVUaW1lcicsXG5cblxuICAgIC8vIFRpbWVyIHRoYXQgY29udHJvbHMgZGVsYXkgYmVmb3JlIHNuYWNrYmFyIGF1dG8gaGlkZXNcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0hpZGVUaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgYXV0b0hpZGVEdXJhdGlvbiA9IHRoaXMucHJvcHMuYXV0b0hpZGVEdXJhdGlvbjtcblxuICAgICAgaWYgKGF1dG9IaWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICAgIHRoaXMudGltZXJBdXRvSGlkZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzMy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uUmVxdWVzdENsb3NlKCd0aW1lb3V0Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgYXV0b0hpZGVEdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGltZXIgdGhhdCBjb250cm9scyBkZWxheSBiZWZvcmUgY2xpY2stYXdheSBldmVudHMgYXJlIGNhcHR1cmVkIChiYXNlZCBvbiB3aGVuIGFuaW1hdGlvbiBjb21wbGV0ZXMpXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFRyYW5zaXRpb25UaW1lcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25UaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRpbWVyVHJhbnNpdGlvbklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC50aW1lclRyYW5zaXRpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIDQwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbiA9IF9wcm9wcy5hdXRvSGlkZUR1cmF0aW9uLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wcy5jb250ZW50U3R5bGUsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzLmJvZHlTdHlsZSxcbiAgICAgICAgICBtZXNzYWdlUHJvcCA9IF9wcm9wcy5tZXNzYWdlLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlID0gX3Byb3BzLm9uUmVxdWVzdENsb3NlLFxuICAgICAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBfcHJvcHMub25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhdXRvSGlkZUR1cmF0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdib2R5U3R5bGUnLCAnbWVzc2FnZScsICdvblJlcXVlc3RDbG9zZScsICdvbkFjdGlvblRvdWNoVGFwJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aW9uID0gX3N0YXRlLmFjdGlvbixcbiAgICAgICAgICBtZXNzYWdlID0gX3N0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgb3BlbiA9IF9zdGF0ZS5vcGVuO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9DbGlja0F3YXlMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgeyBvbkNsaWNrQXdheTogb3BlbiA/IHRoaXMuY29tcG9uZW50Q2xpY2tBd2F5IDogbnVsbCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyQm9keTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBjb250ZW50U3R5bGU6IGNvbnRlbnRTdHlsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgb25BY3Rpb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICAgIHN0eWxlOiBib2R5U3R5bGVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU25hY2tiYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5TbmFja2Jhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU25hY2tiYXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogVGhlIGxhYmVsIGZvciB0aGUgYWN0aW9uIG9uIHRoZSBzbmFja2Jhci5cbiAgICovXG4gIGFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYXV0b21hdGljYWxseSBkaXNtaXNzaW5nLlxuICAgKiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQgdGhlIHNuYWNrYmFyIHdpbGwgZGlzbWlzcyBub3JtYWxseS5cbiAgICogSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCB0aGUgc25hY2tiYXIgY2FuIHN0aWxsIGJlIGRpc21pc3NlZCBub3JtYWxseS5cbiAgICogSWYgYSBzbmFja2JhciBpcyBkaXNtaXNzZWQgYmVmb3JlIHRoZSB0aW1lciBleHBpcmVzLCB0aGUgdGltZXIgd2lsbCBiZSBjbGVhcmVkLlxuICAgKi9cbiAgYXV0b0hpZGVEdXJhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYm9keSBlbGVtZW50LlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiAoTm90ZTogSWYgdGhlIG1lc3NhZ2UgaXMgYW4gZWxlbWVudCBvciBhcnJheSwgYW5kIHRoZSBgU25hY2tiYXJgIG1heSByZS1yZW5kZXIgd2hpbGUgaXQgaXMgc3RpbGwgb3BlbixcbiAgICogZW5zdXJlIHRoYXQgdGhlIHNhbWUgb2JqZWN0IHJlbWFpbnMgYXMgdGhlIGBtZXNzYWdlYCBwcm9wZXJ0eSBpZiB5b3Ugd2FudCB0byBhdm9pZCB0aGUgYFNuYWNrYmFyYCBoaWRpbmcgYW5kXG4gICAqIHNob3dpbmcgYWdhaW4pXG4gICAqL1xuICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGFjdGlvbiBidXR0b24gaXMgdG91Y2h0YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBY3Rpb24gYnV0dG9uIGV2ZW50LlxuICAgKi9cbiAgb25BY3Rpb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYFNuYWNrYmFyYCBpcyByZXF1ZXN0ZWQgdG8gYmUgY2xvc2VkIGJ5IGEgY2xpY2sgb3V0c2lkZSB0aGUgYFNuYWNrYmFyYCwgb3IgYWZ0ZXIgdGhlXG4gICAqIGBhdXRvSGlkZUR1cmF0aW9uYCB0aW1lciBleHBpcmVzLlxuICAgKlxuICAgKiBUeXBpY2FsbHkgYG9uUmVxdWVzdENsb3NlYCBpcyB1c2VkIHRvIHNldCBzdGF0ZSBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCwgd2hpY2ggaXMgdXNlZCB0byBjb250cm9sIHRoZSBgU25hY2tiYXJgXG4gICAqIGBvcGVuYCBwcm9wLlxuICAgKlxuICAgKiBUaGUgYHJlYXNvbmAgcGFyYW1ldGVyIGNhbiBvcHRpb25hbGx5IGJlIHVzZWQgdG8gY29udHJvbCB0aGUgcmVzcG9uc2UgdG8gYG9uUmVxdWVzdENsb3NlYCxcbiAgICogZm9yIGV4YW1wbGUgaWdub3JpbmcgYGNsaWNrYXdheWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQ2FuIGJlOmBcInRpbWVvdXRcImAgKGBhdXRvSGlkZUR1cmF0aW9uYCBleHBpcmVkKSBvcjogYFwiY2xpY2thd2F5XCJgXG4gICAqL1xuICBvblJlcXVlc3RDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbmFja2JhcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU25hY2tiYXJCb2R5ID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfd2l0aFdpZHRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX3dpdGhXaWR0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoV2lkdGgpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgd2lkdGggPSBwcm9wcy53aWR0aDtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhcyA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhczIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuc3BhY2luZyxcbiAgICAgIGRlc2t0b3BHdXR0ZXIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMyLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzMi5kZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgZm9udEZhbWlseSA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5mb250RmFtaWx5LFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkc25hID0gX2NvbnRleHQkbXVpVGhlbWUuc25hY2tiYXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZSRzbmEuYmFja2dyb3VuZENvbG9yLFxuICAgICAgdGV4dENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLnRleHRDb2xvcixcbiAgICAgIGFjdGlvbkNvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLmFjdGlvbkNvbG9yLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX2NvbnRleHQkbXVpVGhlbWUuYm9yZGVyUmFkaXVzO1xuXG5cbiAgdmFyIGlzU21hbGwgPSB3aWR0aCA9PT0gX3dpdGhXaWR0aC5TTUFMTDtcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgIHBhZGRpbmc6ICcwICcgKyBkZXNrdG9wR3V0dGVyICsgJ3B4JyxcbiAgICAgIGhlaWdodDogZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHQ6IGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgnLFxuICAgICAgYm9yZGVyUmFkaXVzOiBpc1NtYWxsID8gMCA6IGJvcmRlclJhZGl1cyxcbiAgICAgIG1heFdpZHRoOiBpc1NtYWxsID8gJ2luaGVyaXQnIDogNTY4LFxuICAgICAgbWluV2lkdGg6IGlzU21hbGwgPyAnaW5oZXJpdCcgOiAyODgsXG4gICAgICB3aWR0aDogaXNTbWFsbCA/ICdjYWxjKDEwMHZ3IC0gJyArIGRlc2t0b3BHdXR0ZXIgKiAyICsgJ3B4KScgOiAnYXV0bycsXG4gICAgICBmbGV4R3JvdzogaXNTbWFsbCA/IDEgOiAwXG4gICAgfSxcbiAgICBjb250ZW50OiB7XG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBjb2xvcjogdGV4dENvbG9yLFxuICAgICAgb3BhY2l0eTogb3BlbiA/IDEgOiAwLFxuICAgICAgdHJhbnNpdGlvbjogb3BlbiA/IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc1MDBtcycsICdvcGFjaXR5JywgJzEwMG1zJykgOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAnb3BhY2l0eScpXG4gICAgfSxcbiAgICBhY3Rpb246IHtcbiAgICAgIGNvbG9yOiBhY3Rpb25Db2xvcixcbiAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgbWFyZ2luVG9wOiA2LFxuICAgICAgbWFyZ2luUmlnaHQ6IC0xNixcbiAgICAgIG1hcmdpbkxlZnQ6IGRlc2t0b3BHdXR0ZXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIFNuYWNrYmFyQm9keSA9IGZ1bmN0aW9uIFNuYWNrYmFyQm9keShwcm9wcywgY29udGV4dCkge1xuICB2YXIgYWN0aW9uID0gcHJvcHMuYWN0aW9uLFxuICAgICAgY29udGVudFN0eWxlID0gcHJvcHMuY29udGVudFN0eWxlLFxuICAgICAgbWVzc2FnZSA9IHByb3BzLm1lc3NhZ2UsXG4gICAgICBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBwcm9wcy5vbkFjdGlvblRvdWNoVGFwLFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkocHJvcHMsIFsnYWN0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdtZXNzYWdlJywgJ29wZW4nLCAnb25BY3Rpb25Ub3VjaFRhcCcsICdzdHlsZSddKTtcbiAgdmFyIHByZXBhcmVTdHlsZXMgPSBjb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyhwcm9wcywgY29udGV4dCk7XG5cbiAgdmFyIGFjdGlvbkJ1dHRvbiA9IGFjdGlvbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgIHN0eWxlOiBzdHlsZXMuYWN0aW9uLFxuICAgIGxhYmVsOiBhY3Rpb24sXG4gICAgb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcFxuICB9KTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY29udGVudCwgY29udGVudFN0eWxlKSkgfSxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG1lc3NhZ2VcbiAgICAgICksXG4gICAgICBhY3Rpb25CdXR0b25cbiAgICApXG4gICk7XG59O1xuXG5leHBvcnRzLlNuYWNrYmFyQm9keSA9IFNuYWNrYmFyQm9keTtcblNuYWNrYmFyQm9keS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgZm9yIHRoZSBhY3Rpb24gb24gdGhlIHNuYWNrYmFyLlxuICAgKi9cbiAgYWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cbiAgICpcbiAgICogKE5vdGU6IElmIHRoZSBtZXNzYWdlIGlzIGFuIGVsZW1lbnQgb3IgYXJyYXksIGFuZCB0aGUgYFNuYWNrYmFyYCBtYXkgcmUtcmVuZGVyIHdoaWxlIGl0IGlzIHN0aWxsIG9wZW4sXG4gICAqIGVuc3VyZSB0aGF0IHRoZSBzYW1lIG9iamVjdCByZW1haW5zIGFzIHRoZSBgbWVzc2FnZWAgcHJvcGVydHkgaWYgeW91IHdhbnQgdG8gYXZvaWQgdGhlIGBTbmFja2JhcmAgaGlkaW5nIGFuZFxuICAgKiBzaG93aW5nIGFnYWluKVxuICAgKi9cbiAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBhY3Rpb24gYnV0dG9uIGlzIHRvdWNodGFwcGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQWN0aW9uIGJ1dHRvbiBldmVudC5cbiAgICovXG4gIG9uQWN0aW9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBXaWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKi9cbiAgd2lkdGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcblxuU25hY2tiYXJCb2R5LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfd2l0aFdpZHRoMi5kZWZhdWx0KSgpKFNuYWNrYmFyQm9keSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqICBCZWZvcmVBZnRlcldyYXBwZXJcbiAqICAgIEFuIGFsdGVybmF0aXZlIGZvciB0aGUgOjpiZWZvcmUgYW5kIDo6YWZ0ZXIgY3NzIHBzZXVkby1lbGVtZW50cyBmb3JcbiAqICAgIGNvbXBvbmVudHMgd2hvc2Ugc3R5bGVzIGFyZSBkZWZpbmVkIGluIGphdmFzY3JpcHQgaW5zdGVhZCBvZiBjc3MuXG4gKlxuICogIFVzYWdlOiBGb3IgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3YW50IHRvIGFwcGx5IGJlZm9yZSBhbmQgYWZ0ZXIgZWxlbWVudHMgdG8sXG4gKiAgICB3cmFwIGl0cyBjaGlsZHJlbiB3aXRoIEJlZm9yZUFmdGVyV3JhcHBlci4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlcj5cbiAqICA8UGFwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+IC8vIFNlZSBub3RpY2VcbiAqICAgIDxCZWZvcmVBZnRlcldyYXBwZXI+ICAgICAgICByZW5kZXJzICAgICAgICAgPGRpdi8+IC8vIGJlZm9yZSBlbGVtZW50XG4gKiAgICAgIFtjaGlsZHJlbiBvZiBwYXBlcl0gICAgICAgLS0tLS0tPiAgICAgICAgIFtjaGlsZHJlbiBvZiBwYXBlcl1cbiAqICAgIDwvQmVmb3JlQWZ0ZXJXcmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgPGRpdi8+IC8vIGFmdGVyIGVsZW1lbnRcbiAqICA8L1BhcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+XG4gKlxuICogIE5vdGljZTogTm90aWNlIHRoYXQgdGhpcyBkaXYgYnVuZGxlcyB0b2dldGhlciBvdXIgZWxlbWVudHMuIElmIHRoZSBlbGVtZW50XG4gKiAgICB0aGF0IHdlIHdhbnQgdG8gYXBwbHkgYmVmb3JlIGFuZCBhZnRlciBlbGVtZW50cyBpcyBhIEhUTUwgdGFnIChpLmUuIGFcbiAqICAgIGRpdiwgcCwgb3IgYnV0dG9uIHRhZyksIHdlIGNhbiBhdm9pZCB0aGlzIGV4dHJhIG5lc3RpbmcgYnkgcGFzc2luZyB1c2luZ1xuICogICAgdGhlIEJlZm9yZUFmdGVyV3JhcHBlciBpbiBwbGFjZSBvZiBzYWlkIHRhZyBsaWtlIHNvOlxuICpcbiAqICA8cD5cbiAqICAgIDxCZWZvcmVBZnRlcldyYXBwZXI+ICAgZG8gdGhpcyBpbnN0ZWFkICAgPEJlZm9yZUFmdGVyV3JhcHBlciBlbGVtZW50VHlwZT0ncCc+XG4gKiAgICAgIFtjaGlsZHJlbiBvZiBwXSAgICAgICAgICAtLS0tLS0+ICAgICAgICAgW2NoaWxkcmVuIG9mIHBdXG4gKiAgICA8L0JlZm9yZUFmdGVyV3JhcHBlcj4gICAgICAgICAgICAgICAgICAgIDwvQmVmb3JlQWZ0ZXJXcmFwcGVyPlxuICogIDwvcD5cbiAqXG4gKiAgQmVmb3JlQWZ0ZXJXcmFwcGVyIGZlYXR1cmVzIHNwcmVhZCBmdW5jdGlvbmFsaXR5LiBUaGlzIG1lYW5zIHRoYXQgd2UgY2FuXG4gKiAgcGFzcyBIVE1MIHRhZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IGludG8gdGhlIEJlZm9yZUFmdGVyV3JhcHBlciB0YWcuXG4gKlxuICogIFdoZW4gdXNpbmcgQmVmb3JlQWZ0ZXJXcmFwcGVyLCBlbnN1cmUgdGhhdCB0aGUgcGFyZW50IG9mIHRoZSBiZWZvcmVFbGVtZW50XG4gKiAgYW5kIGFmdGVyRWxlbWVudCBoYXZlIGEgZGVmaW5lZCBzdHlsZSBwb3NpdGlvbi5cbiAqL1xuXG52YXIgc3R5bGVzID0ge1xuICBib3g6IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICB9XG59O1xuXG52YXIgQmVmb3JlQWZ0ZXJXcmFwcGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQmVmb3JlQWZ0ZXJXcmFwcGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCZWZvcmVBZnRlcldyYXBwZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQmVmb3JlQWZ0ZXJXcmFwcGVyKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQmVmb3JlQWZ0ZXJXcmFwcGVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShCZWZvcmVBZnRlcldyYXBwZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEJlZm9yZUFmdGVyV3JhcHBlciwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBiZWZvcmVTdHlsZSA9IF9wcm9wcy5iZWZvcmVTdHlsZSxcbiAgICAgICAgICBhZnRlclN0eWxlID0gX3Byb3BzLmFmdGVyU3R5bGUsXG4gICAgICAgICAgYmVmb3JlRWxlbWVudFR5cGUgPSBfcHJvcHMuYmVmb3JlRWxlbWVudFR5cGUsXG4gICAgICAgICAgYWZ0ZXJFbGVtZW50VHlwZSA9IF9wcm9wcy5hZnRlckVsZW1lbnRUeXBlLFxuICAgICAgICAgIGVsZW1lbnRUeXBlID0gX3Byb3BzLmVsZW1lbnRUeXBlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2JlZm9yZVN0eWxlJywgJ2FmdGVyU3R5bGUnLCAnYmVmb3JlRWxlbWVudFR5cGUnLCAnYWZ0ZXJFbGVtZW50VHlwZScsICdlbGVtZW50VHlwZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgdmFyIGJlZm9yZUVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICB2YXIgYWZ0ZXJFbGVtZW50ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoYmVmb3JlU3R5bGUpIHtcbiAgICAgICAgYmVmb3JlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuYmVmb3JlRWxlbWVudFR5cGUsIHtcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5ib3gsIGJlZm9yZVN0eWxlKSksXG4gICAgICAgICAga2V5OiAnOjpiZWZvcmUnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWZ0ZXJTdHlsZSkge1xuICAgICAgICBhZnRlckVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmFmdGVyRWxlbWVudFR5cGUsIHtcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5ib3gsIGFmdGVyU3R5bGUpKSxcbiAgICAgICAgICBrZXk6ICc6OmFmdGVyJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoaWxkcmVuID0gW2JlZm9yZUVsZW1lbnQsIHRoaXMucHJvcHMuY2hpbGRyZW4sIGFmdGVyRWxlbWVudF07XG5cbiAgICAgIHZhciBwcm9wcyA9IG90aGVyO1xuICAgICAgcHJvcHMuc3R5bGUgPSBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgdGhpcy5wcm9wcy5zdHlsZSkpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5lbGVtZW50VHlwZSwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJlZm9yZUFmdGVyV3JhcHBlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkJlZm9yZUFmdGVyV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGJlZm9yZUVsZW1lbnRUeXBlOiAnZGl2JyxcbiAgYWZ0ZXJFbGVtZW50VHlwZTogJ2RpdicsXG4gIGVsZW1lbnRUeXBlOiAnZGl2J1xufTtcbkJlZm9yZUFmdGVyV3JhcHBlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQmVmb3JlQWZ0ZXJXcmFwcGVyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgYWZ0ZXJFbGVtZW50VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFmdGVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBiZWZvcmVFbGVtZW50VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGJlZm9yZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZWxlbWVudFR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQmVmb3JlQWZ0ZXJXcmFwcGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTU1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0JlZm9yZUFmdGVyV3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU0KTtcblxudmFyIF9CZWZvcmVBZnRlcldyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmVmb3JlQWZ0ZXJXcmFwcGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0eWxlcyA9IHtcbiAgYmVmb3JlOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBkaXNwbGF5OiAndGFibGUnXG4gIH0sXG4gIGFmdGVyOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBjbGVhcjogJ2JvdGgnLFxuICAgIGRpc3BsYXk6ICd0YWJsZSdcbiAgfVxufTtcblxudmFyIENsZWFyRml4ID0gZnVuY3Rpb24gQ2xlYXJGaXgoX3JlZikge1xuICB2YXIgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcmVmLCBbJ3N0eWxlJywgJ2NoaWxkcmVuJ10pO1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX0JlZm9yZUFmdGVyV3JhcHBlcjIuZGVmYXVsdCxcbiAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgYmVmb3JlU3R5bGU6IHN0eWxlcy5iZWZvcmUsXG4gICAgICBhZnRlclN0eWxlOiBzdHlsZXMuYWZ0ZXIsXG4gICAgICBzdHlsZTogc3R5bGVcbiAgICB9KSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxuQ2xlYXJGaXgubXVpTmFtZSA9ICdDbGVhckZpeCc7XG5cbkNsZWFyRml4LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xlYXJGaXg7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9Gb2N1c1JpcHBsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblxudmFyIF9Gb2N1c1JpcHBsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb2N1c1JpcHBsZSk7XG5cbnZhciBfVG91Y2hSaXBwbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cbnZhciBfVG91Y2hSaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG91Y2hSaXBwbGUpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGJhc2VUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgIGRpc3BsYXk6ICd0YWJsZScsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGN1cnNvcjogJ2luaGVyaXQnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ2FsbCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgekluZGV4OiAyLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMFxuICAgIH0sXG4gICAgY29udHJvbHM6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICB3aWR0aDogJ2NhbGMoMTAwJSAtIDYwcHgpJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyNHB4JyxcbiAgICAgIGNvbG9yOiBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250RmFtaWx5OiBiYXNlVGhlbWUuZm9udEZhbWlseVxuICAgIH0sXG4gICAgd3JhcDoge1xuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgd2lkdGg6IDYwIC0gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MsXG4gICAgICBtYXJnaW5SaWdodDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IHByb3BzLmxhYmVsUG9zaXRpb24gPT09ICdsZWZ0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMFxuICAgIH0sXG4gICAgcmlwcGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMucmlwcGxlQ29sb3IgfHwgYmFzZVRoZW1lLnBhbGV0dGUucHJpbWFyeTFDb2xvcixcbiAgICAgIGhlaWdodDogJzIwMCUnLFxuICAgICAgd2lkdGg6ICcyMDAlJyxcbiAgICAgIHRvcDogLTEyLFxuICAgICAgbGVmdDogLTEyXG4gICAgfVxuICB9O1xufVxuXG52YXIgRW5oYW5jZWRTd2l0Y2ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShFbmhhbmNlZFN3aXRjaCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRW5oYW5jZWRTd2l0Y2goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRW5oYW5jZWRTd2l0Y2gpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRW5oYW5jZWRTd2l0Y2guX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGlzSW5wdXRDaGVja2VkID0gX3RoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgJiYgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Td2l0Y2gpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Td2l0Y2goZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY29kZSA9ICgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpO1xuXG4gICAgICBpZiAoY29kZSA9PT0gJ3RhYicpIHtcbiAgICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgY29kZSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdzcGFjZScpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIG9ubHkgbGlzdGVuIHRvIGxlZnQgY2xpY2tzXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5lbmQoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gc2V0VGltZW91dCBpcyBuZWVkZWQgYmVjdWFzZSB0aGUgZm9jdXMgZXZlbnQgZmlyZXMgZmlyc3RcbiAgICAgIC8vIFdhaXQgc28gdGhhdCB3ZSBjYW4gY2FwdHVyZSBpZiB0aGlzIHdhcyBhIGtleWJvYXJkIGZvY3VzXG4gICAgICAvLyBvciB0b3VjaCBmb2N1c1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy50YWJQcmVzc2VkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUwKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5yZWZzLmNoZWNrYm94O1xuICAgICAgaWYgKCghdGhpcy5wcm9wcy5zd2l0Y2hlZCB8fCBpbnB1dE5vZGUuY2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkgJiYgdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKGlucHV0Tm9kZS5jaGVja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBoYXNDaGVja2VkUHJvcCA9IG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpO1xuICAgICAgdmFyIGhhc05ld0RlZmF1bHRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0Q2hlY2tlZCcpICYmIG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblxuICAgICAgaWYgKGhhc0NoZWNrZWRQcm9wIHx8IGhhc05ld0RlZmF1bHRQcm9wKSB7XG4gICAgICAgIHZhciBzd2l0Y2hlZCA9IG5leHRQcm9wcy5jaGVja2VkIHx8IG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fCBmYWxzZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogc3dpdGNoZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUgJiYgc3dpdGNoZWQgIT09IHRoaXMucHJvcHMuc3dpdGNoZWQpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKHN3aXRjaGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU3dpdGNoZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N3aXRjaGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuICAgIH1cblxuICAgIC8vIG5vIGNhbGxiYWNrIGhlcmUgYmVjYXVzZSB0aGVyZSBpcyBubyBldmVudFxuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN3aXRjaGVkKG5ld1N3aXRjaGVkVmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpIHx8IHRoaXMucHJvcHMuY2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKG5ld1N3aXRjaGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkID0gbmV3U3dpdGNoZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBmYWxzZSA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogQ2Fubm90IGNhbGwgc2V0IG1ldGhvZCB3aGlsZSBjaGVja2VkIGlzIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC52YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja2JveCBpbnB1dHMgb25seSB1c2UgU1BBQ0UgdG8gY2hhbmdlIHRoZWlyIHN0YXRlLiBVc2luZyBFTlRFUiB3aWxsXG4gICAgLy8gdXBkYXRlIHRoZSB1aSBidXQgbm90IHRoZSBpbnB1dC5cblxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSBib3RoIHRoZSByaXBwbGVzIGFuZCB0aGUgY2hlY2tib3ggaW5wdXQgY2Fubm90IHNoYXJlIHBvaW50ZXJcbiAgICAgKiBldmVudHMsIHRoZSBjaGVja2JveCBpbnB1dCB0YWtlcyBjb250cm9sIG9mIHBvaW50ZXIgZXZlbnRzIGFuZCBjYWxsc1xuICAgICAqIHJpcHBsZSBhbmltYXRpb25zIG1hbnVhbGx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzLmljb25TdHlsZSxcbiAgICAgICAgICBpbnB1dFN0eWxlID0gX3Byb3BzLmlucHV0U3R5bGUsXG4gICAgICAgICAgaW5wdXRUeXBlID0gX3Byb3BzLmlucHV0VHlwZSxcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbFN0eWxlID0gX3Byb3BzLmxhYmVsU3R5bGUsXG4gICAgICAgICAgbGFiZWxQb3NpdGlvbiA9IF9wcm9wcy5sYWJlbFBvc2l0aW9uLFxuICAgICAgICAgIG9uU3dpdGNoID0gX3Byb3BzLm9uU3dpdGNoLFxuICAgICAgICAgIG9uQmx1ciA9IF9wcm9wcy5vbkJsdXIsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uTW91c2VVcCA9IF9wcm9wcy5vbk1vdXNlVXAsXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfcHJvcHMub25Nb3VzZURvd24sXG4gICAgICAgICAgb25Nb3VzZUxlYXZlID0gX3Byb3BzLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoU3RhcnQgPSBfcHJvcHMub25Ub3VjaFN0YXJ0LFxuICAgICAgICAgIG9uVG91Y2hFbmQgPSBfcHJvcHMub25Ub3VjaEVuZCxcbiAgICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZSA9IF9wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGUgPSBfcHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcy5kaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICByaXBwbGVDb2xvciA9IF9wcm9wcy5yaXBwbGVDb2xvcixcbiAgICAgICAgICByaXBwbGVTdHlsZSA9IF9wcm9wcy5yaXBwbGVTdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBzd2l0Y2hlZCA9IF9wcm9wcy5zd2l0Y2hlZCxcbiAgICAgICAgICBzd2l0Y2hFbGVtZW50ID0gX3Byb3BzLnN3aXRjaEVsZW1lbnQsXG4gICAgICAgICAgdGh1bWJTdHlsZSA9IF9wcm9wcy50aHVtYlN0eWxlLFxuICAgICAgICAgIHRyYWNrU3R5bGUgPSBfcHJvcHMudHJhY2tTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWyduYW1lJywgJ3ZhbHVlJywgJ2ljb25TdHlsZScsICdpbnB1dFN0eWxlJywgJ2lucHV0VHlwZScsICdsYWJlbCcsICdsYWJlbFN0eWxlJywgJ2xhYmVsUG9zaXRpb24nLCAnb25Td2l0Y2gnLCAnb25CbHVyJywgJ29uRm9jdXMnLCAnb25Nb3VzZVVwJywgJ29uTW91c2VEb3duJywgJ29uTW91c2VMZWF2ZScsICdvblRvdWNoU3RhcnQnLCAnb25Ub3VjaEVuZCcsICdvblBhcmVudFNob3VsZFVwZGF0ZScsICdkaXNhYmxlZCcsICdkaXNhYmxlVG91Y2hSaXBwbGUnLCAnZGlzYWJsZUZvY3VzUmlwcGxlJywgJ2NsYXNzTmFtZScsICdyaXBwbGVDb2xvcicsICdyaXBwbGVTdHlsZScsICdzdHlsZScsICdzd2l0Y2hlZCcsICdzd2l0Y2hFbGVtZW50JywgJ3RodW1iU3R5bGUnLCAndHJhY2tTdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciB3cmFwU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy53cmFwLCBpY29uU3R5bGUpO1xuICAgICAgdmFyIG1lcmdlZFJpcHBsZVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yaXBwbGUsIHJpcHBsZVN0eWxlKTtcblxuICAgICAgaWYgKHRodW1iU3R5bGUpIHtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5MZWZ0IC89IDI7XG4gICAgICAgIHdyYXBTdHlsZXMubWFyZ2luUmlnaHQgLz0gMjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IGxhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGFiZWwnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIGxhYmVsU3R5bGUpKSB9LFxuICAgICAgICBsYWJlbFxuICAgICAgKTtcblxuICAgICAgdmFyIHNob3dUb3VjaFJpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZVRvdWNoUmlwcGxlO1xuICAgICAgdmFyIHNob3dGb2N1c1JpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZUZvY3VzUmlwcGxlO1xuXG4gICAgICB2YXIgdG91Y2hSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVG91Y2hSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAgcmVmOiAndG91Y2hSaXBwbGUnLFxuICAgICAgICBrZXk6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIHN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBjZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm9jdXNSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRm9jdXNSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAnZm9jdXNSaXBwbGUnLFxuICAgICAgICBpbm5lclN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBzaG93OiB0aGlzLnN0YXRlLmlzS2V5Ym9hcmRGb2N1c2VkXG4gICAgICB9KTtcblxuICAgICAgdmFyIHJpcHBsZXMgPSBbc2hvd1RvdWNoUmlwcGxlID8gdG91Y2hSaXBwbGUgOiBudWxsLCBzaG93Rm9jdXNSaXBwbGUgPyBmb2N1c1JpcHBsZSA6IG51bGxdO1xuXG4gICAgICB2YXIgaW5wdXRFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgcmVmOiAnY2hlY2tib3gnLFxuICAgICAgICB0eXBlOiBpbnB1dFR5cGUsXG4gICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaW5wdXQsIGlucHV0U3R5bGUpKSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIG9uTW91c2VVcDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgICAgb25Nb3VzZURvd246IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlRG93bixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgIG9uVG91Y2hFbmQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoRW5kXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIElmIHRvZ2dsZSBjb21wb25lbnQgKGluZGljYXRlZCBieSB3aGV0aGVyIHRoZSBzdHlsZSBpbmNsdWRlcyB0aHVtYikgbWFudWFsbHkgbGF5IG91dFxuICAgICAgLy8gZWxlbWVudHMgaW4gb3JkZXIgdG8gbmVzdCByaXBwbGUgZWxlbWVudHNcbiAgICAgIHZhciBzd2l0Y2hPclRodW1iRWxlbWVudCA9ICF0aHVtYlN0eWxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHdyYXBTdHlsZXMpIH0sXG4gICAgICAgIHN3aXRjaEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZXNcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0cmFja1N0eWxlKSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiB0aHVtYlN0eWxlLCB6RGVwdGg6IDEsIGNpcmNsZTogdHJ1ZSB9LFxuICAgICAgICAgICcgJyxcbiAgICAgICAgICByaXBwbGVzLFxuICAgICAgICAgICcgJ1xuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICB2YXIgZWxlbWVudHNJbk9yZGVyID0gbGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50LFxuICAgICAgICBsYWJlbEVsZW1lbnRcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9scyB9LFxuICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogJ3Jvb3QnLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXBcbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgZWxlbWVudHNJbk9yZGVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRW5oYW5jZWRTd2l0Y2g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5FbmhhbmNlZFN3aXRjaC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRW5oYW5jZWRTd2l0Y2gucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVGb2N1c1JpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlVG91Y2hSaXBwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGlucHV0VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25CbHVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZUxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblBhcmVudFNob3VsZFVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblN3aXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoRW5kOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICByaXBwbGVDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHJpcHBsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzd2l0Y2hFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc3dpdGNoZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICB0aHVtYlN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdHJhY2tTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRW5oYW5jZWRTd2l0Y2g7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNjA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9TbGlkZUluQ2hpbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0Mik7XG5cbnZhciBfU2xpZGVJbkNoaWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW5DaGlsZCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTbGlkZUluID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2xpZGVJbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2xpZGVJbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbGlkZUluKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFNsaWRlSW4uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNsaWRlSW4pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5nZXRMZWF2ZURpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5kaXJlY3Rpb247XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNsaWRlSW4sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGVudGVyRGVsYXkgPSBfcHJvcHMuZW50ZXJEZWxheSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjaGlsZFN0eWxlID0gX3Byb3BzLmNoaWxkU3R5bGUsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3Byb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydlbnRlckRlbGF5JywgJ2NoaWxkcmVuJywgJ2NoaWxkU3R5bGUnLCAnZGlyZWN0aW9uJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgbWVyZ2VkUm9vdFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluQ2hpbGQyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICAgIGVudGVyRGVsYXk6IGVudGVyRGVsYXksXG4gICAgICAgICAgICBnZXRMZWF2ZURpcmVjdGlvbjogX3RoaXMyLmdldExlYXZlRGlyZWN0aW9uLFxuICAgICAgICAgICAgc3R5bGU6IGNoaWxkU3R5bGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkXG4gICAgICAgICk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKG1lcmdlZFJvb3RTdHlsZXMpLFxuICAgICAgICAgIGNvbXBvbmVudDogJ2RpdidcbiAgICAgICAgfSksXG4gICAgICAgIG5ld0NoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2xpZGVJbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblNsaWRlSW4uZGVmYXVsdFByb3BzID0ge1xuICBlbnRlckRlbGF5OiAwLFxuICBkaXJlY3Rpb246ICdsZWZ0J1xufTtcblNsaWRlSW4uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblNsaWRlSW4ucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZGlyZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCcsICd1cCcsICdkb3duJ10pLFxuICBlbnRlckRlbGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbGlkZUluO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTY0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93biA9IGZ1bmN0aW9uIE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003IDEwbDUgNSA1LTV6JyB9KVxuICApO1xufTtcbk5hdmlnYXRpb25BcnJvd0Ryb3BEb3duID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bik7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bic7XG5OYXZpZ2F0aW9uQXJyb3dEcm9wRG93bi5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQXJyb3dEcm9wRG93bjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSBmdW5jdGlvbiBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTkgNXYxNEg1VjVoMTRtMC0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rKTtcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rJztcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTY4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUb2dnbGVDaGVja0JveCA9IGZ1bmN0aW9uIFRvZ2dsZUNoZWNrQm94KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6JyB9KVxuICApO1xufTtcblRvZ2dsZUNoZWNrQm94ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShUb2dnbGVDaGVja0JveCk7XG5Ub2dnbGVDaGVja0JveC5kaXNwbGF5TmFtZSA9ICdUb2dnbGVDaGVja0JveCc7XG5Ub2dnbGVDaGVja0JveC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVDaGVja0JveDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTEFSR0UgPSBleHBvcnRzLk1FRElVTSA9IGV4cG9ydHMuU01BTEwgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3aXRoV2lkdGg7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNNQUxMID0gZXhwb3J0cy5TTUFMTCA9IDE7XG52YXIgTUVESVVNID0gZXhwb3J0cy5NRURJVU0gPSAyO1xudmFyIExBUkdFID0gZXhwb3J0cy5MQVJHRSA9IDM7XG5cbmZ1bmN0aW9uIHdpdGhXaWR0aCgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkbGFyZ2VXaWR0aCA9IG9wdGlvbnMubGFyZ2VXaWR0aCxcbiAgICAgIGxhcmdlV2lkdGggPSBfb3B0aW9ucyRsYXJnZVdpZHRoID09PSB1bmRlZmluZWQgPyA5OTIgOiBfb3B0aW9ucyRsYXJnZVdpZHRoLFxuICAgICAgX29wdGlvbnMkbWVkaXVtV2lkdGggPSBvcHRpb25zLm1lZGl1bVdpZHRoLFxuICAgICAgbWVkaXVtV2lkdGggPSBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9PT0gdW5kZWZpbmVkID8gNzY4IDogX29wdGlvbnMkbWVkaXVtV2lkdGgsXG4gICAgICBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPSBvcHRpb25zLnJlc2l6ZUludGVydmFsLFxuICAgICAgcmVzaXplSW50ZXJ2YWwgPSBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPT09IHVuZGVmaW5lZCA/IDE2NiA6IF9vcHRpb25zJHJlc2l6ZUludGVydjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoTXlDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFdpdGhXaWR0aCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhXaWR0aCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBXaXRoV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFdpdGhXaWR0aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoV2l0aFdpZHRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSwgX3RoaXMuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgICBfdGhpcy5kZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVXaWR0aCgpO1xuICAgICAgICAgIH0sIHJlc2l6ZUludGVydmFsKTtcbiAgICAgICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoV2l0aFdpZHRoLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVmZXJUaW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlV2lkdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgICAgICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAoaW5uZXJXaWR0aCA+PSBsYXJnZVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IExBUkdFO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5uZXJXaWR0aCA+PSBtZWRpdW1XaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBNRURJVU07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlubmVyV2lkdGggPCA3NjhcbiAgICAgICAgICAgIHdpZHRoID0gU01BTEw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hlbiByZW5kZXJpbmcgdGhlIGNvbXBvbmVudCBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgICAqIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB0aGUgc2NyZWVuIHdpZHRoLlxuICAgICAgICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgYmxpbmtzIGFuZCBoZWxwIHRoZSByZWNvbmNpbGlhdGlvblxuICAgICAgICAgICAqIHdlIGFyZSBub3QgcmVuZGVyaW5nIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBIGJldHRlciBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzZW5kIGNsaWVudCBoaW50cy5cbiAgICAgICAgICAgKiBCdXQgdGhlIGJyb3dzZXIgc3VwcG9ydCBvZiB0aGlzIEFQSSBpcyBsb3c6XG4gICAgICAgICAgICogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2xpZW50JTIwaGludFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAnd2luZG93Jywgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNeUNvbXBvbmVudCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIFdpdGhXaWR0aDtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICB9O1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMjE0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2lzSXRlcmFibGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDYpO1xuXG52YXIgX2lzSXRlcmFibGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJdGVyYWJsZTIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzA1KTtcblxudmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKGFyciksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gZWxzZSBpZiAoKDAsIF9pc0l0ZXJhYmxlMy5kZWZhdWx0KShPYmplY3QoYXJyKSkpIHtcbiAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuICAgIH1cbiAgfTtcbn0oKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDIzOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMjE0KTtcblxudmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdGltZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGRpcmVjdGlvbkludmFyaWFudDogdHJ1ZSxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogMzIsXG4gICAgICBoZWlnaHQ6IDMyLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxNnB4KScsXG4gICAgICB0b3A6IDEwLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdUb3A6IDUsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsIC8qIENocm9tZSBhbGwgLyBTYWZhcmkgYWxsICovXG4gICAgICBmb250U2l6ZTogJzEuMWVtJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgfVxuICB9O1xuXG4gIHZhciBtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWU7XG5cblxuICB2YXIgcG9zID0gcHJvcHMudmFsdWU7XG5cbiAgaWYgKHByb3BzLnR5cGUgPT09ICdob3VyJykge1xuICAgIHBvcyAlPSAxMjtcbiAgfSBlbHNlIHtcbiAgICBwb3MgPSBwb3MgLyA1O1xuICB9XG5cbiAgdmFyIHBvc2l0aW9ucyA9IFtbMCwgNV0sIFs1NC41LCAxNi42XSwgWzk0LjQsIDU5LjVdLCBbMTA5LCAxMTRdLCBbOTQuNCwgMTY4LjVdLCBbNTQuNSwgMjA4LjRdLCBbMCwgMjIzXSwgWy01NC41LCAyMDguNF0sIFstOTQuNCwgMTY4LjVdLCBbLTEwOSwgMTE0XSwgWy05NC40LCA1OS41XSwgWy01NC41LCAxOS42XV07XG5cbiAgdmFyIGlubmVyUG9zaXRpb25zID0gW1swLCA0MF0sIFszNi45LCA0OS45XSwgWzY0LCA3N10sIFs3NCwgMTE0XSwgWzY0LCAxNTFdLCBbMzcsIDE3OF0sIFswLCAxODhdLCBbLTM3LCAxNzhdLCBbLTY0LCAxNTFdLCBbLTc0LCAxMTRdLCBbLTY0LCA3N10sIFstMzcsIDUwXV07XG5cbiAgaWYgKHByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICBzdHlsZXMucm9vdC5iYWNrZ3JvdW5kQ29sb3IgPSBtdWlUaGVtZS50aW1lUGlja2VyLmFjY2VudENvbG9yO1xuICAgIHN0eWxlcy5yb290LmNvbG9yID0gbXVpVGhlbWUudGltZVBpY2tlci5zZWxlY3RUZXh0Q29sb3I7XG4gIH1cblxuICB2YXIgdHJhbnNmb3JtUG9zID0gcG9zaXRpb25zW3Bvc107XG5cbiAgaWYgKCgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKHByb3BzKSkge1xuICAgIHN0eWxlcy5yb290LndpZHRoID0gMjg7XG4gICAgc3R5bGVzLnJvb3QuaGVpZ2h0ID0gMjg7XG4gICAgc3R5bGVzLnJvb3QubGVmdCA9ICdjYWxjKDUwJSAtIDE0cHgpJztcbiAgICB0cmFuc2Zvcm1Qb3MgPSBpbm5lclBvc2l0aW9uc1twb3NdO1xuICB9XG5cbiAgdmFyIF90cmFuc2Zvcm1Qb3MgPSB0cmFuc2Zvcm1Qb3MsXG4gICAgICBfdHJhbnNmb3JtUG9zMiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3RyYW5zZm9ybVBvcywgMiksXG4gICAgICB4ID0gX3RyYW5zZm9ybVBvczJbMF0sXG4gICAgICB5ID0gX3RyYW5zZm9ybVBvczJbMV07XG5cbiAgc3R5bGVzLnJvb3QudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwgJyArIHkgKyAncHgpJztcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgQ2xvY2tOdW1iZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja051bWJlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tOdW1iZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tOdW1iZXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDbG9ja051bWJlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tOdW1iZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrTnVtYmVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciBjbG9ja051bWJlciA9IHRoaXMucHJvcHMudmFsdWUgPT09IDAgPyAnMDAnIDogdGhpcy5wcm9wcy52YWx1ZTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIGNsb2NrTnVtYmVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja051bWJlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiAwLFxuICB0eXBlOiAnbWludXRlJyxcbiAgaXNTZWxlY3RlZDogZmFsc2Vcbn07XG5DbG9ja051bWJlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBpc1NlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgdHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2hvdXInLCAnbWludXRlJ10pLFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrTnVtYmVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjQwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90aW1lVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY2FsY0FuZ2xlKHZhbHVlLCBiYXNlKSB7XG4gIHZhbHVlICU9IGJhc2U7XG4gIHZhciBhbmdsZSA9IDM2MCAvIGJhc2UgKiB2YWx1ZTtcbiAgcmV0dXJuIGFuZ2xlO1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBoYXNTZWxlY3RlZCA9IHByb3BzLmhhc1NlbGVjdGVkLFxuICAgICAgdHlwZSA9IHByb3BzLnR5cGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICB2YXIgaW5uZXIgPSBzdGF0ZS5pbm5lcjtcbiAgdmFyIHRpbWVQaWNrZXIgPSBjb250ZXh0Lm11aVRoZW1lLnRpbWVQaWNrZXI7XG5cbiAgdmFyIGFuZ2xlID0gdHlwZSA9PT0gJ2hvdXInID8gY2FsY0FuZ2xlKHZhbHVlLCAxMikgOiBjYWxjQW5nbGUodmFsdWUsIDYwKTtcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogaW5uZXIgPyAnMzAlJyA6ICc0MCUnLFxuICAgICAgYmFja2dyb3VuZDogdGltZVBpY2tlci5hY2NlbnRDb2xvcixcbiAgICAgIHdpZHRoOiAyLFxuICAgICAgbGVmdDogJ2NhbGMoNTAlIC0gMXB4KScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdib3R0b20nLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgdHJhbnNmb3JtOiAncm90YXRlWignICsgYW5nbGUgKyAnZGVnKSdcbiAgICB9LFxuICAgIG1hcms6IHtcbiAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94JyxcbiAgICAgIGJhY2tncm91bmQ6IHRpbWVQaWNrZXIuc2VsZWN0VGV4dENvbG9yLFxuICAgICAgYm9yZGVyOiAnNHB4IHNvbGlkICcgKyB0aW1lUGlja2VyLmFjY2VudENvbG9yLFxuICAgICAgZGlzcGxheTogaGFzU2VsZWN0ZWQgJiYgJ25vbmUnLFxuICAgICAgd2lkdGg6IDcsXG4gICAgICBoZWlnaHQ6IDcsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogLTUsXG4gICAgICBsZWZ0OiAtNixcbiAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBDbG9ja1BvaW50ZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDbG9ja1BvaW50ZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENsb2NrUG9pbnRlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDbG9ja1BvaW50ZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2xvY2tQb2ludGVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDbG9ja1BvaW50ZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlubmVyOiBmYWxzZVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDbG9ja1BvaW50ZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlubmVyOiAoMCwgX3RpbWVVdGlscy5pc0lubmVyKSh0aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW5uZXI6ICgwLCBfdGltZVV0aWxzLmlzSW5uZXIpKG5leHRQcm9wcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5tYXJrKSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrUG9pbnRlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrUG9pbnRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGhhc1NlbGVjdGVkOiBmYWxzZSxcbiAgdmFsdWU6IG51bGwsXG4gIHR5cGU6ICdtaW51dGUnXG59O1xuQ2xvY2tQb2ludGVyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja1BvaW50ZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBoYXNTZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0eXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnaG91cicsICdtaW51dGUnXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlclxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2tQb2ludGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjgxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0RhdGVQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOCk7XG5cbnZhciBfRGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0RhdGVQaWNrZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyODI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfVGltZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDM2KTtcblxudmFyIF9UaW1lUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfVGltZVBpY2tlcjIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMwNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX011aVRoZW1lUHJvdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011aVRoZW1lUHJvdmlkZXIpO1xuXG52YXIgX1JhaXNlZEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG52YXIgX1JhaXNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWlzZWRCdXR0b24pO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0NhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9Ecm9wRG93bk1lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfRHJvcERvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3BEb3duTWVudSk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0RhdGVQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4MSk7XG5cbnZhciBfRGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUGlja2VyKTtcblxudmFyIF9UaW1lUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyODIpO1xuXG52YXIgX1RpbWVQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG5cbnZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cbnZhciBfcmVhY3RUYXBFdmVudFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXG52YXIgX3JlYWN0VGFwRXZlbnRQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RUYXBFdmVudFBsdWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qIEVTVEUgRlJBR01FTlRPIERFIENPRElHTyBFUyBSRVFVRVJJRE8gUEFSQSBMT1MgRVZFTlRPUyBERSBUSVBPIFRPVUNIIE8gQ0xJQ0sgRU4gQ09NUE9ORU5URVMgTUFURVJJQUwtVUkgKi9cblxuXG4oMCwgX3JlYWN0VGFwRXZlbnRQbHVnaW4yLmRlZmF1bHQpKCk7XG5cbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnZhciB0b2tlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2tlbicpLmlubmVySFRNTDtcblxudmFyIEVNUFRZX0NBTExCQUNLID0gZnVuY3Rpb24gRU1QVFlfQ0FMTEJBQ0soKSB7fTtcblxudmFyIFNob3BSZWcgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICAgIGRpc3BsYXlOYW1lOiAnU2hvcFJlZycsXG5cbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1zZ1NuYWNrYmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja2Jhck1lc3NhZ2U6ICcnLFxuICAgICAgICAgICAgbXlTaG9wOiB7fSxcbiAgICAgICAgICAgIG15U2hvcFJlYWR5OiBmYWxzZSxcbiAgICAgICAgICAgIHdlZWtzdGFydDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHdlZWtmaW5pc2g6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB3ZWVrZW5kc3RhcnQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB3ZWVrZW5kZmluaXNoOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZm9vZHR5cGVzOiBudWxsLCAvLyB0aXBvcyBkZSBjb21pZGEgZGlzcG9uaWJsZXNcbiAgICAgICAgICAgIGZvb2R0eXBlOiAwIC8vIGlkIGRlIHRpcG8gZGUgY29taWRhXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBjb25zb2xlLmxvZygndG9rZW46ICcgKyB0b2tlbik7XG4gICAgICAgIHZhciBteVNob3AgPSB2b2lkIDA7XG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5nZXQoJy9hcGkvdjEvc2hvcGFkbS9teXNob3A/dG9rZW49JyArIHRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlLmRhdGEuc2hvcDogJyArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuc2hvcCkpO1xuICAgICAgICAgICAgbXlTaG9wID0gcmVzcG9uc2UuZGF0YS5zaG9wO1xuICAgICAgICAgICAgcmV0dXJuIF9heGlvczIuZGVmYXVsdC5nZXQoJy9hcGkvdjEvZm9vZHR5cGVzJyk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UuZGF0YS5mb29kVHlwZXM6ICcgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLmZvb2RUeXBlcykpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBteVNob3A6IG15U2hvcCwgbXlTaG9wUmVhZHk6IHRydWUsIGZvb2R0eXBlczogcmVzcG9uc2UuZGF0YS5mb29kVHlwZXMgfSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChjYXVzZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihjYXVzZSk7XG4gICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tiYXIoJ0Vycm9yIGFsIGNhcmdhciBsb3MgZGF0b3MgZGVsIGNvbWVyY2lvJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgb3BlblNuYWNrYmFyOiBmdW5jdGlvbiBvcGVuU25hY2tiYXIobXNnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBYnJpZW5kbyBzbmFjayBiYXInKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1zZ1NuYWNrYmFyT3BlbjogdHJ1ZSwgc25hY2tiYXJNZXNzYWdlOiBtc2cgfSk7XG4gICAgfSxcbiAgICB2YWxpZGF0ZVNob3A6IGZ1bmN0aW9uIHZhbGlkYXRlU2hvcCgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZvb2R0eXBlID0gdGhpcy5zdGF0ZS5mb29kdHlwZXMuZmluZChmdW5jdGlvbiAoZnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdC5pZCA9PSBfdGhpczIuc3RhdGUuZm9vZHR5cGU7XG4gICAgICAgIH0pO1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdCgnL2FwaS92MS9zaG9wYWRtL3ZlcmlmeT90b2tlbj0nICsgdG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczIub3BlblNuYWNrYmFyKCdleGl0bycpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoY2F1c2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGNhdXNlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzLFxuICAgICAgICAgICAgX1JlYWN0JGNyZWF0ZUVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmZvb2R0eXBlcykgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdFc3BlcmUuLi4nXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGZvb2R0eXBlSXRlbXMgPSBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX01lbnVJdGVtMi5kZWZhdWx0LCB7IHZhbHVlOiAwLCBwcmltYXJ5VGV4dDogJ1RpcG8gZGUgY29taWRhJyB9KV07XG4gICAgICAgIHRoaXMuc3RhdGUuZm9vZHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZm9vZHR5cGVJdGVtcy5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9NZW51SXRlbTIuZGVmYXVsdCwgeyB2YWx1ZTogZnQuaWQsIHByaW1hcnlUZXh0OiBmdC5mb29kdHlwZSB9KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9NdWlUaGVtZVByb3ZpZGVyMi5kZWZhdWx0LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZ0JvdHRvbTogMTAsIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW46IDIwIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdWYWxpZGFjaW9uIGRlIGFsdGEgZGUgY29tZXJjaW8nXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0RhdG9zIGJhc2ljb3MnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOb21icmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogJ05vbWJyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dDogJ05vbWJyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5teVNob3AubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0RpcmVjY2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnRGlyZWNjaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnRGlyZWNjaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLm15U2hvcC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTGF0aXR1ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnTGF0aXR1ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dDogJ0xhdGl0dWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubXlTaG9wLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6IDEwIH0gfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdMb25naXR1ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnTG9uZ2l0dWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdMb25naXR1ZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5teVNob3AubG9uZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RlbGVmb25vJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdUZWxlZm9ubyBzaW4gZ3Vpb24gbmkgZXNwYWNpb3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdUZWxlZm9ubycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5teVNob3AucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0RhdG9zIGRlbCBtZW51J1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9Ecm9wRG93bk1lbnUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZm9vZHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUsIGksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0U3RhdGUoeyBmb29kdHlwZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuSW1tZWRpYXRlbHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiAyMDAsIHBhZGRpbmc6IDAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vZHR5cGVJdGVtc1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMycsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0hvcmFyaW8gZGUgZGlhIGRlIHNlbWFuYSdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJzI0aHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ6ICdIb3JhIGRlIGFwZXJ0dXJhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlLCBkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZXRTdGF0ZSh7IHdlZWtzdGFydDogZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvT2s6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICcyNGhyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnRUZXh0OiAnSG9yYSBkZSBjaWVycmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUsIGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNldFN0YXRlKHsgd2Vla2ZpbmlzaDogZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvT2s6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdoMycsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0hvcmFyaW8gZGUgZmluZXMgZGUgc2VtYW5hJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZVBpY2tlcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnMjRocicsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dDogJ0hvcmEgZGUgYXBlcnR1cmEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUsIGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNldFN0YXRlKHsgd2Vla2VuZHN0YXJ0OiBkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PazogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJzI0aHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ6ICdIb3JhIGRlIGNpZXJyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSwgZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0U3RhdGUoeyB3ZWVrZW5kZmluaXNoOiBkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PazogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2hyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ3JlZGVuY2lhbGVzIGRlbCBhZG1pbmlzdHJhZG9yJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRW1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogJ0VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnRW1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYWRtaW5FbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZXRTdGF0ZSh7IGFkbWluRW1haWw6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAnUGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5hZG1pblBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNldFN0YXRlKHsgYWRtaW5QYXNzd29yZDogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9SYWlzZWRCdXR0b24yLmRlZmF1bHQsIChfUmVhY3QkY3JlYXRlRWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogMjAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVG9kbyBiaWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudmFsaWRhdGVTaG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgJ3N0eWxlJywgeyBtYXJnaW5SaWdodDogMTAgfSksIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgJ2Rpc2FibGVkJywgIXRoaXMuc3RhdGUubXlTaG9wUmVhZHkpLCBfUmVhY3QkY3JlYXRlRWxlbWVudCkpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUmFpc2VkQnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5Ub3A6IDIwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0FsZ28gZXN0YSBtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLnN0YXRlLm15U2hvcFJlYWR5IH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5tc2dTbmFja2Jhck9wZW4sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuc3RhdGUuc25hY2tiYXJNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAzMDAwLFxuICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZTogdGhpcy5oYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZSB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5fcmVhY3REb20yLmRlZmF1bHQucmVuZGVyKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNob3BSZWcsIG51bGwpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMxNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Myk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDMxNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG52YXIgZ2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjgpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjE2KTtcbnZhciBJVEVSQVRPUiA9IF9fd2VicGFja19yZXF1aXJlX18oMzApKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5pc0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPID0gT2JqZWN0KGl0KTtcbiAgcmV0dXJuIE9bSVRFUkFUT1JdICE9PSB1bmRlZmluZWRcbiAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICB8fCBJdGVyYXRvcnMuaGFzT3duUHJvcGVydHkoY2xhc3NvZihPKSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX0NhbGVuZGFyQWN0aW9uQnV0dG9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNDAzKTtcblxudmFyIF9DYWxlbmRhckFjdGlvbkJ1dHRvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJBY3Rpb25CdXR0b25zKTtcblxudmFyIF9DYWxlbmRhck1vbnRoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDQpO1xuXG52YXIgX0NhbGVuZGFyTW9udGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNb250aCk7XG5cbnZhciBfQ2FsZW5kYXJZZWFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDYpO1xuXG52YXIgX0NhbGVuZGFyWWVhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhclllYXIpO1xuXG52YXIgX0NhbGVuZGFyVG9vbGJhciA9IF9fd2VicGFja19yZXF1aXJlX18oNDA1KTtcblxudmFyIF9DYWxlbmRhclRvb2xiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJUb29sYmFyKTtcblxudmFyIF9EYXRlRGlzcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNDA3KTtcblxudmFyIF9EYXRlRGlzcGxheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlRGlzcGxheSk7XG5cbnZhciBfU2xpZGVJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblxudmFyIF9TbGlkZUluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NsaWRlSW4pO1xuXG52YXIgX2RhdGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGF5c0FycmF5ID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKEFycmF5KDcpKSk7XG5cbnZhciBDYWxlbmRhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYWxlbmRhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpc3BsYXlEYXRlOiB1bmRlZmluZWQsXG4gICAgICBkaXNwbGF5TW9udGhEYXk6IHVuZGVmaW5lZCxcbiAgICAgIHNlbGVjdGVkRGF0ZTogdW5kZWZpbmVkLFxuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ2xlZnQnLFxuICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlXG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXkgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGUpIHtcbiAgICAgIF90aGlzLnNldFNlbGVjdGVkRGF0ZShkYXRlKTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KSBfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KGV2ZW50LCBkYXRlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVNb250aENoYW5nZSA9IGZ1bmN0aW9uIChtb250aHMpIHtcbiAgICAgIHZhciBuZXh0RGlyZWN0aW9uID0gX3RoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICB2YXIgcHJldkRpcmVjdGlvbiA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IG1vbnRocyA+PSAwID8gbmV4dERpcmVjdGlvbiA6IHByZXZEaXJlY3Rpb247XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgZGlzcGxheURhdGU6IF90aGlzLnByb3BzLnV0aWxzLmFkZE1vbnRocyhfdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSwgbW9udGhzKVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBZZWFyID0gZnVuY3Rpb24gKGV2ZW50LCB5ZWFyKSB7XG4gICAgICBfdGhpcy5zZXRTZWxlY3RlZERhdGUoX3RoaXMucHJvcHMudXRpbHMuc2V0WWVhcihfdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsIHllYXIpLCBldmVudCk7XG4gICAgICBfdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5TW9udGhEYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlNb250aERheTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheVllYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlNb250aERheTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVdpbmRvd0tleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuKSB7XG4gICAgICAgIHZhciBuZXh0QXJyb3cgPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHByZXZBcnJvdyA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICBzd2l0Y2ggKCgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpKSB7XG4gICAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoLTEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKC03KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkWWVhcnMoMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIG5leHRBcnJvdzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZERheXMoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgcHJldkFycm93OlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRNb250aHMoLTEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5wcm9wcy51dGlscy5nZXRGaXJzdERheU9mTW9udGgodGhpcy5wcm9wcy5pbml0aWFsRGF0ZSksXG4gICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5pbml0aWFsRGF0ZSxcbiAgICAgICAgZGlzcGxheU1vbnRoRGF5OiAhdGhpcy5wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuaW5pdGlhbERhdGUgIT09IHRoaXMucHJvcHMuaW5pdGlhbERhdGUpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXh0UHJvcHMuaW5pdGlhbERhdGUgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlzcGxheURhdGU6IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUpLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogZGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW5EYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWluRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1pbkRhdGUgfHwgdGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyhuZXcgRGF0ZSgpLCAtMTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNYXhEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4RGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1heERhdGUgfHwgdGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyhuZXcgRGF0ZSgpLCAxMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNlbGVjdGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1NlbGVjdGVkRGF0ZURpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRTZWxlY3RlZERheXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTZWxlY3RlZERheXMoZGF5cykge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZERhdGUodGhpcy5wcm9wcy51dGlscy5hZGREYXlzKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBkYXlzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWRNb250aHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTZWxlY3RlZE1vbnRocyhtb250aHMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkTW9udGhzKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBtb250aHMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRTZWxlY3RlZFllYXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWRZZWFycyh5ZWFycykge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZERhdGUodGhpcy5wcm9wcy51dGlscy5hZGRZZWFycyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgeWVhcnMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXREaXNwbGF5RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3BsYXlEYXRlKGRhdGUsIG5ld1NlbGVjdGVkRGF0ZSkge1xuICAgICAgdmFyIG5ld0Rpc3BsYXlEYXRlID0gdGhpcy5wcm9wcy51dGlscy5nZXRGaXJzdERheU9mTW9udGgoZGF0ZSk7XG5cbiAgICAgIGlmIChuZXdEaXNwbGF5RGF0ZSAhPT0gdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSkge1xuICAgICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIHZhciBwcmV2RGlyZWN0aW9uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5ld0Rpc3BsYXlEYXRlID4gdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkaXNwbGF5RGF0ZTogbmV3RGlzcGxheURhdGUsXG4gICAgICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogbmV3U2VsZWN0ZWREYXRlIHx8IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldFNlbGVjdGVkRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkRGF0ZShkYXRlKSB7XG4gICAgICB2YXIgYWRqdXN0ZWREYXRlID0gZGF0ZTtcbiAgICAgIHZhciBtaW5EYXRlID0gdGhpcy5nZXRNaW5EYXRlKCk7XG4gICAgICB2YXIgbWF4RGF0ZSA9IHRoaXMuZ2V0TWF4RGF0ZSgpO1xuICAgICAgaWYgKCgwLCBfZGF0ZVV0aWxzLmlzQmVmb3JlRGF0ZSkoZGF0ZSwgbWluRGF0ZSkpIHtcbiAgICAgICAgYWRqdXN0ZWREYXRlID0gbWluRGF0ZTtcbiAgICAgIH0gZWxzZSBpZiAoKDAsIF9kYXRlVXRpbHMuaXNBZnRlckRhdGUpKGRhdGUsIG1heERhdGUpKSB7XG4gICAgICAgIGFkanVzdGVkRGF0ZSA9IG1heERhdGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdEaXNwbGF5RGF0ZSA9IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGFkanVzdGVkRGF0ZSk7XG4gICAgICBpZiAobmV3RGlzcGxheURhdGUgIT09IHRoaXMuc3RhdGUuZGlzcGxheURhdGUpIHtcbiAgICAgICAgdGhpcy5zZXREaXNwbGF5RGF0ZShuZXdEaXNwbGF5RGF0ZSwgYWRqdXN0ZWREYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogYWRqdXN0ZWREYXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRvb2xiYXJJbnRlcmFjdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb29sYmFySW50ZXJhY3Rpb25zKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJldk1vbnRoOiB0aGlzLnByb3BzLnV0aWxzLm1vbnRoRGlmZih0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLCB0aGlzLmdldE1pbkRhdGUoKSkgPiAwLFxuICAgICAgICBuZXh0TW9udGg6IHRoaXMucHJvcHMudXRpbHMubW9udGhEaWZmKHRoaXMuc3RhdGUuZGlzcGxheURhdGUsIHRoaXMuZ2V0TWF4RGF0ZSgpKSA8IDBcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAneWVhclNlbGVjdG9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24geWVhclNlbGVjdG9yKCkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJZZWFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiAneWVhcnMnLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiB0aGlzLnByb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgb25Ub3VjaFRhcFllYXI6IHRoaXMuaGFuZGxlVG91Y2hUYXBZZWFyLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgbWluRGF0ZTogdGhpcy5nZXRNaW5EYXRlKCksXG4gICAgICAgICAgbWF4RGF0ZTogdGhpcy5nZXRNYXhEYXRlKCksXG4gICAgICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcbiAgICAgIHZhciBoaWRlQ2FsZW5kYXJEYXRlID0gdGhpcy5wcm9wcy5oaWRlQ2FsZW5kYXJEYXRlO1xuXG4gICAgICB2YXIgdG9vbGJhckludGVyYWN0aW9ucyA9IHRoaXMuZ2V0VG9vbGJhckludGVyYWN0aW9ucygpO1xuICAgICAgdmFyIGlzTGFuZHNjYXBlID0gdGhpcy5wcm9wcy5tb2RlID09PSAnbGFuZHNjYXBlJztcbiAgICAgIHZhciBjYWxlbmRhclRleHRDb2xvciA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5kYXRlUGlja2VyLmNhbGVuZGFyVGV4dENvbG9yO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBjb2xvcjogY2FsZW5kYXJUZXh0Q29sb3IsXG4gICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgIHdpZHRoOiAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBpc0xhbmRzY2FwZSA/IDQ3OSA6IDMxMFxuICAgICAgICB9LFxuICAgICAgICBjYWxlbmRhcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ1xuICAgICAgICB9LFxuICAgICAgICBjYWxlbmRhckNvbnRhaW5lcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBhbGlnbkNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICBmb250V2VpZ2h0OiA0MDAsXG4gICAgICAgICAgcGFkZGluZzogJzBweCA4cHgnLFxuICAgICAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KClcbiAgICAgICAgfSxcbiAgICAgICAgeWVhckNvbnRhaW5lcjoge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIGhlaWdodDogMjcyLFxuICAgICAgICAgIG1hcmdpblRvcDogMTAsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIHdpZHRoOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgd2Vla1RpdGxlOiB7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnMTVweCcsXG4gICAgICAgICAgb3BhY2l0eTogJzAuNScsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICB9LFxuICAgICAgICB3ZWVrVGl0bGVEYXk6IHtcbiAgICAgICAgICB3aWR0aDogNDJcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNpdGlvblNsaWRlOiB7XG4gICAgICAgICAgaGVpZ2h0OiAyMTRcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHdlZWtUaXRsZURheVN0eWxlID0gcHJlcGFyZVN0eWxlcyhzdHlsZXMud2Vla1RpdGxlRGF5KTtcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25Ub3VjaFRhcENhbmNlbCA9IF9wcm9wcy5vblRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgIG9uVG91Y2hUYXBPayA9IF9wcm9wcy5vblRvdWNoVGFwT2ssXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHM7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZVdpbmRvd0tleURvd25cbiAgICAgICAgfSksXG4gICAgICAgICFoaWRlQ2FsZW5kYXJEYXRlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EYXRlRGlzcGxheTIuZGVmYXVsdCwge1xuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbjogdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBvblRvdWNoVGFwTW9udGhEYXk6IHRoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyOiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlZZWFyLFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIG1vbnRoRGF5U2VsZWN0ZWQ6IHRoaXMuc3RhdGUuZGlzcGxheU1vbnRoRGF5LFxuICAgICAgICAgIG1vZGU6IHRoaXMucHJvcHMubW9kZSxcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jYWxlbmRhcikgfSxcbiAgICAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2FsZW5kYXJDb250YWluZXIpIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJUb29sYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICAgIGRpc3BsYXlEYXRlOiB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLFxuICAgICAgICAgICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZU1vbnRoQ2hhbmdlLFxuICAgICAgICAgICAgICBwcmV2TW9udGg6IHRvb2xiYXJJbnRlcmFjdGlvbnMucHJldk1vbnRoLFxuICAgICAgICAgICAgICBuZXh0TW9udGg6IHRvb2xiYXJJbnRlcmFjdGlvbnMubmV4dE1vbnRoXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMud2Vla1RpdGxlKSB9LFxuICAgICAgICAgICAgICBkYXlzQXJyYXkubWFwKGZ1bmN0aW9uIChldmVudCwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgIHsga2V5OiBpLCBzdHlsZTogd2Vla1RpdGxlRGF5U3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICgwLCBfZGF0ZVV0aWxzLmxvY2FsaXplZFdlZWtkYXkpKERhdGVUaW1lRm9ybWF0LCBsb2NhbGUsIGksIGZpcnN0RGF5T2ZXZWVrKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9TbGlkZUluMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGRpcmVjdGlvbjogdGhpcy5zdGF0ZS50cmFuc2l0aW9uRGlyZWN0aW9uLCBzdHlsZTogc3R5bGVzLnRyYW5zaXRpb25TbGlkZSB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJNb250aDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSxcbiAgICAgICAgICAgICAgICBmaXJzdERheU9mV2VlazogdGhpcy5wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICAgICAgICBrZXk6IHRoaXMuc3RhdGUuZGlzcGxheURhdGUudG9EYXRlU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbWluRGF0ZTogdGhpcy5nZXRNaW5EYXRlKCksXG4gICAgICAgICAgICAgICAgbWF4RGF0ZTogdGhpcy5nZXRNYXhEYXRlKCksXG4gICAgICAgICAgICAgICAgb25Ub3VjaFRhcERheTogdGhpcy5oYW5kbGVUb3VjaFRhcERheSxcbiAgICAgICAgICAgICAgICByZWY6ICdjYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogdGhpcy5wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgICF0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMueWVhckNvbnRhaW5lcikgfSxcbiAgICAgICAgICAgIHRoaXMueWVhclNlbGVjdG9yKClcbiAgICAgICAgICApLFxuICAgICAgICAgIG9rTGFiZWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyQWN0aW9uQnV0dG9uczIuZGVmYXVsdCwge1xuICAgICAgICAgICAgYXV0b09rOiB0aGlzLnByb3BzLmF1dG9PayxcbiAgICAgICAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgICBvblRvdWNoVGFwQ2FuY2VsOiBvblRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcE9rOiBvblRvdWNoVGFwT2tcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7XG4gIERhdGVUaW1lRm9ybWF0OiBfZGF0ZVV0aWxzLmRhdGVUaW1lRm9ybWF0LFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGluaXRpYWxEYXRlOiBuZXcgRGF0ZSgpLFxuICBsb2NhbGU6ICdlbi1VUycsXG4gIHV0aWxzOiBfZGF0ZVV0aWxzLmRlZmF1bHRVdGlsc1xufTtcbkNhbGVuZGFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYWxlbmRhci5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgaGlkZUNhbGVuZGFyRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpbml0aWFsRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbWF4RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbkRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtb2RlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsncG9ydHJhaXQnLCAnbGFuZHNjYXBlJ10pLFxuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9uVG91Y2hUYXBDYW5jZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcERheTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoVGFwT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHNob3VsZERpc2FibGVEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2FsZW5kYXJBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhckFjdGlvbkJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXJBY3Rpb25CdXR0b24oKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXJBY3Rpb25CdXR0b24pO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDYWxlbmRhckFjdGlvbkJ1dHRvbi5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXJBY3Rpb25CdXR0b24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyQWN0aW9uQnV0dG9uLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbDtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICBtYXhIZWlnaHQ6IDQ4LFxuICAgICAgICAgIHBhZGRpbmc6IDBcbiAgICAgICAgfSxcbiAgICAgICAgZmxhdEJ1dHRvbnM6IHtcbiAgICAgICAgICBmb250c2l6ZTogMTQsXG4gICAgICAgICAgbWFyZ2luOiAnNHB4IDhweCA4cHggMHB4JyxcbiAgICAgICAgICBtYXhIZWlnaHQ6IDM2LFxuICAgICAgICAgIG1pbldpZHRoOiA2NCxcbiAgICAgICAgICBwYWRkaW5nOiAwXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5yb290IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgICAgbGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMucHJvcHMub25Ub3VjaFRhcENhbmNlbCxcbiAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMuZmxhdEJ1dHRvbnNcbiAgICAgICAgfSksXG4gICAgICAgICF0aGlzLnByb3BzLmF1dG9PayAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnJlZnMuY2FsZW5kYXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJlZnMuY2FsZW5kYXIuaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpLFxuICAgICAgICAgIGxhYmVsOiBva0xhYmVsLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMucHJvcHMub25Ub3VjaFRhcE9rLFxuICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5mbGF0QnV0dG9uc1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyQWN0aW9uQnV0dG9uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJBY3Rpb25CdXR0b24ucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvblRvdWNoVGFwQ2FuY2VsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXBPazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYWxlbmRhckFjdGlvbkJ1dHRvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cbnZhciBfRGF5QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MTApO1xuXG52YXIgX0RheUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgc3R5bGVzID0ge1xuICByb290OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgZm9udFdlaWdodDogNDAwLFxuICAgIGhlaWdodDogMjI4LFxuICAgIGxpbmVIZWlnaHQ6IDIsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICBNb3pQYWRkaW5nU3RhcnQ6IDBcbiAgfSxcbiAgd2Vlazoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCcsXG4gICAgaGVpZ2h0OiAzNCxcbiAgICBtYXJnaW5Cb3R0b206IDJcbiAgfVxufTtcblxudmFyIENhbGVuZGFyTW9udGggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhck1vbnRoLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhck1vbnRoKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyTW9udGgpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXJNb250aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXJNb250aCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcERheSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KGV2ZW50LCBkYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJNb250aCwgW3tcbiAgICBrZXk6ICdpc1NlbGVjdGVkRGF0ZURpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkRGF0ZURpc2FibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZERpc2FibGVEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkRGlzYWJsZURhdGUoZGF5KSB7XG4gICAgICBpZiAoZGF5ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgZGlzYWJsZWQgPSAhKDAsIF9kYXRlVXRpbHMuaXNCZXR3ZWVuRGF0ZXMpKGRheSwgdGhpcy5wcm9wcy5taW5EYXRlLCB0aGlzLnByb3BzLm1heERhdGUpO1xuICAgICAgaWYgKCFkaXNhYmxlZCAmJiB0aGlzLnByb3BzLnNob3VsZERpc2FibGVEYXRlKSBkaXNhYmxlZCA9IHRoaXMucHJvcHMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcblxuICAgICAgcmV0dXJuIGRpc2FibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFdlZWtFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdlZWtFbGVtZW50cygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgd2Vla0FycmF5ID0gdGhpcy5wcm9wcy51dGlscy5nZXRXZWVrQXJyYXkodGhpcy5wcm9wcy5kaXNwbGF5RGF0ZSwgdGhpcy5wcm9wcy5maXJzdERheU9mV2Vlayk7XG5cbiAgICAgIHJldHVybiB3ZWVrQXJyYXkubWFwKGZ1bmN0aW9uICh3ZWVrLCBpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGtleTogaSwgc3R5bGU6IHN0eWxlcy53ZWVrIH0sXG4gICAgICAgICAgX3RoaXMyLmdldERheUVsZW1lbnRzKHdlZWssIGkpXG4gICAgICAgICk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREYXlFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERheUVsZW1lbnRzKHdlZWssIGkpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZSA9IF9wcm9wcy5zZWxlY3RlZERhdGU7XG5cblxuICAgICAgcmV0dXJuIHdlZWsubWFwKGZ1bmN0aW9uIChkYXksIGopIHtcbiAgICAgICAgdmFyIGlzU2FtZURhdGUgPSAoMCwgX2RhdGVVdGlscy5pc0VxdWFsRGF0ZSkoc2VsZWN0ZWREYXRlLCBkYXkpO1xuICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpczMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gIWRpc2FibGVkICYmIGlzU2FtZURhdGU7XG5cbiAgICAgICAgaWYgKGlzU2FtZURhdGUpIHtcbiAgICAgICAgICBfdGhpczMuc2VsZWN0ZWREYXRlRGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGF5QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIGRhdGU6IGRheSxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAga2V5OiAnZGInICsgKGkgKyBqKSxcbiAgICAgICAgICBvblRvdWNoVGFwOiBfdGhpczMuaGFuZGxlVG91Y2hUYXBEYXksXG4gICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLnJvb3QgfSxcbiAgICAgICAgdGhpcy5nZXRXZWVrRWxlbWVudHMoKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyTW9udGg7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhck1vbnRoLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzcGxheURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG9uVG91Y2hUYXBEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJNb250aDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfY2hldnJvbkxlZnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1Myk7XG5cbnZhciBfY2hldnJvbkxlZnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hldnJvbkxlZnQpO1xuXG52YXIgX2NoZXZyb25SaWdodCA9IF9fd2VicGFja19yZXF1aXJlX18oNDU0KTtcblxudmFyIF9jaGV2cm9uUmlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hldnJvblJpZ2h0KTtcblxudmFyIF9TbGlkZUluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXG52YXIgX1NsaWRlSW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2xpZGVJbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzdHlsZXMgPSB7XG4gIHJvb3Q6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdpbmhlcml0JyxcbiAgICBoZWlnaHQ6IDQ4XG4gIH0sXG4gIHRpdGxlRGl2OiB7XG4gICAgZm9udFNpemU6IDE0LFxuICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgd2lkdGg6ICcxMDAlJ1xuICB9LFxuICB0aXRsZVRleHQ6IHtcbiAgICBoZWlnaHQ6ICdpbmhlcml0JyxcbiAgICBwYWRkaW5nVG9wOiAxMlxuICB9XG59O1xuXG52YXIgQ2FsZW5kYXJUb29sYmFyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FsZW5kYXJUb29sYmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhclRvb2xiYXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXJUb29sYmFyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENhbGVuZGFyVG9vbGJhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXJUb29sYmFyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiAndXAnXG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBQcmV2TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb250aENoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKC0xKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcE5leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UoMSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyVG9vbGJhciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuZGlzcGxheURhdGUgIT09IHRoaXMucHJvcHMuZGlzcGxheURhdGUpIHtcbiAgICAgICAgdmFyIG5leHREaXJlY3Rpb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICB2YXIgcHJldkRpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXh0UHJvcHMuZGlzcGxheURhdGUgPiB0aGlzLnByb3BzLmRpc3BsYXlEYXRlID8gbmV4dERpcmVjdGlvbiA6IHByZXZEaXJlY3Rpb247XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIGRpc3BsYXlEYXRlID0gX3Byb3BzLmRpc3BsYXlEYXRlO1xuXG5cbiAgICAgIHZhciBkYXRlVGltZUZvcm1hdHRlZCA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICB9KS5mb3JtYXQoZGlzcGxheURhdGUpO1xuXG4gICAgICB2YXIgbmV4dEJ1dHRvbkljb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hldnJvbkxlZnQyLmRlZmF1bHQsIG51bGwpIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25SaWdodDIuZGVmYXVsdCwgbnVsbCk7XG4gICAgICB2YXIgcHJldkJ1dHRvbkljb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hldnJvblJpZ2h0Mi5kZWZhdWx0LCBudWxsKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGV2cm9uTGVmdDIuZGVmYXVsdCwgbnVsbCk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5yb290IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5wcm9wcy5wcmV2TW9udGgsXG4gICAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwUHJldk1vbnRoXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmV2QnV0dG9uSWNvblxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbixcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMudGl0bGVEaXZcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGtleTogZGF0ZVRpbWVGb3JtYXR0ZWQsIHN0eWxlOiBzdHlsZXMudGl0bGVUZXh0IH0sXG4gICAgICAgICAgICBkYXRlVGltZUZvcm1hdHRlZFxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLnByb3BzLm5leHRNb250aCxcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBOZXh0TW9udGhcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5leHRCdXR0b25JY29uXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYWxlbmRhclRvb2xiYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhclRvb2xiYXIuZGVmYXVsdFByb3BzID0ge1xuICBuZXh0TW9udGg6IHRydWUsXG4gIHByZXZNb250aDogdHJ1ZVxufTtcbkNhbGVuZGFyVG9vbGJhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FsZW5kYXJUb29sYmFyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwbGF5RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBuZXh0TW9udGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25Nb250aENoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBwcmV2TW9udGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJUb29sYmFyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDA2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfWWVhckJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDExKTtcblxudmFyIF9ZZWFyQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1llYXJCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2FsZW5kYXJZZWFyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FsZW5kYXJZZWFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhclllYXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXJZZWFyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENhbGVuZGFyWWVhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXJZZWFyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBZZWFyID0gZnVuY3Rpb24gKGV2ZW50LCB5ZWFyKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcFllYXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcFllYXIoZXZlbnQsIHllYXIpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhclllYXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZFllYXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWRZZWFyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0WWVhcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRZZWFycygpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgbWluRGF0ZSA9IF9wcm9wcy5taW5EYXRlLFxuICAgICAgICAgIG1heERhdGUgPSBfcHJvcHMubWF4RGF0ZSxcbiAgICAgICAgICBzZWxlY3RlZERhdGUgPSBfcHJvcHMuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzO1xuXG5cbiAgICAgIHZhciBtaW5ZZWFyID0gdXRpbHMuZ2V0WWVhcihtaW5EYXRlKTtcbiAgICAgIHZhciBtYXhZZWFyID0gdXRpbHMuZ2V0WWVhcihtYXhEYXRlKTtcbiAgICAgIHZhciB5ZWFycyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciB5ZWFyID0gbWluWWVhcjsgeWVhciA8PSBtYXhZZWFyOyB5ZWFyKyspIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gdXRpbHMuZ2V0WWVhcihzZWxlY3RlZERhdGUpID09PSB5ZWFyO1xuICAgICAgICB2YXIgc2VsZWN0ZWRQcm9wcyA9IHt9O1xuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICBzZWxlY3RlZFByb3BzLnJlZiA9ICdzZWxlY3RlZFllYXJCdXR0b24nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHllYXJGb3JtYXRlZCA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgICAgfSkuZm9ybWF0KHV0aWxzLnNldFllYXIoc2VsZWN0ZWREYXRlLCB5ZWFyKSk7XG5cbiAgICAgICAgdmFyIHllYXJCdXR0b24gPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfWWVhckJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHtcbiAgICAgICAgICAgIGtleTogJ3liJyArIHllYXIsXG4gICAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwWWVhcixcbiAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgICAgIHllYXI6IHllYXIsXG4gICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICB9LCBzZWxlY3RlZFByb3BzKSxcbiAgICAgICAgICB5ZWFyRm9ybWF0ZWRcbiAgICAgICAgKTtcblxuICAgICAgICB5ZWFycy5wdXNoKHllYXJCdXR0b24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geWVhcnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9TZWxlY3RlZFllYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1NlbGVjdGVkWWVhcigpIHtcbiAgICAgIGlmICh0aGlzLnJlZnMuc2VsZWN0ZWRZZWFyQnV0dG9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGFpbmVyID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgdmFyIHllYXJCdXR0b25Ob2RlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5zZWxlY3RlZFllYXJCdXR0b24pO1xuXG4gICAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgIHZhciB5ZWFyQnV0dG9uTm9kZUhlaWdodCA9IHllYXJCdXR0b25Ob2RlLmNsaWVudEhlaWdodCB8fCAzMjtcblxuICAgICAgdmFyIHNjcm9sbFlPZmZzZXQgPSB5ZWFyQnV0dG9uTm9kZS5vZmZzZXRUb3AgKyB5ZWFyQnV0dG9uTm9kZUhlaWdodCAvIDIgLSBjb250YWluZXJIZWlnaHQgLyAyO1xuICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbFlPZmZzZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICAgIHByZXBhcmVTdHlsZXMgPSBfY29udGV4dCRtdWlUaGVtZS5wcmVwYXJlU3R5bGVzLFxuICAgICAgICAgIGNhbGVuZGFyWWVhckJhY2tncm91bmRDb2xvciA9IF9jb250ZXh0JG11aVRoZW1lLmRhdGVQaWNrZXIuY2FsZW5kYXJZZWFyQmFja2dyb3VuZENvbG9yO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhbGVuZGFyWWVhckJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBoZWlnaHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnMzVweCcsXG4gICAgICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgICAgICBvdmVyZmxvd1k6ICdzY3JvbGwnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkOiB7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICBtaW5IZWlnaHQ6ICcxMDAlJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jaGlsZCkgfSxcbiAgICAgICAgICB0aGlzLmdldFllYXJzKClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyWWVhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyWWVhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FsZW5kYXJZZWFyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIG1pbkRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uVG91Y2hUYXBZZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgdXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHdvcmRpbmdzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJZZWFyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX1NsaWRlSW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cbnZhciBfU2xpZGVJbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbGlkZUluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgZGF0ZVBpY2tlciA9IGNvbnRleHQubXVpVGhlbWUuZGF0ZVBpY2tlcjtcbiAgdmFyIHNlbGVjdGVkWWVhciA9IHN0YXRlLnNlbGVjdGVkWWVhcjtcblxuICB2YXIgaXNMYW5kc2NhcGUgPSBwcm9wcy5tb2RlID09PSAnbGFuZHNjYXBlJztcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHdpZHRoOiBpc0xhbmRzY2FwZSA/IDE2NSA6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogaXNMYW5kc2NhcGUgPyAzMzAgOiAnYXV0bycsXG4gICAgICBmbG9hdDogaXNMYW5kc2NhcGUgPyAnbGVmdCcgOiAnbm9uZScsXG4gICAgICBmb250V2VpZ2h0OiA3MDAsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZGF0ZVBpY2tlci5oZWFkZXJDb2xvcixcbiAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDIsXG4gICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogaXNMYW5kc2NhcGUgPyAwIDogMixcbiAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IGlzTGFuZHNjYXBlID8gMiA6IDAsXG4gICAgICBjb2xvcjogZGF0ZVBpY2tlci50ZXh0Q29sb3IsXG4gICAgICBwYWRkaW5nOiAyMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgfSxcbiAgICBtb250aERheToge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZvbnRTaXplOiAzNixcbiAgICAgIGxpbmVIZWlnaHQ6ICczNnB4JyxcbiAgICAgIGhlaWdodDogcHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZScgPyAnMTAwJScgOiAzOCxcbiAgICAgIG9wYWNpdHk6IHNlbGVjdGVkWWVhciA/IDAuNyA6IDEsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnXG4gICAgfSxcbiAgICBtb250aERheVRpdGxlOiB7XG4gICAgICBjdXJzb3I6ICFzZWxlY3RlZFllYXIgPyAnZGVmYXVsdCcgOiAncG9pbnRlcicsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH0sXG4gICAgeWVhcjoge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnMTZweCcsXG4gICAgICBoZWlnaHQ6IDE2LFxuICAgICAgb3BhY2l0eTogc2VsZWN0ZWRZZWFyID8gMSA6IDAuNyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBtYXJnaW5Cb3R0b206IDEwXG4gICAgfSxcbiAgICB5ZWFyVGl0bGU6IHtcbiAgICAgIGN1cnNvcjogcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24gfHwgc2VsZWN0ZWRZZWFyID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBEYXRlRGlzcGxheSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERhdGVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlRGlzcGxheSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXRlRGlzcGxheSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXRlRGlzcGxheS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZURpc3BsYXkpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkWWVhcjogZmFsc2UsXG4gICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiAndXAnXG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBNb250aERheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwTW9udGhEYXkgJiYgX3RoaXMuc3RhdGUuc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBNb250aERheSgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkWWVhcjogZmFsc2UgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBZZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyICYmICFfdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbiAmJiAhX3RoaXMuc3RhdGUuc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXBZZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24pIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVEaXNwbGF5LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5tb250aERheVNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLnNlbGVjdGVkRGF0ZSAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5leHRQcm9wcy5zZWxlY3RlZERhdGUgPiB0aGlzLnByb3BzLnNlbGVjdGVkRGF0ZSA/ICd1cCcgOiAnZG93bic7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRQcm9wcy5tb250aERheVNlbGVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0ZWRZZWFyOiAhbmV4dFByb3BzLm1vbnRoRGF5U2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb24gPSBfcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGUsXG4gICAgICAgICAgbW9udGhEYXlTZWxlY3RlZCA9IF9wcm9wcy5tb250aERheVNlbGVjdGVkLFxuICAgICAgICAgIG9uVG91Y2hUYXBNb250aERheSA9IF9wcm9wcy5vblRvdWNoVGFwTW9udGhEYXksXG4gICAgICAgICAgb25Ub3VjaFRhcFllYXIgPSBfcHJvcHMub25Ub3VjaFRhcFllYXIsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlID0gX3Byb3BzLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdkaXNhYmxlWWVhclNlbGVjdGlvbicsICdsb2NhbGUnLCAnbW9kZScsICdtb250aERheVNlbGVjdGVkJywgJ29uVG91Y2hUYXBNb250aERheScsICdvblRvdWNoVGFwWWVhcicsICdzZWxlY3RlZERhdGUnLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHZhciB5ZWFyID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgIH0pLmZvcm1hdChzZWxlY3RlZERhdGUpO1xuXG4gICAgICB2YXIgZGF0ZVRpbWUgPSBuZXcgRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICB3ZWVrZGF5OiAnc2hvcnQnLFxuICAgICAgICBkYXk6ICcyLWRpZ2l0J1xuICAgICAgfSkuZm9ybWF0KHNlbGVjdGVkRGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290LCBzdHlsZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluMi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy55ZWFyLCBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGtleTogeWVhciwgc3R5bGU6IHN0eWxlcy55ZWFyVGl0bGUsIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBZZWFyIH0sXG4gICAgICAgICAgICB5ZWFyXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMubW9udGhEYXksIGRpcmVjdGlvbjogdGhpcy5zdGF0ZS50cmFuc2l0aW9uRGlyZWN0aW9uIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBkYXRlVGltZSxcbiAgICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE1vbnRoRGF5LFxuICAgICAgICAgICAgICBzdHlsZTogc3R5bGVzLm1vbnRoRGF5VGl0bGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRlVGltZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERhdGVEaXNwbGF5O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF0ZURpc3BsYXkuZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIG1vbnRoRGF5U2VsZWN0ZWQ6IHRydWVcbn07XG5EYXRlRGlzcGxheS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF0ZURpc3BsYXkucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgbW9udGhEYXlTZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvblRvdWNoVGFwTW9udGhEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcFllYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGVEaXNwbGF5O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDA4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cbnZhciBfRGF0ZVBpY2tlckRpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDA5KTtcblxudmFyIF9EYXRlUGlja2VyRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVQaWNrZXJEaWFsb2cpO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRGF0ZVBpY2tlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERhdGVQaWNrZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVQaWNrZXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZVBpY2tlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXRlUGlja2VyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEYXRlUGlja2VyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkYXRlOiB1bmRlZmluZWRcbiAgICB9LCBfdGhpcy5oYW5kbGVBY2NlcHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgaWYgKCFfdGhpcy5pc0NvbnRyb2xsZWQoKSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShudWxsLCBkYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuRGlhbG9nKCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmZvcm1hdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxvY2FsZSkge1xuICAgICAgICB2YXIgRGF0ZVRpbWVGb3JtYXQgPSBfdGhpcy5wcm9wcy5EYXRlVGltZUZvcm1hdCB8fCBfZGF0ZVV0aWxzLmRhdGVUaW1lRm9ybWF0O1xuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lRm9ybWF0KF90aGlzLnByb3BzLmxvY2FsZSwge1xuICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICAgIH0pLmZvcm1hdChkYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoMCwgX2RhdGVVdGlscy5mb3JtYXRJc28pKGRhdGUpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlUGlja2VyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRlOiB0aGlzLmlzQ29udHJvbGxlZCgpID8gdGhpcy5nZXRDb250cm9sbGVkRGF0ZSgpIDogdGhpcy5wcm9wcy5kZWZhdWx0RGF0ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAodGhpcy5pc0NvbnRyb2xsZWQoKSkge1xuICAgICAgICB2YXIgbmV3RGF0ZSA9IHRoaXMuZ2V0Q29udHJvbGxlZERhdGUobmV4dFByb3BzKTtcbiAgICAgICAgaWYgKCEoMCwgX2RhdGVVdGlscy5pc0VxdWFsRGF0ZSkodGhpcy5zdGF0ZS5kYXRlLCBuZXdEYXRlKSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF0ZTogbmV3RGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5kYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIGRhdGUtcGlja2VyIGRpYWxvZyBwcm9ncmFtbWF0aWNhbGx5IGZyb20gYSBwYXJlbnQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29wZW5EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRGlhbG9nKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBpZiB0aGUgZGF0ZSBpcyBub3Qgc2VsZWN0ZWQgdGhlbiBzZXQgaXQgdG8gbmV3IGRhdGVcbiAgICAgICAqIChnZXQgdGhlIGN1cnJlbnQgc3lzdGVtIGRhdGUgd2hpbGUgZG9pbmcgc28pXG4gICAgICAgKiBlbHNlIHNldCBpdCB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRhdGVcbiAgICAgICAqL1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRpYWxvZ0RhdGU6IHRoaXMuZ2V0RGF0ZSgpXG4gICAgICAgIH0sIHRoaXMucmVmcy5kaWFsb2dXaW5kb3cuc2hvdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkaWFsb2dEYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0sIHRoaXMucmVmcy5kaWFsb2dXaW5kb3cuc2hvdyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBvcGVuRGlhbG9nKClgIGZvciBhbiBhcGkgY29uc2lzdGVudCB3aXRoIFRleHRGaWVsZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgIHRoaXMub3BlbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzQ29udHJvbGxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ29udHJvbGxlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmhhc093blByb3BlcnR5KCd2YWx1ZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldENvbnRyb2xsZWREYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29udHJvbGxlZERhdGUoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucHJvcHM7XG5cbiAgICAgIGlmIChwcm9wcy52YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjb250YWluZXIgPSBfcHJvcHMuY29udGFpbmVyLFxuICAgICAgICAgIGRlZmF1bHREYXRlID0gX3Byb3BzLmRlZmF1bHREYXRlLFxuICAgICAgICAgIGRpYWxvZ0NvbnRhaW5lclN0eWxlID0gX3Byb3BzLmRpYWxvZ0NvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uID0gX3Byb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3Byb3BzLmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgIGZvcm1hdERhdGVQcm9wID0gX3Byb3BzLmZvcm1hdERhdGUsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtYXhEYXRlID0gX3Byb3BzLm1heERhdGUsXG4gICAgICAgICAgbWluRGF0ZSA9IF9wcm9wcy5taW5EYXRlLFxuICAgICAgICAgIG1vZGUgPSBfcHJvcHMubW9kZSxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25EaXNtaXNzID0gX3Byb3BzLm9uRGlzbWlzcyxcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25TaG93ID0gX3Byb3BzLm9uU2hvdyxcbiAgICAgICAgICBvblRvdWNoVGFwID0gX3Byb3BzLm9uVG91Y2hUYXAsXG4gICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX3Byb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGUgPSBfcHJvcHMuaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB0ZXh0RmllbGRTdHlsZSA9IF9wcm9wcy50ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscyxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdhdXRvT2snLCAnY2FuY2VsTGFiZWwnLCAnY2xhc3NOYW1lJywgJ2NvbnRhaW5lcicsICdkZWZhdWx0RGF0ZScsICdkaWFsb2dDb250YWluZXJTdHlsZScsICdkaXNhYmxlWWVhclNlbGVjdGlvbicsICdmaXJzdERheU9mV2VlaycsICdmb3JtYXREYXRlJywgJ2xvY2FsZScsICdtYXhEYXRlJywgJ21pbkRhdGUnLCAnbW9kZScsICdva0xhYmVsJywgJ29uRGlzbWlzcycsICdvbkZvY3VzJywgJ29uU2hvdycsICdvblRvdWNoVGFwJywgJ29wZW5Ub1llYXJTZWxlY3Rpb24nLCAnc2hvdWxkRGlzYWJsZURhdGUnLCAnaGlkZUNhbGVuZGFyRGF0ZScsICdzdHlsZScsICd0ZXh0RmllbGRTdHlsZScsICd1dGlscyddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBmb3JtYXREYXRlID0gZm9ybWF0RGF0ZVByb3AgfHwgdGhpcy5mb3JtYXREYXRlO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlKSkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXAsXG4gICAgICAgICAgcmVmOiAnaW5wdXQnLFxuICAgICAgICAgIHN0eWxlOiB0ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5kYXRlID8gZm9ybWF0RGF0ZSh0aGlzLnN0YXRlLmRhdGUpIDogJydcbiAgICAgICAgfSkpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGF0ZVBpY2tlckRpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBhdXRvT2s6IGF1dG9PayxcbiAgICAgICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyU3R5bGU6IGRpYWxvZ0NvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBkaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBmaXJzdERheU9mV2VlazogZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgaW5pdGlhbERhdGU6IHRoaXMuc3RhdGUuZGlhbG9nRGF0ZSxcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgICAgIG9uQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgICBvblNob3c6IG9uU2hvdyxcbiAgICAgICAgICBvbkRpc21pc3M6IG9uRGlzbWlzcyxcbiAgICAgICAgICByZWY6ICdkaWFsb2dXaW5kb3cnLFxuICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICBoaWRlQ2FsZW5kYXJEYXRlOiBoaWRlQ2FsZW5kYXJEYXRlLFxuICAgICAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGF0ZVBpY2tlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRhdGVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICBhdXRvT2s6IGZhbHNlLFxuICBjb250YWluZXI6ICdkaWFsb2cnLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgZmlyc3REYXlPZldlZWs6IDEsXG4gIGhpZGVDYWxlbmRhckRhdGU6IGZhbHNlLFxuICBzdHlsZToge30sXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlXG59O1xuRGF0ZVBpY2tlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF0ZVBpY2tlci5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgZGF0ZSBmb3JtYXR0aW5nIGZvciB0aGUgc3BlY2lmaWVkIGBsb2NhbGVgLlxuICAgKiBUaGUgY29uc3RydWN0b3IgbXVzdCBmb2xsb3cgdGhpcyBzcGVjaWZpY2F0aW9uOiBFQ01BU2NyaXB0IEludGVybmF0aW9uYWxpemF0aW9uIEFQSSAxLjAgKEVDTUEtNDAyKS5cbiAgICogYEludGwuRGF0ZVRpbWVGb3JtYXRgIGlzIHN1cHBvcnRlZCBieSBtb3N0IG1vZGVybiBicm93c2Vycywgc2VlIGh0dHA6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPWludGwsXG4gICAqIG90aGVyd2lzZSBodHRwczovL2dpdGh1Yi5jb20vYW5keWVhcm5zaGF3L0ludGwuanMgaXMgYSBnb29kIHBvbHlmaWxsLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBhIGJ1aWx0LWluIGBEYXRlVGltZUZvcm1hdGAgaXMgdXNlZCB3aGljaCBzdXBwb3J0cyB0aGUgJ2VuLVVTJyBgbG9jYWxlYC5cbiAgICovXG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhdXRvbWF0aWNhbGx5IGFjY2VwdCBhbmQgY2xvc2UgdGhlIHBpY2tlciBvbiBzZWxlY3QgYSBkYXRlLlxuICAgKi9cbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCB0ZXh0IG9mIHRoZSAnQ2FuY2VsJyBidXR0b24uXG4gICAqL1xuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVXNlZCB0byBjb250cm9sIGhvdyB0aGUgRGF0ZSBQaWNrZXIgd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiB0aGUgaW5wdXQgZmllbGQgaXMgZm9jdXNlZC5cbiAgICogYGRpYWxvZ2AgKGRlZmF1bHQpIGRpc3BsYXlzIHRoZSBEYXRlUGlja2VyIGFzIGEgZGlhbG9nIHdpdGggYSBtb2RhbC5cbiAgICogYGlubGluZWAgZGlzcGxheXMgdGhlIERhdGVQaWNrZXIgYmVsb3cgdGhlIGlucHV0IGZpZWxkIChzaW1pbGFyIHRvIGF1dG8gY29tcGxldGUpLlxuICAgKi9cbiAgY29udGFpbmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnZGlhbG9nJywgJ2lubGluZSddKSxcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGluaXRpYWwgZGF0ZSB2YWx1ZSBvZiB0aGUgY29tcG9uZW50LlxuICAgKiBJZiBlaXRoZXIgYHZhbHVlYCBvciBgdmFsdWVMaW5rYCBpcyBwcm92aWRlZCB0aGV5IHdpbGwgb3ZlcnJpZGUgdGhpc1xuICAgKiBwcm9wIHdpdGggYHZhbHVlYCB0YWtpbmcgcHJlY2VkZW5jZS5cbiAgICovXG4gIGRlZmF1bHREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIERhdGVQaWNrZXJEaWFsb2cncyBDb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIGRpYWxvZ0NvbnRhaW5lclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSB5ZWFyIHNlbGVjdGlvbiBpbiB0aGUgZGF0ZSBwaWNrZXIuXG4gICAqL1xuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIERhdGVQaWNrZXIuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVXNlZCB0byBjaGFuZ2UgdGhlIGZpcnN0IGRheSBvZiB3ZWVrLiBJdCB2YXJpZXMgZnJvbVxuICAgKiBTYXR1cmRheSB0byBNb25kYXkgYmV0d2VlbiBkaWZmZXJlbnQgbG9jYWxlcy5cbiAgICogVGhlIGFsbG93ZWQgcmFuZ2UgaXMgMCAoU3VuZGF5KSB0byA2IChTYXR1cmRheSkuXG4gICAqIFRoZSBkZWZhdWx0IGlzIGAxYCwgTW9uZGF5LCBhcyBwZXIgSVNPIDg2MDEuXG4gICAqL1xuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB0byBmb3JtYXQgdGhlIGRhdGUgZGlzcGxheWVkIGluIHRoZSBpbnB1dCBmaWVsZCwgYW5kIHNob3VsZCByZXR1cm4gYSBzdHJpbmcuXG4gICAqIEJ5IGRlZmF1bHQgaWYgbm8gYGxvY2FsZWAgYW5kIGBEYXRlVGltZUZvcm1hdGAgaXMgcHJvdmlkZWQgZGF0ZSBvYmplY3RzIGFyZSBmb3JtYXR0ZWQgdG8gSVNPIDg2MDEgWVlZWS1NTS1ERC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGUgRGF0ZSBvYmplY3QgdG8gYmUgZm9ybWF0dGVkLlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgZm9ybWF0dGVkIGRhdGUuXG4gICAqL1xuICBmb3JtYXREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBIaWRlIGRhdGUgZGlzcGxheVxuICAgKi9cbiAgaGlkZUNhbGVuZGFyRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogTG9jYWxlIHVzZWQgZm9yIGZvcm1hdHRpbmcgdGhlIGBEYXRlUGlja2VyYCBkYXRlIHN0cmluZ3MuIE90aGVyIHRoYW4gZm9yICdlbi1VUycsIHlvdVxuICAgKiBtdXN0IHByb3ZpZGUgYSBgRGF0ZVRpbWVGb3JtYXRgIHRoYXQgc3VwcG9ydHMgdGhlIGNob3NlbiBgbG9jYWxlYC5cbiAgICovXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgZW5kaW5nIG9mIGEgcmFuZ2Ugb2YgdmFsaWQgZGF0ZXMuIFRoZSByYW5nZSBpbmNsdWRlcyB0aGUgZW5kRGF0ZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgY3VycmVudCBkYXRlICsgMTAwIHllYXJzLlxuICAgKi9cbiAgbWF4RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgYmVnaW5uaW5nIG9mIGEgcmFuZ2Ugb2YgdmFsaWQgZGF0ZXMuIFRoZSByYW5nZSBpbmNsdWRlcyB0aGUgc3RhcnREYXRlLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjdXJyZW50IGRhdGUgLSAxMDAgeWVhcnMuXG4gICAqL1xuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRlbGxzIHRoZSBjb21wb25lbnQgdG8gZGlzcGxheSB0aGUgcGlja2VyIGluIHBvcnRyYWl0IG9yIGxhbmRzY2FwZSBtb2RlLlxuICAgKi9cbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IHRleHQgb2YgdGhlICdPSycgYnV0dG9uLlxuICAgKi9cbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBkYXRlIHZhbHVlIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVsbH0gbnVsbCBTaW5jZSB0aGVyZSBpcyBubyBwYXJ0aWN1bGFyIGV2ZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhbmdlLFxuICAgKiB0aGUgZmlyc3QgYXJndW1lbnQgd2lsbCBhbHdheXMgYmUgbnVsbC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGUgVGhlIG5ldyBkYXRlLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgRGF0ZSBQaWNrZXIncyBkaWFsb2cgaXMgZGlzbWlzc2VkLlxuICAgKi9cbiAgb25EaXNtaXNzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIERhdGUgUGlja2VyJ3MgYFRleHRGaWVsZGAgZ2FpbnMgZm9jdXMuXG4gICAqL1xuICBvbkZvY3VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIERhdGUgUGlja2VyJ3MgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gYSB0b3VjaCB0YXAgZXZlbnQgb2NjdXJzIG9uIHRoZSBEYXRlIFBpY2tlcidzIGBUZXh0RmllbGRgLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVG91Y2hUYXAgZXZlbnQgdGFyZ2V0aW5nIHRoZSBgVGV4dEZpZWxkYC5cbiAgICovXG4gIG9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIElmIHRydWUgc2V0cyB0aGUgZGF0ZXBpY2tlciB0byBvcGVuIHRvIHllYXIgc2VsZWN0aW9uIGZpcnN0LlxuICAgKi9cbiAgb3BlblRvWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgaWYgYSBkYXkncyBlbnRyeSBzaG91bGQgYmUgZGlzYWJsZWQgb24gdGhlIGNhbGVuZGFyLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF5IERhdGUgb2JqZWN0IG9mIGEgZGF5LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRheSBzaG91bGQgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIERhdGVQaWNrZXIncyBUZXh0RmllbGQgZWxlbWVudC5cbiAgICovXG4gIHRleHRGaWVsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoaXMgb2JqZWN0IHNob3VsZCBjb250YWluIG1ldGhvZHMgbmVlZGVkIHRvIGJ1aWxkIHRoZSBjYWxlbmRhciBzeXN0ZW0uXG4gICAqXG4gICAqIFVzZWZ1bCBmb3IgYnVpbGRpbmcgYSBjdXN0b20gY2FsZW5kYXIgc3lzdGVtLiBSZWZlciB0byB0aGVcbiAgICogW3NvdXJjZSBjb2RlXShodHRwczovL2dpdGh1Yi5jb20vY2FsbGVtYWxsL21hdGVyaWFsLXVpL2Jsb2IvbWFzdGVyL3NyYy9EYXRlUGlja2VyL2RhdGVVdGlscy5qcylcbiAgICogYW5kIGFuIFtleGFtcGxlIGltcGxlbWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20vYWxpdGFoZXJpL21hdGVyaWFsLXVpLXBlcnNpYW4tZGF0ZS1waWNrZXItdXRpbHMpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgdXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogU2V0cyB0aGUgZGF0ZSBmb3IgdGhlIERhdGUgUGlja2VyIHByb2dyYW1tYXRpY2FsbHkuXG4gICAqL1xuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGVQaWNrZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0MDk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF9DYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oNDAyKTtcblxudmFyIF9DYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhcik7XG5cbnZhciBfRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfUG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwpO1xuXG52YXIgX2RhdGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRGF0ZVBpY2tlckRpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERhdGVQaWNrZXJEaWFsb2csIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVQaWNrZXJEaWFsb2coKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZVBpY2tlckRpYWxvZyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXRlUGlja2VyRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TaG93ICYmICFfdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uU2hvdygpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmRpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EaXNtaXNzICYmIF90aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmF1dG9Paykge1xuICAgICAgICBzZXRUaW1lb3V0KF90aGlzLmhhbmRsZVRvdWNoVGFwT2ssIDMwMCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZGlzbWlzcygpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwT2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25BY2NlcHQgJiYgIV90aGlzLnJlZnMuY2FsZW5kYXIuaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KF90aGlzLnJlZnMuY2FsZW5kYXIuZ2V0U2VsZWN0ZWREYXRlKCkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVXaW5kb3dLZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgX3RoaXMuaGFuZGxlVG91Y2hUYXBPaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgY29udGFpbmVyID0gX3Byb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJTdHlsZSA9IF9wcm9wcy5jb250YWluZXJTdHlsZSxcbiAgICAgICAgICBkaXNhYmxlWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBpbml0aWFsRGF0ZSA9IF9wcm9wcy5pbml0aWFsRGF0ZSxcbiAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wcy5maXJzdERheU9mV2VlayxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG1heERhdGUgPSBfcHJvcHMubWF4RGF0ZSxcbiAgICAgICAgICBtaW5EYXRlID0gX3Byb3BzLm1pbkRhdGUsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBvbkFjY2VwdCA9IF9wcm9wcy5vbkFjY2VwdCxcbiAgICAgICAgICBvbkRpc21pc3MgPSBfcHJvcHMub25EaXNtaXNzLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IF9wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX3Byb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGUgPSBfcHJvcHMuaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ0RhdGVUaW1lRm9ybWF0JywgJ2F1dG9PaycsICdjYW5jZWxMYWJlbCcsICdjb250YWluZXInLCAnY29udGFpbmVyU3R5bGUnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnaW5pdGlhbERhdGUnLCAnZmlyc3REYXlPZldlZWsnLCAnbG9jYWxlJywgJ21heERhdGUnLCAnbWluRGF0ZScsICdtb2RlJywgJ29rTGFiZWwnLCAnb25BY2NlcHQnLCAnb25EaXNtaXNzJywgJ29uU2hvdycsICdvcGVuVG9ZZWFyU2VsZWN0aW9uJywgJ3Nob3VsZERpc2FibGVEYXRlJywgJ2hpZGVDYWxlbmRhckRhdGUnLCAnc3R5bGUnLCAnYW5pbWF0aW9uJywgJ3V0aWxzJ10pO1xuICAgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgZGlhbG9nQ29udGVudDoge1xuICAgICAgICAgIHdpZHRoOiAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBtb2RlID09PSAnbGFuZHNjYXBlJyA/IDQ3OSA6IDMxMFxuICAgICAgICB9LFxuICAgICAgICBkaWFsb2dCb2R5Q29udGVudDoge1xuICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgbWluSGVpZ2h0OiBoaWRlQ2FsZW5kYXJEYXRlIHx8IG1vZGUgPT09ICdsYW5kc2NhcGUnID8gMzMwIDogNDM0LFxuICAgICAgICAgIG1pbldpZHRoOiBoaWRlQ2FsZW5kYXJEYXRlIHx8IG1vZGUgIT09ICdsYW5kc2NhcGUnID8gMzEwIDogNDc5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBDb250YWluZXIgPSBjb250YWluZXIgPT09ICdpbmxpbmUnID8gX1BvcG92ZXIyLmRlZmF1bHQgOiBfRGlhbG9nMi5kZWZhdWx0O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyByZWY6ICdyb290JyB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQ29udGFpbmVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvckVsOiB0aGlzLnJlZnMucm9vdCAvLyBGb3IgUG9wb3ZlclxuICAgICAgICAgICAgLCBhbmltYXRpb246IGFuaW1hdGlvbiB8fCBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMi5kZWZhdWx0IC8vIEZvciBQb3BvdmVyXG4gICAgICAgICAgICAsIGJvZHlTdHlsZTogc3R5bGVzLmRpYWxvZ0JvZHlDb250ZW50LFxuICAgICAgICAgICAgY29udGVudFN0eWxlOiBzdHlsZXMuZGlhbG9nQ29udGVudCxcbiAgICAgICAgICAgIHJlZjogJ2RpYWxvZycsXG4gICAgICAgICAgICByZXBvc2l0aW9uT25VcGRhdGU6IHRydWUsXG4gICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U6IHRoaXMuaGFuZGxlUmVxdWVzdENsb3NlLFxuICAgICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuZGlhbG9nQm9keUNvbnRlbnQsIGNvbnRhaW5lclN0eWxlKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgdGFyZ2V0OiAnd2luZG93JyxcbiAgICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlV2luZG93S2V5VXBcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsZW5kYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGF1dG9PazogYXV0b09rLFxuICAgICAgICAgICAgRGF0ZVRpbWVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgaW5pdGlhbERhdGU6IGluaXRpYWxEYXRlLFxuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICBvblRvdWNoVGFwRGF5OiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF5LFxuICAgICAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIHJlZjogJ2NhbGVuZGFyJyxcbiAgICAgICAgICAgIG9uVG91Y2hUYXBDYW5jZWw6IHRoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwsXG4gICAgICAgICAgICBvblRvdWNoVGFwT2s6IHRoaXMuaGFuZGxlVG91Y2hUYXBPayxcbiAgICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgICAgaGlkZUNhbGVuZGFyRGF0ZTogaGlkZUNhbGVuZGFyRGF0ZSxcbiAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXRlUGlja2VyRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF0ZVBpY2tlckRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIERhdGVUaW1lRm9ybWF0OiBfZGF0ZVV0aWxzLmRhdGVUaW1lRm9ybWF0LFxuICBjYW5jZWxMYWJlbDogJ0NhbmNlbCcsXG4gIGNvbnRhaW5lcjogJ2RpYWxvZycsXG4gIGxvY2FsZTogJ2VuLVVTJyxcbiAgb2tMYWJlbDogJ09LJyxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2Vcbn07XG5EYXRlUGlja2VyRGlhbG9nLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EYXRlUGlja2VyRGlhbG9nLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgYW5pbWF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjb250YWluZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydkaWFsb2cnLCAnaW5saW5lJ10pLFxuICBjb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgaGlkZUNhbGVuZGFyRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpbml0aWFsRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvbkFjY2VwdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkRpc21pc3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRGF0ZVBpY2tlckRpYWxvZztcblxuLyoqKi8gfSksXG5cbi8qKiovIDQxMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9kYXRlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuaGFuY2VkQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgZGF0ZSA9IHByb3BzLmRhdGUsXG4gICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZDtcbiAgdmFyIGhvdmVyID0gc3RhdGUuaG92ZXI7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBiYXNlVGhlbWUgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBkYXRlUGlja2VyID0gX2NvbnRleHQkbXVpVGhlbWUuZGF0ZVBpY2tlcjtcblxuXG4gIHZhciBsYWJlbENvbG9yID0gYmFzZVRoZW1lLnBhbGV0dGUudGV4dENvbG9yO1xuICB2YXIgYnV0dG9uU3RhdGVPcGFjaXR5ID0gMDtcbiAgdmFyIGJ1dHRvblN0YXRlVHJhbnNmb3JtID0gJ3NjYWxlKDApJztcblxuICBpZiAoaG92ZXIgfHwgc2VsZWN0ZWQpIHtcbiAgICBsYWJlbENvbG9yID0gZGF0ZVBpY2tlci5zZWxlY3RUZXh0Q29sb3I7XG4gICAgYnV0dG9uU3RhdGVPcGFjaXR5ID0gc2VsZWN0ZWQgPyAxIDogMC42O1xuICAgIGJ1dHRvblN0YXRlVHJhbnNmb3JtID0gJ3NjYWxlKDEpJztcbiAgfSBlbHNlIGlmICgoMCwgX2RhdGVVdGlscy5pc0VxdWFsRGF0ZSkoZGF0ZSwgbmV3IERhdGUoKSkpIHtcbiAgICBsYWJlbENvbG9yID0gZGF0ZVBpY2tlci5jb2xvcjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBmb250V2VpZ2h0OiAnNDAwJyxcbiAgICAgIG9wYWNpdHk6IGRpc2FibGVkICYmICcwLjQnLFxuICAgICAgcGFkZGluZzogJzRweCAwcHgnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgd2lkdGg6IDQyXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgY29sb3I6IGxhYmVsQ29sb3IsXG4gICAgICBmb250V2VpZ2h0OiAnNDAwJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgfSxcbiAgICBidXR0b25TdGF0ZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBkYXRlUGlja2VyLnNlbGVjdENvbG9yLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGhlaWdodDogMzQsXG4gICAgICBsZWZ0OiA0LFxuICAgICAgb3BhY2l0eTogYnV0dG9uU3RhdGVPcGFjaXR5LFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICB0cmFuc2Zvcm06IGJ1dHRvblN0YXRlVHJhbnNmb3JtLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIHdpZHRoOiAzNFxuICAgIH1cbiAgfTtcbn1cblxudmFyIERheUJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERheUJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF5QnV0dG9uKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERheUJ1dHRvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBEYXlCdXR0b24uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERheUJ1dHRvbikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXI6IGZhbHNlXG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXAoZXZlbnQsIF90aGlzLnByb3BzLmRhdGUpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleWJvYXJkRm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQsIGtleWJvYXJkRm9jdXNlZCkge1xuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBfdGhpcy5wcm9wcy5vbktleWJvYXJkRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25LZXlib2FyZEZvY3VzKGV2ZW50LCBrZXlib2FyZEZvY3VzZWQsIF90aGlzLnByb3BzLmRhdGUpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXlCdXR0b24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZGF0ZSA9IF9wcm9wcy5kYXRlLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIHNlbGVjdGVkID0gX3Byb3BzLnNlbGVjdGVkLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ0RhdGVUaW1lRm9ybWF0JywgJ2RhdGUnLCAnZGlzYWJsZWQnLCAnbG9jYWxlJywgJ29uVG91Y2hUYXAnLCAnc2VsZWN0ZWQnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHJldHVybiBkYXRlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9FbmhhbmNlZEJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzUmlwcGxlOiB0cnVlLFxuICAgICAgICAgIGRpc2FibGVUb3VjaFJpcHBsZTogdHJ1ZSxcbiAgICAgICAgICBvbktleWJvYXJkRm9jdXM6IHRoaXMuaGFuZGxlS2V5Ym9hcmRGb2N1cyxcbiAgICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZXMucm9vdFxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmJ1dHRvblN0YXRlKSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmxhYmVsKSB9LFxuICAgICAgICAgIG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnXG4gICAgICAgICAgfSkuZm9ybWF0KGRhdGUpXG4gICAgICAgIClcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGF5QnV0dG9uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF5QnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2VsZWN0ZWQ6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2Vcbn07XG5EYXlCdXR0b24uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRheUJ1dHRvbi5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25LZXlib2FyZEZvY3VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRGF5QnV0dG9uO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDExOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkLFxuICAgICAgeWVhciA9IHByb3BzLnllYXIsXG4gICAgICB1dGlscyA9IHByb3BzLnV0aWxzO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgYmFzZVRoZW1lID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgZGF0ZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLmRhdGVQaWNrZXI7XG4gIHZhciBob3ZlciA9IHN0YXRlLmhvdmVyO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIGNvbG9yOiB5ZWFyID09PSB1dGlscy5nZXRZZWFyKG5ldyBEYXRlKCkpICYmIGRhdGVQaWNrZXIuY29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICdpbmhlcml0JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IGhvdmVyIHx8IHNlbGVjdGVkID8gZGF0ZVBpY2tlci5jb2xvciA6IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBzZWxlY3RlZCA/IDI2IDogMTcsXG4gICAgICBmb250V2VpZ2h0OiBob3ZlciA/IDQ1MCA6IHNlbGVjdGVkID8gNTAwIDogNDAwLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0b3A6IC0xXG4gICAgfVxuICB9O1xufVxuXG52YXIgWWVhckJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFllYXJCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFllYXJCdXR0b24oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgWWVhckJ1dHRvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBZZWFyQnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShZZWFyQnV0dG9uKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcjogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogdHJ1ZSB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogZmFsc2UgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXAoZXZlbnQsIF90aGlzLnByb3BzLnllYXIpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShZZWFyQnV0dG9uLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIHNlbGVjdGVkID0gX3Byb3BzLnNlbGVjdGVkLFxuICAgICAgICAgIHllYXIgPSBfcHJvcHMueWVhcixcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscyxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydjaGlsZHJlbicsICdjbGFzc05hbWUnLCAnb25Ub3VjaFRhcCcsICdzZWxlY3RlZCcsICd5ZWFyJywgJ3V0aWxzJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9FbmhhbmNlZEJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBkaXNhYmxlRm9jdXNSaXBwbGU6IHRydWUsXG4gICAgICAgICAgZGlzYWJsZVRvdWNoUmlwcGxlOiB0cnVlLFxuICAgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXAsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5yb290XG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMubGFiZWwpIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFllYXJCdXR0b247XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5ZZWFyQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2VsZWN0ZWQ6IGZhbHNlXG59O1xuWWVhckJ1dHRvbi5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuWWVhckJ1dHRvbi5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgeWVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gWWVhckJ1dHRvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVGltZURpc3BsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzNSk7XG5cbnZhciBfVGltZURpc3BsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZURpc3BsYXkpO1xuXG52YXIgX0Nsb2NrSG91cnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzMyk7XG5cbnZhciBfQ2xvY2tIb3VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja0hvdXJzKTtcblxudmFyIF9DbG9ja01pbnV0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzNCk7XG5cbnZhciBfQ2xvY2tNaW51dGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb2NrTWludXRlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBDbG9jayA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9jaygpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDbG9jayk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDbG9jay5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2spKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkVGltZTogbnVsbCxcbiAgICAgIG1vZGU6ICdob3VyJ1xuICAgIH0sIF90aGlzLnNldE1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBtb2RlOiBtb2RlXG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVTZWxlY3RBZmZpeCA9IGZ1bmN0aW9uIChhZmZpeCkge1xuICAgICAgaWYgKGFmZml4ID09PSBfdGhpcy5nZXRBZmZpeCgpKSByZXR1cm47XG5cbiAgICAgIHZhciBob3VycyA9IF90aGlzLnN0YXRlLnNlbGVjdGVkVGltZS5nZXRIb3VycygpO1xuXG4gICAgICBpZiAoYWZmaXggPT09ICdhbScpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlSG91cnMoaG91cnMgLSAxMiwgYWZmaXgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUhvdXJzKGhvdXJzICsgMTIsIGFmZml4KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2VIb3VycyA9IGZ1bmN0aW9uIChob3VycywgZmluaXNoZWQpIHtcbiAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoX3RoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lKTtcbiAgICAgIHZhciBhZmZpeCA9IHZvaWQgMDtcblxuICAgICAgaWYgKHR5cGVvZiBmaW5pc2hlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYWZmaXggPSBmaW5pc2hlZDtcbiAgICAgICAgZmluaXNoZWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIWFmZml4KSB7XG4gICAgICAgIGFmZml4ID0gX3RoaXMuZ2V0QWZmaXgoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZmZpeCA9PT0gJ3BtJyAmJiBob3VycyA8IDEyKSB7XG4gICAgICAgIGhvdXJzICs9IDEyO1xuICAgICAgfVxuXG4gICAgICB0aW1lLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRUaW1lOiB0aW1lXG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1vZGU6ICdtaW51dGUnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgb25DaGFuZ2VIb3VycyA9IF90aGlzLnByb3BzLm9uQ2hhbmdlSG91cnM7XG5cbiAgICAgICAgICBpZiAob25DaGFuZ2VIb3Vycykge1xuICAgICAgICAgICAgb25DaGFuZ2VIb3Vycyh0aW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlQ2hhbmdlTWludXRlcyA9IGZ1bmN0aW9uIChtaW51dGVzLCBmaW5pc2hlZCkge1xuICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShfdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUpO1xuICAgICAgdGltZS5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZFRpbWU6IHRpbWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgb25DaGFuZ2VNaW51dGVzID0gX3RoaXMucHJvcHMub25DaGFuZ2VNaW51dGVzO1xuXG4gICAgICBpZiAob25DaGFuZ2VNaW51dGVzICYmIGZpbmlzaGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uQ2hhbmdlTWludXRlcyh0aW1lKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBzZWxlY3RlZFRpbWUgPSB0aGlzLnByb3BzLmluaXRpYWxUaW1lIHx8IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbWludXRlcyA9IHNlbGVjdGVkVGltZS5nZXRNaW51dGVzKCk7XG4gICAgICBzZWxlY3RlZFRpbWUuc2V0TWludXRlcyhtaW51dGVzIC0gbWludXRlcyAlIHRoaXMucHJvcHMubWludXRlc1N0ZXApO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRUaW1lOiBzZWxlY3RlZFRpbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEFmZml4JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWZmaXgoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5mb3JtYXQgIT09ICdhbXBtJykgcmV0dXJuICcnO1xuXG4gICAgICB2YXIgaG91cnMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVGltZS5nZXRIb3VycygpO1xuICAgICAgaWYgKGhvdXJzIDwgMTIpIHtcbiAgICAgICAgcmV0dXJuICdhbSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAncG0nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNlbGVjdGVkVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkVGltZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlbGVjdGVkVGltZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY2xvY2sgPSBudWxsO1xuXG4gICAgICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgICAgcHJlcGFyZVN0eWxlcyA9IF9jb250ZXh0JG11aVRoZW1lLnByZXBhcmVTdHlsZXMsXG4gICAgICAgICAgdGltZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLnRpbWVQaWNrZXI7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICBoZWlnaHQ6IDI4MCxcbiAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCdcbiAgICAgICAgfSxcbiAgICAgICAgY2lyY2xlOiB7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAyMCxcbiAgICAgICAgICB3aWR0aDogMjYwLFxuICAgICAgICAgIGhlaWdodDogMjYwLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGltZVBpY2tlci5jbG9ja0NpcmNsZUNvbG9yXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLm1vZGUgPT09ICdob3VyJykge1xuICAgICAgICBjbG9jayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja0hvdXJzMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiAnaG91cnMnLFxuICAgICAgICAgIGZvcm1hdDogdGhpcy5wcm9wcy5mb3JtYXQsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlSG91cnMsXG4gICAgICAgICAgaW5pdGlhbEhvdXJzOiB0aGlzLnN0YXRlLnNlbGVjdGVkVGltZS5nZXRIb3VycygpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xvY2sgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tNaW51dGVzMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiAnbWludXRlcycsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlTWludXRlcyxcbiAgICAgICAgICBpbml0aWFsTWludXRlczogdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHN0ZXA6IHRoaXMucHJvcHMubWludXRlc1N0ZXBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UaW1lRGlzcGxheTIuZGVmYXVsdCwge1xuICAgICAgICAgIHNlbGVjdGVkVGltZTogdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUsXG4gICAgICAgICAgbW9kZTogdGhpcy5zdGF0ZS5tb2RlLFxuICAgICAgICAgIGZvcm1hdDogdGhpcy5wcm9wcy5mb3JtYXQsXG4gICAgICAgICAgYWZmaXg6IHRoaXMuZ2V0QWZmaXgoKSxcbiAgICAgICAgICBvblNlbGVjdEFmZml4OiB0aGlzLmhhbmRsZVNlbGVjdEFmZml4LFxuICAgICAgICAgIG9uU2VsZWN0SG91cjogdGhpcy5zZXRNb2RlLmJpbmQodGhpcywgJ2hvdXInKSxcbiAgICAgICAgICBvblNlbGVjdE1pbjogdGhpcy5zZXRNb2RlLmJpbmQodGhpcywgJ21pbnV0ZScpXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5jb250YWluZXIpIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmNpcmNsZSkgfSksXG4gICAgICAgICAgY2xvY2tcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2xvY2suZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsVGltZTogbmV3IERhdGUoKVxufTtcbkNsb2NrLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9jay5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgaW5pdGlhbFRpbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW51dGVzU3RlcDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIG9uQ2hhbmdlSG91cnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25DaGFuZ2VNaW51dGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDMzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9DbG9ja051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjM5KTtcblxudmFyIF9DbG9ja051bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja051bWJlcik7XG5cbnZhciBfQ2xvY2tQb2ludGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDApO1xuXG52YXIgX0Nsb2NrUG9pbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja1BvaW50ZXIpO1xuXG52YXIgX3RpbWVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2xvY2tIb3VycyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrSG91cnMsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENsb2NrSG91cnMoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tIb3Vycyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDbG9ja0hvdXJzLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDbG9ja0hvdXJzKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChfdGhpcy5pc01vdXNlUHJlc3NlZChldmVudCkgIT09IDEpIHJldHVybjtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50Lm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIGZhbHNlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaEVuZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLCB0cnVlKTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2tIb3VycywgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIGNsb2NrRWxlbWVudCA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWFzayk7XG5cbiAgICAgIHRoaXMuY2VudGVyID0ge1xuICAgICAgICB4OiBjbG9ja0VsZW1lbnQub2Zmc2V0V2lkdGggLyAyLFxuICAgICAgICB5OiBjbG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgICAgdGhpcy5iYXNlUG9pbnQgPSB7XG4gICAgICAgIHg6IHRoaXMuY2VudGVyLngsXG4gICAgICAgIHk6IDBcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNNb3VzZVByZXNzZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc01vdXNlUHJlc3NlZChldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiBldmVudC5idXR0b25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXZlbnQubmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudC5idXR0b25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldENsb2NrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2xvY2soZXZlbnQsIGZpbmlzaCkge1xuICAgICAgaWYgKHR5cGVvZiBldmVudC5vZmZzZXRYID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gKDAsIF90aW1lVXRpbHMuZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcykoZXZlbnQpO1xuXG4gICAgICAgIGV2ZW50Lm9mZnNldFggPSBvZmZzZXQub2Zmc2V0WDtcbiAgICAgICAgZXZlbnQub2Zmc2V0WSA9IG9mZnNldC5vZmZzZXRZO1xuICAgICAgfVxuXG4gICAgICB2YXIgaG91cnMgPSB0aGlzLmdldEhvdXJzKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xuXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGhvdXJzLCBmaW5pc2gpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEhvdXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SG91cnMob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgdmFyIHN0ZXAgPSAzMDtcbiAgICAgIHZhciB4ID0gb2Zmc2V0WCAtIHRoaXMuY2VudGVyLng7XG4gICAgICB2YXIgeSA9IG9mZnNldFkgLSB0aGlzLmNlbnRlci55O1xuICAgICAgdmFyIGN4ID0gdGhpcy5iYXNlUG9pbnQueCAtIHRoaXMuY2VudGVyLng7XG4gICAgICB2YXIgY3kgPSB0aGlzLmJhc2VQb2ludC55IC0gdGhpcy5jZW50ZXIueTtcblxuICAgICAgdmFyIGF0YW4gPSBNYXRoLmF0YW4yKGN4LCBjeSkgLSBNYXRoLmF0YW4yKHgsIHkpO1xuXG4gICAgICB2YXIgZGVnID0gKDAsIF90aW1lVXRpbHMucmFkMmRlZykoYXRhbik7XG4gICAgICBkZWcgPSBNYXRoLnJvdW5kKGRlZyAvIHN0ZXApICogc3RlcDtcbiAgICAgIGRlZyAlPSAzNjA7XG5cbiAgICAgIHZhciB2YWx1ZSA9IE1hdGguZmxvb3IoZGVnIC8gc3RlcCkgfHwgMDtcblxuICAgICAgdmFyIGRlbHRhID0gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcbiAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkZWx0YSk7XG5cbiAgICAgIHZhbHVlID0gdmFsdWUgfHwgMTI7XG4gICAgICBpZiAodGhpcy5wcm9wcy5mb3JtYXQgPT09ICcyNGhyJykge1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCA5MCkge1xuICAgICAgICAgIHZhbHVlICs9IDEyO1xuICAgICAgICAgIHZhbHVlICU9IDI0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSAlPSAxMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNlbGVjdGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWQoKSB7XG4gICAgICB2YXIgaG91ciA9IHRoaXMucHJvcHMuaW5pdGlhbEhvdXJzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5mb3JtYXQgPT09ICdhbXBtJykge1xuICAgICAgICBob3VyICU9IDEyO1xuICAgICAgICBob3VyID0gaG91ciB8fCAxMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SG91ck51bWJlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIb3VyTnVtYmVycygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgICAgfTtcbiAgICAgIHZhciBob3VyU2l6ZSA9IHRoaXMucHJvcHMuZm9ybWF0ID09PSAnYW1wbScgPyAxMiA6IDI0O1xuXG4gICAgICB2YXIgaG91cnMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGhvdXJTaXplOyBpKyspIHtcbiAgICAgICAgaG91cnMucHVzaChpICUgMjQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaG91cnMubWFwKGZ1bmN0aW9uIChob3VyKSB7XG4gICAgICAgIHZhciBpc1NlbGVjdGVkID0gX3RoaXMyLmdldFNlbGVjdGVkKCkgPT09IGhvdXI7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tOdW1iZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IGhvdXIsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgICAgdHlwZTogJ2hvdXInLFxuICAgICAgICAgIHZhbHVlOiBob3VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgICAgIH0sXG5cbiAgICAgICAgaGl0TWFzazoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBob3VycyA9IHRoaXMuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgIHZhciBudW1iZXJzID0gdGhpcy5nZXRIb3VyTnVtYmVycygpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogJ2Nsb2NrJywgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja1BvaW50ZXIyLmRlZmF1bHQsIHsgaGFzU2VsZWN0ZWQ6IHRydWUsIHZhbHVlOiBob3VycywgdHlwZTogJ2hvdXInIH0pLFxuICAgICAgICBudW1iZXJzLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgIHJlZjogJ21hc2snLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuaGl0TWFzayksIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLCBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlVXAsIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9ja0hvdXJzO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2xvY2tIb3Vycy5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxIb3VyczogbmV3IERhdGUoKS5nZXRIb3VycygpLFxuICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSxcbiAgZm9ybWF0OiAnYW1wbSdcbn07XG5DbG9ja0hvdXJzLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja0hvdXJzLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICBpbml0aWFsSG91cnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9ja0hvdXJzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDM0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9DbG9ja051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjM5KTtcblxudmFyIF9DbG9ja051bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja051bWJlcik7XG5cbnZhciBfQ2xvY2tQb2ludGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDApO1xuXG52YXIgX0Nsb2NrUG9pbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja1BvaW50ZXIpO1xuXG52YXIgX3RpbWVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2xvY2tNaW51dGVzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2xvY2tNaW51dGVzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja01pbnV0ZXMoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tNaW51dGVzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENsb2NrTWludXRlcy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tNaW51dGVzKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChfdGhpcy5pc01vdXNlUHJlc3NlZChldmVudCkgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLCBldmVudC50eXBlID09PSAndG91Y2hlbmQnKTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2tNaW51dGVzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgY2xvY2tFbGVtZW50ID0gdGhpcy5yZWZzLm1hc2s7XG5cbiAgICAgIHRoaXMuY2VudGVyID0ge1xuICAgICAgICB4OiBjbG9ja0VsZW1lbnQub2Zmc2V0V2lkdGggLyAyLFxuICAgICAgICB5OiBjbG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgICAgdGhpcy5iYXNlUG9pbnQgPSB7XG4gICAgICAgIHg6IHRoaXMuY2VudGVyLngsXG4gICAgICAgIHk6IDBcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNNb3VzZVByZXNzZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc01vdXNlUHJlc3NlZChldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiBldmVudC5idXR0b25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXZlbnQubmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXZlbnQuYnV0dG9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDbG9jaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsb2NrKGV2ZW50LCBmaW5pc2gpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQub2Zmc2V0WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9ICgwLCBfdGltZVV0aWxzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMpKGV2ZW50KTtcblxuICAgICAgICBldmVudC5vZmZzZXRYID0gb2Zmc2V0Lm9mZnNldFg7XG4gICAgICAgIGV2ZW50Lm9mZnNldFkgPSBvZmZzZXQub2Zmc2V0WTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1pbnV0ZXMgPSB0aGlzLmdldE1pbnV0ZXMoZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WSk7XG5cbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UobWludXRlcywgZmluaXNoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW51dGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICB2YXIgc3RlcCA9IDYgKiB0aGlzLnByb3BzLnN0ZXA7XG4gICAgICB2YXIgeCA9IG9mZnNldFggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIHkgPSBvZmZzZXRZIC0gdGhpcy5jZW50ZXIueTtcbiAgICAgIHZhciBjeCA9IHRoaXMuYmFzZVBvaW50LnggLSB0aGlzLmNlbnRlci54O1xuICAgICAgdmFyIGN5ID0gdGhpcy5iYXNlUG9pbnQueSAtIHRoaXMuY2VudGVyLnk7XG5cbiAgICAgIHZhciBhdGFuID0gTWF0aC5hdGFuMihjeCwgY3kpIC0gTWF0aC5hdGFuMih4LCB5KTtcblxuICAgICAgdmFyIGRlZyA9ICgwLCBfdGltZVV0aWxzLnJhZDJkZWcpKGF0YW4pO1xuICAgICAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBkZWcgJT0gMzYwO1xuXG4gICAgICB2YXIgdmFsdWUgPSBNYXRoLmZsb29yKGRlZyAvIHN0ZXApIHx8IDA7XG5cbiAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMucHJvcHMuc3RlcDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNaW51dGVOdW1iZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWludXRlTnVtYmVycygpIHtcbiAgICAgIHZhciBtaW51dGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgbWludXRlcy5wdXNoKGkgKiA1KTtcbiAgICAgIH1cbiAgICAgIHZhciBzZWxlY3RlZE1pbnV0ZXMgPSB0aGlzLnByb3BzLmluaXRpYWxNaW51dGVzO1xuICAgICAgdmFyIGhhc1NlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgIHZhciBudW1iZXJzID0gbWludXRlcy5tYXAoZnVuY3Rpb24gKG1pbnV0ZSkge1xuICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTWludXRlcyA9PT0gbWludXRlO1xuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrTnVtYmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBtaW51dGUsXG4gICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICB0eXBlOiAnbWludXRlJyxcbiAgICAgICAgICB2YWx1ZTogbWludXRlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG51bWJlcnM6IG51bWJlcnMsXG4gICAgICAgIGhhc1NlbGVjdGVkOiBoYXNTZWxlY3RlZCxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkTWludXRlc1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICAgICAgfSxcblxuICAgICAgICBoaXRNYXNrOiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIG1pbnV0ZXMgPSB0aGlzLmdldE1pbnV0ZU51bWJlcnMoKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyByZWY6ICdjbG9jaycsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvY2tQb2ludGVyMi5kZWZhdWx0LCB7IHZhbHVlOiBtaW51dGVzLnNlbGVjdGVkLCB0eXBlOiAnbWludXRlJywgaGFzU2VsZWN0ZWQ6IG1pbnV0ZXMuaGFzU2VsZWN0ZWQgfSksXG4gICAgICAgIG1pbnV0ZXMubnVtYmVycyxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICByZWY6ICdtYXNrJyxcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuaGl0TWFzayksXG4gICAgICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2gsXG4gICAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaCxcbiAgICAgICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlVXAsXG4gICAgICAgICAgb25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW92ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrTWludXRlcztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrTWludXRlcy5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxNaW51dGVzOiBuZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG4gIHN0ZXA6IDFcbn07XG5DbG9ja01pbnV0ZXMuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNsb2NrTWludXRlcy5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGluaXRpYWxNaW51dGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3RlcDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrTWludXRlcztcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfc2xpY2VkVG9BcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxNCk7XG5cbnZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGltZURpc3BsYXkgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGltZURpc3BsYXkoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGltZURpc3BsYXkpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZURpc3BsYXkuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRpbWVEaXNwbGF5KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiAndXAnXG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVEaXNwbGF5LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZFRpbWUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXh0UHJvcHMuc2VsZWN0ZWRUaW1lID4gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUgPyAndXAnIDogJ2Rvd24nO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzYW5pdGl6ZVRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYW5pdGl6ZVRpbWUoKSB7XG4gICAgICB2YXIgaG91ciA9IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lLmdldEhvdXJzKCk7XG4gICAgICB2YXIgbWluID0gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgICAgIGhvdXIgJT0gMTI7XG4gICAgICAgIGhvdXIgPSBob3VyIHx8IDEyO1xuICAgICAgfVxuXG4gICAgICBob3VyID0gaG91ci50b1N0cmluZygpO1xuICAgICAgaWYgKGhvdXIubGVuZ3RoIDwgMikgaG91ciA9ICcwJyArIGhvdXI7XG4gICAgICBpZiAobWluLmxlbmd0aCA8IDIpIG1pbiA9ICcwJyArIG1pbjtcblxuICAgICAgcmV0dXJuIFtob3VyLCBtaW5dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFmZml4ID0gX3Byb3BzLmFmZml4LFxuICAgICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG9uU2VsZWN0QWZmaXggPSBfcHJvcHMub25TZWxlY3RBZmZpeCxcbiAgICAgICAgICBvblNlbGVjdEhvdXIgPSBfcHJvcHMub25TZWxlY3RIb3VyLFxuICAgICAgICAgIG9uU2VsZWN0TWluID0gX3Byb3BzLm9uU2VsZWN0TWluLFxuICAgICAgICAgIHNlbGVjdGVkVGltZSA9IF9wcm9wcy5zZWxlY3RlZFRpbWUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYWZmaXgnLCAnZm9ybWF0JywgJ21vZGUnLCAnb25TZWxlY3RBZmZpeCcsICdvblNlbGVjdEhvdXInLCAnb25TZWxlY3RNaW4nLCAnc2VsZWN0ZWRUaW1lJ10pO1xuICAgICAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICAgIHByZXBhcmVTdHlsZXMgPSBfY29udGV4dCRtdWlUaGVtZS5wcmVwYXJlU3R5bGVzLFxuICAgICAgICAgIHRpbWVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS50aW1lUGlja2VyO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBwYWRkaW5nOiAnMTRweCAwJyxcbiAgICAgICAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiAyLFxuICAgICAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiAyLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGltZVBpY2tlci5oZWFkZXJDb2xvcixcbiAgICAgICAgICBjb2xvcjogdGltZVBpY2tlci50ZXh0Q29sb3JcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIG1hcmdpbjogJzZweCAwJyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnNThweCcsXG4gICAgICAgICAgaGVpZ2h0OiA1OCxcbiAgICAgICAgICBmb250U2l6ZTogNTgsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnYmFzZWxpbmUnXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICBtYXJnaW46ICcwIDEwcHgnXG4gICAgICAgIH0sXG4gICAgICAgIGFmZml4OiB7XG4gICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnMTdweCcsXG4gICAgICAgICAgaGVpZ2h0OiAxNyxcbiAgICAgICAgICBmb250U2l6ZTogMTdcbiAgICAgICAgfSxcbiAgICAgICAgYWZmaXhUb3A6IHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IC0yMCxcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGNsaWNrYWJsZToge1xuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgIH0sXG4gICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgb3BhY2l0eTogMC43XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBfc2FuaXRpemVUaW1lID0gdGhpcy5zYW5pdGl6ZVRpbWUoKSxcbiAgICAgICAgICBfc2FuaXRpemVUaW1lMiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3Nhbml0aXplVGltZSwgMiksXG4gICAgICAgICAgaG91ciA9IF9zYW5pdGl6ZVRpbWUyWzBdLFxuICAgICAgICAgIG1pbiA9IF9zYW5pdGl6ZVRpbWUyWzFdO1xuXG4gICAgICB2YXIgYnV0dG9ucyA9IFtdO1xuICAgICAgaWYgKGZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgICAgIGJ1dHRvbnMgPSBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAncG0nLFxuICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuY2xpY2thYmxlLCBhZmZpeCA9PT0gJ3BtJyA/IHt9IDogc3R5bGVzLmluYWN0aXZlKSksXG4gICAgICAgICAgICBvblRvdWNoVGFwOiBmdW5jdGlvbiBvblRvdWNoVGFwKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb25TZWxlY3RBZmZpeCgncG0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICdQTSdcbiAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAnYW0nLFxuICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWZmaXhUb3AsIHN0eWxlcy5jbGlja2FibGUsIGFmZml4ID09PSAnYW0nID8ge30gOiBzdHlsZXMuaW5hY3RpdmUpKSxcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IGZ1bmN0aW9uIG9uVG91Y2hUYXAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvblNlbGVjdEFmZml4KCdhbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0FNJ1xuICAgICAgICApXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50ZXh0KSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmFmZml4KSkgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnRpbWUpIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuY2xpY2thYmxlLCBtb2RlID09PSAnaG91cicgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXA6IG9uU2VsZWN0SG91clxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBob3VyXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgJzonXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmNsaWNrYWJsZSwgbW9kZSA9PT0gJ21pbnV0ZScgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXA6IG9uU2VsZWN0TWluXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1pblxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWZmaXgpKSB9LFxuICAgICAgICAgICAgYnV0dG9uc1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVEaXNwbGF5O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZURpc3BsYXkuZGVmYXVsdFByb3BzID0ge1xuICBhZmZpeDogJycsXG4gIG1vZGU6ICdob3VyJ1xufTtcblRpbWVEaXNwbGF5LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UaW1lRGlzcGxheS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGFmZml4OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnJywgJ3BtJywgJ2FtJ10pLFxuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydob3VyJywgJ21pbnV0ZSddKSxcbiAgb25TZWxlY3RBZmZpeDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblNlbGVjdEhvdXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TZWxlY3RNaW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWRUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lRGlzcGxheTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQzNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RpbWVQaWNrZXJEaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzNyk7XG5cbnZhciBfVGltZVBpY2tlckRpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lUGlja2VyRGlhbG9nKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF90aW1lVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGVtcHR5VGltZSA9IG5ldyBEYXRlKCk7XG5lbXB0eVRpbWUuc2V0SG91cnMoMCk7XG5lbXB0eVRpbWUuc2V0TWludXRlcygwKTtcbmVtcHR5VGltZS5zZXRTZWNvbmRzKDApO1xuZW1wdHlUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcblxudmFyIFRpbWVQaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lUGlja2VyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWVQaWNrZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZVBpY2tlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVGltZVBpY2tlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgdGltZTogbnVsbCxcbiAgICAgIGRpYWxvZ1RpbWU6IG5ldyBEYXRlKClcbiAgICB9LCBfdGhpcy5oYW5kbGVBY2NlcHREaWFsb2cgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0aW1lOiB0aW1lXG4gICAgICB9KTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkgX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCwgdGltZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlRm9jdXNJbnB1dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwSW5wdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMub3BlbkRpYWxvZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZVBpY2tlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdGltZTogdGhpcy5pc0NvbnRyb2xsZWQoKSA/IHRoaXMuZ2V0Q29udHJvbGxlZFRpbWUoKSA6IHRoaXMucHJvcHMuZGVmYXVsdFRpbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0aW1lOiB0aGlzLmdldENvbnRyb2xsZWRUaW1lKG5leHRQcm9wcylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBvcGVuRGlhbG9nKClgIGZvciBhbiBhcGkgY29uc2lzdGVudCB3aXRoIFRleHRGaWVsZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgIHRoaXMub3BlbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29wZW5EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRGlhbG9nKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpYWxvZ1RpbWU6IHRoaXMuc3RhdGUudGltZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlZnMuZGlhbG9nV2luZG93LnNob3coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NvbnRyb2xsZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NvbnRyb2xsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZSAhPT0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb250cm9sbGVkVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRyb2xsZWRUaW1lKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgIGlmIChwcm9wcy52YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmVzdWx0ID0gcHJvcHMudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgZGVmYXVsdFRpbWUgPSBfcHJvcHMuZGVmYXVsdFRpbWUsXG4gICAgICAgICAgZGlhbG9nQm9keVN0eWxlID0gX3Byb3BzLmRpYWxvZ0JvZHlTdHlsZSxcbiAgICAgICAgICBkaWFsb2dTdHlsZSA9IF9wcm9wcy5kaWFsb2dTdHlsZSxcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIG9uU2hvdyA9IF9wcm9wcy5vblNob3csXG4gICAgICAgICAgb25EaXNtaXNzID0gX3Byb3BzLm9uRGlzbWlzcyxcbiAgICAgICAgICBwZWRhbnRpYyA9IF9wcm9wcy5wZWRhbnRpYyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB0ZXh0RmllbGRTdHlsZSA9IF9wcm9wcy50ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcCA9IF9wcm9wcy5taW51dGVzU3RlcCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhdXRvT2snLCAnY2FuY2VsTGFiZWwnLCAnZGVmYXVsdFRpbWUnLCAnZGlhbG9nQm9keVN0eWxlJywgJ2RpYWxvZ1N0eWxlJywgJ2Zvcm1hdCcsICdva0xhYmVsJywgJ29uRm9jdXMnLCAnb25Ub3VjaFRhcCcsICdvblNob3cnLCAnb25EaXNtaXNzJywgJ3BlZGFudGljJywgJ3N0eWxlJywgJ3RleHRGaWVsZFN0eWxlJywgJ21pbnV0ZXNTdGVwJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcbiAgICAgIHZhciB0aW1lID0gdGhpcy5zdGF0ZS50aW1lO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgc3R5bGU6IHRleHRGaWVsZFN0eWxlLFxuICAgICAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgICAgICB2YWx1ZTogdGltZSA9PT0gZW1wdHlUaW1lID8gbnVsbCA6ICgwLCBfdGltZVV0aWxzLmZvcm1hdFRpbWUpKHRpbWUsIGZvcm1hdCwgcGVkYW50aWMpLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXNJbnB1dCxcbiAgICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwSW5wdXRcbiAgICAgICAgfSkpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckRpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIHJlZjogJ2RpYWxvZ1dpbmRvdycsXG4gICAgICAgICAgYm9keVN0eWxlOiBkaWFsb2dCb2R5U3R5bGUsXG4gICAgICAgICAgaW5pdGlhbFRpbWU6IHRoaXMuc3RhdGUuZGlhbG9nVGltZSxcbiAgICAgICAgICBvbkFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHREaWFsb2csXG4gICAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgICAgb25EaXNtaXNzOiBvbkRpc21pc3MsXG4gICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgYXV0b09rOiBhdXRvT2ssXG4gICAgICAgICAgc3R5bGU6IGRpYWxvZ1N0eWxlLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwOiBtaW51dGVzU3RlcFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVQaWNrZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b09rOiBmYWxzZSxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxuICBkZWZhdWx0VGltZTogbnVsbCxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBmb3JtYXQ6ICdhbXBtJyxcbiAgb2tMYWJlbDogJ09LJyxcbiAgcGVkYW50aWM6IGZhbHNlLFxuICBzdHlsZToge30sXG4gIHZhbHVlOiBudWxsLFxuICBtaW51dGVzU3RlcDogMVxufTtcblRpbWVQaWNrZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRpbWVQaWNrZXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBhY2NlcHQgYW5kIGNsb3NlIHRoZSBwaWNrZXIgb24gc2V0IG1pbnV0ZXMuXG4gICAqL1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBsYWJlbCBvZiB0aGUgJ0NhbmNlbCcgYnV0dG9uLlxuICAgKi9cbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIHRpbWUgdmFsdWUgb2YgdGhlIFRpbWVQaWNrZXIuXG4gICAqL1xuICBkZWZhdWx0VGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyRGlhbG9nJ3MgYm9keSBlbGVtZW50LlxuICAgKi9cbiAgZGlhbG9nQm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIFRpbWVQaWNrZXJEaWFsb2cncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBkaWFsb2dTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgVGltZVBpY2tlciBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUZWxscyB0aGUgY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIHBpY2tlciBpbiBgYW1wbWAgKDEyaHIpIGZvcm1hdCBvciBgMjRocmAgZm9ybWF0LlxuICAgKi9cbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICAvKipcbiAgICogSG93IG1hbnkgbWludXRlcyBzaG91bGQgYmUgYWRkZWQvc3VidHJhY3RlZCB3aGVuIG1vdmluZyB0aGUgY2xvY2sgcG9pbnRlci5cbiAgICovXG4gIG1pbnV0ZXNTdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBsYWJlbCBvZiB0aGUgJ09LJyBidXR0b24uXG4gICAqL1xuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRpbWUgdmFsdWUgY2hhbmdlcy4gVGhlIHRpbWUgdmFsdWUgaXMgcGFzc2VkIGluIGEgRGF0ZSBPYmplY3QuXG4gICAqIFNpbmNlIHRoZXJlIGlzIG5vIHBhcnRpY3VsYXIgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGFuZ2UgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYWx3YXlzIGJlIG51bGxcbiAgICogYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgd2lsbCBiZSB0aGUgbmV3IERhdGUgaW5zdGFuY2UuXG4gICAqL1xuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBkaWFsb2cgaXMgZGlzbWlzc2VkLlxuICAgKi9cbiAgb25EaXNtaXNzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBUaW1lUGlja2VyIGBUZXh0RmllbGRgIGdhaW5zIGZvY3VzLlxuICAgKi9cbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBkaWFsb2cgaXMgc2hvd24uXG4gICAqL1xuICBvblNob3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgaXMgdGFwcGVkIG9yIGNsaWNrZWQuXG4gICAqL1xuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB1c2VzIChcIm5vb25cIiAvIFwibWlkbmlnaHRcIikgaW5zdGVhZCBvZiAoXCIxMiBhLm0uXCIgLyBcIjEyIHAubS5cIikuXG4gICAqXG4gICAqIEl0J3MgdGVjaG5pY2FsbHkgbW9yZSBjb3JyZWN0IHRvIHJlZmVyIHRvIFwiMTIgbm9vblwiIGFuZCBcIjEyIG1pZG5pZ2h0XCIgcmF0aGVyIHRoYW4gXCIxMiBhLm0uXCIgYW5kIFwiMTIgcC5tLlwiXG4gICAqIGFuZCBpdCBhdm9pZHMgY29uZnVzaW9uIGJldHdlZW4gZGlmZmVyZW50IGxvY2FsZXMuIEJ5IGRlZmF1bHQgKGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMpIFRpbWVQaWNrZXIgdXNlc1xuICAgKiAoXCIxMiBhLm0uXCIgLyBcIjEyIHAubS5cIikuXG4gICAqL1xuICBwZWRhbnRpYzogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIFRpbWVQaWNrZXIncyBUZXh0RmllbGQgZWxlbWVudC5cbiAgICovXG4gIHRleHRGaWVsZFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWUgZm9yIHRoZSBUaW1lIFBpY2tlciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lUGlja2VyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDM3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RXZlbnRMaXN0ZW5lcik7XG5cbnZhciBfa2V5Y29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfQ2xvY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzMik7XG5cbnZhciBfQ2xvY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2spO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGltZVBpY2tlckRpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFRpbWVQaWNrZXJEaWFsb2csIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXJEaWFsb2coKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGltZVBpY2tlckRpYWxvZyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBUaW1lUGlja2VyRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShUaW1lUGlja2VyRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcENhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcE9LID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KF90aGlzLnJlZnMuY2xvY2suZ2V0U2VsZWN0ZWRUaW1lKCkpO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZVRvdWNoVGFwT0soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZVBpY2tlckRpYWxvZywgW3tcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uU2hvdyAmJiAhdGhpcy5zdGF0ZS5vcGVuKSB0aGlzLnByb3BzLm9uU2hvdygpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc21pc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNtaXNzKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25EaXNtaXNzICYmIHRoaXMuc3RhdGUub3BlbikgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzLmJvZHlTdHlsZSxcbiAgICAgICAgICBpbml0aWFsVGltZSA9IF9wcm9wcy5pbml0aWFsVGltZSxcbiAgICAgICAgICBvbkFjY2VwdCA9IF9wcm9wcy5vbkFjY2VwdCxcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGF1dG9PayA9IF9wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwID0gX3Byb3BzLm1pbnV0ZXNTdGVwLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2JvZHlTdHlsZScsICdpbml0aWFsVGltZScsICdvbkFjY2VwdCcsICdmb3JtYXQnLCAnYXV0b09rJywgJ29rTGFiZWwnLCAnY2FuY2VsTGFiZWwnLCAnc3R5bGUnLCAnbWludXRlc1N0ZXAnXSk7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb250ZXh0Lm11aVRoZW1lLnRpbWVQaWNrZXIuY2xvY2tDb2xvclxuICAgICAgICB9LFxuICAgICAgICBkaWFsb2dDb250ZW50OiB7XG4gICAgICAgICAgd2lkdGg6IDI4MFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgYWN0aW9ucyA9IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6IDAsXG4gICAgICAgIGxhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcENhbmNlbFxuICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgIGtleTogMSxcbiAgICAgICAgbGFiZWw6IG9rTGFiZWwsXG4gICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBPS1xuICAgICAgfSldO1xuXG4gICAgICB2YXIgb25DbG9ja0NoYW5nZU1pbnV0ZXMgPSBhdXRvT2sgPT09IHRydWUgPyB0aGlzLmhhbmRsZVRvdWNoVGFwT0sgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRGlhbG9nMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSxcbiAgICAgICAgICBib2R5U3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKSxcbiAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZTogc3R5bGVzLmRpYWxvZ0NvbnRlbnQsXG4gICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlOiBmYWxzZSxcbiAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZVxuICAgICAgICB9KSxcbiAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LCB7IHRhcmdldDogJ3dpbmRvdycsIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXAgfSksXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrMi5kZWZhdWx0LCB7XG4gICAgICAgICAgcmVmOiAnY2xvY2snLFxuICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgIGluaXRpYWxUaW1lOiBpbml0aWFsVGltZSxcbiAgICAgICAgICBvbkNoYW5nZU1pbnV0ZXM6IG9uQ2xvY2tDaGFuZ2VNaW51dGVzLFxuICAgICAgICAgIG1pbnV0ZXNTdGVwOiBtaW51dGVzU3RlcFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVQaWNrZXJEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UaW1lUGlja2VyRGlhbG9nLmRlZmF1bHRQcm9wcyA9IHtcbiAgb2tMYWJlbDogJ09LJyxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnXG59O1xuVGltZVBpY2tlckRpYWxvZy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVGltZVBpY2tlckRpYWxvZy5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIGluaXRpYWxUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWludXRlc1N0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9uQWNjZXB0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblNob3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lUGlja2VyRGlhbG9nO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDQyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfYXV0b1ByZWZpeCA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX2F1dG9QcmVmaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXV0b1ByZWZpeCk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTbGlkZUluQ2hpbGQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTbGlkZUluQ2hpbGQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNsaWRlSW5DaGlsZCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbGlkZUluQ2hpbGQpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChTbGlkZUluQ2hpbGQuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNsaWRlSW5DaGlsZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU2xpZGVJbkNoaWxkLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVyKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxlYXZlVGltZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihjYWxsYmFjaykge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgdmFyIHggPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gJzEwMCUnIDogdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdyaWdodCcgPyAnLTEwMCUnIDogJzAnO1xuICAgICAgdmFyIHkgPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ3VwJyA/ICcxMDAlJyA6IHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAnZG93bicgPyAnLTEwMCUnIDogJzAnO1xuXG4gICAgICBzdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgX2F1dG9QcmVmaXgyLmRlZmF1bHQuc2V0KHN0eWxlLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknKTtcblxuICAgICAgdGhpcy5lbnRlclRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGhpcy5wcm9wcy5lbnRlckRlbGF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZEVudGVyKCkge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgIF9hdXRvUHJlZml4Mi5kZWZhdWx0LnNldChzdHlsZSwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxMZWF2ZShjYWxsYmFjaykge1xuICAgICAgdmFyIHN0eWxlID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpLnN0eWxlO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMucHJvcHMuZ2V0TGVhdmVEaXJlY3Rpb24oKTtcbiAgICAgIHZhciB4ID0gZGlyZWN0aW9uID09PSAnbGVmdCcgPyAnLTEwMCUnIDogZGlyZWN0aW9uID09PSAncmlnaHQnID8gJzEwMCUnIDogJzAnO1xuICAgICAgdmFyIHkgPSBkaXJlY3Rpb24gPT09ICd1cCcgPyAnLTEwMCUnIDogZGlyZWN0aW9uID09PSAnZG93bicgPyAnMTAwJScgOiAnMCc7XG5cbiAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBfYXV0b1ByZWZpeDIuZGVmYXVsdC5zZXQoc3R5bGUsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB4ICsgJywgJyArIHkgKyAnKScpO1xuXG4gICAgICB0aGlzLmxlYXZlVGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCA0NTApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGVudGVyRGVsYXkgPSBfcHJvcHMuZW50ZXJEZWxheSxcbiAgICAgICAgICBnZXRMZWF2ZURpcmVjdGlvbiA9IF9wcm9wcy5nZXRMZWF2ZURpcmVjdGlvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydjaGlsZHJlbicsICdlbnRlckRlbGF5JywgJ2dldExlYXZlRGlyZWN0aW9uJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICB2YXIgbWVyZ2VkUm9vdFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQobnVsbCwgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKVxuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhtZXJnZWRSb290U3R5bGVzKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTbGlkZUluQ2hpbGQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5TbGlkZUluQ2hpbGQuZGVmYXVsdFByb3BzID0ge1xuICBlbnRlckRlbGF5OiAwXG59O1xuU2xpZGVJbkNoaWxkLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5TbGlkZUluQ2hpbGQucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBkaXJlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBlbnRlckRlbGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLy8gVGhpcyBjYWxsYmFjayBpcyBuZWVkZWQgYmFjYXVzZSB0aGUgZGlyZWN0aW9uIGNvdWxkIGNoYW5nZSB3aGVuIGxlYXZpbmcgdGhlIERPTVxuICBnZXRMZWF2ZURpcmVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gU2xpZGVJbkNoaWxkO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfRGlhbG9nMi5kZWZhdWx0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDUzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBOYXZpZ2F0aW9uQ2hldnJvbkxlZnQgPSBmdW5jdGlvbiBOYXZpZ2F0aW9uQ2hldnJvbkxlZnQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6JyB9KVxuICApO1xufTtcbk5hdmlnYXRpb25DaGV2cm9uTGVmdCA9ICgwLCBfcHVyZTIuZGVmYXVsdCkoTmF2aWdhdGlvbkNoZXZyb25MZWZ0KTtcbk5hdmlnYXRpb25DaGV2cm9uTGVmdC5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uQ2hldnJvbkxlZnQnO1xuTmF2aWdhdGlvbkNoZXZyb25MZWZ0Lm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5hdmlnYXRpb25DaGV2cm9uTGVmdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ1NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgTmF2aWdhdGlvbkNoZXZyb25SaWdodCA9IGZ1bmN0aW9uIE5hdmlnYXRpb25DaGV2cm9uUmlnaHQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02eicgfSlcbiAgKTtcbn07XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0KTtcbk5hdmlnYXRpb25DaGV2cm9uUmlnaHQuZGlzcGxheU5hbWUgPSAnTmF2aWdhdGlvbkNoZXZyb25SaWdodCc7XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0Lm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5hdmlnYXRpb25DaGV2cm9uUmlnaHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA4MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblxudmFyIF9DaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGVja2JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9DaGVja2JveDIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDgxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX1NuYWNrYmFyMi5kZWZhdWx0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gODk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHRVdGlscyA9IHVuZGVmaW5lZDtcbmV4cG9ydHMuZGF0ZVRpbWVGb3JtYXQgPSBkYXRlVGltZUZvcm1hdDtcbmV4cG9ydHMuZ2V0WWVhciA9IGdldFllYXI7XG5leHBvcnRzLnNldFllYXIgPSBzZXRZZWFyO1xuZXhwb3J0cy5hZGREYXlzID0gYWRkRGF5cztcbmV4cG9ydHMuYWRkTW9udGhzID0gYWRkTW9udGhzO1xuZXhwb3J0cy5hZGRZZWFycyA9IGFkZFllYXJzO1xuZXhwb3J0cy5jbG9uZURhdGUgPSBjbG9uZURhdGU7XG5leHBvcnRzLmNsb25lQXNEYXRlID0gY2xvbmVBc0RhdGU7XG5leHBvcnRzLmdldERheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5leHBvcnRzLmdldEZpcnN0RGF5T2ZNb250aCA9IGdldEZpcnN0RGF5T2ZNb250aDtcbmV4cG9ydHMuZ2V0Rmlyc3REYXlPZldlZWsgPSBnZXRGaXJzdERheU9mV2VlaztcbmV4cG9ydHMuZ2V0V2Vla0FycmF5ID0gZ2V0V2Vla0FycmF5O1xuZXhwb3J0cy5sb2NhbGl6ZWRXZWVrZGF5ID0gbG9jYWxpemVkV2Vla2RheTtcbmV4cG9ydHMuZm9ybWF0SXNvID0gZm9ybWF0SXNvO1xuZXhwb3J0cy5pc0VxdWFsRGF0ZSA9IGlzRXF1YWxEYXRlO1xuZXhwb3J0cy5pc0JlZm9yZURhdGUgPSBpc0JlZm9yZURhdGU7XG5leHBvcnRzLmlzQWZ0ZXJEYXRlID0gaXNBZnRlckRhdGU7XG5leHBvcnRzLmlzQmV0d2VlbkRhdGVzID0gaXNCZXR3ZWVuRGF0ZXM7XG5leHBvcnRzLm1vbnRoRGlmZiA9IG1vbnRoRGlmZjtcbmV4cG9ydHMueWVhckRpZmYgPSB5ZWFyRGlmZjtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRheUFiYnJldmlhdGlvbiA9IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddO1xudmFyIGRheUxpc3QgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xudmFyIG1vbnRoTGlzdCA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbnZhciBtb250aExvbmdMaXN0ID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG5cbmZ1bmN0aW9uIGRhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucykge1xuICAgZmFsc2UgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGxvY2FsZSA9PT0gJ2VuLVVTJywgJ01hdGVyaWFsLVVJOiBUaGUgJyArIGxvY2FsZSArICcgbG9jYWxlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJ1aWx0LWluIERhdGVUaW1lRm9ybWF0LlxcbiAgVXNlIHRoZSBgRGF0ZVRpbWVGb3JtYXRgIHByb3AgdG8gc3VwcGx5IGFuIGFsdGVybmF0aXZlIGltcGxlbWVudGF0aW9uLicpIDogdm9pZCAwO1xuXG4gIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICBpZiAob3B0aW9ucy5tb250aCA9PT0gJ3Nob3J0JyAmJiBvcHRpb25zLndlZWtkYXkgPT09ICdzaG9ydCcgJiYgb3B0aW9ucy5kYXkgPT09ICcyLWRpZ2l0Jykge1xuICAgICAgcmV0dXJuIGRheUxpc3RbZGF0ZS5nZXREYXkoKV0gKyAnLCAnICsgbW9udGhMaXN0W2RhdGUuZ2V0TW9udGgoKV0gKyAnICcgKyBkYXRlLmdldERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMubW9udGggPT09ICdudW1lcmljJyAmJiBvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMSArICcvJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy8nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5tb250aCA9PT0gJ2xvbmcnKSB7XG4gICAgICByZXR1cm4gbW9udGhMb25nTGlzdFtkYXRlLmdldE1vbnRoKCldICsgJyAnICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy53ZWVrZGF5ID09PSAnbmFycm93Jykge1xuICAgICAgcmV0dXJuIGRheUFiYnJldmlhdGlvbltkYXRlLmdldERheSgpXTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICBmYWxzZSA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogV3JvbmcgdXNhZ2Ugb2YgRGF0ZVRpbWVGb3JtYXQnKSA6IHZvaWQgMDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFllYXIoZCkge1xuICByZXR1cm4gZC5nZXRGdWxsWWVhcigpO1xufVxuXG5mdW5jdGlvbiBzZXRZZWFyKGQsIHllYXIpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoeWVhcik7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGREYXlzKGQsIGRheXMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RGF0ZShkLmdldERhdGUoKSArIGRheXMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkTW9udGhzKGQsIG1vbnRocykge1xuICB2YXIgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRNb250aChkLmdldE1vbnRoKCkgKyBtb250aHMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkWWVhcnMoZCwgeWVhcnMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoZC5nZXRGdWxsWWVhcigpICsgeWVhcnMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVEYXRlKGQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0VGltZSgpKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVBc0RhdGUoZCkge1xuICB2YXIgY2xvbmVkRGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgY2xvbmVkRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGNsb25lZERhdGU7XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoKGQpIHtcbiAgdmFyIHJlc3VsdERhdGUgPSBnZXRGaXJzdERheU9mTW9udGgoZCk7XG5cbiAgcmVzdWx0RGF0ZS5zZXRNb250aChyZXN1bHREYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgcmVzdWx0RGF0ZS5zZXREYXRlKHJlc3VsdERhdGUuZ2V0RGF0ZSgpIC0gMSk7XG5cbiAgcmV0dXJuIHJlc3VsdERhdGUuZ2V0RGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdERheU9mTW9udGgoZCkge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIDEpO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdERheU9mV2VlaygpIHtcbiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gIHJldHVybiBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gbm93LmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtBcnJheShkLCBmaXJzdERheU9mV2Vlaykge1xuICB2YXIgZGF5QXJyYXkgPSBbXTtcbiAgdmFyIGRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGgoZCk7XG4gIHZhciB3ZWVrQXJyYXkgPSBbXTtcbiAgdmFyIHdlZWsgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8PSBkYXlzSW5Nb250aDsgaSsrKSB7XG4gICAgZGF5QXJyYXkucHVzaChuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgaSkpO1xuICB9XG5cbiAgdmFyIGFkZFdlZWsgPSBmdW5jdGlvbiBhZGRXZWVrKHdlZWspIHtcbiAgICB2YXIgZW1wdHlEYXlzID0gNyAtIHdlZWsubGVuZ3RoO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBlbXB0eURheXM7ICsrX2kpIHtcbiAgICAgIHdlZWtbd2Vla0FycmF5Lmxlbmd0aCA/ICdwdXNoJyA6ICd1bnNoaWZ0J10obnVsbCk7XG4gICAgfVxuICAgIHdlZWtBcnJheS5wdXNoKHdlZWspO1xuICB9O1xuXG4gIGRheUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGRheSkge1xuICAgIGlmICh3ZWVrLmxlbmd0aCA+IDAgJiYgZGF5LmdldERheSgpID09PSBmaXJzdERheU9mV2Vlaykge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICAgIHdlZWsgPSBbXTtcbiAgICB9XG4gICAgd2Vlay5wdXNoKGRheSk7XG4gICAgaWYgKGRheUFycmF5LmluZGV4T2YoZGF5KSA9PT0gZGF5QXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB3ZWVrQXJyYXk7XG59XG5cbmZ1bmN0aW9uIGxvY2FsaXplZFdlZWtkYXkoRGF0ZVRpbWVGb3JtYXQsIGxvY2FsZSwgZGF5LCBmaXJzdERheU9mV2Vlaykge1xuICB2YXIgd2Vla2RheUZvcm1hdHRlciA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHsgd2Vla2RheTogJ25hcnJvdycgfSk7XG4gIHZhciBmaXJzdERheURhdGUgPSBnZXRGaXJzdERheU9mV2VlaygpO1xuXG4gIHJldHVybiB3ZWVrZGF5Rm9ybWF0dGVyLmZvcm1hdChhZGREYXlzKGZpcnN0RGF5RGF0ZSwgZGF5ICsgZmlyc3REYXlPZldlZWspKTtcbn1cblxuLy8gQ29udmVydCBkYXRlIHRvIElTTyA4NjAxIChZWVlZLU1NLUREKSBkYXRlIHN0cmluZywgYWNjb3VudGluZyBmb3IgY3VycmVudCB0aW1lem9uZVxuZnVuY3Rpb24gZm9ybWF0SXNvKGRhdGUpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUudG9EYXRlU3RyaW5nKCkgKyAnIDEyOjAwOjAwICswMDAwJykudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xufVxuXG5mdW5jdGlvbiBpc0VxdWFsRGF0ZShkMSwgZDIpIHtcbiAgcmV0dXJuIGQxICYmIGQyICYmIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCkgJiYgZDEuZ2V0TW9udGgoKSA9PT0gZDIuZ2V0TW9udGgoKSAmJiBkMS5nZXREYXRlKCkgPT09IGQyLmdldERhdGUoKTtcbn1cblxuZnVuY3Rpb24gaXNCZWZvcmVEYXRlKGQxLCBkMikge1xuICB2YXIgZGF0ZTEgPSBjbG9uZUFzRGF0ZShkMSk7XG4gIHZhciBkYXRlMiA9IGNsb25lQXNEYXRlKGQyKTtcblxuICByZXR1cm4gZGF0ZTEuZ2V0VGltZSgpIDwgZGF0ZTIuZ2V0VGltZSgpO1xufVxuXG5mdW5jdGlvbiBpc0FmdGVyRGF0ZShkMSwgZDIpIHtcbiAgdmFyIGRhdGUxID0gY2xvbmVBc0RhdGUoZDEpO1xuICB2YXIgZGF0ZTIgPSBjbG9uZUFzRGF0ZShkMik7XG5cbiAgcmV0dXJuIGRhdGUxLmdldFRpbWUoKSA+IGRhdGUyLmdldFRpbWUoKTtcbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuRGF0ZXMoZGF0ZVRvQ2hlY2ssIHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICByZXR1cm4gIWlzQmVmb3JlRGF0ZShkYXRlVG9DaGVjaywgc3RhcnREYXRlKSAmJiAhaXNBZnRlckRhdGUoZGF0ZVRvQ2hlY2ssIGVuZERhdGUpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYoZDEsIGQyKSB7XG4gIHZhciBtID0gdm9pZCAwO1xuICBtID0gKGQxLmdldEZ1bGxZZWFyKCkgLSBkMi5nZXRGdWxsWWVhcigpKSAqIDEyO1xuICBtICs9IGQxLmdldE1vbnRoKCk7XG4gIG0gLT0gZDIuZ2V0TW9udGgoKTtcbiAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIHllYXJEaWZmKGQxLCBkMikge1xuICByZXR1cm4gfn4obW9udGhEaWZmKGQxLCBkMikgLyAxMik7XG59XG5cbnZhciBkZWZhdWx0VXRpbHMgPSBleHBvcnRzLmRlZmF1bHRVdGlscyA9IHtcbiAgZ2V0WWVhcjogZ2V0WWVhcixcbiAgc2V0WWVhcjogc2V0WWVhcixcbiAgYWRkRGF5czogYWRkRGF5cyxcbiAgYWRkTW9udGhzOiBhZGRNb250aHMsXG4gIGFkZFllYXJzOiBhZGRZZWFycyxcbiAgZ2V0Rmlyc3REYXlPZk1vbnRoOiBnZXRGaXJzdERheU9mTW9udGgsXG4gIGdldFdlZWtBcnJheTogZ2V0V2Vla0FycmF5LFxuICBtb250aERpZmY6IG1vbnRoRGlmZlxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDkyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hZGRIb3VycyA9IGFkZEhvdXJzO1xuZXhwb3J0cy5hZGRNaW51dGVzID0gYWRkTWludXRlcztcbmV4cG9ydHMuYWRkU2Vjb25kcyA9IGFkZFNlY29uZHM7XG5leHBvcnRzLmZvcm1hdFRpbWUgPSBmb3JtYXRUaW1lO1xuZXhwb3J0cy5yYWQyZGVnID0gcmFkMmRlZztcbmV4cG9ydHMuZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcyA9IGdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXM7XG5leHBvcnRzLmlzSW5uZXIgPSBpc0lubmVyO1xuZnVuY3Rpb24gYWRkSG91cnMoZCwgaG91cnMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRIb3VycyhkLmdldEhvdXJzKCkgKyBob3Vycyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRNaW51dGVzKGQsIG1pbnV0ZXMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRNaW51dGVzKGQuZ2V0TWludXRlcygpICsgbWludXRlcyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGRTZWNvbmRzKGQsIHNlY29uZHMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcbiAgbmV3RGF0ZS5zZXRTZWNvbmRzKGQuZ2V0TWludXRlcygpICsgc2Vjb25kcyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBjbG9uZShkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldFRpbWUoKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIGRhdGUgW0RhdGVdIEEgRGF0ZSBvYmplY3QuXG4gKiBAcGFyYW0gZm9ybWF0IFtTdHJpbmddIE9uZSBvZiAnYW1wbScsICcyNGhyJywgZGVmYXVsdHMgdG8gJ2FtcG0nLlxuICogQHBhcmFtIHBlZGFudGljIFtCb29sZWFuXSBDaGVjayB0aW1lLXBpY2tlci90aW1lLXBpY2tlci5qc3ggZmlsZS5cbiAqXG4gKiBAcmV0dXJuIFN0cmluZyBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGZvcm1hdHRlZCB0aW1lLlxuICovXG5mdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGUpIHtcbiAgdmFyIGZvcm1hdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2FtcG0nO1xuICB2YXIgcGVkYW50aWMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gIGlmICghZGF0ZSkgcmV0dXJuICcnO1xuICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gIHZhciBtaW5zID0gZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTtcblxuICBpZiAoZm9ybWF0ID09PSAnYW1wbScpIHtcbiAgICB2YXIgaXNBTSA9IGhvdXJzIDwgMTI7XG4gICAgaG91cnMgPSBob3VycyAlIDEyO1xuICAgIHZhciBhZGRpdGlvbmFsID0gaXNBTSA/ICcgYW0nIDogJyBwbSc7XG4gICAgaG91cnMgPSAoaG91cnMgfHwgMTIpLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAobWlucy5sZW5ndGggPCAyKSBtaW5zID0gJzAnICsgbWlucztcblxuICAgIGlmIChwZWRhbnRpYykge1xuICAgICAgLy8gVHJlYXQgbWlkZGF5L21pZG5pZ2h0IHNwZWNpYWxseSBodHRwOi8vd3d3Lm5pc3QuZ292L3BtbC9kaXY2ODgvdGltZXMuY2ZtXG4gICAgICBpZiAoaG91cnMgPT09ICcxMicgJiYgbWlucyA9PT0gJzAwJykge1xuICAgICAgICByZXR1cm4gYWRkaXRpb25hbCA9PT0gJyBwbScgPyAnMTIgbm9vbicgOiAnMTIgbWlkbmlnaHQnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBob3VycyArIChtaW5zID09PSAnMDAnID8gJycgOiAnOicgKyBtaW5zKSArIGFkZGl0aW9uYWw7XG4gIH1cblxuICBob3VycyA9IGhvdXJzLnRvU3RyaW5nKCk7XG5cbiAgaWYgKGhvdXJzLmxlbmd0aCA8IDIpIGhvdXJzID0gJzAnICsgaG91cnM7XG4gIGlmIChtaW5zLmxlbmd0aCA8IDIpIG1pbnMgPSAnMCcgKyBtaW5zO1xuXG4gIHJldHVybiBob3VycyArICc6JyArIG1pbnM7XG59XG5cbmZ1bmN0aW9uIHJhZDJkZWcocmFkKSB7XG4gIHJldHVybiByYWQgKiA1Ny4yOTU3Nzk1MTMwODIzMjtcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hFdmVudE9mZnNldFZhbHVlcyhldmVudCkge1xuICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG4gIHZhciBib3VuZGluZ1JlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICByZXR1cm4ge1xuICAgIG9mZnNldFg6IGV2ZW50LmNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdCxcbiAgICBvZmZzZXRZOiBldmVudC5jbGllbnRZIC0gYm91bmRpbmdSZWN0LnRvcFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc0lubmVyKHByb3BzKSB7XG4gIGlmIChwcm9wcy50eXBlICE9PSAnaG91cicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHByb3BzLnZhbHVlIDwgMSB8fCBwcm9wcy52YWx1ZSA+IDEyO1xufVxuXG4vKioqLyB9KVxuXG59LFszMDRdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2hvcHJlZy5idW5kbGUuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9QYXBlciA9IHJlcXVpcmUoJy4uL1BhcGVyJyk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX3Byb3BUeXBlczMgPSByZXF1aXJlKCcuLi91dGlscy9wcm9wVHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIHRhcmdldE9yaWdpbiA9IHByb3BzLnRhcmdldE9yaWdpbjtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuICB2YXIgbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lO1xuXG4gIHZhciBob3Jpem9udGFsID0gdGFyZ2V0T3JpZ2luLmhvcml6b250YWwucmVwbGFjZSgnbWlkZGxlJywgJ3ZlcnRpY2FsJyk7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHpJbmRleDogbXVpVGhlbWUuekluZGV4LnBvcG92ZXIsXG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAnc2NhbGVZKDEpJyA6ICdzY2FsZVkoMCknLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiBob3Jpem9udGFsICsgJyAnICsgdGFyZ2V0T3JpZ2luLnZlcnRpY2FsLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQ1MG1zJywgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKSxcbiAgICAgIG1heEhlaWdodDogJzEwMCUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb3BvdmVyQW5pbWF0aW9uVmVydGljYWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBuZXh0UHJvcHMub3BlblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB6RGVwdGggPSBfcHJvcHMuekRlcHRoO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblBvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0eWxlOiB7fSxcbiAgekRlcHRoOiAxXG59O1xuUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHRhcmdldE9yaWdpbjogX3Byb3BUeXBlczQuZGVmYXVsdC5vcmlnaW4uaXNSZXF1aXJlZCxcbiAgekRlcHRoOiBfcHJvcFR5cGVzNC5kZWZhdWx0LnpEZXB0aFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9Qb3BvdmVyL1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbC5qc1xuLy8gbW9kdWxlIGlkID0gMTA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5NZW51SXRlbSA9IGV4cG9ydHMuRHJvcERvd25NZW51ID0gdW5kZWZpbmVkO1xuXG52YXIgX0Ryb3BEb3duTWVudTIgPSByZXF1aXJlKCcuL0Ryb3BEb3duTWVudScpO1xuXG52YXIgX0Ryb3BEb3duTWVudTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wRG93bk1lbnUyKTtcblxudmFyIF9NZW51SXRlbTIgPSByZXF1aXJlKCcuLi9NZW51SXRlbS9NZW51SXRlbScpO1xuXG52YXIgX01lbnVJdGVtMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuRHJvcERvd25NZW51ID0gX0Ryb3BEb3duTWVudTMuZGVmYXVsdDtcbmV4cG9ydHMuTWVudUl0ZW0gPSBfTWVudUl0ZW0zLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfRHJvcERvd25NZW51My5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9Ecm9wRG93bk1lbnUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDExNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0VuaGFuY2VkU3dpdGNoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvRW5oYW5jZWRTd2l0Y2gnKTtcblxudmFyIF9FbmhhbmNlZFN3aXRjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbmhhbmNlZFN3aXRjaCk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfY2hlY2tCb3hPdXRsaW5lQmxhbmsgPSByZXF1aXJlKCcuLi9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveC1vdXRsaW5lLWJsYW5rJyk7XG5cbnZhciBfY2hlY2tCb3hPdXRsaW5lQmxhbmsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tCb3hPdXRsaW5lQmxhbmspO1xuXG52YXIgX2NoZWNrQm94ID0gcmVxdWlyZSgnLi4vc3ZnLWljb25zL3RvZ2dsZS9jaGVjay1ib3gnKTtcblxudmFyIF9jaGVja0JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2hlY2tib3ggPSBjb250ZXh0Lm11aVRoZW1lLmNoZWNrYm94O1xuXG4gIHZhciBjaGVja2JveFNpemUgPSAyNDtcblxuICByZXR1cm4ge1xuICAgIGljb246IHtcbiAgICAgIGhlaWdodDogY2hlY2tib3hTaXplLFxuICAgICAgd2lkdGg6IGNoZWNrYm94U2l6ZVxuICAgIH0sXG4gICAgY2hlY2s6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDApJyxcbiAgICAgIHRyYW5zaXRpb25PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0NTBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAndHJhbnNmb3JtJywgJzQ1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGNoZWNrV2hlblN3aXRjaGVkOiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdvcGFjaXR5JywgJzBtcycpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc4MDBtcycsICd0cmFuc2Zvcm0nLCAnMG1zJylcbiAgICB9LFxuICAgIGNoZWNrV2hlbkRpc2FibGVkOiB7XG4gICAgICBmaWxsOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBib3g6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGZpbGw6IGNoZWNrYm94LmJveENvbG9yLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzEwMDBtcycsICdvcGFjaXR5JywgJzIwMG1zJylcbiAgICB9LFxuICAgIGJveFdoZW5Td2l0Y2hlZDoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc2NTBtcycsICdvcGFjaXR5JywgJzE1MG1zJyksXG4gICAgICBmaWxsOiBjaGVja2JveC5jaGVja2VkQ29sb3JcbiAgICB9LFxuICAgIGJveFdoZW5EaXNhYmxlZDoge1xuICAgICAgZmlsbDogcHJvcHMuY2hlY2tlZCA/ICd0cmFuc3BhcmVudCcgOiBjaGVja2JveC5kaXNhYmxlZENvbG9yXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgY29sb3I6IHByb3BzLmRpc2FibGVkID8gY2hlY2tib3gubGFiZWxEaXNhYmxlZENvbG9yIDogY2hlY2tib3gubGFiZWxDb2xvclxuICAgIH1cbiAgfTtcbn1cblxudmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2hlY2tib3gsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENoZWNrYm94KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENoZWNrYm94KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENoZWNrYm94Ll9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDaGVja2JveCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3dpdGNoZWQ6IGZhbHNlXG4gICAgfSwgX3RoaXMuaGFuZGxlU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3U3dpdGNoZWQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3dpdGNoZWQ6IG5ld1N3aXRjaGVkXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGVjayA9IGZ1bmN0aW9uIChldmVudCwgaXNJbnB1dENoZWNrZWQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoZWNrKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2hlY2soZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2hlY2tib3gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gX3Byb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgIHZhbHVlTGluayA9IF9wcm9wcy52YWx1ZUxpbms7XG5cblxuICAgICAgaWYgKGNoZWNrZWQgfHwgZGVmYXVsdENoZWNrZWQgfHwgdmFsdWVMaW5rICYmIHZhbHVlTGluay52YWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoZWNrZWQgIT09IG5leHRQcm9wcy5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0NoZWNrZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoZWNrZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmVuaGFuY2VkU3dpdGNoLmlzU3dpdGNoZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDaGVja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hlY2tlZChuZXdDaGVja2VkVmFsdWUpIHtcbiAgICAgIHRoaXMucmVmcy5lbmhhbmNlZFN3aXRjaC5zZXRTd2l0Y2hlZChuZXdDaGVja2VkVmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMyLmljb25TdHlsZSxcbiAgICAgICAgICBvbkNoZWNrID0gX3Byb3BzMi5vbkNoZWNrLFxuICAgICAgICAgIGNoZWNrZWRJY29uID0gX3Byb3BzMi5jaGVja2VkSWNvbixcbiAgICAgICAgICB1bmNoZWNrZWRJY29uID0gX3Byb3BzMi51bmNoZWNrZWRJY29uLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzMiwgWydpY29uU3R5bGUnLCAnb25DaGVjaycsICdjaGVja2VkSWNvbicsICd1bmNoZWNrZWRJY29uJ10pO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgYm94U3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5ib3gsIHRoaXMuc3RhdGUuc3dpdGNoZWQgJiYgc3R5bGVzLmJveFdoZW5Td2l0Y2hlZCwgaWNvblN0eWxlLCB0aGlzLnByb3BzLmRpc2FibGVkICYmIHN0eWxlcy5ib3hXaGVuRGlzYWJsZWQpO1xuICAgICAgdmFyIGNoZWNrU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jaGVjaywgdGhpcy5zdGF0ZS5zd2l0Y2hlZCAmJiBzdHlsZXMuY2hlY2tXaGVuU3dpdGNoZWQsIGljb25TdHlsZSwgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBzdHlsZXMuY2hlY2tXaGVuRGlzYWJsZWQpO1xuXG4gICAgICB2YXIgY2hlY2tlZEVsZW1lbnQgPSBjaGVja2VkSWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShjaGVja1N0eWxlcywgY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveDIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogY2hlY2tTdHlsZXNcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdW5DaGVja2VkRWxlbWVudCA9IHVuY2hlY2tlZEljb24gPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KHVuY2hlY2tlZEljb24sIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShib3hTdHlsZXMsIHVuY2hlY2tlZEljb24ucHJvcHMuc3R5bGUpXG4gICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGVja0JveE91dGxpbmVCbGFuazIuZGVmYXVsdCwge1xuICAgICAgICBzdHlsZTogYm94U3R5bGVzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNoZWNrYm94RWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdW5DaGVja2VkRWxlbWVudCxcbiAgICAgICAgY2hlY2tlZEVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIHZhciByaXBwbGVDb2xvciA9IHRoaXMuc3RhdGUuc3dpdGNoZWQgPyBjaGVja1N0eWxlcy5maWxsIDogYm94U3R5bGVzLmZpbGw7XG4gICAgICB2YXIgbWVyZ2VkSWNvblN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uU3R5bGUpO1xuXG4gICAgICB2YXIgbGFiZWxTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIHRoaXMucHJvcHMubGFiZWxTdHlsZSk7XG5cbiAgICAgIHZhciBlbmhhbmNlZFN3aXRjaFByb3BzID0ge1xuICAgICAgICByZWY6ICdlbmhhbmNlZFN3aXRjaCcsXG4gICAgICAgIGlucHV0VHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgc3dpdGNoZWQ6IHRoaXMuc3RhdGUuc3dpdGNoZWQsXG4gICAgICAgIHN3aXRjaEVsZW1lbnQ6IGNoZWNrYm94RWxlbWVudCxcbiAgICAgICAgcmlwcGxlQ29sb3I6IHJpcHBsZUNvbG9yLFxuICAgICAgICBpY29uU3R5bGU6IG1lcmdlZEljb25TdHlsZSxcbiAgICAgICAgb25Td2l0Y2g6IHRoaXMuaGFuZGxlQ2hlY2ssXG4gICAgICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXG4gICAgICAgIG9uUGFyZW50U2hvdWxkVXBkYXRlOiB0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlLFxuICAgICAgICBsYWJlbFBvc2l0aW9uOiB0aGlzLnByb3BzLmxhYmVsUG9zaXRpb25cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRW5oYW5jZWRTd2l0Y2gyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCBlbmhhbmNlZFN3aXRjaFByb3BzKSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaGVja2JveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgbGFiZWxQb3NpdGlvbjogJ3JpZ2h0JyxcbiAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuQ2hlY2tib3guY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNoZWNrYm94LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIENoZWNrYm94IGlzIGNoZWNrZWQgaWYgdHJ1ZS5cbiAgICovXG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIGNoZWNrZWQgc3RhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBpY29uIHRvZ2dsZXMuXG4gICAqL1xuICBjaGVja2VkSWNvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3RhdGUgb2Ygb3VyIGNoZWNrYm94IGNvbXBvbmVudC5cbiAgICogKipXYXJuaW5nOioqIFRoaXMgY2Fubm90IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgY2hlY2tlZGAuXG4gICAqIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy5cbiAgICogTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50c1xuICAgKi9cbiAgZGVmYXVsdENoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIERpc2FibGVkIGlmIHRydWUuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBXaGVyZSB0aGUgbGFiZWwgd2lsbCBiZSBwbGFjZWQgbmV4dCB0byB0aGUgY2hlY2tib3guXG4gICAqL1xuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgQ2hlY2tib3ggZWxlbWVudCBsYWJlbC5cbiAgICovXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgYGNoYW5nZWAgZXZlbnQgdGFyZ2V0aW5nIHRoZSB1bmRlcmx5aW5nIGNoZWNrYm94IGBpbnB1dGAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNJbnB1dENoZWNrZWQgVGhlIGBjaGVja2VkYCB2YWx1ZSBvZiB0aGUgdW5kZXJseWluZyBjaGVja2JveCBgaW5wdXRgLlxuICAgKi9cbiAgb25DaGVjazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBTdmdJY29uIHRvIHVzZSBmb3IgdGhlIHVuY2hlY2tlZCBzdGF0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGljb24gdG9nZ2xlcy5cbiAgICovXG4gIHVuY2hlY2tlZEljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCxcbiAgLyoqXG4gICAqIFZhbHVlTGluayBmb3Igd2hlbiB1c2luZyBjb250cm9sbGVkIGNoZWNrYm94LlxuICAgKi9cbiAgdmFsdWVMaW5rOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2hlY2tib3g7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L0NoZWNrYm94LmpzXG4vLyBtb2R1bGUgaWQgPSAxNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSByZXF1aXJlKCdrZXljb2RlJyk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9PdmVybGF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvT3ZlcmxheScpO1xuXG52YXIgX092ZXJsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3ZlcmxheSk7XG5cbnZhciBfUmVuZGVyVG9MYXllciA9IHJlcXVpcmUoJy4uL2ludGVybmFsL1JlbmRlclRvTGF5ZXInKTtcblxudmFyIF9SZW5kZXJUb0xheWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRvTGF5ZXIpO1xuXG52YXIgX1BhcGVyID0gcmVxdWlyZSgnLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gcmVxdWlyZSgncmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAnKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRyYW5zaXRpb25JdGVtID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25JdGVtKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRyYW5zaXRpb25JdGVtKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFRyYW5zaXRpb25JdGVtLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3R5bGU6IHt9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVvdXQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lb3V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsRW50ZXIoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuY29tcG9uZW50V2lsbEFwcGVhcihjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbEFwcGVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxBcHBlYXIoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzcGFjaW5nID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmJhc2VUaGVtZS5zcGFjaW5nO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAnICsgc3BhY2luZy5kZXNrdG9wS2V5bGluZUluY3JlbWVudCArICdweCknXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmVudGVyVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDQ1MCk7IC8vIG1hdGNoZXMgdHJhbnNpdGlvbiBkdXJhdGlvblxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxMZWF2ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgMCknXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxlYXZlVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDQ1MCk7IC8vIG1hdGNoZXMgdHJhbnNpdGlvbiBkdXJhdGlvblxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ3N0eWxlJywgJ2NoaWxkcmVuJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHRoaXMuc3RhdGUuc3R5bGUsIHN0eWxlKSkgfSksXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVHJhbnNpdGlvbkl0ZW07XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uSXRlbS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVHJhbnNpdGlvbkl0ZW0ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGF1dG9TY3JvbGxCb2R5Q29udGVudCA9IHByb3BzLmF1dG9TY3JvbGxCb2R5Q29udGVudCxcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkYmFzID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgc3BhY2luZyA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5zcGFjaW5nLFxuICAgICAgcGFsZXR0ZSA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5wYWxldHRlLFxuICAgICAgZGlhbG9nID0gX2NvbnRleHQkbXVpVGhlbWUuZGlhbG9nLFxuICAgICAgekluZGV4ID0gX2NvbnRleHQkbXVpVGhlbWUuekluZGV4O1xuXG5cbiAgdmFyIGd1dHRlciA9IHNwYWNpbmcuZGVza3RvcEd1dHRlcjtcbiAgdmFyIGJvcmRlclNjcm9sbCA9ICcxcHggc29saWQgJyArIHBhbGV0dGUuYm9yZGVyQ29sb3I7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHpJbmRleDogekluZGV4LmRpYWxvZyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IG9wZW4gPyAwIDogLTEwMDAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgdHJhbnNpdGlvbjogb3BlbiA/IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnbGVmdCcsICcwbXMnKSA6IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnbGVmdCcsICc0NTBtcycpXG4gICAgfSxcbiAgICBjb250ZW50OiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB3aWR0aDogJzc1JScsXG4gICAgICBtYXhXaWR0aDogc3BhY2luZy5kZXNrdG9wS2V5bGluZUluY3JlbWVudCAqIDEyLFxuICAgICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICAgIHpJbmRleDogekluZGV4LmRpYWxvZ1xuICAgIH0sXG4gICAgYWN0aW9uc0NvbnRhaW5lcjoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgcGFkZGluZzogOCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB0ZXh0QWxpZ246ICdyaWdodCcsXG4gICAgICBtYXJnaW5Ub3A6IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IC0xIDogMFxuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nT3ZlcmxheVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBhZGRpbmc6IGd1dHRlciArICdweCAnICsgZ3V0dGVyICsgJ3B4IDIwcHggJyArIGd1dHRlciArICdweCcsXG4gICAgICBjb2xvcjogcGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250U2l6ZTogZGlhbG9nLnRpdGxlRm9udFNpemUsXG4gICAgICBsaW5lSGVpZ2h0OiAnMzJweCcsXG4gICAgICBmb250V2VpZ2h0OiA0MDAsXG4gICAgICBtYXJnaW5Cb3R0b206IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IC0xIDogMFxuICAgIH0sXG4gICAgYm9keToge1xuICAgICAgZm9udFNpemU6IGRpYWxvZy5ib2R5Rm9udFNpemUsXG4gICAgICBjb2xvcjogZGlhbG9nLmJvZHlDb2xvcixcbiAgICAgIHBhZGRpbmc6IChwcm9wcy50aXRsZSA/IDAgOiBndXR0ZXIpICsgJ3B4ICcgKyBndXR0ZXIgKyAncHggJyArIGd1dHRlciArICdweCcsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIG92ZXJmbG93WTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gJ2F1dG8nIDogJ2hpZGRlbicsXG4gICAgICBib3JkZXJUb3A6IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IGJvcmRlclNjcm9sbCA6ICdub25lJyxcbiAgICAgIGJvcmRlckJvdHRvbTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gYm9yZGVyU2Nyb2xsIDogJ25vbmUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgRGlhbG9nSW5saW5lID0gZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERpYWxvZ0lubGluZSwgX0NvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIERpYWxvZ0lubGluZSgpIHtcbiAgICB2YXIgX3JlZjI7XG5cbiAgICB2YXIgX3RlbXAyLCBfdGhpczIsIF9yZXQyO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlhbG9nSW5saW5lKTtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQyID0gKF90ZW1wMiA9IChfdGhpczIgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmMiA9IERpYWxvZ0lubGluZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGlhbG9nSW5saW5lKSkuY2FsbC5hcHBseShfcmVmMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpczIpLCBfdGhpczIuaGFuZGxlVG91Y2hUYXBPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMyLnJlcXVlc3RDbG9zZShmYWxzZSk7XG4gICAgfSwgX3RoaXMyLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdlc2MnKSB7XG4gICAgICAgIF90aGlzMi5yZXF1ZXN0Q2xvc2UoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIF90aGlzMi5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucG9zaXRpb25EaWFsb2coKTtcbiAgICB9LCBfdGVtcDIpLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzMiwgX3JldDIpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGlhbG9nSW5saW5lLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Bvc2l0aW9uRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb25EaWFsb2coKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0aW9ucyA9IF9wcm9wczIuYWN0aW9ucyxcbiAgICAgICAgICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0ID0gX3Byb3BzMi5hdXRvRGV0ZWN0V2luZG93SGVpZ2h0LFxuICAgICAgICAgIGF1dG9TY3JvbGxCb2R5Q29udGVudCA9IF9wcm9wczIuYXV0b1Njcm9sbEJvZHlDb250ZW50LFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wczIuYm9keVN0eWxlLFxuICAgICAgICAgIG9wZW4gPSBfcHJvcHMyLm9wZW4sXG4gICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlID0gX3Byb3BzMi5yZXBvc2l0aW9uT25VcGRhdGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMyLnRpdGxlO1xuXG5cbiAgICAgIGlmICghb3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcbiAgICAgIHZhciBjb250YWluZXIgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgICB2YXIgZGlhbG9nV2luZG93ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaWFsb2dXaW5kb3cpO1xuICAgICAgdmFyIGRpYWxvZ0NvbnRlbnQgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZ0NvbnRlbnQpO1xuICAgICAgdmFyIG1pblBhZGRpbmdUb3AgPSAxNjtcblxuICAgICAgLy8gUmVzZXQgdGhlIGhlaWdodCBpbiBjYXNlIHRoZSB3aW5kb3cgd2FzIHJlc2l6ZWQuXG4gICAgICBkaWFsb2dXaW5kb3cuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICBkaWFsb2dDb250ZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuXG4gICAgICB2YXIgZGlhbG9nV2luZG93SGVpZ2h0ID0gZGlhbG9nV2luZG93Lm9mZnNldEhlaWdodDtcbiAgICAgIHZhciBwYWRkaW5nVG9wID0gKGNsaWVudEhlaWdodCAtIGRpYWxvZ1dpbmRvd0hlaWdodCkgLyAyIC0gNjQ7XG4gICAgICBpZiAocGFkZGluZ1RvcCA8IG1pblBhZGRpbmdUb3ApIHBhZGRpbmdUb3AgPSBtaW5QYWRkaW5nVG9wO1xuXG4gICAgICAvLyBWZXJ0aWNhbGx5IGNlbnRlciB0aGUgZGlhbG9nIHdpbmRvdywgYnV0IG1ha2Ugc3VyZSBpdCBkb2Vzbid0XG4gICAgICAvLyB0cmFuc2l0aW9uIHRvIHRoYXQgcG9zaXRpb24uXG4gICAgICBpZiAocmVwb3NpdGlvbk9uVXBkYXRlIHx8ICFjb250YWluZXIuc3R5bGUucGFkZGluZ1RvcCkge1xuICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3AgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3JjZSBhIGhlaWdodCBpZiB0aGUgZGlhbG9nIGlzIHRhbGxlciB0aGFuIGNsaWVudEhlaWdodFxuICAgICAgaWYgKGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQgfHwgYXV0b1Njcm9sbEJvZHlDb250ZW50KSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgICAgc3R5bGVzLmJvZHkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSk7XG4gICAgICAgIHZhciBtYXhEaWFsb2dDb250ZW50SGVpZ2h0ID0gY2xpZW50SGVpZ2h0IC0gMiAqIDY0O1xuXG4gICAgICAgIGlmICh0aXRsZSkgbWF4RGlhbG9nQ29udGVudEhlaWdodCAtPSBkaWFsb2dDb250ZW50LnByZXZpb3VzU2libGluZy5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChhY3Rpb25zKSkge1xuICAgICAgICAgIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgLT0gZGlhbG9nQ29udGVudC5uZXh0U2libGluZy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBkaWFsb2dDb250ZW50LnN0eWxlLm1heEhlaWdodCA9IG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgKyAncHgnO1xuICAgICAgICBpZiAobWF4RGlhbG9nQ29udGVudEhlaWdodCA+IGRpYWxvZ1dpbmRvd0hlaWdodCkge1xuICAgICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuYm9yZGVyQm90dG9tID0gJ25vbmUnO1xuICAgICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuYm9yZGVyVG9wID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVxdWVzdENsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdENsb3NlKGJ1dHRvbkNsaWNrZWQpIHtcbiAgICAgIGlmICghYnV0dG9uQ2xpY2tlZCAmJiB0aGlzLnByb3BzLm1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSghIWJ1dHRvbkNsaWNrZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3Rpb25zID0gX3Byb3BzMy5hY3Rpb25zLFxuICAgICAgICAgIGFjdGlvbnNDb250YWluZXJDbGFzc05hbWUgPSBfcHJvcHMzLmFjdGlvbnNDb250YWluZXJDbGFzc05hbWUsXG4gICAgICAgICAgYWN0aW9uc0NvbnRhaW5lclN0eWxlID0gX3Byb3BzMy5hY3Rpb25zQ29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgYm9keUNsYXNzTmFtZSA9IF9wcm9wczMuYm9keUNsYXNzTmFtZSxcbiAgICAgICAgICBib2R5U3R5bGUgPSBfcHJvcHMzLmJvZHlTdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMy5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGVudENsYXNzTmFtZSA9IF9wcm9wczMuY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICBjb250ZW50U3R5bGUgPSBfcHJvcHMzLmNvbnRlbnRTdHlsZSxcbiAgICAgICAgICBvdmVybGF5Q2xhc3NOYW1lID0gX3Byb3BzMy5vdmVybGF5Q2xhc3NOYW1lLFxuICAgICAgICAgIG92ZXJsYXlTdHlsZSA9IF9wcm9wczMub3ZlcmxheVN0eWxlLFxuICAgICAgICAgIG9wZW4gPSBfcHJvcHMzLm9wZW4sXG4gICAgICAgICAgcGFwZXJDbGFzc05hbWUgPSBfcHJvcHMzLnBhcGVyQ2xhc3NOYW1lLFxuICAgICAgICAgIHBhcGVyUHJvcHMgPSBfcHJvcHMzLnBhcGVyUHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMzLnN0eWxlLFxuICAgICAgICAgIHRpdGxlQ2xhc3NOYW1lID0gX3Byb3BzMy50aXRsZUNsYXNzTmFtZSxcbiAgICAgICAgICB0aXRsZVN0eWxlID0gX3Byb3BzMy50aXRsZVN0eWxlLFxuICAgICAgICAgIHRpdGxlID0gX3Byb3BzMy50aXRsZTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgc3R5bGVzLnJvb3QgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKTtcbiAgICAgIHN0eWxlcy5jb250ZW50ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jb250ZW50LCBjb250ZW50U3R5bGUpO1xuICAgICAgc3R5bGVzLmJvZHkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSk7XG4gICAgICBzdHlsZXMuYWN0aW9uc0NvbnRhaW5lciA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYWN0aW9uc0NvbnRhaW5lciwgYWN0aW9uc0NvbnRhaW5lclN0eWxlKTtcbiAgICAgIHN0eWxlcy5vdmVybGF5ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5vdmVybGF5LCBvdmVybGF5U3R5bGUpO1xuICAgICAgc3R5bGVzLnRpdGxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy50aXRsZSwgdGl0bGVTdHlsZSk7XG5cbiAgICAgIHZhciBhY3Rpb25zQ29udGFpbmVyID0gX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGFjdGlvbnMpID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuYWN0aW9uc0NvbnRhaW5lcikgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoYWN0aW9ucylcbiAgICAgICk7XG5cbiAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSB0aXRsZTtcbiAgICAgIGlmIChfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQodGl0bGUpKSB7XG4gICAgICAgIHRpdGxlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQodGl0bGUsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHRpdGxlLnByb3BzLmNsYXNzTmFtZSB8fCB0aXRsZUNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRpdGxlLCB0aXRsZS5wcm9wcy5zdHlsZSkpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRpdGxlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdoMycsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHRpdGxlQ2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMudGl0bGUpIH0sXG4gICAgICAgICAgdGl0bGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcCxcbiAgICAgICAgICBvblJlc2l6ZTogdGhpcy5oYW5kbGVSZXNpemVcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tcG9uZW50OiAnZGl2JyxcbiAgICAgICAgICAgIHJlZjogJ2RpYWxvZ1dpbmRvdycsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6IDQ1MCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6IDQ1MFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIFRyYW5zaXRpb25JdGVtLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbGFzc05hbWUsXG4gICAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMuY29udGVudFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBjbGFzc05hbWU6IHBhcGVyQ2xhc3NOYW1lLCB6RGVwdGg6IDQgfSwgcGFwZXJQcm9wcyksXG4gICAgICAgICAgICAgIHRpdGxlRWxlbWVudCxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVmOiAnZGlhbG9nQ29udGVudCcsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJvZHlDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuYm9keSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGFjdGlvbnNDb250YWluZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9PdmVybGF5Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgc2hvdzogb3BlbixcbiAgICAgICAgICBjbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5vdmVybGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBPdmVybGF5XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGlhbG9nSW5saW5lO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGlhbG9nSW5saW5lLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EaWFsb2dJbmxpbmUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBhY3Rpb25zOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGFjdGlvbnNDb250YWluZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3Rpb25zQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBib2R5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY29udGVudENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1vZGFsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBvdmVybGF5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb3ZlcmxheVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgcGFwZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBwYXBlclByb3BzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgdGl0bGVDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICB0aXRsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuXG52YXIgRGlhbG9nID0gZnVuY3Rpb24gKF9Db21wb25lbnQzKSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERpYWxvZywgX0NvbXBvbmVudDMpO1xuXG4gIGZ1bmN0aW9uIERpYWxvZygpIHtcbiAgICB2YXIgX3JlZjM7XG5cbiAgICB2YXIgX3RlbXAzLCBfdGhpczMsIF9yZXQzO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlhbG9nKTtcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQzID0gKF90ZW1wMyA9IChfdGhpczMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmMyA9IERpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmMywgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpczMpLCBfdGhpczMucmVuZGVyTGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nSW5saW5lLCBfdGhpczMucHJvcHMpO1xuICAgIH0sIF90ZW1wMyksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMzLCBfcmV0Myk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaWFsb2csIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9SZW5kZXJUb0xheWVyMi5kZWZhdWx0LCB7IHJlbmRlcjogdGhpcy5yZW5kZXJMYXllciwgb3BlbjogdHJ1ZSwgdXNlTGF5ZXJGb3JDbGlja0F3YXk6IGZhbHNlIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGlhbG9nLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EaWFsb2cuZGVmYXVsdFByb3BzID0ge1xuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiB0cnVlLFxuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IGZhbHNlLFxuICBtb2RhbDogZmFsc2UsXG4gIHJlcG9zaXRpb25PblVwZGF0ZTogdHJ1ZVxufTtcbkRpYWxvZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBBY3Rpb24gYnV0dG9ucyB0byBkaXNwbGF5IGJlbG93IHRoZSBEaWFsb2cgY29udGVudCAoYGNoaWxkcmVuYCkuXG4gICAqIFRoaXMgcHJvcGVydHkgYWNjZXB0cyBlaXRoZXIgYSBSZWFjdCBlbGVtZW50LCBvciBhbiBhcnJheSBvZiBSZWFjdCBlbGVtZW50cy5cbiAgICovXG4gIGFjdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGFjdGlvbnMgY29udGFpbmVyJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGFjdGlvbnMgY29udGFpbmVyJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgYWN0aW9uc0NvbnRhaW5lclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgaGVpZ2h0IG9mIHRoZSBgRGlhbG9nYCB3aWxsIGJlIGF1dG8gZGV0ZWN0ZWQuIEEgbWF4IGhlaWdodFxuICAgKiB3aWxsIGJlIGVuZm9yY2VkIHNvIHRoYXQgdGhlIGNvbnRlbnQgZG9lcyBub3QgZXh0ZW5kIGJleW9uZCB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJvZHkgY29udGVudCBvZiB0aGUgYERpYWxvZ2Agd2lsbCBiZSBzY3JvbGxhYmxlLlxuICAgKi9cbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBjb250ZW50J3Mgcm9vdCBlbGVtZW50IHVuZGVyIHRoZSB0aXRsZS5cbiAgICovXG4gIGJvZHlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50J3Mgcm9vdCBlbGVtZW50IHVuZGVyIHRoZSB0aXRsZS5cbiAgICovXG4gIGJvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGBEaWFsb2dgLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBjb250ZW50IGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRlbnRDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBGb3JjZSB0aGUgdXNlciB0byB1c2Ugb25lIG9mIHRoZSBhY3Rpb25zIGluIHRoZSBgRGlhbG9nYC5cbiAgICogQ2xpY2tpbmcgb3V0c2lkZSB0aGUgYERpYWxvZ2Agd2lsbCBub3QgdHJpZ2dlciB0aGUgYG9uUmVxdWVzdENsb3NlYC5cbiAgICovXG4gIG1vZGFsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBgRGlhbG9nYCBpcyByZXF1ZXN0ZWQgdG8gYmUgY2xvc2VkIGJ5IGEgY2xpY2sgb3V0c2lkZSB0aGUgYERpYWxvZ2Agb3Igb24gdGhlIGJ1dHRvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbH0gYnV0dG9uQ2xpY2tlZCBEZXRlcm1pbmVzIHdoZXRoZXIgYSBidXR0b24gY2xpY2sgdHJpZ2dlcmVkIHRoaXMgcmVxdWVzdC5cbiAgICovXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBEaWFsb2cgaXMgb3BlbmVkIG9yIG5vdC5cbiAgICovXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgYE92ZXJsYXlgIGNvbXBvbmVudCB0aGF0IGlzIHJlbmRlcmVkIGJlaGluZCB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBvdmVybGF5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYE92ZXJsYXlgIGNvbXBvbmVudCB0aGF0IGlzIHJlbmRlcmVkIGJlaGluZCB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBvdmVybGF5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBuYW1lIG9mIHRoZSBgUGFwZXJgIGVsZW1lbnQuXG4gICAqL1xuICBwYXBlckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBQcm9wZXJ0aWVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgZWxlbWVudC5cbiAgICovXG4gIHBhcGVyUHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBgRGlhbG9nYCBzaG91bGQgYmUgcmVwb3NpdGlvbmVkIHdoZW4gaXQncyBjb250ZW50cyBhcmUgdXBkYXRlZC5cbiAgICovXG4gIHJlcG9zaXRpb25PblVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSB0aXRsZSB0byBkaXNwbGF5IG9uIHRoZSBgRGlhbG9nYC4gQ291bGQgYmUgbnVtYmVyLCBzdHJpbmcsIGVsZW1lbnQgb3IgYW4gYXJyYXkgY29udGFpbmluZyB0aGVzZSB0eXBlcy5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSB0aXRsZSdzIHJvb3QgY29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICB0aXRsZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHRpdGxlJ3Mgcm9vdCBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEaWFsb2c7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RpYWxvZy9EaWFsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDE0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX2Fycm93RHJvcERvd24gPSByZXF1aXJlKCcuLi9zdmctaWNvbnMvbmF2aWdhdGlvbi9hcnJvdy1kcm9wLWRvd24nKTtcblxudmFyIF9hcnJvd0Ryb3BEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fycm93RHJvcERvd24pO1xuXG52YXIgX01lbnUgPSByZXF1aXJlKCcuLi9NZW51L01lbnUnKTtcblxudmFyIF9NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnUpO1xuXG52YXIgX0NsZWFyRml4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvQ2xlYXJGaXgnKTtcblxudmFyIF9DbGVhckZpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGVhckZpeCk7XG5cbnZhciBfUG9wb3ZlciA9IHJlcXVpcmUoJy4uL1BvcG92ZXIvUG9wb3ZlcicpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsID0gcmVxdWlyZSgnLi4vUG9wb3Zlci9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwnKTtcblxudmFyIF9Qb3BvdmVyQW5pbWF0aW9uVmVydGljYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfZXZlbnRzID0gcmVxdWlyZSgnLi4vdXRpbHMvZXZlbnRzJyk7XG5cbnZhciBfZXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50cyk7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IHJlcXVpcmUoJy4uL0ljb25CdXR0b24nKTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlczMgPSByZXF1aXJlKCcuLi91dGlscy9wcm9wVHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcblxuICB2YXIgc3BhY2luZyA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG4gIHZhciBwYWxldHRlID0gY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWUucGFsZXR0ZTtcbiAgdmFyIGFjY2VudENvbG9yID0gY29udGV4dC5tdWlUaGVtZS5kcm9wRG93bk1lbnUuYWNjZW50Q29sb3I7XG4gIHJldHVybiB7XG4gICAgY29udHJvbDoge1xuICAgICAgY3Vyc29yOiBkaXNhYmxlZCA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgZmlsbDogYWNjZW50Q29sb3IsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHJpZ2h0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzLFxuICAgICAgdG9wOiAoc3BhY2luZy5pY29uU2l6ZSAtIDI0KSAvIDIgKyBzcGFjaW5nLmRlc2t0b3BHdXR0ZXJNaW5pIC8gMlxuICAgIH0sXG4gICAgaWNvbkNoaWxkcmVuOiB7XG4gICAgICBmaWxsOiAnaW5oZXJpdCdcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjb2xvcjogZGlzYWJsZWQgPyBwYWxldHRlLmRpc2FibGVkQ29sb3IgOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGhlaWdodDogc3BhY2luZy5kZXNrdG9wVG9vbGJhckhlaWdodCArICdweCcsXG4gICAgICBsaW5lSGVpZ2h0OiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0ICsgJ3B4JyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcuaWNvblNpemUgKiAyICsgc3BhY2luZy5kZXNrdG9wR3V0dGVyTWluaSxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgfSxcbiAgICBsYWJlbFdoZW5PcGVuOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdG9wOiBzcGFjaW5nLmRlc2t0b3BUb29sYmFySGVpZ2h0IC8gOFxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBmb250U2l6ZTogc3BhY2luZy5kZXNrdG9wRHJvcERvd25NZW51Rm9udFNpemUsXG4gICAgICBoZWlnaHQ6IHNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGZvbnRGYW1pbHk6IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLmZvbnRGYW1pbHksXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KClcbiAgICB9LFxuICAgIHJvb3RXaGVuT3Blbjoge1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICBib3JkZXJUb3A6ICdzb2xpZCAxcHggJyArIGFjY2VudENvbG9yLFxuICAgICAgYm90dG9tOiAxLFxuICAgICAgbGVmdDogMCxcbiAgICAgIG1hcmdpbjogJy0xcHggJyArIHNwYWNpbmcuZGVza3RvcEd1dHRlciArICdweCcsXG4gICAgICByaWdodDogMCxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgRHJvcERvd25NZW51ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRHJvcERvd25NZW51LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEcm9wRG93bk1lbnUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRHJvcERvd25NZW51KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IERyb3BEb3duTWVudS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRHJvcERvd25NZW51KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH0sIF90aGlzLnJvb3ROb2RlID0gdW5kZWZpbmVkLCBfdGhpcy5hcnJvd05vZGUgPSB1bmRlZmluZWQsIF90aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46ICFfdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgICAgIGFuY2hvckVsOiBfdGhpcy5yb290Tm9kZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZUVzY0tleURvd25NZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UodHJ1ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMucm9vdE5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVJdGVtVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQsIGNoaWxkLCBpbmRleCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIGlmICghX3RoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQsIGluZGV4LCBjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuY2xvc2UoX2V2ZW50czIuZGVmYXVsdC5pc0tleWJvYXJkKGV2ZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5tdWx0aXBsZSAmJiBfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShldmVudCwgdW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoaXNLZXlib2FyZCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0tleWJvYXJkKSB7XG4gICAgICAgICAgdmFyIGRyb3BBcnJvdyA9IF90aGlzLmFycm93Tm9kZTtcbiAgICAgICAgICB2YXIgZHJvcE5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoZHJvcEFycm93KTtcbiAgICAgICAgICBkcm9wTm9kZS5mb2N1cygpO1xuICAgICAgICAgIGRyb3BBcnJvdy5zZXRLZXlib2FyZEZvY3VzKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gVGhlIG5lc3RlZCBzdHlsZXMgZm9yIGRyb3AtZG93bi1tZW51IGFyZSBtb2RpZmllZCBieSB0b29sYmFyIGFuZCBwb3NzaWJseVxuICAvLyBvdGhlciB1c2VyIGNvbXBvbmVudHMsIHNvIGl0IHdpbGwgZ2l2ZSBmdWxsIGFjY2VzcyB0byBpdHMganMgc3R5bGVzIHJhdGhlclxuICAvLyB0aGFuIGp1c3QgdGhlIHBhcmVudC5cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERyb3BEb3duTWVudSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5vcGVuSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgLy8gVE9ETzogVGVtcG9yYXJ5IGZpeCB0byBtYWtlIG9wZW5JbW1lZGlhdGVseSB3b3JrIHdpdGggcG9wb3Zlci5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tZGlkLW1vdW50LXNldC1zdGF0ZSAqL1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBhbmNob3JFbDogX3RoaXMyLnJvb3ROb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGUgKi9cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9XaWR0aCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SW5wdXROb2RlJyxcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBidXQgc3RpbGwgaGVyZSBiZWNhdXNlIHRoZSBUZXh0RmllbGRcbiAgICAgKiBuZWVkIGl0IGluIG9yZGVyIHRvIHdvcmsuIFRPRE86IFRoYXQgd2lsbCBiZSBhZGRyZXNzZWQgbGF0ZXIuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldElucHV0Tm9kZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcm9vdE5vZGUgPSB0aGlzLnJvb3ROb2RlO1xuXG4gICAgICByb290Tm9kZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpczMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlbjogIV90aGlzMy5zdGF0ZS5vcGVuLFxuICAgICAgICAgICAgYW5jaG9yRWw6IF90aGlzMy5yb290Tm9kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcm9vdE5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRXaWR0aCgpIHtcbiAgICAgIHZhciBlbCA9IHRoaXMucm9vdE5vZGU7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuc3R5bGUgfHwgIXRoaXMucHJvcHMuc3R5bGUuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykpIHtcbiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAnYXV0byc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFuaW1hdGVkID0gX3Byb3BzLmFuaW1hdGVkLFxuICAgICAgICAgIGFuaW1hdGlvbiA9IF9wcm9wcy5hbmltYXRpb24sXG4gICAgICAgICAgYXV0b1dpZHRoID0gX3Byb3BzLmF1dG9XaWR0aCxcbiAgICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wcy5pY29uU3R5bGUsXG4gICAgICAgICAgbGFiZWxTdHlsZSA9IF9wcm9wcy5sYWJlbFN0eWxlLFxuICAgICAgICAgIGxpc3RTdHlsZSA9IF9wcm9wcy5saXN0U3R5bGUsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gX3Byb3BzLm1heEhlaWdodCxcbiAgICAgICAgICBtZW51U3R5bGVQcm9wID0gX3Byb3BzLm1lbnVTdHlsZSxcbiAgICAgICAgICBzZWxlY3Rpb25SZW5kZXJlciA9IF9wcm9wcy5zZWxlY3Rpb25SZW5kZXJlcixcbiAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzLm9uQ2xvc2UsXG4gICAgICAgICAgb3BlbkltbWVkaWF0ZWx5ID0gX3Byb3BzLm9wZW5JbW1lZGlhdGVseSxcbiAgICAgICAgICBtZW51SXRlbVN0eWxlID0gX3Byb3BzLm1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlID0gX3Byb3BzLnNlbGVjdGVkTWVudUl0ZW1TdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICB1bmRlcmxpbmVTdHlsZSA9IF9wcm9wcy51bmRlcmxpbmVTdHlsZSxcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgICBpY29uQnV0dG9uID0gX3Byb3BzLmljb25CdXR0b24sXG4gICAgICAgICAgYW5jaG9yT3JpZ2luID0gX3Byb3BzLmFuY2hvck9yaWdpbixcbiAgICAgICAgICB0YXJnZXRPcmlnaW4gPSBfcHJvcHMudGFyZ2V0T3JpZ2luLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FuaW1hdGVkJywgJ2FuaW1hdGlvbicsICdhdXRvV2lkdGgnLCAnbXVsdGlwbGUnLCAnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ2Rpc2FibGVkJywgJ2ljb25TdHlsZScsICdsYWJlbFN0eWxlJywgJ2xpc3RTdHlsZScsICdtYXhIZWlnaHQnLCAnbWVudVN0eWxlJywgJ3NlbGVjdGlvblJlbmRlcmVyJywgJ29uQ2xvc2UnLCAnb3BlbkltbWVkaWF0ZWx5JywgJ21lbnVJdGVtU3R5bGUnLCAnc2VsZWN0ZWRNZW51SXRlbVN0eWxlJywgJ3N0eWxlJywgJ3VuZGVybGluZVN0eWxlJywgJ3ZhbHVlJywgJ2ljb25CdXR0b24nLCAnYW5jaG9yT3JpZ2luJywgJ3RhcmdldE9yaWdpbiddKTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFuY2hvckVsID0gX3N0YXRlLmFuY2hvckVsLFxuICAgICAgICAgIG9wZW4gPSBfc3RhdGUub3BlbjtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgdmFyIGRpc3BsYXlWYWx1ZSA9ICcnO1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkICYmIHZhbHVlID09PSBjaGlsZC5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHNlbGVjdGlvblJlbmRlcmVyKHZhbHVlLCBjaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBpbXByb3ZlZCAoaW4gY2FzZSBwcmltYXJ5VGV4dCBpcyBhIG5vZGUpXG4gICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBzZWxlY3Rpb25SZW5kZXJlckNoaWxkcmVuID0gW107XG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgJiYgdmFsdWUgJiYgdmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uUmVuZGVyZXJDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGNoaWxkLnByb3BzLmxhYmVsIHx8IGNoaWxkLnByb3BzLnByaW1hcnlUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IFtdO1xuICAgICAgICBpZiAoc2VsZWN0aW9uUmVuZGVyZXIpIHtcbiAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBzZWxlY3Rpb25SZW5kZXJlcih2YWx1ZXMsIHNlbGVjdGlvblJlbmRlcmVyQ2hpbGRyZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHZhbHVlcy5qb2luKCcsICcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBtZW51U3R5bGUgPSB2b2lkIDA7XG4gICAgICBpZiAoYW5jaG9yRWwgJiYgIWF1dG9XaWR0aCkge1xuICAgICAgICBtZW51U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe1xuICAgICAgICAgIHdpZHRoOiBhbmNob3JFbC5jbGllbnRXaWR0aFxuICAgICAgICB9LCBtZW51U3R5bGVQcm9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbnVTdHlsZSA9IG1lbnVTdHlsZVByb3A7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgX3RoaXM0LnJvb3ROb2RlID0gbm9kZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnJvb3QsIG9wZW4gJiYgc3R5bGVzLnJvb3RXaGVuT3Blbiwgc3R5bGUpKVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0NsZWFyRml4Mi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9sLCBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwQ29udHJvbCB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmxhYmVsLCBvcGVuICYmIHN0eWxlcy5sYWJlbFdoZW5PcGVuLCBsYWJlbFN0eWxlKSkgfSxcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5hcnJvd05vZGUgPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuaWNvbiwgaWNvblN0eWxlKSxcbiAgICAgICAgICAgICAgaWNvblN0eWxlOiBzdHlsZXMuaWNvbkNoaWxkcmVuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWNvbkJ1dHRvblxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMudW5kZXJsaW5lLCB1bmRlcmxpbmVTdHlsZSkpIH0pXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogYW5jaG9yT3JpZ2luLFxuICAgICAgICAgICAgdGFyZ2V0T3JpZ2luOiB0YXJnZXRPcmlnaW4sXG4gICAgICAgICAgICBhbmNob3JFbDogYW5jaG9yRWwsXG4gICAgICAgICAgICBhbmltYXRpb246IGFuaW1hdGlvbiB8fCBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMi5kZWZhdWx0LFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcbiAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZU1lbnVcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX01lbnUyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQsXG4gICAgICAgICAgICAgIGRlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgb25Fc2NLZXlEb3duOiB0aGlzLmhhbmRsZUVzY0tleURvd25NZW51LFxuICAgICAgICAgICAgICBzdHlsZTogbWVudVN0eWxlLFxuICAgICAgICAgICAgICBsaXN0U3R5bGU6IGxpc3RTdHlsZSxcbiAgICAgICAgICAgICAgb25JdGVtVG91Y2hUYXA6IHRoaXMuaGFuZGxlSXRlbVRvdWNoVGFwLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgIG1lbnVJdGVtU3R5bGU6IG1lbnVJdGVtU3R5bGUsXG4gICAgICAgICAgICAgIHNlbGVjdGVkTWVudUl0ZW1TdHlsZTogc2VsZWN0ZWRNZW51SXRlbVN0eWxlLFxuICAgICAgICAgICAgICBhdXRvV2lkdGg6IGF1dG9XaWR0aCxcbiAgICAgICAgICAgICAgd2lkdGg6ICFhdXRvV2lkdGggJiYgbWVudVN0eWxlID8gbWVudVN0eWxlLndpZHRoIDogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRHJvcERvd25NZW51O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRHJvcERvd25NZW51Lm11aU5hbWUgPSAnRHJvcERvd25NZW51JztcbkRyb3BEb3duTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFuaW1hdGVkOiB0cnVlLFxuICBhdXRvV2lkdGg6IHRydWUsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgaWNvbkJ1dHRvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Fycm93RHJvcERvd24yLmRlZmF1bHQsIG51bGwpLFxuICBvcGVuSW1tZWRpYXRlbHk6IGZhbHNlLFxuICBtYXhIZWlnaHQ6IDUwMCxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBhbmNob3JPcmlnaW46IHtcbiAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gIH1cbn07XG5Ecm9wRG93bk1lbnUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRyb3BEb3duTWVudS5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBwb2ludCBvbiB0aGUgYW5jaG9yIHRoYXQgdGhlIHBvcG92ZXInc1xuICAgKiBgdGFyZ2V0T3JpZ2luYCB3aWxsIGF0dGFjaCB0by5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICBhbmNob3JPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIHBvcG92ZXIgd2lsbCBhcHBseSB0cmFuc2l0aW9ucyB3aGVuXG4gICAqIGl0IGdldHMgYWRkZWQgdG8gdGhlIERPTS5cbiAgICovXG4gIGFuaW1hdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBhbmltYXRpb24gY29tcG9uZW50IHVzZWQuXG4gICAqL1xuICBhbmltYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIFRoZSB3aWR0aCB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgc2V0IGFjY29yZGluZyB0byB0aGUgaXRlbXMgaW5zaWRlIHRoZSBtZW51LlxuICAgKiBUbyBjb250cm9sIHRoaXMgd2lkdGggaW4gY3NzIGluc3RlYWQsIHNldCB0aGlzIHByb3AgdG8gYGZhbHNlYC5cbiAgICovXG4gIGF1dG9XaWR0aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGhlIGBNZW51SXRlbWBzIHRvIHBvcHVsYXRlIHRoZSBgTWVudWAgd2l0aC4gSWYgdGhlIGBNZW51SXRlbXNgIGhhdmUgdGhlXG4gICAqIHByb3AgYGxhYmVsYCB0aGF0IHZhbHVlIHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHJlcHJlc2VudGF0aW9uIG9mIHRoYXRcbiAgICogaXRlbSB3aXRoaW4gdGhlIGZpZWxkLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSBtZW51LlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBkZWZhdWx0IGBTdmdJY29uYCBkcm9wZG93biBhcnJvdyBjb21wb25lbnQuXG4gICAqL1xuICBpY29uQnV0dG9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBpY29uIGVsZW1lbnQuXG4gICAqL1xuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBzdHlsZXMgb2YgbGFiZWwgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgaW5hY3RpdmUuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvYmplY3QgdG8gdXNlIHRvIG92ZXJyaWRlIHVuZGVybHlpbmcgbGlzdCBzdHlsZS5cbiAgICovXG4gIGxpc3RTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBoZWlnaHQgb2YgdGhlIGBNZW51YCB3aGVuIGl0IGlzIGRpc3BsYXllZC5cbiAgICovXG4gIG1heEhlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBtZW51IGl0ZW1zLlxuICAgKi9cbiAgbWVudUl0ZW1TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHN0eWxlcyBvZiBgTWVudWAgd2hlbiB0aGUgYERyb3BEb3duTWVudWAgaXMgZGlzcGxheWVkLlxuICAgKi9cbiAgbWVudVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIGB2YWx1ZWAgbXVzdCBiZSBhbiBhcnJheSBhbmQgdGhlIG1lbnUgd2lsbCBzdXBwb3J0XG4gICAqIG11bHRpcGxlIHNlbGVjdGlvbnMuXG4gICAqL1xuICBtdWx0aXBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiBhIG1lbnUgaXRlbSBpcyBjbGlja2VkLCBvdGhlciB0aGFuIHRoZSBvbmUgY3VycmVudGx5IHNlbGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVG91Y2hUYXAgZXZlbnQgdGFyZ2V0aW5nIHRoZSBtZW51IGl0ZW0gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGtleSBUaGUgaW5kZXggb2YgdGhlIGNsaWNrZWQgbWVudSBpdGVtIGluIHRoZSBgY2hpbGRyZW5gIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIHRoZSBtZW51J3MgYHZhbHVlYFxuICAgKiBhcnJheSB3aXRoIGVpdGhlciB0aGUgbWVudSBpdGVtJ3MgYHZhbHVlYCBhZGRlZCAoaWZcbiAgICogaXQgd2Fzbid0IGFscmVhZHkgc2VsZWN0ZWQpIG9yIG9taXR0ZWQgKGlmIGl0IHdhcyBhbHJlYWR5IHNlbGVjdGVkKS5cbiAgICogT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIG1lbnUgaXMgY2xvc2VkLlxuICAgKi9cbiAgb25DbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gaGF2ZSB0aGUgYERyb3BEb3duTWVudWAgYXV0b21hdGljYWxseSBvcGVuIG9uIG1vdW50LlxuICAgKi9cbiAgb3BlbkltbWVkaWF0ZWx5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBzZWxlY3RlZCBtZW51IGl0ZW1zLlxuICAgKi9cbiAgc2VsZWN0ZWRNZW51SXRlbVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gYSBtZW51IGl0ZW0gaXMgY2xpY2tlZCwgb3RoZXIgdGhhbiB0aGUgb25lIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhlIG1lbnUncyBgdmFsdWVgXG4gICAqIGFycmF5IHdpdGggZWl0aGVyIHRoZSBtZW51IGl0ZW0ncyBgdmFsdWVgIGFkZGVkIChpZlxuICAgKiBpdCB3YXNuJ3QgYWxyZWFkeSBzZWxlY3RlZCkgb3Igb21pdHRlZCAoaWYgaXQgd2FzIGFscmVhZHkgc2VsZWN0ZWQpLlxuICAgKiBPdGhlcndpc2UsIHRoZSBgdmFsdWVgIG9mIHRoZSBtZW51IGl0ZW0uXG4gICAqIEBwYXJhbSB7YW55fSBtZW51SXRlbSBUaGUgc2VsZWN0ZWQgYE1lbnVJdGVtYC5cbiAgICogSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGlzIHdpbGwgYmUgYW4gYXJyYXkgd2l0aCB0aGUgYE1lbnVJdGVtYHMgbWF0Y2hpbmcgdGhlIGB2YWx1ZWBzIHBhcmFtZXRlci5cbiAgICovXG4gIHNlbGVjdGlvblJlbmRlcmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgcG9pbnQgb24gdGhlIHBvcG92ZXIgd2hpY2ggd2lsbCBhdHRhY2ggdG9cbiAgICogdGhlIGFuY2hvcidzIG9yaWdpbi5cbiAgICogT3B0aW9uczpcbiAgICogdmVydGljYWw6IFt0b3AsIGNlbnRlciwgYm90dG9tXVxuICAgKiBob3Jpem9udGFsOiBbbGVmdCwgbWlkZGxlLCByaWdodF0uXG4gICAqL1xuICB0YXJnZXRPcmlnaW46IF9wcm9wVHlwZXM0LmRlZmF1bHQub3JpZ2luLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB1bmRlcmxpbmUuXG4gICAqL1xuICB1bmRlcmxpbmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIGFuIGFycmF5IG9mIHRoZSBgdmFsdWVgcyBvZiB0aGUgc2VsZWN0ZWRcbiAgICogbWVudSBpdGVtcy4gT3RoZXJ3aXNlLCB0aGUgYHZhbHVlYCBvZiB0aGUgc2VsZWN0ZWQgbWVudSBpdGVtLlxuICAgKiBJZiBwcm92aWRlZCwgdGhlIG1lbnUgd2lsbCBiZSBhIGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgKi9cbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wRG93bk1lbnU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0Ryb3BEb3duTWVudS9Ecm9wRG93bk1lbnUuanNcbi8vIG1vZHVsZSBpZCA9IDE0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX0NsaWNrQXdheUxpc3RlbmVyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvQ2xpY2tBd2F5TGlzdGVuZXInKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGlja0F3YXlMaXN0ZW5lcik7XG5cbnZhciBfU25hY2tiYXJCb2R5ID0gcmVxdWlyZSgnLi9TbmFja2JhckJvZHknKTtcblxudmFyIF9TbmFja2JhckJvZHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXJCb2R5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgZGVza3RvcFN1YmhlYWRlckhlaWdodCA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BTdWJoZWFkZXJIZWlnaHQsXG4gICAgICB6SW5kZXggPSBfY29udGV4dCRtdWlUaGVtZS56SW5kZXg7XG4gIHZhciBvcGVuID0gc3RhdGUub3BlbjtcblxuXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIHpJbmRleDogekluZGV4LnNuYWNrYmFyLFxuICAgICAgdmlzaWJpbGl0eTogb3BlbiA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nLFxuICAgICAgdHJhbnNmb3JtOiBvcGVuID8gJ3RyYW5zbGF0ZSgtNTAlLCAwKScgOiAndHJhbnNsYXRlKC01MCUsICcgKyBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ICsgJ3B4KScsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAndHJhbnNmb3JtJykgKyAnLCAnICsgX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQwMG1zJywgJ3Zpc2liaWxpdHknKVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgU25hY2tiYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTbmFja2JhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU25hY2tiYXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU25hY2tiYXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gU25hY2tiYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFNuYWNrYmFyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuY29tcG9uZW50Q2xpY2tBd2F5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnRpbWVyVHJhbnNpdGlvbklkKSB7XG4gICAgICAgIC8vIElmIHRyYW5zaXRpb25pbmcsIGRvbid0IGNsb3NlIHRoZSBzbmFja2Jhci5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub3BlbiAhPT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSgnY2xpY2thd2F5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTbmFja2JhciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogdGhpcy5wcm9wcy5vcGVuLFxuICAgICAgICBtZXNzYWdlOiB0aGlzLnByb3BzLm1lc3NhZ2UsXG4gICAgICAgIGFjdGlvbjogdGhpcy5wcm9wcy5hY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMuc2V0QXV0b0hpZGVUaW1lcigpO1xuICAgICAgICB0aGlzLnNldFRyYW5zaXRpb25UaW1lcigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm9wZW4gJiYgbmV4dFByb3BzLm9wZW4gJiYgKG5leHRQcm9wcy5tZXNzYWdlICE9PSB0aGlzLnByb3BzLm1lc3NhZ2UgfHwgbmV4dFByb3BzLmFjdGlvbiAhPT0gdGhpcy5wcm9wcy5hY3Rpb24pKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyT25lQXRUaGVUaW1lSWQpO1xuICAgICAgICB0aGlzLnRpbWVyT25lQXRUaGVUaW1lSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbWVzc2FnZTogbmV4dFByb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgICBhY3Rpb246IG5leHRQcm9wcy5hY3Rpb24sXG4gICAgICAgICAgICBvcGVuOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDQwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb3BlbiA9IG5leHRQcm9wcy5vcGVuO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9wZW46IG9wZW4gIT09IG51bGwgPyBvcGVuIDogdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgICAgIG1lc3NhZ2U6IG5leHRQcm9wcy5tZXNzYWdlLFxuICAgICAgICAgIGFjdGlvbjogbmV4dFByb3BzLmFjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIGlmIChwcmV2U3RhdGUub3BlbiAhPT0gdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgICB0aGlzLnNldEF1dG9IaWRlVGltZXIoKTtcbiAgICAgICAgICB0aGlzLnNldFRyYW5zaXRpb25UaW1lcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyVHJhbnNpdGlvbklkKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyT25lQXRUaGVUaW1lSWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEF1dG9IaWRlVGltZXInLFxuXG5cbiAgICAvLyBUaW1lciB0aGF0IGNvbnRyb2xzIGRlbGF5IGJlZm9yZSBzbmFja2JhciBhdXRvIGhpZGVzXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF1dG9IaWRlVGltZXIoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGF1dG9IaWRlRHVyYXRpb24gPSB0aGlzLnByb3BzLmF1dG9IaWRlRHVyYXRpb247XG5cbiAgICAgIGlmIChhdXRvSGlkZUR1cmF0aW9uID4gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgICB0aGlzLnRpbWVyQXV0b0hpZGVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczMucHJvcHMub3BlbiAhPT0gbnVsbCAmJiBfdGhpczMucHJvcHMub25SZXF1ZXN0Q2xvc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblJlcXVlc3RDbG9zZSgndGltZW91dCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGF1dG9IaWRlRHVyYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRpbWVyIHRoYXQgY29udHJvbHMgZGVsYXkgYmVmb3JlIGNsaWNrLWF3YXkgZXZlbnRzIGFyZSBjYXB0dXJlZCAoYmFzZWQgb24gd2hlbiBhbmltYXRpb24gY29tcGxldGVzKVxuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRUcmFuc2l0aW9uVGltZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uVGltZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy50aW1lclRyYW5zaXRpb25JZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQudGltZXJUcmFuc2l0aW9uSWQgPSB1bmRlZmluZWQ7XG4gICAgICB9LCA0MDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb24gPSBfcHJvcHMuYXV0b0hpZGVEdXJhdGlvbixcbiAgICAgICAgICBjb250ZW50U3R5bGUgPSBfcHJvcHMuY29udGVudFN0eWxlLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wcy5ib2R5U3R5bGUsXG4gICAgICAgICAgbWVzc2FnZVByb3AgPSBfcHJvcHMubWVzc2FnZSxcbiAgICAgICAgICBvblJlcXVlc3RDbG9zZSA9IF9wcm9wcy5vblJlcXVlc3RDbG9zZSxcbiAgICAgICAgICBvbkFjdGlvblRvdWNoVGFwID0gX3Byb3BzLm9uQWN0aW9uVG91Y2hUYXAsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYXV0b0hpZGVEdXJhdGlvbicsICdjb250ZW50U3R5bGUnLCAnYm9keVN0eWxlJywgJ21lc3NhZ2UnLCAnb25SZXF1ZXN0Q2xvc2UnLCAnb25BY3Rpb25Ub3VjaFRhcCcsICdzdHlsZSddKTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFjdGlvbiA9IF9zdGF0ZS5hY3Rpb24sXG4gICAgICAgICAgbWVzc2FnZSA9IF9zdGF0ZS5tZXNzYWdlLFxuICAgICAgICAgIG9wZW4gPSBfc3RhdGUub3BlbjtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfQ2xpY2tBd2F5TGlzdGVuZXIyLmRlZmF1bHQsXG4gICAgICAgIHsgb25DbGlja0F3YXk6IG9wZW4gPyB0aGlzLmNvbXBvbmVudENsaWNrQXdheSA6IG51bGwgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhckJvZHkyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgY29udGVudFN0eWxlOiBjb250ZW50U3R5bGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIG9uQWN0aW9uVG91Y2hUYXA6IG9uQWN0aW9uVG91Y2hUYXAsXG4gICAgICAgICAgICBzdHlsZTogYm9keVN0eWxlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNuYWNrYmFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuU25hY2tiYXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblNuYWNrYmFyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIFRoZSBsYWJlbCBmb3IgdGhlIGFjdGlvbiBvbiB0aGUgc25hY2tiYXIuXG4gICAqL1xuICBhY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2luZy5cbiAgICogSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkIHRoZSBzbmFja2JhciB3aWxsIGRpc21pc3Mgbm9ybWFsbHkuXG4gICAqIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgdGhlIHNuYWNrYmFyIGNhbiBzdGlsbCBiZSBkaXNtaXNzZWQgbm9ybWFsbHkuXG4gICAqIElmIGEgc25hY2tiYXIgaXMgZGlzbWlzc2VkIGJlZm9yZSB0aGUgdGltZXIgZXhwaXJlcywgdGhlIHRpbWVyIHdpbGwgYmUgY2xlYXJlZC5cbiAgICovXG4gIGF1dG9IaWRlRHVyYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGJvZHkgZWxlbWVudC5cbiAgICovXG4gIGJvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgY3NzIGNsYXNzIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cbiAgICpcbiAgICogKE5vdGU6IElmIHRoZSBtZXNzYWdlIGlzIGFuIGVsZW1lbnQgb3IgYXJyYXksIGFuZCB0aGUgYFNuYWNrYmFyYCBtYXkgcmUtcmVuZGVyIHdoaWxlIGl0IGlzIHN0aWxsIG9wZW4sXG4gICAqIGVuc3VyZSB0aGF0IHRoZSBzYW1lIG9iamVjdCByZW1haW5zIGFzIHRoZSBgbWVzc2FnZWAgcHJvcGVydHkgaWYgeW91IHdhbnQgdG8gYXZvaWQgdGhlIGBTbmFja2JhcmAgaGlkaW5nIGFuZFxuICAgKiBzaG93aW5nIGFnYWluKVxuICAgKi9cbiAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBhY3Rpb24gYnV0dG9uIGlzIHRvdWNodGFwcGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQWN0aW9uIGJ1dHRvbiBldmVudC5cbiAgICovXG4gIG9uQWN0aW9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGBTbmFja2JhcmAgaXMgcmVxdWVzdGVkIHRvIGJlIGNsb3NlZCBieSBhIGNsaWNrIG91dHNpZGUgdGhlIGBTbmFja2JhcmAsIG9yIGFmdGVyIHRoZVxuICAgKiBgYXV0b0hpZGVEdXJhdGlvbmAgdGltZXIgZXhwaXJlcy5cbiAgICpcbiAgICogVHlwaWNhbGx5IGBvblJlcXVlc3RDbG9zZWAgaXMgdXNlZCB0byBzZXQgc3RhdGUgaW4gdGhlIHBhcmVudCBjb21wb25lbnQsIHdoaWNoIGlzIHVzZWQgdG8gY29udHJvbCB0aGUgYFNuYWNrYmFyYFxuICAgKiBgb3BlbmAgcHJvcC5cbiAgICpcbiAgICogVGhlIGByZWFzb25gIHBhcmFtZXRlciBjYW4gb3B0aW9uYWxseSBiZSB1c2VkIHRvIGNvbnRyb2wgdGhlIHJlc3BvbnNlIHRvIGBvblJlcXVlc3RDbG9zZWAsXG4gICAqIGZvciBleGFtcGxlIGlnbm9yaW5nIGBjbGlja2F3YXlgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIENhbiBiZTpgXCJ0aW1lb3V0XCJgIChgYXV0b0hpZGVEdXJhdGlvbmAgZXhwaXJlZCkgb3I6IGBcImNsaWNrYXdheVwiYFxuICAgKi9cbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIGBTbmFja2JhcmAgaXMgb3BlbmVkIG9yIG5vdC5cbiAgICovXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gU25hY2tiYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL1NuYWNrYmFyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlNuYWNrYmFyQm9keSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfd2l0aFdpZHRoID0gcmVxdWlyZSgnLi4vdXRpbHMvd2l0aFdpZHRoJyk7XG5cbnZhciBfd2l0aFdpZHRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhXaWR0aCk7XG5cbnZhciBfRmxhdEJ1dHRvbiA9IHJlcXVpcmUoJy4uL0ZsYXRCdXR0b24nKTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgd2lkdGggPSBwcm9wcy53aWR0aDtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhcyA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJGJhczIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuc3BhY2luZyxcbiAgICAgIGRlc2t0b3BHdXR0ZXIgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMyLmRlc2t0b3BHdXR0ZXIsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzMi5kZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgZm9udEZhbWlseSA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5mb250RmFtaWx5LFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkc25hID0gX2NvbnRleHQkbXVpVGhlbWUuc25hY2tiYXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZSRzbmEuYmFja2dyb3VuZENvbG9yLFxuICAgICAgdGV4dENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLnRleHRDb2xvcixcbiAgICAgIGFjdGlvbkNvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLmFjdGlvbkNvbG9yLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX2NvbnRleHQkbXVpVGhlbWUuYm9yZGVyUmFkaXVzO1xuXG5cbiAgdmFyIGlzU21hbGwgPSB3aWR0aCA9PT0gX3dpdGhXaWR0aC5TTUFMTDtcblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgIHBhZGRpbmc6ICcwICcgKyBkZXNrdG9wR3V0dGVyICsgJ3B4JyxcbiAgICAgIGhlaWdodDogZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHQ6IGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgnLFxuICAgICAgYm9yZGVyUmFkaXVzOiBpc1NtYWxsID8gMCA6IGJvcmRlclJhZGl1cyxcbiAgICAgIG1heFdpZHRoOiBpc1NtYWxsID8gJ2luaGVyaXQnIDogNTY4LFxuICAgICAgbWluV2lkdGg6IGlzU21hbGwgPyAnaW5oZXJpdCcgOiAyODgsXG4gICAgICB3aWR0aDogaXNTbWFsbCA/ICdjYWxjKDEwMHZ3IC0gJyArIGRlc2t0b3BHdXR0ZXIgKiAyICsgJ3B4KScgOiAnYXV0bycsXG4gICAgICBmbGV4R3JvdzogaXNTbWFsbCA/IDEgOiAwXG4gICAgfSxcbiAgICBjb250ZW50OiB7XG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBjb2xvcjogdGV4dENvbG9yLFxuICAgICAgb3BhY2l0eTogb3BlbiA/IDEgOiAwLFxuICAgICAgdHJhbnNpdGlvbjogb3BlbiA/IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc1MDBtcycsICdvcGFjaXR5JywgJzEwMG1zJykgOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAnb3BhY2l0eScpXG4gICAgfSxcbiAgICBhY3Rpb246IHtcbiAgICAgIGNvbG9yOiBhY3Rpb25Db2xvcixcbiAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgbWFyZ2luVG9wOiA2LFxuICAgICAgbWFyZ2luUmlnaHQ6IC0xNixcbiAgICAgIG1hcmdpbkxlZnQ6IGRlc2t0b3BHdXR0ZXIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIFNuYWNrYmFyQm9keSA9IGZ1bmN0aW9uIFNuYWNrYmFyQm9keShwcm9wcywgY29udGV4dCkge1xuICB2YXIgYWN0aW9uID0gcHJvcHMuYWN0aW9uLFxuICAgICAgY29udGVudFN0eWxlID0gcHJvcHMuY29udGVudFN0eWxlLFxuICAgICAgbWVzc2FnZSA9IHByb3BzLm1lc3NhZ2UsXG4gICAgICBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBwcm9wcy5vbkFjdGlvblRvdWNoVGFwLFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkocHJvcHMsIFsnYWN0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdtZXNzYWdlJywgJ29wZW4nLCAnb25BY3Rpb25Ub3VjaFRhcCcsICdzdHlsZSddKTtcbiAgdmFyIHByZXBhcmVTdHlsZXMgPSBjb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyhwcm9wcywgY29udGV4dCk7XG5cbiAgdmFyIGFjdGlvbkJ1dHRvbiA9IGFjdGlvbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgIHN0eWxlOiBzdHlsZXMuYWN0aW9uLFxuICAgIGxhYmVsOiBhY3Rpb24sXG4gICAgb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcFxuICB9KTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY29udGVudCwgY29udGVudFN0eWxlKSkgfSxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG1lc3NhZ2VcbiAgICAgICksXG4gICAgICBhY3Rpb25CdXR0b25cbiAgICApXG4gICk7XG59O1xuXG5leHBvcnRzLlNuYWNrYmFyQm9keSA9IFNuYWNrYmFyQm9keTtcblNuYWNrYmFyQm9keS5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgZm9yIHRoZSBhY3Rpb24gb24gdGhlIHNuYWNrYmFyLlxuICAgKi9cbiAgYWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cbiAgICpcbiAgICogKE5vdGU6IElmIHRoZSBtZXNzYWdlIGlzIGFuIGVsZW1lbnQgb3IgYXJyYXksIGFuZCB0aGUgYFNuYWNrYmFyYCBtYXkgcmUtcmVuZGVyIHdoaWxlIGl0IGlzIHN0aWxsIG9wZW4sXG4gICAqIGVuc3VyZSB0aGF0IHRoZSBzYW1lIG9iamVjdCByZW1haW5zIGFzIHRoZSBgbWVzc2FnZWAgcHJvcGVydHkgaWYgeW91IHdhbnQgdG8gYXZvaWQgdGhlIGBTbmFja2JhcmAgaGlkaW5nIGFuZFxuICAgKiBzaG93aW5nIGFnYWluKVxuICAgKi9cbiAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBhY3Rpb24gYnV0dG9uIGlzIHRvdWNodGFwcGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgQWN0aW9uIGJ1dHRvbiBldmVudC5cbiAgICovXG4gIG9uQWN0aW9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBXaWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKi9cbiAgd2lkdGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcblxuU25hY2tiYXJCb2R5LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfd2l0aFdpZHRoMi5kZWZhdWx0KSgpKFNuYWNrYmFyQm9keSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL1NuYWNrYmFyQm9keS5qc1xuLy8gbW9kdWxlIGlkID0gMTUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiAgQmVmb3JlQWZ0ZXJXcmFwcGVyXG4gKiAgICBBbiBhbHRlcm5hdGl2ZSBmb3IgdGhlIDo6YmVmb3JlIGFuZCA6OmFmdGVyIGNzcyBwc2V1ZG8tZWxlbWVudHMgZm9yXG4gKiAgICBjb21wb25lbnRzIHdob3NlIHN0eWxlcyBhcmUgZGVmaW5lZCBpbiBqYXZhc2NyaXB0IGluc3RlYWQgb2YgY3NzLlxuICpcbiAqICBVc2FnZTogRm9yIHRoZSBlbGVtZW50IHRoYXQgd2Ugd2FudCB0byBhcHBseSBiZWZvcmUgYW5kIGFmdGVyIGVsZW1lbnRzIHRvLFxuICogICAgd3JhcCBpdHMgY2hpbGRyZW4gd2l0aCBCZWZvcmVBZnRlcldyYXBwZXIuIEZvciBleGFtcGxlOlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFwZXI+XG4gKiAgPFBhcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiAvLyBTZWUgbm90aWNlXG4gKiAgICA8QmVmb3JlQWZ0ZXJXcmFwcGVyPiAgICAgICAgcmVuZGVycyAgICAgICAgIDxkaXYvPiAvLyBiZWZvcmUgZWxlbWVudFxuICogICAgICBbY2hpbGRyZW4gb2YgcGFwZXJdICAgICAgIC0tLS0tLT4gICAgICAgICBbY2hpbGRyZW4gb2YgcGFwZXJdXG4gKiAgICA8L0JlZm9yZUFmdGVyV3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgIDxkaXYvPiAvLyBhZnRlciBlbGVtZW50XG4gKiAgPC9QYXBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BhcGVyPlxuICpcbiAqICBOb3RpY2U6IE5vdGljZSB0aGF0IHRoaXMgZGl2IGJ1bmRsZXMgdG9nZXRoZXIgb3VyIGVsZW1lbnRzLiBJZiB0aGUgZWxlbWVudFxuICogICAgdGhhdCB3ZSB3YW50IHRvIGFwcGx5IGJlZm9yZSBhbmQgYWZ0ZXIgZWxlbWVudHMgaXMgYSBIVE1MIHRhZyAoaS5lLiBhXG4gKiAgICBkaXYsIHAsIG9yIGJ1dHRvbiB0YWcpLCB3ZSBjYW4gYXZvaWQgdGhpcyBleHRyYSBuZXN0aW5nIGJ5IHBhc3NpbmcgdXNpbmdcbiAqICAgIHRoZSBCZWZvcmVBZnRlcldyYXBwZXIgaW4gcGxhY2Ugb2Ygc2FpZCB0YWcgbGlrZSBzbzpcbiAqXG4gKiAgPHA+XG4gKiAgICA8QmVmb3JlQWZ0ZXJXcmFwcGVyPiAgIGRvIHRoaXMgaW5zdGVhZCAgIDxCZWZvcmVBZnRlcldyYXBwZXIgZWxlbWVudFR5cGU9J3AnPlxuICogICAgICBbY2hpbGRyZW4gb2YgcF0gICAgICAgICAgLS0tLS0tPiAgICAgICAgIFtjaGlsZHJlbiBvZiBwXVxuICogICAgPC9CZWZvcmVBZnRlcldyYXBwZXI+ICAgICAgICAgICAgICAgICAgICA8L0JlZm9yZUFmdGVyV3JhcHBlcj5cbiAqICA8L3A+XG4gKlxuICogIEJlZm9yZUFmdGVyV3JhcHBlciBmZWF0dXJlcyBzcHJlYWQgZnVuY3Rpb25hbGl0eS4gVGhpcyBtZWFucyB0aGF0IHdlIGNhblxuICogIHBhc3MgSFRNTCB0YWcgcHJvcGVydGllcyBkaXJlY3RseSBpbnRvIHRoZSBCZWZvcmVBZnRlcldyYXBwZXIgdGFnLlxuICpcbiAqICBXaGVuIHVzaW5nIEJlZm9yZUFmdGVyV3JhcHBlciwgZW5zdXJlIHRoYXQgdGhlIHBhcmVudCBvZiB0aGUgYmVmb3JlRWxlbWVudFxuICogIGFuZCBhZnRlckVsZW1lbnQgaGF2ZSBhIGRlZmluZWQgc3R5bGUgcG9zaXRpb24uXG4gKi9cblxudmFyIHN0eWxlcyA9IHtcbiAgYm94OiB7XG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgfVxufTtcblxudmFyIEJlZm9yZUFmdGVyV3JhcHBlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEJlZm9yZUFmdGVyV3JhcHBlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQmVmb3JlQWZ0ZXJXcmFwcGVyKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEJlZm9yZUFmdGVyV3JhcHBlcik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKEJlZm9yZUFmdGVyV3JhcHBlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQmVmb3JlQWZ0ZXJXcmFwcGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShCZWZvcmVBZnRlcldyYXBwZXIsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYmVmb3JlU3R5bGUgPSBfcHJvcHMuYmVmb3JlU3R5bGUsXG4gICAgICAgICAgYWZ0ZXJTdHlsZSA9IF9wcm9wcy5hZnRlclN0eWxlLFxuICAgICAgICAgIGJlZm9yZUVsZW1lbnRUeXBlID0gX3Byb3BzLmJlZm9yZUVsZW1lbnRUeXBlLFxuICAgICAgICAgIGFmdGVyRWxlbWVudFR5cGUgPSBfcHJvcHMuYWZ0ZXJFbGVtZW50VHlwZSxcbiAgICAgICAgICBlbGVtZW50VHlwZSA9IF9wcm9wcy5lbGVtZW50VHlwZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydiZWZvcmVTdHlsZScsICdhZnRlclN0eWxlJywgJ2JlZm9yZUVsZW1lbnRUeXBlJywgJ2FmdGVyRWxlbWVudFR5cGUnLCAnZWxlbWVudFR5cGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHZhciBiZWZvcmVFbGVtZW50ID0gdm9pZCAwO1xuICAgICAgdmFyIGFmdGVyRWxlbWVudCA9IHZvaWQgMDtcblxuICAgICAgaWYgKGJlZm9yZVN0eWxlKSB7XG4gICAgICAgIGJlZm9yZUVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmJlZm9yZUVsZW1lbnRUeXBlLCB7XG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYm94LCBiZWZvcmVTdHlsZSkpLFxuICAgICAgICAgIGtleTogJzo6YmVmb3JlJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFmdGVyU3R5bGUpIHtcbiAgICAgICAgYWZ0ZXJFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5hZnRlckVsZW1lbnRUeXBlLCB7XG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYm94LCBhZnRlclN0eWxlKSksXG4gICAgICAgICAga2V5OiAnOjphZnRlcidcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IFtiZWZvcmVFbGVtZW50LCB0aGlzLnByb3BzLmNoaWxkcmVuLCBhZnRlckVsZW1lbnRdO1xuXG4gICAgICB2YXIgcHJvcHMgPSBvdGhlcjtcbiAgICAgIHByb3BzLnN0eWxlID0gcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHRoaXMucHJvcHMuc3R5bGUpKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuZWxlbWVudFR5cGUsIHByb3BzLCBjaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCZWZvcmVBZnRlcldyYXBwZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5CZWZvcmVBZnRlcldyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBiZWZvcmVFbGVtZW50VHlwZTogJ2RpdicsXG4gIGFmdGVyRWxlbWVudFR5cGU6ICdkaXYnLFxuICBlbGVtZW50VHlwZTogJ2Rpdidcbn07XG5CZWZvcmVBZnRlcldyYXBwZXIuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkJlZm9yZUFmdGVyV3JhcHBlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGFmdGVyRWxlbWVudFR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhZnRlclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgYmVmb3JlRWxlbWVudFR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBiZWZvcmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGVsZW1lbnRUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJlZm9yZUFmdGVyV3JhcHBlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvQmVmb3JlQWZ0ZXJXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfQmVmb3JlQWZ0ZXJXcmFwcGVyID0gcmVxdWlyZSgnLi9CZWZvcmVBZnRlcldyYXBwZXInKTtcblxudmFyIF9CZWZvcmVBZnRlcldyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmVmb3JlQWZ0ZXJXcmFwcGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0eWxlcyA9IHtcbiAgYmVmb3JlOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBkaXNwbGF5OiAndGFibGUnXG4gIH0sXG4gIGFmdGVyOiB7XG4gICAgY29udGVudDogXCInICdcIixcbiAgICBjbGVhcjogJ2JvdGgnLFxuICAgIGRpc3BsYXk6ICd0YWJsZSdcbiAgfVxufTtcblxudmFyIENsZWFyRml4ID0gZnVuY3Rpb24gQ2xlYXJGaXgoX3JlZikge1xuICB2YXIgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcmVmLCBbJ3N0eWxlJywgJ2NoaWxkcmVuJ10pO1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX0JlZm9yZUFmdGVyV3JhcHBlcjIuZGVmYXVsdCxcbiAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgYmVmb3JlU3R5bGU6IHN0eWxlcy5iZWZvcmUsXG4gICAgICBhZnRlclN0eWxlOiBzdHlsZXMuYWZ0ZXIsXG4gICAgICBzdHlsZTogc3R5bGVcbiAgICB9KSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxuQ2xlYXJGaXgubXVpTmFtZSA9ICdDbGVhckZpeCc7XG5cbkNsZWFyRml4LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xlYXJGaXg7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL0NsZWFyRml4LmpzXG4vLyBtb2R1bGUgaWQgPSAxNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSByZXF1aXJlKCdrZXljb2RlJyk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9Gb2N1c1JpcHBsZSA9IHJlcXVpcmUoJy4vRm9jdXNSaXBwbGUnKTtcblxudmFyIF9Gb2N1c1JpcHBsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb2N1c1JpcHBsZSk7XG5cbnZhciBfVG91Y2hSaXBwbGUgPSByZXF1aXJlKCcuL1RvdWNoUmlwcGxlJyk7XG5cbnZhciBfVG91Y2hSaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG91Y2hSaXBwbGUpO1xuXG52YXIgX1BhcGVyID0gcmVxdWlyZSgnLi8uLi9QYXBlcicpO1xuXG52YXIgX1BhcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcGVyKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgYmFzZVRoZW1lID0gY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWU7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGN1cnNvcjogcHJvcHMuZGlzYWJsZWQgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuICAgICAgZGlzcGxheTogJ3RhYmxlJyxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgY3Vyc29yOiAnaW5oZXJpdCcsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYWxsJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWFyZ2luOiAwXG4gICAgfSxcbiAgICBjb250cm9sczoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHdpZHRoOiAnY2FsYygxMDAlIC0gNjBweCknLFxuICAgICAgbGluZUhlaWdodDogJzI0cHgnLFxuICAgICAgY29sb3I6IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRGYW1pbHk6IGJhc2VUaGVtZS5mb250RmFtaWx5XG4gICAgfSxcbiAgICB3cmFwOiB7XG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICB3aWR0aDogNjAgLSBiYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wR3V0dGVyTGVzcyxcbiAgICAgIG1hcmdpblJpZ2h0OiBwcm9wcy5sYWJlbFBvc2l0aW9uID09PSAncmlnaHQnID8gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MgOiAwLFxuICAgICAgbWFyZ2luTGVmdDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ2xlZnQnID8gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MgOiAwXG4gICAgfSxcbiAgICByaXBwbGU6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy5yaXBwbGVDb2xvciB8fCBiYXNlVGhlbWUucGFsZXR0ZS5wcmltYXJ5MUNvbG9yLFxuICAgICAgaGVpZ2h0OiAnMjAwJScsXG4gICAgICB3aWR0aDogJzIwMCUnLFxuICAgICAgdG9wOiAtMTIsXG4gICAgICBsZWZ0OiAtMTJcbiAgICB9XG4gIH07XG59XG5cbnZhciBFbmhhbmNlZFN3aXRjaCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBFbmhhbmNlZFN3aXRjaCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBFbmhhbmNlZFN3aXRjaCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBFbmhhbmNlZFN3aXRjaC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRW5oYW5jZWRTd2l0Y2gpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgaXNJbnB1dENoZWNrZWQgPSBfdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQ7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ2NoZWNrZWQnKSAmJiBfdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZShpc0lucHV0Q2hlY2tlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblN3aXRjaCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblN3aXRjaChldmVudCwgaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjb2RlID0gKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCk7XG5cbiAgICAgIGlmIChjb2RlID09PSAndGFiJykge1xuICAgICAgICBfdGhpcy50YWJQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc0tleWJvYXJkRm9jdXNlZCAmJiBjb2RlID09PSAnc3BhY2UnKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZShldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc0tleWJvYXJkRm9jdXNlZCAmJiAoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gb25seSBsaXN0ZW4gdG8gbGVmdCBjbGlja3NcbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IDApIHtcbiAgICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5zdGFydChldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuZW5kKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuZW5kKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5zdGFydChldmVudCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQmx1cikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBzZXRUaW1lb3V0IGlzIG5lZWRlZCBiZWN1YXNlIHRoZSBmb2N1cyBldmVudCBmaXJlcyBmaXJzdFxuICAgICAgLy8gV2FpdCBzbyB0aGF0IHdlIGNhbiBjYXB0dXJlIGlmIHRoaXMgd2FzIGEga2V5Ym9hcmQgZm9jdXNcbiAgICAgIC8vIG9yIHRvdWNoIGZvY3VzXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLnRhYlByZXNzZWQpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0tleWJvYXJkRm9jdXNlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCAxNTApO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRW5oYW5jZWRTd2l0Y2gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBpbnB1dE5vZGUgPSB0aGlzLnJlZnMuY2hlY2tib3g7XG4gICAgICBpZiAoKCF0aGlzLnByb3BzLnN3aXRjaGVkIHx8IGlucHV0Tm9kZS5jaGVja2VkICE9PSB0aGlzLnByb3BzLnN3aXRjaGVkKSAmJiB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaW5wdXROb2RlLmNoZWNrZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIGhhc0NoZWNrZWRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJyk7XG4gICAgICB2YXIgaGFzTmV3RGVmYXVsdFByb3AgPSBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRDaGVja2VkJykgJiYgbmV4dFByb3BzLmRlZmF1bHRDaGVja2VkICE9PSB0aGlzLnByb3BzLmRlZmF1bHRDaGVja2VkO1xuXG4gICAgICBpZiAoaGFzQ2hlY2tlZFByb3AgfHwgaGFzTmV3RGVmYXVsdFByb3ApIHtcbiAgICAgICAgdmFyIHN3aXRjaGVkID0gbmV4dFByb3BzLmNoZWNrZWQgfHwgbmV4dFByb3BzLmRlZmF1bHRDaGVja2VkIHx8IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiBzd2l0Y2hlZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSAmJiBzd2l0Y2hlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoc3dpdGNoZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3dpdGNoZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgLy8gbm8gY2FsbGJhY2sgaGVyZSBiZWNhdXNlIHRoZXJlIGlzIG5vIGV2ZW50XG5cbiAgfSwge1xuICAgIGtleTogJ3NldFN3aXRjaGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3dpdGNoZWQobmV3U3dpdGNoZWRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgfHwgdGhpcy5wcm9wcy5jaGVja2VkID09PSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUobmV3U3dpdGNoZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQgPSBuZXdTd2l0Y2hlZFZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ01hdGVyaWFsLVVJOiBDYW5ub3QgY2FsbCBzZXQgbWV0aG9kIHdoaWxlIGNoZWNrZWQgaXMgZGVmaW5lZCBhcyBhIHByb3BlcnR5LicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNoZWNrYm94LnZhbHVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrYm94IGlucHV0cyBvbmx5IHVzZSBTUEFDRSB0byBjaGFuZ2UgdGhlaXIgc3RhdGUuIFVzaW5nIEVOVEVSIHdpbGxcbiAgICAvLyB1cGRhdGUgdGhlIHVpIGJ1dCBub3QgdGhlIGlucHV0LlxuXG5cbiAgICAvKipcbiAgICAgKiBCZWNhdXNlIGJvdGggdGhlIHJpcHBsZXMgYW5kIHRoZSBjaGVja2JveCBpbnB1dCBjYW5ub3Qgc2hhcmUgcG9pbnRlclxuICAgICAqIGV2ZW50cywgdGhlIGNoZWNrYm94IGlucHV0IHRha2VzIGNvbnRyb2wgb2YgcG9pbnRlciBldmVudHMgYW5kIGNhbGxzXG4gICAgICogcmlwcGxlIGFuaW1hdGlvbnMgbWFudWFsbHkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG5hbWUgPSBfcHJvcHMubmFtZSxcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMuaWNvblN0eWxlLFxuICAgICAgICAgIGlucHV0U3R5bGUgPSBfcHJvcHMuaW5wdXRTdHlsZSxcbiAgICAgICAgICBpbnB1dFR5cGUgPSBfcHJvcHMuaW5wdXRUeXBlLFxuICAgICAgICAgIGxhYmVsID0gX3Byb3BzLmxhYmVsLFxuICAgICAgICAgIGxhYmVsU3R5bGUgPSBfcHJvcHMubGFiZWxTdHlsZSxcbiAgICAgICAgICBsYWJlbFBvc2l0aW9uID0gX3Byb3BzLmxhYmVsUG9zaXRpb24sXG4gICAgICAgICAgb25Td2l0Y2ggPSBfcHJvcHMub25Td2l0Y2gsXG4gICAgICAgICAgb25CbHVyID0gX3Byb3BzLm9uQmx1cixcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25Nb3VzZVVwID0gX3Byb3BzLm9uTW91c2VVcCxcbiAgICAgICAgICBvbk1vdXNlRG93biA9IF9wcm9wcy5vbk1vdXNlRG93bixcbiAgICAgICAgICBvbk1vdXNlTGVhdmUgPSBfcHJvcHMub25Nb3VzZUxlYXZlLFxuICAgICAgICAgIG9uVG91Y2hTdGFydCA9IF9wcm9wcy5vblRvdWNoU3RhcnQsXG4gICAgICAgICAgb25Ub3VjaEVuZCA9IF9wcm9wcy5vblRvdWNoRW5kLFxuICAgICAgICAgIG9uUGFyZW50U2hvdWxkVXBkYXRlID0gX3Byb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVUb3VjaFJpcHBsZSA9IF9wcm9wcy5kaXNhYmxlVG91Y2hSaXBwbGUsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzUmlwcGxlID0gX3Byb3BzLmRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIHJpcHBsZUNvbG9yID0gX3Byb3BzLnJpcHBsZUNvbG9yLFxuICAgICAgICAgIHJpcHBsZVN0eWxlID0gX3Byb3BzLnJpcHBsZVN0eWxlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN3aXRjaGVkID0gX3Byb3BzLnN3aXRjaGVkLFxuICAgICAgICAgIHN3aXRjaEVsZW1lbnQgPSBfcHJvcHMuc3dpdGNoRWxlbWVudCxcbiAgICAgICAgICB0aHVtYlN0eWxlID0gX3Byb3BzLnRodW1iU3R5bGUsXG4gICAgICAgICAgdHJhY2tTdHlsZSA9IF9wcm9wcy50cmFja1N0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ25hbWUnLCAndmFsdWUnLCAnaWNvblN0eWxlJywgJ2lucHV0U3R5bGUnLCAnaW5wdXRUeXBlJywgJ2xhYmVsJywgJ2xhYmVsU3R5bGUnLCAnbGFiZWxQb3NpdGlvbicsICdvblN3aXRjaCcsICdvbkJsdXInLCAnb25Gb2N1cycsICdvbk1vdXNlVXAnLCAnb25Nb3VzZURvd24nLCAnb25Nb3VzZUxlYXZlJywgJ29uVG91Y2hTdGFydCcsICdvblRvdWNoRW5kJywgJ29uUGFyZW50U2hvdWxkVXBkYXRlJywgJ2Rpc2FibGVkJywgJ2Rpc2FibGVUb3VjaFJpcHBsZScsICdkaXNhYmxlRm9jdXNSaXBwbGUnLCAnY2xhc3NOYW1lJywgJ3JpcHBsZUNvbG9yJywgJ3JpcHBsZVN0eWxlJywgJ3N0eWxlJywgJ3N3aXRjaGVkJywgJ3N3aXRjaEVsZW1lbnQnLCAndGh1bWJTdHlsZScsICd0cmFja1N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIHdyYXBTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLndyYXAsIGljb25TdHlsZSk7XG4gICAgICB2YXIgbWVyZ2VkUmlwcGxlU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJpcHBsZSwgcmlwcGxlU3R5bGUpO1xuXG4gICAgICBpZiAodGh1bWJTdHlsZSkge1xuICAgICAgICB3cmFwU3R5bGVzLm1hcmdpbkxlZnQgLz0gMjtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5SaWdodCAvPSAyO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGFiZWxFbGVtZW50ID0gbGFiZWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsYWJlbCcsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5sYWJlbCwgbGFiZWxTdHlsZSkpIH0sXG4gICAgICAgIGxhYmVsXG4gICAgICApO1xuXG4gICAgICB2YXIgc2hvd1RvdWNoUmlwcGxlID0gIWRpc2FibGVkICYmICFkaXNhYmxlVG91Y2hSaXBwbGU7XG4gICAgICB2YXIgc2hvd0ZvY3VzUmlwcGxlID0gIWRpc2FibGVkICYmICFkaXNhYmxlRm9jdXNSaXBwbGU7XG5cbiAgICAgIHZhciB0b3VjaFJpcHBsZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Ub3VjaFJpcHBsZTIuZGVmYXVsdCwge1xuICAgICAgICByZWY6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIGtleTogJ3RvdWNoUmlwcGxlJyxcbiAgICAgICAgc3R5bGU6IG1lcmdlZFJpcHBsZVN0eWxlLFxuICAgICAgICBjb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGUuY29sb3IsXG4gICAgICAgIG11aVRoZW1lOiB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgIGNlbnRlclJpcHBsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBmb2N1c1JpcHBsZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Gb2N1c1JpcHBsZTIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6ICdmb2N1c1JpcHBsZScsXG4gICAgICAgIGlubmVyU3R5bGU6IG1lcmdlZFJpcHBsZVN0eWxlLFxuICAgICAgICBjb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGUuY29sb3IsXG4gICAgICAgIG11aVRoZW1lOiB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgIHNob3c6IHRoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcmlwcGxlcyA9IFtzaG93VG91Y2hSaXBwbGUgPyB0b3VjaFJpcHBsZSA6IG51bGwsIHNob3dGb2N1c1JpcHBsZSA/IGZvY3VzUmlwcGxlIDogbnVsbF07XG5cbiAgICAgIHZhciBpbnB1dEVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICByZWY6ICdjaGVja2JveCcsXG4gICAgICAgIHR5cGU6IGlucHV0VHlwZSxcbiAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pbnB1dCwgaW5wdXRTdHlsZSkpLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgb25Nb3VzZVVwOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZVVwLFxuICAgICAgICBvbk1vdXNlRG93bjogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VEb3duLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgIG9uVG91Y2hTdGFydDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcbiAgICAgICAgb25Ub3VjaEVuZDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlVG91Y2hFbmRcbiAgICAgIH0pKTtcblxuICAgICAgLy8gSWYgdG9nZ2xlIGNvbXBvbmVudCAoaW5kaWNhdGVkIGJ5IHdoZXRoZXIgdGhlIHN0eWxlIGluY2x1ZGVzIHRodW1iKSBtYW51YWxseSBsYXkgb3V0XG4gICAgICAvLyBlbGVtZW50cyBpbiBvcmRlciB0byBuZXN0IHJpcHBsZSBlbGVtZW50c1xuICAgICAgdmFyIHN3aXRjaE9yVGh1bWJFbGVtZW50ID0gIXRodW1iU3R5bGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgc3dpdGNoRWxlbWVudCxcbiAgICAgICAgcmlwcGxlc1xuICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyh3cmFwU3R5bGVzKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHRyYWNrU3R5bGUpKSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1BhcGVyMi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHRodW1iU3R5bGUsIHpEZXB0aDogMSwgY2lyY2xlOiB0cnVlIH0sXG4gICAgICAgICAgJyAnLFxuICAgICAgICAgIHJpcHBsZXMsXG4gICAgICAgICAgJyAnXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIHZhciBlbGVtZW50c0luT3JkZXIgPSBsYWJlbFBvc2l0aW9uID09PSAncmlnaHQnID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMuY29udHJvbHMgfSxcbiAgICAgICAgc3dpdGNoT3JUaHVtYkVsZW1lbnQsXG4gICAgICAgIGxhYmVsRWxlbWVudFxuICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIGxhYmVsRWxlbWVudCxcbiAgICAgICAgc3dpdGNoT3JUaHVtYkVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiAncm9vdCcsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcFxuICAgICAgICB9KSxcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBlbGVtZW50c0luT3JkZXJcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBFbmhhbmNlZFN3aXRjaDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkVuaGFuY2VkU3dpdGNoLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5FbmhhbmNlZFN3aXRjaC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZGVmYXVsdENoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZUZvY3VzUmlwcGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVUb3VjaFJpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBpbnB1dFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBsYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgbGFiZWxTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG5hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvbkJsdXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlRG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZVVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uUGFyZW50U2hvdWxkVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU3dpdGNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hFbmQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFN0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHJpcHBsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgcmlwcGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHN3aXRjaEVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBzd2l0Y2hlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIHRodW1iU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0cmFja1N0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBFbmhhbmNlZFN3aXRjaDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvRW5oYW5jZWRTd2l0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDE1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IHJlcXVpcmUoJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwJyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zaXRpb25Hcm91cCk7XG5cbnZhciBfU2xpZGVJbkNoaWxkID0gcmVxdWlyZSgnLi9TbGlkZUluQ2hpbGQnKTtcblxudmFyIF9TbGlkZUluQ2hpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2xpZGVJbkNoaWxkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNsaWRlSW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTbGlkZUluLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbGlkZUluKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNsaWRlSW4pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gU2xpZGVJbi5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoU2xpZGVJbikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmdldExlYXZlRGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmRpcmVjdGlvbjtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU2xpZGVJbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZW50ZXJEZWxheSA9IF9wcm9wcy5lbnRlckRlbGF5LFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNoaWxkU3R5bGUgPSBfcHJvcHMuY2hpbGRTdHlsZSxcbiAgICAgICAgICBkaXJlY3Rpb24gPSBfcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2VudGVyRGVsYXknLCAnY2hpbGRyZW4nLCAnY2hpbGRTdHlsZScsICdkaXJlY3Rpb24nLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHZhciBtZXJnZWRSb290U3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgICB9LCBzdHlsZSk7XG5cbiAgICAgIHZhciBuZXdDaGlsZHJlbiA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1NsaWRlSW5DaGlsZDIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IGNoaWxkLmtleSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgICAgICAgZW50ZXJEZWxheTogZW50ZXJEZWxheSxcbiAgICAgICAgICAgIGdldExlYXZlRGlyZWN0aW9uOiBfdGhpczIuZ2V0TGVhdmVEaXJlY3Rpb24sXG4gICAgICAgICAgICBzdHlsZTogY2hpbGRTdHlsZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRcbiAgICAgICAgKTtcbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMobWVyZ2VkUm9vdFN0eWxlcyksXG4gICAgICAgICAgY29tcG9uZW50OiAnZGl2J1xuICAgICAgICB9KSxcbiAgICAgICAgbmV3Q2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTbGlkZUluO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuU2xpZGVJbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGVudGVyRGVsYXk6IDAsXG4gIGRpcmVjdGlvbjogJ2xlZnQnXG59O1xuU2xpZGVJbi5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU2xpZGVJbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGNoaWxkU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBkaXJlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydsZWZ0JywgJ3JpZ2h0JywgJ3VwJywgJ2Rvd24nXSksXG4gIGVudGVyRGVsYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNsaWRlSW47XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL1NsaWRlSW4uanNcbi8vIG1vZHVsZSBpZCA9IDE2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duID0gZnVuY3Rpb24gTmF2aWdhdGlvbkFycm93RHJvcERvd24ocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTcgMTBsNSA1IDUtNXonIH0pXG4gICk7XG59O1xuTmF2aWdhdGlvbkFycm93RHJvcERvd24gPSAoMCwgX3B1cmUyLmRlZmF1bHQpKE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duKTtcbk5hdmlnYXRpb25BcnJvd0Ryb3BEb3duLmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25BcnJvd0Ryb3BEb3duJztcbk5hdmlnYXRpb25BcnJvd0Ryb3BEb3duLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5hdmlnYXRpb25BcnJvd0Ryb3BEb3duO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9hcnJvdy1kcm9wLWRvd24uanNcbi8vIG1vZHVsZSBpZCA9IDE2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSByZXF1aXJlKCdyZWNvbXBvc2UvcHVyZScpO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IHJlcXVpcmUoJy4uLy4uL1N2Z0ljb24nKTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSBmdW5jdGlvbiBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTkgNXYxNEg1VjVoMTRtMC0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rKTtcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rJztcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveC1vdXRsaW5lLWJsYW5rLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRvZ2dsZUNoZWNrQm94ID0gZnVuY3Rpb24gVG9nZ2xlQ2hlY2tCb3gocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE5IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMTEgMCAyLS45IDItMlY1YzAtMS4xLS44OS0yLTItMnptLTkgMTRsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3ggPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94KTtcblRvZ2dsZUNoZWNrQm94LmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94JztcblRvZ2dsZUNoZWNrQm94Lm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveC5qc1xuLy8gbW9kdWxlIGlkID0gMTY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5MQVJHRSA9IGV4cG9ydHMuTUVESVVNID0gZXhwb3J0cy5TTUFMTCA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3aXRoV2lkdGg7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU01BTEwgPSBleHBvcnRzLlNNQUxMID0gMTtcbnZhciBNRURJVU0gPSBleHBvcnRzLk1FRElVTSA9IDI7XG52YXIgTEFSR0UgPSBleHBvcnRzLkxBUkdFID0gMztcblxuZnVuY3Rpb24gd2l0aFdpZHRoKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBfb3B0aW9ucyRsYXJnZVdpZHRoID0gb3B0aW9ucy5sYXJnZVdpZHRoLFxuICAgICAgbGFyZ2VXaWR0aCA9IF9vcHRpb25zJGxhcmdlV2lkdGggPT09IHVuZGVmaW5lZCA/IDk5MiA6IF9vcHRpb25zJGxhcmdlV2lkdGgsXG4gICAgICBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9IG9wdGlvbnMubWVkaXVtV2lkdGgsXG4gICAgICBtZWRpdW1XaWR0aCA9IF9vcHRpb25zJG1lZGl1bVdpZHRoID09PSB1bmRlZmluZWQgPyA3NjggOiBfb3B0aW9ucyRtZWRpdW1XaWR0aCxcbiAgICAgIF9vcHRpb25zJHJlc2l6ZUludGVydiA9IG9wdGlvbnMucmVzaXplSW50ZXJ2YWwsXG4gICAgICByZXNpemVJbnRlcnZhbCA9IF9vcHRpb25zJHJlc2l6ZUludGVydiA9PT0gdW5kZWZpbmVkID8gMTY2IDogX29wdGlvbnMkcmVzaXplSW50ZXJ2O1xuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChNeUNvbXBvbmVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoV2l0aFdpZHRoLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gV2l0aFdpZHRoKCkge1xuICAgICAgICB2YXIgX3JlZjtcblxuICAgICAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFdpdGhXaWR0aCk7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gV2l0aFdpZHRoLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShXaXRoV2lkdGgpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICB3aWR0aDogbnVsbFxuICAgICAgICB9LCBfdGhpcy5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmRlZmVyVGltZXIpO1xuICAgICAgICAgIF90aGlzLmRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgICAgfSwgcmVzaXplSW50ZXJ2YWwpO1xuICAgICAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICAgICAgfVxuXG4gICAgICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShXaXRoV2lkdGgsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlV2lkdGgoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICd1cGRhdGVXaWR0aCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVXaWR0aCgpIHtcbiAgICAgICAgICB2YXIgaW5uZXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgIHZhciB3aWR0aCA9IHZvaWQgMDtcblxuICAgICAgICAgIGlmIChpbm5lcldpZHRoID49IGxhcmdlV2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gTEFSR0U7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbm5lcldpZHRoID49IG1lZGl1bVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IE1FRElVTTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaW5uZXJXaWR0aCA8IDc2OFxuICAgICAgICAgICAgd2lkdGggPSBTTUFMTDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod2lkdGggIT09IHRoaXMuc3RhdGUud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc3RhdGUud2lkdGg7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBXaGVuIHJlbmRlcmluZyB0aGUgY29tcG9uZW50IG9uIHRoZSBzZXJ2ZXIsXG4gICAgICAgICAgICogd2UgaGF2ZSBubyBpZGVhIGFib3V0IHRoZSBzY3JlZW4gd2lkdGguXG4gICAgICAgICAgICogSW4gb3JkZXIgdG8gcHJldmVudCBibGlua3MgYW5kIGhlbHAgdGhlIHJlY29uY2lsaWF0aW9uXG4gICAgICAgICAgICogd2UgYXJlIG5vdCByZW5kZXJpbmcgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEEgYmV0dGVyIGFsdGVybmF0aXZlIHdvdWxkIGJlIHRvIHNlbmQgY2xpZW50IGhpbnRzLlxuICAgICAgICAgICAqIEJ1dCB0aGUgYnJvd3NlciBzdXBwb3J0IG9mIHRoaXMgQVBJIGlzIGxvdzpcbiAgICAgICAgICAgKiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1jbGllbnQlMjBoaW50XG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKHdpZHRoID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyB0YXJnZXQ6ICd3aW5kb3cnLCBvblJlc2l6ZTogdGhpcy5oYW5kbGVSZXNpemUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KE15Q29tcG9uZW50LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9LCB0aGlzLnByb3BzKSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICByZXR1cm4gV2l0aFdpZHRoO1xuICAgIH0oX3JlYWN0LkNvbXBvbmVudCk7XG4gIH07XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL3V0aWxzL3dpdGhXaWR0aC5qc1xuLy8gbW9kdWxlIGlkID0gMTY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXNJdGVyYWJsZTIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxudmFyIF9pc0l0ZXJhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSXRlcmFibGUyKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9nZXQtaXRlcmF0b3JcIik7XG5cbnZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSAyMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5Jyk7XG5cbnZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdGltZVV0aWxzID0gcmVxdWlyZSgnLi90aW1lVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgZGlyZWN0aW9uSW52YXJpYW50OiB0cnVlLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHdpZHRoOiAzMixcbiAgICAgIGhlaWdodDogMzIsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgIGxlZnQ6ICdjYWxjKDUwJSAtIDE2cHgpJyxcbiAgICAgIHRvcDogMTAsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgcGFkZGluZ1RvcDogNSxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJywgLyogQ2hyb21lIGFsbCAvIFNhZmFyaSBhbGwgKi9cbiAgICAgIGZvbnRTaXplOiAnMS4xZW0nLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICB9XG4gIH07XG5cbiAgdmFyIG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZTtcblxuXG4gIHZhciBwb3MgPSBwcm9wcy52YWx1ZTtcblxuICBpZiAocHJvcHMudHlwZSA9PT0gJ2hvdXInKSB7XG4gICAgcG9zICU9IDEyO1xuICB9IGVsc2Uge1xuICAgIHBvcyA9IHBvcyAvIDU7XG4gIH1cblxuICB2YXIgcG9zaXRpb25zID0gW1swLCA1XSwgWzU0LjUsIDE2LjZdLCBbOTQuNCwgNTkuNV0sIFsxMDksIDExNF0sIFs5NC40LCAxNjguNV0sIFs1NC41LCAyMDguNF0sIFswLCAyMjNdLCBbLTU0LjUsIDIwOC40XSwgWy05NC40LCAxNjguNV0sIFstMTA5LCAxMTRdLCBbLTk0LjQsIDU5LjVdLCBbLTU0LjUsIDE5LjZdXTtcblxuICB2YXIgaW5uZXJQb3NpdGlvbnMgPSBbWzAsIDQwXSwgWzM2LjksIDQ5LjldLCBbNjQsIDc3XSwgWzc0LCAxMTRdLCBbNjQsIDE1MV0sIFszNywgMTc4XSwgWzAsIDE4OF0sIFstMzcsIDE3OF0sIFstNjQsIDE1MV0sIFstNzQsIDExNF0sIFstNjQsIDc3XSwgWy0zNywgNTBdXTtcblxuICBpZiAocHJvcHMuaXNTZWxlY3RlZCkge1xuICAgIHN0eWxlcy5yb290LmJhY2tncm91bmRDb2xvciA9IG11aVRoZW1lLnRpbWVQaWNrZXIuYWNjZW50Q29sb3I7XG4gICAgc3R5bGVzLnJvb3QuY29sb3IgPSBtdWlUaGVtZS50aW1lUGlja2VyLnNlbGVjdFRleHRDb2xvcjtcbiAgfVxuXG4gIHZhciB0cmFuc2Zvcm1Qb3MgPSBwb3NpdGlvbnNbcG9zXTtcblxuICBpZiAoKDAsIF90aW1lVXRpbHMuaXNJbm5lcikocHJvcHMpKSB7XG4gICAgc3R5bGVzLnJvb3Qud2lkdGggPSAyODtcbiAgICBzdHlsZXMucm9vdC5oZWlnaHQgPSAyODtcbiAgICBzdHlsZXMucm9vdC5sZWZ0ID0gJ2NhbGMoNTAlIC0gMTRweCknO1xuICAgIHRyYW5zZm9ybVBvcyA9IGlubmVyUG9zaXRpb25zW3Bvc107XG4gIH1cblxuICB2YXIgX3RyYW5zZm9ybVBvcyA9IHRyYW5zZm9ybVBvcyxcbiAgICAgIF90cmFuc2Zvcm1Qb3MyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfdHJhbnNmb3JtUG9zLCAyKSxcbiAgICAgIHggPSBfdHJhbnNmb3JtUG9zMlswXSxcbiAgICAgIHkgPSBfdHJhbnNmb3JtUG9zMlsxXTtcblxuICBzdHlsZXMucm9vdC50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCAnICsgeSArICdweCknO1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBDbG9ja051bWJlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrTnVtYmVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja051bWJlcigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDbG9ja051bWJlcik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENsb2NrTnVtYmVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDbG9ja051bWJlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2tOdW1iZXIsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIGNsb2NrTnVtYmVyID0gdGhpcy5wcm9wcy52YWx1ZSA9PT0gMCA/ICcwMCcgOiB0aGlzLnByb3BzLnZhbHVlO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgY2xvY2tOdW1iZXJcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9ja051bWJlcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNsb2NrTnVtYmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IDAsXG4gIHR5cGU6ICdtaW51dGUnLFxuICBpc1NlbGVjdGVkOiBmYWxzZVxufTtcbkNsb2NrTnVtYmVyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja051bWJlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGlzU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25TZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICB0eXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnaG91cicsICdtaW51dGUnXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlclxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2tOdW1iZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tOdW1iZXIuanNcbi8vIG1vZHVsZSBpZCA9IDIzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RpbWVVdGlscyA9IHJlcXVpcmUoJy4vdGltZVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNhbGNBbmdsZSh2YWx1ZSwgYmFzZSkge1xuICB2YWx1ZSAlPSBiYXNlO1xuICB2YXIgYW5nbGUgPSAzNjAgLyBiYXNlICogdmFsdWU7XG4gIHJldHVybiBhbmdsZTtcbn1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgaGFzU2VsZWN0ZWQgPSBwcm9wcy5oYXNTZWxlY3RlZCxcbiAgICAgIHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgdmFyIGlubmVyID0gc3RhdGUuaW5uZXI7XG4gIHZhciB0aW1lUGlja2VyID0gY29udGV4dC5tdWlUaGVtZS50aW1lUGlja2VyO1xuXG4gIHZhciBhbmdsZSA9IHR5cGUgPT09ICdob3VyJyA/IGNhbGNBbmdsZSh2YWx1ZSwgMTIpIDogY2FsY0FuZ2xlKHZhbHVlLCA2MCk7XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBoZWlnaHQ6IGlubmVyID8gJzMwJScgOiAnNDAlJyxcbiAgICAgIGJhY2tncm91bmQ6IHRpbWVQaWNrZXIuYWNjZW50Q29sb3IsXG4gICAgICB3aWR0aDogMixcbiAgICAgIGxlZnQ6ICdjYWxjKDUwJSAtIDFweCknLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBib3R0b206ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnYm90dG9tJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZVooJyArIGFuZ2xlICsgJ2RlZyknXG4gICAgfSxcbiAgICBtYXJrOiB7XG4gICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCcsXG4gICAgICBiYWNrZ3JvdW5kOiB0aW1lUGlja2VyLnNlbGVjdFRleHRDb2xvcixcbiAgICAgIGJvcmRlcjogJzRweCBzb2xpZCAnICsgdGltZVBpY2tlci5hY2NlbnRDb2xvcixcbiAgICAgIGRpc3BsYXk6IGhhc1NlbGVjdGVkICYmICdub25lJyxcbiAgICAgIHdpZHRoOiA3LFxuICAgICAgaGVpZ2h0OiA3LFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IC01LFxuICAgICAgbGVmdDogLTYsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJ1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgQ2xvY2tQb2ludGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2xvY2tQb2ludGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbG9ja1BvaW50ZXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2xvY2tQb2ludGVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENsb2NrUG9pbnRlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2xvY2tQb2ludGVyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpbm5lcjogZmFsc2VcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2tQb2ludGVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpbm5lcjogKDAsIF90aW1lVXRpbHMuaXNJbm5lcikodGhpcy5wcm9wcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlubmVyOiAoMCwgX3RpbWVVdGlscy5pc0lubmVyKShuZXh0UHJvcHMpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5yb290KSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMubWFyaykgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9ja1BvaW50ZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja1BvaW50ZXIuZGVmYXVsdFByb3BzID0ge1xuICBoYXNTZWxlY3RlZDogZmFsc2UsXG4gIHZhbHVlOiBudWxsLFxuICB0eXBlOiAnbWludXRlJ1xufTtcbkNsb2NrUG9pbnRlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2xvY2tQb2ludGVyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgaGFzU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2hvdXInLCAnbWludXRlJ10pLFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrUG9pbnRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9DbG9ja1BvaW50ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfRGF0ZVBpY2tlciA9IHJlcXVpcmUoJy4vRGF0ZVBpY2tlcicpO1xuXG52YXIgX0RhdGVQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVBpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9EYXRlUGlja2VyMi5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyODFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpbWVQaWNrZXIgPSByZXF1aXJlKCcuL1RpbWVQaWNrZXInKTtcblxudmFyIF9UaW1lUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfVGltZVBpY2tlcjIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERvbSBmcm9tICdyZWFjdC1kb20nO1xyXG5cclxuaW1wb3J0IE11aVRoZW1lUHJvdmlkZXIgZnJvbSAnbWF0ZXJpYWwtdWkvc3R5bGVzL011aVRoZW1lUHJvdmlkZXInO1xyXG5pbXBvcnQgUmFpc2VkQnV0dG9uIGZyb20gJ21hdGVyaWFsLXVpL1JhaXNlZEJ1dHRvbic7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnbWF0ZXJpYWwtdWkvVGV4dEZpZWxkJztcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZEFjdGlvbnMsIENhcmRIZWFkZXIsIENhcmRUZXh0IH0gZnJvbSAnbWF0ZXJpYWwtdWkvQ2FyZCc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdtYXRlcmlhbC11aS9DaGVja2JveCc7XHJcbmltcG9ydCBGbGF0QnV0dG9uIGZyb20gJ21hdGVyaWFsLXVpL0ZsYXRCdXR0b24nO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJ21hdGVyaWFsLXVpL0RpYWxvZyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdtYXRlcmlhbC11aS9TbmFja2Jhcic7XHJcblxyXG5pbXBvcnQgRHJvcERvd25NZW51IGZyb20gJ21hdGVyaWFsLXVpL0Ryb3BEb3duTWVudSc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdtYXRlcmlhbC11aS9NZW51SXRlbSc7XHJcblxyXG5pbXBvcnQgRGF0ZVBpY2tlciBmcm9tICdtYXRlcmlhbC11aS9EYXRlUGlja2VyJztcclxuaW1wb3J0IFRpbWVQaWNrZXIgZnJvbSAnbWF0ZXJpYWwtdWkvVGltZVBpY2tlcic7XHJcblxyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7XHJcblxyXG4vKiBFU1RFIEZSQUdNRU5UTyBERSBDT0RJR08gRVMgUkVRVUVSSURPIFBBUkEgTE9TIEVWRU5UT1MgREUgVElQTyBUT1VDSCBPIENMSUNLIEVOIENPTVBPTkVOVEVTIE1BVEVSSUFMLVVJICovXHJcbmltcG9ydCBpbmplY3RUYXBFdmVudFBsdWdpbiBmcm9tICdyZWFjdC10YXAtZXZlbnQtcGx1Z2luJztcclxuaW5qZWN0VGFwRXZlbnRQbHVnaW4oKTtcclxuXHJcblxyXG4vKiBGSU4gREUgSU1QT1JUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuY29uc3QgdG9rZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9rZW4nKS5pbm5lckhUTUw7XHJcblxyXG5jb25zdCBFTVBUWV9DQUxMQkFDSyA9ICgpID0+IHsgfTtcclxuXHJcbmNvbnN0IFNob3BSZWcgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtc2dTbmFja2Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja2Jhck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBteVNob3A6IHt9LFxyXG4gICAgICAgICAgICBteVNob3BSZWFkeTogZmFsc2UsXHJcbiAgICAgICAgICAgIHdlZWtzdGFydDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgd2Vla2ZpbmlzaDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgd2Vla2VuZHN0YXJ0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICB3ZWVrZW5kZmluaXNoOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBmb29kdHlwZXM6IG51bGwsIC8vIHRpcG9zIGRlIGNvbWlkYSBkaXNwb25pYmxlc1xyXG4gICAgICAgICAgICBmb29kdHlwZTogMCAvLyBpZCBkZSB0aXBvIGRlIGNvbWlkYVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbjogJyArIHRva2VuKTtcclxuICAgICAgICBsZXQgbXlTaG9wO1xyXG4gICAgICAgIGF4aW9zLmdldChgL2FwaS92MS9zaG9wYWRtL215c2hvcD90b2tlbj0ke3Rva2VufWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGByZXNwb25zZS5kYXRhLnNob3A6ICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5zaG9wKX1gKTtcclxuICAgICAgICAgICAgICAgIG15U2hvcCA9IHJlc3BvbnNlLmRhdGEuc2hvcDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9hcGkvdjEvZm9vZHR5cGVzJyk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHJlc3BvbnNlLmRhdGEuZm9vZFR5cGVzOiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZm9vZFR5cGVzKX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBteVNob3AsIG15U2hvcFJlYWR5OiB0cnVlLCBmb29kdHlwZXM6IHJlc3BvbnNlLmRhdGEuZm9vZFR5cGVzIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goY2F1c2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjYXVzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja2JhcignRXJyb3IgYWwgY2FyZ2FyIGxvcyBkYXRvcyBkZWwgY29tZXJjaW8nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5TbmFja2Jhcihtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQWJyaWVuZG8gc25hY2sgYmFyJyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1zZ1NuYWNrYmFyT3BlbjogdHJ1ZSwgc25hY2tiYXJNZXNzYWdlOiBtc2cgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICB2YWxpZGF0ZVNob3AoKSB7XHJcbiAgICAgICAgY29uc3QgZm9vZHR5cGUgPSB0aGlzLnN0YXRlLmZvb2R0eXBlcy5maW5kKGZ0ID0+IGZ0LmlkID09IHRoaXMuc3RhdGUuZm9vZHR5cGUpO1xyXG4gICAgICAgIGF4aW9zLnBvc3QoYC9hcGkvdjEvc2hvcGFkbS92ZXJpZnk/dG9rZW49JHt0b2tlbn1gKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tiYXIoJ2V4aXRvJyk7XHJcbiAgICAgICAgfSkuY2F0Y2goY2F1c2UgPT4gY29uc29sZS5lcnJvcihjYXVzZSkpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuZm9vZHR5cGVzKSByZXR1cm4gPHNwYW4+RXNwZXJlLi4uPC9zcGFuPjtcclxuXHJcbiAgICAgICAgY29uc3QgZm9vZHR5cGVJdGVtcyA9IFs8TWVudUl0ZW0gdmFsdWU9ezB9IHByaW1hcnlUZXh0PSdUaXBvIGRlIGNvbWlkYScgLz5dO1xyXG4gICAgICAgIHRoaXMuc3RhdGUuZm9vZHR5cGVzLmZvckVhY2goZnQgPT5cclxuICAgICAgICAgICAgZm9vZHR5cGVJdGVtcy5wdXNoKDxNZW51SXRlbSB2YWx1ZT17ZnQuaWR9IHByaW1hcnlUZXh0PXtmdC5mb29kdHlwZX0gLz4pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPE11aVRoZW1lUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmdCb3R0b206IDEwLCBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNyknIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbjogMjAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5WYWxpZGFjaW9uIGRlIGFsdGEgZGUgY29tZXJjaW88L2gxPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5EYXRvcyBiYXNpY29zPC9oMj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJOb21icmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIk5vbWJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIk5vbWJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5teVNob3AubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfSAvPjxiciAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkRpcmVjY2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiRGlyZWNjaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiRGlyZWNjaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm15U2hvcC5hZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiTGF0aXR1ZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiTGF0aXR1ZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIkxhdGl0dWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubXlTaG9wLmxhdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IDEwIH19IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiTG9uZ2l0dWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIkxvbmdpdHVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiTG9uZ2l0dWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubXlTaG9wLmxvbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX0gLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJUZWxlZm9ub1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiVGVsZWZvbm8gc2luIGd1aW9uIG5pIGVzcGFjaW9zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiVGVsZWZvbm9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubXlTaG9wLnBob25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5EYXRvcyBkZWwgbWVudTwvaDI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RHJvcERvd25NZW51XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5mb29kdHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSwgaSwgdmFsdWUpID0+IHRoaXMuc2V0U3RhdGUoeyBmb29kdHlwZTogdmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuSW1tZWRpYXRlbHk9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDIwMCwgcGFkZGluZzogMCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb29kdHlwZUl0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3BEb3duTWVudT4gPGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+SG9yYXJpbyBkZSBkaWEgZGUgc2VtYW5hPC9oMz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUaW1lUGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ9XCIyNGhyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnRUZXh0PVwiSG9yYSBkZSBhcGVydHVyYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUsIGQpID0+IHRoaXMuc2V0U3RhdGUoeyB3ZWVrc3RhcnQ6IGQgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvT2s9e3RydWV9IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGltZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiMjRoclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dD1cIkhvcmEgZGUgY2llcnJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSwgZCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHdlZWtmaW5pc2g6IGQgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvT2s9e3RydWV9IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Ib3JhcmlvIGRlIGZpbmVzIGRlIHNlbWFuYTwvaDM+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGltZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiMjRoclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dD1cIkhvcmEgZGUgYXBlcnR1cmFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlLCBkKSA9PiB0aGlzLnNldFN0YXRlKHsgd2Vla2VuZHN0YXJ0OiBkIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09rPXt0cnVlfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIjI0aHJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ9XCJIb3JhIGRlIGNpZXJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUsIGQpID0+IHRoaXMuc2V0U3RhdGUoeyB3ZWVrZW5kZmluaXNoOiBkIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09rPXt0cnVlfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGhyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDI+Q3JlZGVuY2lhbGVzIGRlbCBhZG1pbmlzdHJhZG9yPC9oMj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiRW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hZG1pbkVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IGFkbWluRW1haWw6IGUudGFyZ2V0LnZhbHVlIH0pfSAvPjxiciAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIlBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIlBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFkbWluUGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgYWRtaW5QYXNzd29yZDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdwYXNzd29yZCcgLz48YnIgLz5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmFpc2VkQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IDIwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRvZG8gYmllblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnZhbGlkYXRlU2hvcH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAxMCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLm15U2hvcFJlYWR5fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmFpc2VkQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IDIwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkFsZ28gZXN0YSBtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLm15U2hvcFJlYWR5fSAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUubXNnU25hY2tiYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLnNuYWNrYmFyTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MzAwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuaGFuZGxlU25hY2tiYXJSZXF1ZXN0Q2xvc2V9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvTXVpVGhlbWVQcm92aWRlciA+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5SZWFjdERvbS5yZW5kZXIoXHJcbiAgICA8U2hvcFJlZyAvPixcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL1Nob3BSZWcuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDMwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvcicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDMxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDMxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXQgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3IgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIGl0ZXJGbiA9IGdldChpdCk7XG4gIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICByZXR1cm4gYW5PYmplY3QoaXRlckZuLmNhbGwoaXQpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuaXNJdGVyYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTyA9IE9iamVjdChpdCk7XG4gIHJldHVybiBPW0lURVJBVE9SXSAhPT0gdW5kZWZpbmVkXG4gICAgfHwgJ0BAaXRlcmF0b3InIGluIE9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknKTtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ3JlYWN0LWV2ZW50LWxpc3RlbmVyJyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RXZlbnRMaXN0ZW5lcik7XG5cbnZhciBfa2V5Y29kZSA9IHJlcXVpcmUoJ2tleWNvZGUnKTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX0NhbGVuZGFyQWN0aW9uQnV0dG9ucyA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJBY3Rpb25CdXR0b25zJyk7XG5cbnZhciBfQ2FsZW5kYXJBY3Rpb25CdXR0b25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyQWN0aW9uQnV0dG9ucyk7XG5cbnZhciBfQ2FsZW5kYXJNb250aCA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJNb250aCcpO1xuXG52YXIgX0NhbGVuZGFyTW9udGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNb250aCk7XG5cbnZhciBfQ2FsZW5kYXJZZWFyID0gcmVxdWlyZSgnLi9DYWxlbmRhclllYXInKTtcblxudmFyIF9DYWxlbmRhclllYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJZZWFyKTtcblxudmFyIF9DYWxlbmRhclRvb2xiYXIgPSByZXF1aXJlKCcuL0NhbGVuZGFyVG9vbGJhcicpO1xuXG52YXIgX0NhbGVuZGFyVG9vbGJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhclRvb2xiYXIpO1xuXG52YXIgX0RhdGVEaXNwbGF5ID0gcmVxdWlyZSgnLi9EYXRlRGlzcGxheScpO1xuXG52YXIgX0RhdGVEaXNwbGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVEaXNwbGF5KTtcblxudmFyIF9TbGlkZUluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvU2xpZGVJbicpO1xuXG52YXIgX1NsaWRlSW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2xpZGVJbik7XG5cbnZhciBfZGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9kYXRlVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRheXNBcnJheSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShBcnJheSg3KSkpO1xuXG52YXIgQ2FsZW5kYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FsZW5kYXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhbGVuZGFyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkaXNwbGF5RGF0ZTogdW5kZWZpbmVkLFxuICAgICAgZGlzcGxheU1vbnRoRGF5OiB1bmRlZmluZWQsXG4gICAgICBzZWxlY3RlZERhdGU6IHVuZGVmaW5lZCxcbiAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgIHRyYW5zaXRpb25FbnRlcjogdHJ1ZVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRlKSB7XG4gICAgICBfdGhpcy5zZXRTZWxlY3RlZERhdGUoZGF0ZSk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcERheSkgX3RoaXMucHJvcHMub25Ub3VjaFRhcERheShldmVudCwgZGF0ZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW9udGhDaGFuZ2UgPSBmdW5jdGlvbiAobW9udGhzKSB7XG4gICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IF90aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgdmFyIHByZXZEaXJlY3Rpb24gPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBtb250aHMgPj0gMCA/IG5leHREaXJlY3Rpb24gOiBwcmV2RGlyZWN0aW9uO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICAgIGRpc3BsYXlEYXRlOiBfdGhpcy5wcm9wcy51dGlscy5hZGRNb250aHMoX3RoaXMuc3RhdGUuZGlzcGxheURhdGUsIG1vbnRocylcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uIChldmVudCwgeWVhcikge1xuICAgICAgX3RoaXMuc2V0U2VsZWN0ZWREYXRlKF90aGlzLnByb3BzLnV0aWxzLnNldFllYXIoX3RoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCB5ZWFyKSwgZXZlbnQpO1xuICAgICAgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5KCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBEYXRlRGlzcGxheU1vbnRoRGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5TW9udGhEYXk6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlZZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5TW9udGhEYXk6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVXaW5kb3dLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub3Blbikge1xuICAgICAgICB2YXIgbmV4dEFycm93ID0gX3RoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBwcmV2QXJyb3cgPSBfdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgc3dpdGNoICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSkge1xuICAgICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygtMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cygtNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZFllYXJzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBfdGhpcy5hZGRTZWxlY3RlZE1vbnRocygxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cyg3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBuZXh0QXJyb3c6XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkWWVhcnMoMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWREYXlzKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIHByZXZBcnJvdzpcbiAgICAgICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWRkU2VsZWN0ZWRZZWFycygtMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkTW9udGhzKC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmFkZFNlbGVjdGVkRGF5cygtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYWxlbmRhciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzcGxheURhdGU6IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKHRoaXMucHJvcHMuaW5pdGlhbERhdGUpLFxuICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMucHJvcHMuaW5pdGlhbERhdGUsXG4gICAgICAgIGRpc3BsYXlNb250aERheTogIXRoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmluaXRpYWxEYXRlICE9PSB0aGlzLnByb3BzLmluaXRpYWxEYXRlKSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV4dFByb3BzLmluaXRpYWxEYXRlIHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRpc3BsYXlEYXRlOiB0aGlzLnByb3BzLnV0aWxzLmdldEZpcnN0RGF5T2ZNb250aChkYXRlKSxcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IGRhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWluRGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbkRhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5taW5EYXRlIHx8IHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnMobmV3IERhdGUoKSwgLTEwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWF4RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1heERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnMobmV3IERhdGUoKSwgMTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWxlY3RlZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNTZWxlY3RlZERhdGVEaXNhYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuZGlzcGxheU1vbnRoRGF5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jYWxlbmRhci5pc1NlbGVjdGVkRGF0ZURpc2FibGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWREYXlzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWREYXlzKGRheXMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkRGF5cyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgZGF5cykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZFNlbGVjdGVkTW9udGhzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VsZWN0ZWRNb250aHMobW9udGhzKSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkRGF0ZSh0aGlzLnByb3BzLnV0aWxzLmFkZE1vbnRocyh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgbW9udGhzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VsZWN0ZWRZZWFycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNlbGVjdGVkWWVhcnMoeWVhcnMpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWREYXRlKHRoaXMucHJvcHMudXRpbHMuYWRkWWVhcnModGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsIHllYXJzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0RGlzcGxheURhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREaXNwbGF5RGF0ZShkYXRlLCBuZXdTZWxlY3RlZERhdGUpIHtcbiAgICAgIHZhciBuZXdEaXNwbGF5RGF0ZSA9IHRoaXMucHJvcHMudXRpbHMuZ2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUpO1xuXG4gICAgICBpZiAobmV3RGlzcGxheURhdGUgIT09IHRoaXMuc3RhdGUuZGlzcGxheURhdGUpIHtcbiAgICAgICAgdmFyIG5leHREaXJlY3Rpb24gPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuaXNSdGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICB2YXIgcHJldkRpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXdEaXNwbGF5RGF0ZSA+IHRoaXMuc3RhdGUuZGlzcGxheURhdGUgPyBuZXh0RGlyZWN0aW9uIDogcHJldkRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlzcGxheURhdGU6IG5ld0Rpc3BsYXlEYXRlLFxuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IG5ld1NlbGVjdGVkRGF0ZSB8fCB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTZWxlY3RlZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RlZERhdGUoZGF0ZSkge1xuICAgICAgdmFyIGFkanVzdGVkRGF0ZSA9IGRhdGU7XG4gICAgICB2YXIgbWluRGF0ZSA9IHRoaXMuZ2V0TWluRGF0ZSgpO1xuICAgICAgdmFyIG1heERhdGUgPSB0aGlzLmdldE1heERhdGUoKTtcbiAgICAgIGlmICgoMCwgX2RhdGVVdGlscy5pc0JlZm9yZURhdGUpKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgICAgIGFkanVzdGVkRGF0ZSA9IG1pbkRhdGU7XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfZGF0ZVV0aWxzLmlzQWZ0ZXJEYXRlKShkYXRlLCBtYXhEYXRlKSkge1xuICAgICAgICBhZGp1c3RlZERhdGUgPSBtYXhEYXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3RGlzcGxheURhdGUgPSB0aGlzLnByb3BzLnV0aWxzLmdldEZpcnN0RGF5T2ZNb250aChhZGp1c3RlZERhdGUpO1xuICAgICAgaWYgKG5ld0Rpc3BsYXlEYXRlICE9PSB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlKSB7XG4gICAgICAgIHRoaXMuc2V0RGlzcGxheURhdGUobmV3RGlzcGxheURhdGUsIGFkanVzdGVkRGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IGFkanVzdGVkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUb29sYmFySW50ZXJhY3Rpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9vbGJhckludGVyYWN0aW9ucygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZXZNb250aDogdGhpcy5wcm9wcy51dGlscy5tb250aERpZmYodGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSwgdGhpcy5nZXRNaW5EYXRlKCkpID4gMCxcbiAgICAgICAgbmV4dE1vbnRoOiB0aGlzLnByb3BzLnV0aWxzLm1vbnRoRGlmZih0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLCB0aGlzLmdldE1heERhdGUoKSkgPCAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3llYXJTZWxlY3RvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHllYXJTZWxlY3RvcigpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5kaXNhYmxlWWVhclNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyWWVhcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogJ3llYXJzJyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogdGhpcy5wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGU6IHRoaXMucHJvcHMubG9jYWxlLFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyOiB0aGlzLmhhbmRsZVRvdWNoVGFwWWVhcixcbiAgICAgICAgICBzZWxlY3RlZERhdGU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgIG1pbkRhdGU6IHRoaXMuZ2V0TWluRGF0ZSgpLFxuICAgICAgICAgIG1heERhdGU6IHRoaXMuZ2V0TWF4RGF0ZSgpLFxuICAgICAgICAgIHV0aWxzOiB0aGlzLnByb3BzLnV0aWxzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG4gICAgICB2YXIgaGlkZUNhbGVuZGFyRGF0ZSA9IHRoaXMucHJvcHMuaGlkZUNhbGVuZGFyRGF0ZTtcblxuICAgICAgdmFyIHRvb2xiYXJJbnRlcmFjdGlvbnMgPSB0aGlzLmdldFRvb2xiYXJJbnRlcmFjdGlvbnMoKTtcbiAgICAgIHZhciBpc0xhbmRzY2FwZSA9IHRoaXMucHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZSc7XG4gICAgICB2YXIgY2FsZW5kYXJUZXh0Q29sb3IgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuZGF0ZVBpY2tlci5jYWxlbmRhclRleHRDb2xvcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgY29sb3I6IGNhbGVuZGFyVGV4dENvbG9yLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB3aWR0aDogIWhpZGVDYWxlbmRhckRhdGUgJiYgaXNMYW5kc2NhcGUgPyA0NzkgOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgY2FsZW5kYXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgICAgfSxcbiAgICAgICAgY2FsZW5kYXJDb250YWluZXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgYWxpZ25Db250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgZm9udFdlaWdodDogNDAwLFxuICAgICAgICAgIHBhZGRpbmc6ICcwcHggOHB4JyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpXG4gICAgICAgIH0sXG4gICAgICAgIHllYXJDb250YWluZXI6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBoZWlnaHQ6IDI3MixcbiAgICAgICAgICBtYXJnaW5Ub3A6IDEwLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICB3aWR0aDogMzEwXG4gICAgICAgIH0sXG4gICAgICAgIHdlZWtUaXRsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgICAgbGluZUhlaWdodDogJzE1cHgnLFxuICAgICAgICAgIG9wYWNpdHk6ICcwLjUnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgfSxcbiAgICAgICAgd2Vla1RpdGxlRGF5OiB7XG4gICAgICAgICAgd2lkdGg6IDQyXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zaXRpb25TbGlkZToge1xuICAgICAgICAgIGhlaWdodDogMjE0XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB3ZWVrVGl0bGVEYXlTdHlsZSA9IHByZXBhcmVTdHlsZXMoc3R5bGVzLndlZWtUaXRsZURheSk7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3Byb3BzLmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsLFxuICAgICAgICAgIG9uVG91Y2hUYXBDYW5jZWwgPSBfcHJvcHMub25Ub3VjaFRhcENhbmNlbCxcbiAgICAgICAgICBvblRvdWNoVGFwT2sgPSBfcHJvcHMub25Ub3VjaFRhcE9rLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVXaW5kb3dLZXlEb3duXG4gICAgICAgIH0pLFxuICAgICAgICAhaGlkZUNhbGVuZGFyRGF0ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGF0ZURpc3BsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb246IHRoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgb25Ub3VjaFRhcE1vbnRoRGF5OiB0aGlzLmhhbmRsZVRvdWNoVGFwRGF0ZURpc3BsYXlNb250aERheSxcbiAgICAgICAgICBvblRvdWNoVGFwWWVhcjogdGhpcy5oYW5kbGVUb3VjaFRhcERhdGVEaXNwbGF5WWVhcixcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICBtb250aERheVNlbGVjdGVkOiB0aGlzLnN0YXRlLmRpc3BsYXlNb250aERheSxcbiAgICAgICAgICBtb2RlOiB0aGlzLnByb3BzLm1vZGUsXG4gICAgICAgICAgc2VsZWN0ZWREYXRlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2FsZW5kYXIpIH0sXG4gICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmNhbGVuZGFyQ29udGFpbmVyKSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyVG9vbGJhcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgICBkaXNwbGF5RGF0ZTogdGhpcy5zdGF0ZS5kaXNwbGF5RGF0ZSxcbiAgICAgICAgICAgICAgb25Nb250aENoYW5nZTogdGhpcy5oYW5kbGVNb250aENoYW5nZSxcbiAgICAgICAgICAgICAgcHJldk1vbnRoOiB0b29sYmFySW50ZXJhY3Rpb25zLnByZXZNb250aCxcbiAgICAgICAgICAgICAgbmV4dE1vbnRoOiB0b29sYmFySW50ZXJhY3Rpb25zLm5leHRNb250aFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLndlZWtUaXRsZSkgfSxcbiAgICAgICAgICAgICAgZGF5c0FycmF5Lm1hcChmdW5jdGlvbiAoZXZlbnQsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICB7IGtleTogaSwgc3R5bGU6IHdlZWtUaXRsZURheVN0eWxlIH0sXG4gICAgICAgICAgICAgICAgICAoMCwgX2RhdGVVdGlscy5sb2NhbGl6ZWRXZWVrZGF5KShEYXRlVGltZUZvcm1hdCwgbG9jYWxlLCBpLCBmaXJzdERheU9mV2VlaylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiwgc3R5bGU6IHN0eWxlcy50cmFuc2l0aW9uU2xpZGUgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyTW9udGgyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdDogRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICAgICAgZGlzcGxheURhdGU6IHRoaXMuc3RhdGUuZGlzcGxheURhdGUsXG4gICAgICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IHRoaXMucHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICAgICAga2V5OiB0aGlzLnN0YXRlLmRpc3BsYXlEYXRlLnRvRGF0ZVN0cmluZygpLFxuICAgICAgICAgICAgICAgIG1pbkRhdGU6IHRoaXMuZ2V0TWluRGF0ZSgpLFxuICAgICAgICAgICAgICAgIG1heERhdGU6IHRoaXMuZ2V0TWF4RGF0ZSgpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXBEYXk6IHRoaXMuaGFuZGxlVG91Y2hUYXBEYXksXG4gICAgICAgICAgICAgICAgcmVmOiAnY2FsZW5kYXInLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHRoaXMucHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5kaXNwbGF5TW9udGhEYXkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnllYXJDb250YWluZXIpIH0sXG4gICAgICAgICAgICB0aGlzLnllYXJTZWxlY3RvcigpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBva0xhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckFjdGlvbkJ1dHRvbnMyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGF1dG9PazogdGhpcy5wcm9wcy5hdXRvT2ssXG4gICAgICAgICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcENhbmNlbDogb25Ub3VjaFRhcENhbmNlbCxcbiAgICAgICAgICAgIG9uVG91Y2hUYXBPazogb25Ub3VjaFRhcE9rXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICBEYXRlVGltZUZvcm1hdDogX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdCxcbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGZhbHNlLFxuICBpbml0aWFsRGF0ZTogbmV3IERhdGUoKSxcbiAgbG9jYWxlOiAnZW4tVVMnLFxuICB1dGlsczogX2RhdGVVdGlscy5kZWZhdWx0VXRpbHNcbn07XG5DYWxlbmRhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FsZW5kYXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaW5pdGlhbERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1heERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtaW5EYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZSddKSxcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvblRvdWNoVGFwQ2FuY2VsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXBEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcE9rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDJcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9GbGF0QnV0dG9uID0gcmVxdWlyZSgnLi4vRmxhdEJ1dHRvbicpO1xuXG52YXIgX0ZsYXRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxhdEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBDYWxlbmRhckFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhbGVuZGFyQWN0aW9uQnV0dG9uLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhckFjdGlvbkJ1dHRvbigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhckFjdGlvbkJ1dHRvbik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhbGVuZGFyQWN0aW9uQnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYWxlbmRhckFjdGlvbkJ1dHRvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJBY3Rpb25CdXR0b24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2FuY2VsTGFiZWwgPSBfcHJvcHMuY2FuY2VsTGFiZWwsXG4gICAgICAgICAgb2tMYWJlbCA9IF9wcm9wcy5va0xhYmVsO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIG1heEhlaWdodDogNDgsXG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9LFxuICAgICAgICBmbGF0QnV0dG9uczoge1xuICAgICAgICAgIGZvbnRzaXplOiAxNCxcbiAgICAgICAgICBtYXJnaW46ICc0cHggOHB4IDhweCAwcHgnLFxuICAgICAgICAgIG1heEhlaWdodDogMzYsXG4gICAgICAgICAgbWluV2lkdGg6IDY0LFxuICAgICAgICAgIHBhZGRpbmc6IDBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLnJvb3QgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAgICBsYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5wcm9wcy5vblRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5mbGF0QnV0dG9uc1xuICAgICAgICB9KSxcbiAgICAgICAgIXRoaXMucHJvcHMuYXV0b09rICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMucmVmcy5jYWxlbmRhciAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVmcy5jYWxlbmRhci5pc1NlbGVjdGVkRGF0ZURpc2FibGVkKCksXG4gICAgICAgICAgbGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5wcm9wcy5vblRvdWNoVGFwT2ssXG4gICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLmZsYXRCdXR0b25zXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXJBY3Rpb25CdXR0b247XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhckFjdGlvbkJ1dHRvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGF1dG9PazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjYW5jZWxMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG9uVG91Y2hUYXBDYW5jZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcE9rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhbGVuZGFyQWN0aW9uQnV0dG9uO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9EYXRlUGlja2VyL0NhbGVuZGFyQWN0aW9uQnV0dG9ucy5qc1xuLy8gbW9kdWxlIGlkID0gNDAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9kYXRlVXRpbHMnKTtcblxudmFyIF9EYXlCdXR0b24gPSByZXF1aXJlKCcuL0RheUJ1dHRvbicpO1xuXG52YXIgX0RheUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgc3R5bGVzID0ge1xuICByb290OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgZm9udFdlaWdodDogNDAwLFxuICAgIGhlaWdodDogMjI4LFxuICAgIGxpbmVIZWlnaHQ6IDIsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICBNb3pQYWRkaW5nU3RhcnQ6IDBcbiAgfSxcbiAgd2Vlazoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCcsXG4gICAgaGVpZ2h0OiAzNCxcbiAgICBtYXJnaW5Cb3R0b206IDJcbiAgfVxufTtcblxudmFyIENhbGVuZGFyTW9udGggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhck1vbnRoLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhck1vbnRoKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhbGVuZGFyTW9udGgpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXJNb250aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FsZW5kYXJNb250aCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVRvdWNoVGFwRGF5ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcERheSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwRGF5KGV2ZW50LCBkYXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJNb250aCwgW3tcbiAgICBrZXk6ICdpc1NlbGVjdGVkRGF0ZURpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RlZERhdGVEaXNhYmxlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkRGF0ZURpc2FibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZERpc2FibGVEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkRGlzYWJsZURhdGUoZGF5KSB7XG4gICAgICBpZiAoZGF5ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgZGlzYWJsZWQgPSAhKDAsIF9kYXRlVXRpbHMuaXNCZXR3ZWVuRGF0ZXMpKGRheSwgdGhpcy5wcm9wcy5taW5EYXRlLCB0aGlzLnByb3BzLm1heERhdGUpO1xuICAgICAgaWYgKCFkaXNhYmxlZCAmJiB0aGlzLnByb3BzLnNob3VsZERpc2FibGVEYXRlKSBkaXNhYmxlZCA9IHRoaXMucHJvcHMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcblxuICAgICAgcmV0dXJuIGRpc2FibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFdlZWtFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdlZWtFbGVtZW50cygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgd2Vla0FycmF5ID0gdGhpcy5wcm9wcy51dGlscy5nZXRXZWVrQXJyYXkodGhpcy5wcm9wcy5kaXNwbGF5RGF0ZSwgdGhpcy5wcm9wcy5maXJzdERheU9mV2Vlayk7XG5cbiAgICAgIHJldHVybiB3ZWVrQXJyYXkubWFwKGZ1bmN0aW9uICh3ZWVrLCBpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGtleTogaSwgc3R5bGU6IHN0eWxlcy53ZWVrIH0sXG4gICAgICAgICAgX3RoaXMyLmdldERheUVsZW1lbnRzKHdlZWssIGkpXG4gICAgICAgICk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREYXlFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERheUVsZW1lbnRzKHdlZWssIGkpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZSA9IF9wcm9wcy5zZWxlY3RlZERhdGU7XG5cblxuICAgICAgcmV0dXJuIHdlZWsubWFwKGZ1bmN0aW9uIChkYXksIGopIHtcbiAgICAgICAgdmFyIGlzU2FtZURhdGUgPSAoMCwgX2RhdGVVdGlscy5pc0VxdWFsRGF0ZSkoc2VsZWN0ZWREYXRlLCBkYXkpO1xuICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpczMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gIWRpc2FibGVkICYmIGlzU2FtZURhdGU7XG5cbiAgICAgICAgaWYgKGlzU2FtZURhdGUpIHtcbiAgICAgICAgICBfdGhpczMuc2VsZWN0ZWREYXRlRGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGF5QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIGRhdGU6IGRheSxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAga2V5OiAnZGInICsgKGkgKyBqKSxcbiAgICAgICAgICBvblRvdWNoVGFwOiBfdGhpczMuaGFuZGxlVG91Y2hUYXBEYXksXG4gICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLnJvb3QgfSxcbiAgICAgICAgdGhpcy5nZXRXZWVrRWxlbWVudHMoKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyTW9udGg7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYWxlbmRhck1vbnRoLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzcGxheURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG9uVG91Y2hUYXBEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FsZW5kYXJNb250aDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9DYWxlbmRhck1vbnRoLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9JY29uQnV0dG9uID0gcmVxdWlyZSgnLi4vSWNvbkJ1dHRvbicpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfY2hldnJvbkxlZnQgPSByZXF1aXJlKCcuLi9zdmctaWNvbnMvbmF2aWdhdGlvbi9jaGV2cm9uLWxlZnQnKTtcblxudmFyIF9jaGV2cm9uTGVmdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGV2cm9uTGVmdCk7XG5cbnZhciBfY2hldnJvblJpZ2h0ID0gcmVxdWlyZSgnLi4vc3ZnLWljb25zL25hdmlnYXRpb24vY2hldnJvbi1yaWdodCcpO1xuXG52YXIgX2NoZXZyb25SaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGV2cm9uUmlnaHQpO1xuXG52YXIgX1NsaWRlSW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9TbGlkZUluJyk7XG5cbnZhciBfU2xpZGVJbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbGlkZUluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0eWxlcyA9IHtcbiAgcm9vdDoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ2luaGVyaXQnLFxuICAgIGhlaWdodDogNDhcbiAgfSxcbiAgdGl0bGVEaXY6IHtcbiAgICBmb250U2l6ZTogMTQsXG4gICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICB3aWR0aDogJzEwMCUnXG4gIH0sXG4gIHRpdGxlVGV4dDoge1xuICAgIGhlaWdodDogJ2luaGVyaXQnLFxuICAgIHBhZGRpbmdUb3A6IDEyXG4gIH1cbn07XG5cbnZhciBDYWxlbmRhclRvb2xiYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhclRvb2xiYXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyVG9vbGJhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhclRvb2xiYXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXJUb29sYmFyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYWxlbmRhclRvb2xiYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246ICd1cCdcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcFByZXZNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UoLTEpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwTmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Nb250aENoYW5nZSgxKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FsZW5kYXJUb29sYmFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy5kaXNwbGF5RGF0ZSAhPT0gdGhpcy5wcm9wcy5kaXNwbGF5RGF0ZSkge1xuICAgICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIHZhciBwcmV2RGlyZWN0aW9uID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5leHRQcm9wcy5kaXNwbGF5RGF0ZSA+IHRoaXMucHJvcHMuZGlzcGxheURhdGUgPyBuZXh0RGlyZWN0aW9uIDogcHJldkRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgZGlzcGxheURhdGUgPSBfcHJvcHMuZGlzcGxheURhdGU7XG5cblxuICAgICAgdmFyIGRhdGVUaW1lRm9ybWF0dGVkID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgIH0pLmZvcm1hdChkaXNwbGF5RGF0ZSk7XG5cbiAgICAgIHZhciBuZXh0QnV0dG9uSWNvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGV2cm9uTGVmdDIuZGVmYXVsdCwgbnVsbCkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hldnJvblJpZ2h0Mi5kZWZhdWx0LCBudWxsKTtcbiAgICAgIHZhciBwcmV2QnV0dG9uSWNvbiA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5pc1J0bCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jaGV2cm9uUmlnaHQyLmRlZmF1bHQsIG51bGwpIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZXZyb25MZWZ0Mi5kZWZhdWx0LCBudWxsKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLnJvb3QgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlzYWJsZWQ6ICF0aGlzLnByb3BzLnByZXZNb250aCxcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBQcmV2TW9udGhcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZCdXR0b25JY29uXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9TbGlkZUluMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogdGhpcy5zdGF0ZS50cmFuc2l0aW9uRGlyZWN0aW9uLFxuICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy50aXRsZURpdlxuICAgICAgICAgIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsga2V5OiBkYXRlVGltZUZvcm1hdHRlZCwgc3R5bGU6IHN0eWxlcy50aXRsZVRleHQgfSxcbiAgICAgICAgICAgIGRhdGVUaW1lRm9ybWF0dGVkXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMucHJvcHMubmV4dE1vbnRoLFxuICAgICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE5leHRNb250aFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmV4dEJ1dHRvbkljb25cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhbGVuZGFyVG9vbGJhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyVG9vbGJhci5kZWZhdWx0UHJvcHMgPSB7XG4gIG5leHRNb250aDogdHJ1ZSxcbiAgcHJldk1vbnRoOiB0cnVlXG59O1xuQ2FsZW5kYXJUb29sYmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYWxlbmRhclRvb2xiYXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc3BsYXlEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG5leHRNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBvbk1vbnRoQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHByZXZNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYWxlbmRhclRvb2xiYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXJUb29sYmFyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDVcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfWWVhckJ1dHRvbiA9IHJlcXVpcmUoJy4vWWVhckJ1dHRvbicpO1xuXG52YXIgX1llYXJCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWWVhckJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBDYWxlbmRhclllYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYWxlbmRhclllYXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyWWVhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYWxlbmRhclllYXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2FsZW5kYXJZZWFyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYWxlbmRhclllYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVUb3VjaFRhcFllYXIgPSBmdW5jdGlvbiAoZXZlbnQsIHllYXIpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhcihldmVudCwgeWVhcik7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhbGVuZGFyWWVhciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkWWVhcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZFllYXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRZZWFycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFllYXJzKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtaW5EYXRlID0gX3Byb3BzLm1pbkRhdGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9wcm9wcy5tYXhEYXRlLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZSA9IF9wcm9wcy5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfcHJvcHMudXRpbHM7XG5cblxuICAgICAgdmFyIG1pblllYXIgPSB1dGlscy5nZXRZZWFyKG1pbkRhdGUpO1xuICAgICAgdmFyIG1heFllYXIgPSB1dGlscy5nZXRZZWFyKG1heERhdGUpO1xuICAgICAgdmFyIHllYXJzID0gW107XG5cbiAgICAgIGZvciAodmFyIHllYXIgPSBtaW5ZZWFyOyB5ZWFyIDw9IG1heFllYXI7IHllYXIrKykge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSB1dGlscy5nZXRZZWFyKHNlbGVjdGVkRGF0ZSkgPT09IHllYXI7XG4gICAgICAgIHZhciBzZWxlY3RlZFByb3BzID0ge307XG4gICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgIHNlbGVjdGVkUHJvcHMucmVmID0gJ3NlbGVjdGVkWWVhckJ1dHRvbic7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeWVhckZvcm1hdGVkID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgICB9KS5mb3JtYXQodXRpbHMuc2V0WWVhcihzZWxlY3RlZERhdGUsIHllYXIpKTtcblxuICAgICAgICB2YXIgeWVhckJ1dHRvbiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9ZZWFyQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe1xuICAgICAgICAgICAga2V5OiAneWInICsgeWVhcixcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBZZWFyLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICAgICAgeWVhcjogeWVhcixcbiAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgIH0sIHNlbGVjdGVkUHJvcHMpLFxuICAgICAgICAgIHllYXJGb3JtYXRlZFxuICAgICAgICApO1xuXG4gICAgICAgIHllYXJzLnB1c2goeWVhckJ1dHRvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB5ZWFycztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUb1NlbGVjdGVkWWVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvU2VsZWN0ZWRZZWFyKCkge1xuICAgICAgaWYgKHRoaXMucmVmcy5zZWxlY3RlZFllYXJCdXR0b24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250YWluZXIgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgICB2YXIgeWVhckJ1dHRvbk5vZGUgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLnNlbGVjdGVkWWVhckJ1dHRvbik7XG5cbiAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIHllYXJCdXR0b25Ob2RlSGVpZ2h0ID0geWVhckJ1dHRvbk5vZGUuY2xpZW50SGVpZ2h0IHx8IDMyO1xuXG4gICAgICB2YXIgc2Nyb2xsWU9mZnNldCA9IHllYXJCdXR0b25Ob2RlLm9mZnNldFRvcCArIHllYXJCdXR0b25Ob2RlSGVpZ2h0IC8gMiAtIGNvbnRhaW5lckhlaWdodCAvIDI7XG4gICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gc2Nyb2xsWU9mZnNldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgICAgcHJlcGFyZVN0eWxlcyA9IF9jb250ZXh0JG11aVRoZW1lLnByZXBhcmVTdHlsZXMsXG4gICAgICAgICAgY2FsZW5kYXJZZWFyQmFja2dyb3VuZENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUuZGF0ZVBpY2tlci5jYWxlbmRhclllYXJCYWNrZ3JvdW5kQ29sb3I7XG5cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY2FsZW5kYXJZZWFyQmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGhlaWdodDogJ2luaGVyaXQnLFxuICAgICAgICAgIGxpbmVIZWlnaHQ6ICczNXB4JyxcbiAgICAgICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgICAgIG92ZXJmbG93WTogJ3Njcm9sbCcsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGQ6IHtcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIG1pbkhlaWdodDogJzEwMCUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmNoaWxkKSB9LFxuICAgICAgICAgIHRoaXMuZ2V0WWVhcnMoKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FsZW5kYXJZZWFyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJZZWFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYWxlbmRhclllYXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBEYXRlVGltZUZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbWF4RGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgb25Ub3VjaFRhcFllYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWREYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgd29yZGluZ3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYWxlbmRhclllYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvQ2FsZW5kYXJZZWFyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9TbGlkZUluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvU2xpZGVJbicpO1xuXG52YXIgX1NsaWRlSW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2xpZGVJbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIGRhdGVQaWNrZXIgPSBjb250ZXh0Lm11aVRoZW1lLmRhdGVQaWNrZXI7XG4gIHZhciBzZWxlY3RlZFllYXIgPSBzdGF0ZS5zZWxlY3RlZFllYXI7XG5cbiAgdmFyIGlzTGFuZHNjYXBlID0gcHJvcHMubW9kZSA9PT0gJ2xhbmRzY2FwZSc7XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICB3aWR0aDogaXNMYW5kc2NhcGUgPyAxNjUgOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IGlzTGFuZHNjYXBlID8gMzMwIDogJ2F1dG8nLFxuICAgICAgZmxvYXQ6IGlzTGFuZHNjYXBlID8gJ2xlZnQnIDogJ25vbmUnLFxuICAgICAgZm9udFdlaWdodDogNzAwLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGRhdGVQaWNrZXIuaGVhZGVyQ29sb3IsXG4gICAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiAyLFxuICAgICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IGlzTGFuZHNjYXBlID8gMCA6IDIsXG4gICAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBpc0xhbmRzY2FwZSA/IDIgOiAwLFxuICAgICAgY29sb3I6IGRhdGVQaWNrZXIudGV4dENvbG9yLFxuICAgICAgcGFkZGluZzogMjAsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgIH0sXG4gICAgbW9udGhEYXk6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmb250U2l6ZTogMzYsXG4gICAgICBsaW5lSGVpZ2h0OiAnMzZweCcsXG4gICAgICBoZWlnaHQ6IHByb3BzLm1vZGUgPT09ICdsYW5kc2NhcGUnID8gJzEwMCUnIDogMzgsXG4gICAgICBvcGFjaXR5OiBzZWxlY3RlZFllYXIgPyAwLjcgOiAxLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBmb250V2VpZ2h0OiAnNTAwJ1xuICAgIH0sXG4gICAgbW9udGhEYXlUaXRsZToge1xuICAgICAgY3Vyc29yOiAhc2VsZWN0ZWRZZWFyID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICB9LFxuICAgIHllYXI6IHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgbGluZUhlaWdodDogJzE2cHgnLFxuICAgICAgaGVpZ2h0OiAxNixcbiAgICAgIG9wYWNpdHk6IHNlbGVjdGVkWWVhciA/IDEgOiAwLjcsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgbWFyZ2luQm90dG9tOiAxMFxuICAgIH0sXG4gICAgeWVhclRpdGxlOiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uIHx8IHNlbGVjdGVkWWVhciA/ICdkZWZhdWx0JyA6ICdwb2ludGVyJ1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgRGF0ZURpc3BsYXkgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZURpc3BsYXkoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZURpc3BsYXkpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZURpc3BsYXkuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERhdGVEaXNwbGF5KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZFllYXI6IGZhbHNlLFxuICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogJ3VwJ1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwTW9udGhEYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaFRhcE1vbnRoRGF5ICYmIF90aGlzLnN0YXRlLnNlbGVjdGVkWWVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwTW9udGhEYXkoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFllYXI6IGZhbHNlIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwWWVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhciAmJiAhX3RoaXMucHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24gJiYgIV90aGlzLnN0YXRlLnNlbGVjdGVkWWVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoVGFwWWVhcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRZZWFyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlRGlzcGxheSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMubW9udGhEYXlTZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRZZWFyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZERhdGUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXh0UHJvcHMuc2VsZWN0ZWREYXRlID4gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUgPyAndXAnIDogJ2Rvd24nO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0UHJvcHMubW9udGhEYXlTZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGVkWWVhcjogIW5leHRQcm9wcy5tb250aERheVNlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIERhdGVUaW1lRm9ybWF0ID0gX3Byb3BzLkRhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uID0gX3Byb3BzLmRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG1vbnRoRGF5U2VsZWN0ZWQgPSBfcHJvcHMubW9udGhEYXlTZWxlY3RlZCxcbiAgICAgICAgICBvblRvdWNoVGFwTW9udGhEYXkgPSBfcHJvcHMub25Ub3VjaFRhcE1vbnRoRGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXBZZWFyID0gX3Byb3BzLm9uVG91Y2hUYXBZZWFyLFxuICAgICAgICAgIHNlbGVjdGVkRGF0ZSA9IF9wcm9wcy5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnRGF0ZVRpbWVGb3JtYXQnLCAnZGlzYWJsZVllYXJTZWxlY3Rpb24nLCAnbG9jYWxlJywgJ21vZGUnLCAnbW9udGhEYXlTZWxlY3RlZCcsICdvblRvdWNoVGFwTW9udGhEYXknLCAnb25Ub3VjaFRhcFllYXInLCAnc2VsZWN0ZWREYXRlJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICB2YXIgeWVhciA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHtcbiAgICAgICAgeWVhcjogJ251bWVyaWMnXG4gICAgICB9KS5mb3JtYXQoc2VsZWN0ZWREYXRlKTtcblxuICAgICAgdmFyIGRhdGVUaW1lID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICAgICAgZGF5OiAnMi1kaWdpdCdcbiAgICAgIH0pLmZvcm1hdChzZWxlY3RlZERhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCwgc3R5bGUpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfU2xpZGVJbjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMueWVhciwgZGlyZWN0aW9uOiB0aGlzLnN0YXRlLnRyYW5zaXRpb25EaXJlY3Rpb24gfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IHllYXIsIHN0eWxlOiBzdHlsZXMueWVhclRpdGxlLCBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwWWVhciB9LFxuICAgICAgICAgICAgeWVhclxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1NsaWRlSW4yLmRlZmF1bHQsXG4gICAgICAgICAgeyBzdHlsZTogc3R5bGVzLm1vbnRoRGF5LCBkaXJlY3Rpb246IHRoaXMuc3RhdGUudHJhbnNpdGlvbkRpcmVjdGlvbiB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogZGF0ZVRpbWUsXG4gICAgICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBNb250aERheSxcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy5tb250aERheVRpdGxlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0ZVRpbWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXRlRGlzcGxheTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRhdGVEaXNwbGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGZhbHNlLFxuICBtb250aERheVNlbGVjdGVkOiB0cnVlXG59O1xuRGF0ZURpc3BsYXkuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRhdGVEaXNwbGF5LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIG1vbnRoRGF5U2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25Ub3VjaFRhcE1vbnRoRGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hUYXBZZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHNlbGVjdGVkRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEYXRlRGlzcGxheTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXRlRGlzcGxheS5qc1xuLy8gbW9kdWxlIGlkID0gNDA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2RhdGVVdGlscyA9IHJlcXVpcmUoJy4vZGF0ZVV0aWxzJyk7XG5cbnZhciBfRGF0ZVBpY2tlckRpYWxvZyA9IHJlcXVpcmUoJy4vRGF0ZVBpY2tlckRpYWxvZycpO1xuXG52YXIgX0RhdGVQaWNrZXJEaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVBpY2tlckRpYWxvZyk7XG5cbnZhciBfVGV4dEZpZWxkID0gcmVxdWlyZSgnLi4vVGV4dEZpZWxkJyk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBEYXRlUGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGF0ZVBpY2tlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXRlUGlja2VyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IERhdGVQaWNrZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERhdGVQaWNrZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGU6IHVuZGVmaW5lZFxuICAgIH0sIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBpZiAoIV90aGlzLmlzQ29udHJvbGxlZCgpKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkYXRlOiBkYXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKG51bGwsIGRhdGUpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC50YXJnZXQuYmx1cigpO1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXAoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLm9wZW5EaWFsb2coKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMubG9jYWxlKSB7XG4gICAgICAgIHZhciBEYXRlVGltZUZvcm1hdCA9IF90aGlzLnByb3BzLkRhdGVUaW1lRm9ybWF0IHx8IF9kYXRlVXRpbHMuZGF0ZVRpbWVGb3JtYXQ7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZVRpbWVGb3JtYXQoX3RoaXMucHJvcHMubG9jYWxlLCB7XG4gICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgICAgfSkuZm9ybWF0KGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgwLCBfZGF0ZVV0aWxzLmZvcm1hdElzbykoZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IHRoaXMuaXNDb250cm9sbGVkKCkgPyB0aGlzLmdldENvbnRyb2xsZWREYXRlKCkgOiB0aGlzLnByb3BzLmRlZmF1bHREYXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLmlzQ29udHJvbGxlZCgpKSB7XG4gICAgICAgIHZhciBuZXdEYXRlID0gdGhpcy5nZXRDb250cm9sbGVkRGF0ZShuZXh0UHJvcHMpO1xuICAgICAgICBpZiAoISgwLCBfZGF0ZVV0aWxzLmlzRXF1YWxEYXRlKSh0aGlzLnN0YXRlLmRhdGUsIG5ld0RhdGUpKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXRlOiBuZXdEYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmRhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiB0aGUgZGF0ZS1waWNrZXIgZGlhbG9nIHByb2dyYW1tYXRpY2FsbHkgZnJvbSBhIHBhcmVudC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb3BlbkRpYWxvZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5EaWFsb2coKSB7XG4gICAgICAvKipcbiAgICAgICAqIGlmIHRoZSBkYXRlIGlzIG5vdCBzZWxlY3RlZCB0aGVuIHNldCBpdCB0byBuZXcgZGF0ZVxuICAgICAgICogKGdldCB0aGUgY3VycmVudCBzeXN0ZW0gZGF0ZSB3aGlsZSBkb2luZyBzbylcbiAgICAgICAqIGVsc2Ugc2V0IGl0IHRvIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGF0ZVxuICAgICAgICovXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZGlhbG9nRGF0ZTogdGhpcy5nZXREYXRlKClcbiAgICAgICAgfSwgdGhpcy5yZWZzLmRpYWxvZ1dpbmRvdy5zaG93KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRpYWxvZ0RhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgfSwgdGhpcy5yZWZzLmRpYWxvZ1dpbmRvdy5zaG93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYG9wZW5EaWFsb2coKWAgZm9yIGFuIGFwaSBjb25zaXN0ZW50IHdpdGggVGV4dEZpZWxkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmb2N1cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgdGhpcy5vcGVuRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNDb250cm9sbGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb250cm9sbGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q29udHJvbGxlZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250cm9sbGVkRGF0ZSgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcblxuICAgICAgaWYgKHByb3BzLnZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gcHJvcHMudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQgPSBfcHJvcHMuRGF0ZVRpbWVGb3JtYXQsXG4gICAgICAgICAgYXV0b09rID0gX3Byb3BzLmF1dG9PayxcbiAgICAgICAgICBjYW5jZWxMYWJlbCA9IF9wcm9wcy5jYW5jZWxMYWJlbCxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnRhaW5lciA9IF9wcm9wcy5jb250YWluZXIsXG4gICAgICAgICAgZGVmYXVsdERhdGUgPSBfcHJvcHMuZGVmYXVsdERhdGUsXG4gICAgICAgICAgZGlhbG9nQ29udGFpbmVyU3R5bGUgPSBfcHJvcHMuZGlhbG9nQ29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb24gPSBfcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgZm9ybWF0RGF0ZVByb3AgPSBfcHJvcHMuZm9ybWF0RGF0ZSxcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgIG1heERhdGUgPSBfcHJvcHMubWF4RGF0ZSxcbiAgICAgICAgICBtaW5EYXRlID0gX3Byb3BzLm1pbkRhdGUsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBvbkRpc21pc3MgPSBfcHJvcHMub25EaXNtaXNzLFxuICAgICAgICAgIG9uRm9jdXMgPSBfcHJvcHMub25Gb2N1cyxcbiAgICAgICAgICBvblNob3cgPSBfcHJvcHMub25TaG93LFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gX3Byb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgaGlkZUNhbGVuZGFyRGF0ZSA9IF9wcm9wcy5oaWRlQ2FsZW5kYXJEYXRlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHRleHRGaWVsZFN0eWxlID0gX3Byb3BzLnRleHRGaWVsZFN0eWxlLFxuICAgICAgICAgIHV0aWxzID0gX3Byb3BzLnV0aWxzLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ0RhdGVUaW1lRm9ybWF0JywgJ2F1dG9PaycsICdjYW5jZWxMYWJlbCcsICdjbGFzc05hbWUnLCAnY29udGFpbmVyJywgJ2RlZmF1bHREYXRlJywgJ2RpYWxvZ0NvbnRhaW5lclN0eWxlJywgJ2Rpc2FibGVZZWFyU2VsZWN0aW9uJywgJ2ZpcnN0RGF5T2ZXZWVrJywgJ2Zvcm1hdERhdGUnLCAnbG9jYWxlJywgJ21heERhdGUnLCAnbWluRGF0ZScsICdtb2RlJywgJ29rTGFiZWwnLCAnb25EaXNtaXNzJywgJ29uRm9jdXMnLCAnb25TaG93JywgJ29uVG91Y2hUYXAnLCAnb3BlblRvWWVhclNlbGVjdGlvbicsICdzaG91bGREaXNhYmxlRGF0ZScsICdoaWRlQ2FsZW5kYXJEYXRlJywgJ3N0eWxlJywgJ3RleHRGaWVsZFN0eWxlJywgJ3V0aWxzJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIGZvcm1hdERhdGUgPSBmb3JtYXREYXRlUHJvcCB8fCB0aGlzLmZvcm1hdERhdGU7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGUpKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcCxcbiAgICAgICAgICByZWY6ICdpbnB1dCcsXG4gICAgICAgICAgc3R5bGU6IHRleHRGaWVsZFN0eWxlLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmRhdGUgPyBmb3JtYXREYXRlKHRoaXMuc3RhdGUuZGF0ZSkgOiAnJ1xuICAgICAgICB9KSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EYXRlUGlja2VyRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgRGF0ZVRpbWVGb3JtYXQ6IERhdGVUaW1lRm9ybWF0LFxuICAgICAgICAgIGF1dG9PazogYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJTdHlsZTogZGlhbG9nQ29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGRpc2FibGVZZWFyU2VsZWN0aW9uLFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICBpbml0aWFsRGF0ZTogdGhpcy5zdGF0ZS5kaWFsb2dEYXRlLFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICAgIG9uRGlzbWlzczogb25EaXNtaXNzLFxuICAgICAgICAgIHJlZjogJ2RpYWxvZ1dpbmRvdycsXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGU6IGhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXRlUGlja2VyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGF0ZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9PazogZmFsc2UsXG4gIGNvbnRhaW5lcjogJ2RpYWxvZycsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgZGlzYWJsZVllYXJTZWxlY3Rpb246IGZhbHNlLFxuICBmaXJzdERheU9mV2VlazogMSxcbiAgaGlkZUNhbGVuZGFyRGF0ZTogZmFsc2UsXG4gIHN0eWxlOiB7fSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2Vcbn07XG5EYXRlUGlja2VyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EYXRlUGlja2VyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBkYXRlIGZvcm1hdHRpbmcgZm9yIHRoZSBzcGVjaWZpZWQgYGxvY2FsZWAuXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBtdXN0IGZvbGxvdyB0aGlzIHNwZWNpZmljYXRpb246IEVDTUFTY3JpcHQgSW50ZXJuYXRpb25hbGl6YXRpb24gQVBJIDEuMCAoRUNNQS00MDIpLlxuICAgKiBgSW50bC5EYXRlVGltZUZvcm1hdGAgaXMgc3VwcG9ydGVkIGJ5IG1vc3QgbW9kZXJuIGJyb3dzZXJzLCBzZWUgaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9aW50bCxcbiAgICogb3RoZXJ3aXNlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmR5ZWFybnNoYXcvSW50bC5qcyBpcyBhIGdvb2QgcG9seWZpbGwuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGEgYnVpbHQtaW4gYERhdGVUaW1lRm9ybWF0YCBpcyB1c2VkIHdoaWNoIHN1cHBvcnRzIHRoZSAnZW4tVVMnIGBsb2NhbGVgLlxuICAgKi9cbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIElmIHRydWUsIGF1dG9tYXRpY2FsbHkgYWNjZXB0IGFuZCBjbG9zZSB0aGUgcGlja2VyIG9uIHNlbGVjdCBhIGRhdGUuXG4gICAqL1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IHRleHQgb2YgdGhlICdDYW5jZWwnIGJ1dHRvbi5cbiAgICovXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgY3NzIGNsYXNzIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIGNvbnRyb2wgaG93IHRoZSBEYXRlIFBpY2tlciB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkLlxuICAgKiBgZGlhbG9nYCAoZGVmYXVsdCkgZGlzcGxheXMgdGhlIERhdGVQaWNrZXIgYXMgYSBkaWFsb2cgd2l0aCBhIG1vZGFsLlxuICAgKiBgaW5saW5lYCBkaXNwbGF5cyB0aGUgRGF0ZVBpY2tlciBiZWxvdyB0aGUgaW5wdXQgZmllbGQgKHNpbWlsYXIgdG8gYXV0byBjb21wbGV0ZSkuXG4gICAqL1xuICBjb250YWluZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydkaWFsb2cnLCAnaW5saW5lJ10pLFxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgaW5pdGlhbCBkYXRlIHZhbHVlIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIElmIGVpdGhlciBgdmFsdWVgIG9yIGB2YWx1ZUxpbmtgIGlzIHByb3ZpZGVkIHRoZXkgd2lsbCBvdmVycmlkZSB0aGlzXG4gICAqIHByb3Agd2l0aCBgdmFsdWVgIHRha2luZyBwcmVjZWRlbmNlLlxuICAgKi9cbiAgZGVmYXVsdERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgRGF0ZVBpY2tlckRpYWxvZydzIENvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgZGlhbG9nQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIHllYXIgc2VsZWN0aW9uIGluIHRoZSBkYXRlIHBpY2tlci5cbiAgICovXG4gIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgRGF0ZVBpY2tlci5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBVc2VkIHRvIGNoYW5nZSB0aGUgZmlyc3QgZGF5IG9mIHdlZWsuIEl0IHZhcmllcyBmcm9tXG4gICAqIFNhdHVyZGF5IHRvIE1vbmRheSBiZXR3ZWVuIGRpZmZlcmVudCBsb2NhbGVzLlxuICAgKiBUaGUgYWxsb3dlZCByYW5nZSBpcyAwIChTdW5kYXkpIHRvIDYgKFNhdHVyZGF5KS5cbiAgICogVGhlIGRlZmF1bHQgaXMgYDFgLCBNb25kYXksIGFzIHBlciBJU08gODYwMS5cbiAgICovXG4gIGZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHRvIGZvcm1hdCB0aGUgZGF0ZSBkaXNwbGF5ZWQgaW4gdGhlIGlucHV0IGZpZWxkLCBhbmQgc2hvdWxkIHJldHVybiBhIHN0cmluZy5cbiAgICogQnkgZGVmYXVsdCBpZiBubyBgbG9jYWxlYCBhbmQgYERhdGVUaW1lRm9ybWF0YCBpcyBwcm92aWRlZCBkYXRlIG9iamVjdHMgYXJlIGZvcm1hdHRlZCB0byBJU08gODYwMSBZWVlZLU1NLURELlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0ZSBEYXRlIG9iamVjdCB0byBiZSBmb3JtYXR0ZWQuXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBmb3JtYXR0ZWQgZGF0ZS5cbiAgICovXG4gIGZvcm1hdERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIEhpZGUgZGF0ZSBkaXNwbGF5XG4gICAqL1xuICBoaWRlQ2FsZW5kYXJEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBMb2NhbGUgdXNlZCBmb3IgZm9ybWF0dGluZyB0aGUgYERhdGVQaWNrZXJgIGRhdGUgc3RyaW5ncy4gT3RoZXIgdGhhbiBmb3IgJ2VuLVVTJywgeW91XG4gICAqIG11c3QgcHJvdmlkZSBhIGBEYXRlVGltZUZvcm1hdGAgdGhhdCBzdXBwb3J0cyB0aGUgY2hvc2VuIGBsb2NhbGVgLlxuICAgKi9cbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBlbmRpbmcgb2YgYSByYW5nZSBvZiB2YWxpZCBkYXRlcy4gVGhlIHJhbmdlIGluY2x1ZGVzIHRoZSBlbmREYXRlLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjdXJyZW50IGRhdGUgKyAxMDAgeWVhcnMuXG4gICAqL1xuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBiZWdpbm5pbmcgb2YgYSByYW5nZSBvZiB2YWxpZCBkYXRlcy4gVGhlIHJhbmdlIGluY2x1ZGVzIHRoZSBzdGFydERhdGUuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGN1cnJlbnQgZGF0ZSAtIDEwMCB5ZWFycy5cbiAgICovXG4gIG1pbkRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGVsbHMgdGhlIGNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBwaWNrZXIgaW4gcG9ydHJhaXQgb3IgbGFuZHNjYXBlIG1vZGUuXG4gICAqL1xuICBtb2RlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsncG9ydHJhaXQnLCAnbGFuZHNjYXBlJ10pLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGV4dCBvZiB0aGUgJ09LJyBidXR0b24uXG4gICAqL1xuICBva0xhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGRhdGUgdmFsdWUgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHtudWxsfSBudWxsIFNpbmNlIHRoZXJlIGlzIG5vIHBhcnRpY3VsYXIgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGFuZ2UsXG4gICAqIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGFsd2F5cyBiZSBudWxsLlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0ZSBUaGUgbmV3IGRhdGUuXG4gICAqL1xuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBEYXRlIFBpY2tlcidzIGRpYWxvZyBpcyBkaXNtaXNzZWQuXG4gICAqL1xuICBvbkRpc21pc3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgRGF0ZSBQaWNrZXIncyBgVGV4dEZpZWxkYCBnYWlucyBmb2N1cy5cbiAgICovXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgRGF0ZSBQaWNrZXIncyBkaWFsb2cgaXMgc2hvd24uXG4gICAqL1xuICBvblNob3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiBhIHRvdWNoIHRhcCBldmVudCBvY2N1cnMgb24gdGhlIERhdGUgUGlja2VyJ3MgYFRleHRGaWVsZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUb3VjaFRhcCBldmVudCB0YXJnZXRpbmcgdGhlIGBUZXh0RmllbGRgLlxuICAgKi9cbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSBzZXRzIHRoZSBkYXRlcGlja2VyIHRvIG9wZW4gdG8geWVhciBzZWxlY3Rpb24gZmlyc3QuXG4gICAqL1xuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSBpZiBhIGRheSdzIGVudHJ5IHNob3VsZCBiZSBkaXNhYmxlZCBvbiB0aGUgY2FsZW5kYXIuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXkgRGF0ZSBvYmplY3Qgb2YgYSBkYXkuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZGF5IHNob3VsZCBiZSBkaXNhYmxlZC5cbiAgICovXG4gIHNob3VsZERpc2FibGVEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgRGF0ZVBpY2tlcidzIFRleHRGaWVsZCBlbGVtZW50LlxuICAgKi9cbiAgdGV4dEZpZWxkU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhpcyBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gbWV0aG9kcyBuZWVkZWQgdG8gYnVpbGQgdGhlIGNhbGVuZGFyIHN5c3RlbS5cbiAgICpcbiAgICogVXNlZnVsIGZvciBidWlsZGluZyBhIGN1c3RvbSBjYWxlbmRhciBzeXN0ZW0uIFJlZmVyIHRvIHRoZVxuICAgKiBbc291cmNlIGNvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9jYWxsZW1hbGwvbWF0ZXJpYWwtdWkvYmxvYi9tYXN0ZXIvc3JjL0RhdGVQaWNrZXIvZGF0ZVV0aWxzLmpzKVxuICAgKiBhbmQgYW4gW2V4YW1wbGUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9hbGl0YWhlcmkvbWF0ZXJpYWwtdWktcGVyc2lhbi1kYXRlLXBpY2tlci11dGlscylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkYXRlIGZvciB0aGUgRGF0ZSBQaWNrZXIgcHJvZ3JhbW1hdGljYWxseS5cbiAgICovXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRGF0ZVBpY2tlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9EYXRlUGlja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfQ2FsZW5kYXIgPSByZXF1aXJlKCcuL0NhbGVuZGFyJyk7XG5cbnZhciBfQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXIpO1xuXG52YXIgX0RpYWxvZyA9IHJlcXVpcmUoJy4uL0RpYWxvZycpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX1BvcG92ZXIgPSByZXF1aXJlKCcuLi9Qb3BvdmVyL1BvcG92ZXInKTtcblxudmFyIF9Qb3BvdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXIpO1xuXG52YXIgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCA9IHJlcXVpcmUoJy4uL1BvcG92ZXIvUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsJyk7XG5cbnZhciBfUG9wb3ZlckFuaW1hdGlvblZlcnRpY2FsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbCk7XG5cbnZhciBfZGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9kYXRlVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIERhdGVQaWNrZXJEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShEYXRlUGlja2VyRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyRGlhbG9nKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVQaWNrZXJEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRGF0ZVBpY2tlckRpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZVBpY2tlckRpYWxvZykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uU2hvdyAmJiAhX3RoaXMuc3RhdGUub3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5kaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGlzbWlzcyAmJiBfdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRGlzbWlzcygpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcERheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5hdXRvT2spIHtcbiAgICAgICAgc2V0VGltZW91dChfdGhpcy5oYW5kbGVUb3VjaFRhcE9rLCAzMDApO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZGlzbWlzcygpO1xuICAgIH0sIF90aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmRpc21pc3MoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcE9rID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0ICYmICFfdGhpcy5yZWZzLmNhbGVuZGFyLmlzU2VsZWN0ZWREYXRlRGlzYWJsZWQoKSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdChfdGhpcy5yZWZzLmNhbGVuZGFyLmdldFNlbGVjdGVkRGF0ZSgpKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlV2luZG93S2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZVRvdWNoVGFwT2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZVBpY2tlckRpYWxvZywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGNvbnRhaW5lciA9IF9wcm9wcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSBfcHJvcHMuY29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgZGlzYWJsZVllYXJTZWxlY3Rpb24gPSBfcHJvcHMuZGlzYWJsZVllYXJTZWxlY3Rpb24sXG4gICAgICAgICAgaW5pdGlhbERhdGUgPSBfcHJvcHMuaW5pdGlhbERhdGUsXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBtYXhEYXRlID0gX3Byb3BzLm1heERhdGUsXG4gICAgICAgICAgbWluRGF0ZSA9IF9wcm9wcy5taW5EYXRlLFxuICAgICAgICAgIG1vZGUgPSBfcHJvcHMubW9kZSxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25BY2NlcHQgPSBfcHJvcHMub25BY2NlcHQsXG4gICAgICAgICAgb25EaXNtaXNzID0gX3Byb3BzLm9uRGlzbWlzcyxcbiAgICAgICAgICBvblNob3cgPSBfcHJvcHMub25TaG93LFxuICAgICAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBfcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9wcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICBoaWRlQ2FsZW5kYXJEYXRlID0gX3Byb3BzLmhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgYW5pbWF0aW9uID0gX3Byb3BzLmFuaW1hdGlvbixcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscyxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydEYXRlVGltZUZvcm1hdCcsICdhdXRvT2snLCAnY2FuY2VsTGFiZWwnLCAnY29udGFpbmVyJywgJ2NvbnRhaW5lclN0eWxlJywgJ2Rpc2FibGVZZWFyU2VsZWN0aW9uJywgJ2luaXRpYWxEYXRlJywgJ2ZpcnN0RGF5T2ZXZWVrJywgJ2xvY2FsZScsICdtYXhEYXRlJywgJ21pbkRhdGUnLCAnbW9kZScsICdva0xhYmVsJywgJ29uQWNjZXB0JywgJ29uRGlzbWlzcycsICdvblNob3cnLCAnb3BlblRvWWVhclNlbGVjdGlvbicsICdzaG91bGREaXNhYmxlRGF0ZScsICdoaWRlQ2FsZW5kYXJEYXRlJywgJ3N0eWxlJywgJ2FuaW1hdGlvbicsICd1dGlscyddKTtcbiAgICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIGRpYWxvZ0NvbnRlbnQ6IHtcbiAgICAgICAgICB3aWR0aDogIWhpZGVDYWxlbmRhckRhdGUgJiYgbW9kZSA9PT0gJ2xhbmRzY2FwZScgPyA0NzkgOiAzMTBcbiAgICAgICAgfSxcbiAgICAgICAgZGlhbG9nQm9keUNvbnRlbnQ6IHtcbiAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgIG1pbkhlaWdodDogaGlkZUNhbGVuZGFyRGF0ZSB8fCBtb2RlID09PSAnbGFuZHNjYXBlJyA/IDMzMCA6IDQzNCxcbiAgICAgICAgICBtaW5XaWR0aDogaGlkZUNhbGVuZGFyRGF0ZSB8fCBtb2RlICE9PSAnbGFuZHNjYXBlJyA/IDMxMCA6IDQ3OVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgQ29udGFpbmVyID0gY29udGFpbmVyID09PSAnaW5saW5lJyA/IF9Qb3BvdmVyMi5kZWZhdWx0IDogX0RpYWxvZzIuZGVmYXVsdDtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgcmVmOiAncm9vdCcgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIENvbnRhaW5lcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhbmNob3JFbDogdGhpcy5yZWZzLnJvb3QgLy8gRm9yIFBvcG92ZXJcbiAgICAgICAgICAgICwgYW5pbWF0aW9uOiBhbmltYXRpb24gfHwgX1BvcG92ZXJBbmltYXRpb25WZXJ0aWNhbDIuZGVmYXVsdCAvLyBGb3IgUG9wb3ZlclxuICAgICAgICAgICAgLCBib2R5U3R5bGU6IHN0eWxlcy5kaWFsb2dCb2R5Q29udGVudCxcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZTogc3R5bGVzLmRpYWxvZ0NvbnRlbnQsXG4gICAgICAgICAgICByZWY6ICdkaWFsb2cnLFxuICAgICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlOiB0cnVlLFxuICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSxcbiAgICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmRpYWxvZ0JvZHlDb250ZW50LCBjb250YWluZXJTdHlsZSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZVdpbmRvd0tleVVwXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBhdXRvT2s6IGF1dG9PayxcbiAgICAgICAgICAgIERhdGVUaW1lRm9ybWF0OiBEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgICAgICAgIGRpc2FibGVZZWFyU2VsZWN0aW9uOiBkaXNhYmxlWWVhclNlbGVjdGlvbixcbiAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIGluaXRpYWxEYXRlOiBpbml0aWFsRGF0ZSxcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgb25Ub3VjaFRhcERheTogdGhpcy5oYW5kbGVUb3VjaFRhcERheSxcbiAgICAgICAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICByZWY6ICdjYWxlbmRhcicsXG4gICAgICAgICAgICBvblRvdWNoVGFwQ2FuY2VsOiB0aGlzLmhhbmRsZVRvdWNoVGFwQ2FuY2VsLFxuICAgICAgICAgICAgb25Ub3VjaFRhcE9rOiB0aGlzLmhhbmRsZVRvdWNoVGFwT2ssXG4gICAgICAgICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICAgIGhpZGVDYWxlbmRhckRhdGU6IGhpZGVDYWxlbmRhckRhdGUsXG4gICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGF0ZVBpY2tlckRpYWxvZztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkRhdGVQaWNrZXJEaWFsb2cuZGVmYXVsdFByb3BzID0ge1xuICBEYXRlVGltZUZvcm1hdDogX2RhdGVVdGlscy5kYXRlVGltZUZvcm1hdCxcbiAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxuICBjb250YWluZXI6ICdkaWFsb2cnLFxuICBsb2NhbGU6ICdlbi1VUycsXG4gIG9rTGFiZWw6ICdPSycsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlXG59O1xuRGF0ZVBpY2tlckRpYWxvZy5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF0ZVBpY2tlckRpYWxvZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIERhdGVUaW1lRm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGFuaW1hdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgY29udGFpbmVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnZGlhbG9nJywgJ2lubGluZSddKSxcbiAgY29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBkaXNhYmxlWWVhclNlbGVjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGhpZGVDYWxlbmRhckRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaW5pdGlhbERhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBtYXhEYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWluRGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydwb3J0cmFpdCcsICdsYW5kc2NhcGUnXSksXG4gIG9rTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgb25BY2NlcHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25EaXNtaXNzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU2hvdzogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERhdGVQaWNrZXJEaWFsb2c7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF0ZVBpY2tlckRpYWxvZy5qc1xuLy8gbW9kdWxlIGlkID0gNDA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfZGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9kYXRlVXRpbHMnKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0VuaGFuY2VkQnV0dG9uJyk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBkYXRlID0gcHJvcHMuZGF0ZSxcbiAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkO1xuICB2YXIgaG92ZXIgPSBzdGF0ZS5ob3ZlcjtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIGJhc2VUaGVtZSA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIGRhdGVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS5kYXRlUGlja2VyO1xuXG5cbiAgdmFyIGxhYmVsQ29sb3IgPSBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3I7XG4gIHZhciBidXR0b25TdGF0ZU9wYWNpdHkgPSAwO1xuICB2YXIgYnV0dG9uU3RhdGVUcmFuc2Zvcm0gPSAnc2NhbGUoMCknO1xuXG4gIGlmIChob3ZlciB8fCBzZWxlY3RlZCkge1xuICAgIGxhYmVsQ29sb3IgPSBkYXRlUGlja2VyLnNlbGVjdFRleHRDb2xvcjtcbiAgICBidXR0b25TdGF0ZU9wYWNpdHkgPSBzZWxlY3RlZCA/IDEgOiAwLjY7XG4gICAgYnV0dG9uU3RhdGVUcmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xuICB9IGVsc2UgaWYgKCgwLCBfZGF0ZVV0aWxzLmlzRXF1YWxEYXRlKShkYXRlLCBuZXcgRGF0ZSgpKSkge1xuICAgIGxhYmVsQ29sb3IgPSBkYXRlUGlja2VyLmNvbG9yO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICc0MDAnLFxuICAgICAgb3BhY2l0eTogZGlzYWJsZWQgJiYgJzAuNCcsXG4gICAgICBwYWRkaW5nOiAnNHB4IDBweCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICB3aWR0aDogNDJcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjb2xvcjogbGFiZWxDb2xvcixcbiAgICAgIGZvbnRXZWlnaHQ6ICc0MDAnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIGJ1dHRvblN0YXRlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGRhdGVQaWNrZXIuc2VsZWN0Q29sb3IsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgaGVpZ2h0OiAzNCxcbiAgICAgIGxlZnQ6IDQsXG4gICAgICBvcGFjaXR5OiBidXR0b25TdGF0ZU9wYWNpdHksXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHRyYW5zZm9ybTogYnV0dG9uU3RhdGVUcmFuc2Zvcm0sXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgd2lkdGg6IDM0XG4gICAgfVxuICB9O1xufVxuXG52YXIgRGF5QnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGF5QnV0dG9uLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXlCdXR0b24oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF5QnV0dG9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IERheUJ1dHRvbi5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF5QnV0dG9uKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcjogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IGZhbHNlIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoVGFwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkICYmIF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCwgX3RoaXMucHJvcHMuZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5Ym9hcmRGb2N1cyA9IGZ1bmN0aW9uIChldmVudCwga2V5Ym9hcmRGb2N1c2VkKSB7XG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkICYmIF90aGlzLnByb3BzLm9uS2V5Ym9hcmRGb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbktleWJvYXJkRm9jdXMoZXZlbnQsIGtleWJvYXJkRm9jdXNlZCwgX3RoaXMucHJvcHMuZGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERheUJ1dHRvbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBEYXRlVGltZUZvcm1hdCA9IF9wcm9wcy5EYXRlVGltZUZvcm1hdCxcbiAgICAgICAgICBkYXRlID0gX3Byb3BzLmRhdGUsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICBvblRvdWNoVGFwID0gX3Byb3BzLm9uVG91Y2hUYXAsXG4gICAgICAgICAgc2VsZWN0ZWQgPSBfcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnRGF0ZVRpbWVGb3JtYXQnLCAnZGF0ZScsICdkaXNhYmxlZCcsICdsb2NhbGUnLCAnb25Ub3VjaFRhcCcsICdzZWxlY3RlZCddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgICAgcmV0dXJuIGRhdGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0VuaGFuY2VkQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlRm9jdXNSaXBwbGU6IHRydWUsXG4gICAgICAgICAgZGlzYWJsZVRvdWNoUmlwcGxlOiB0cnVlLFxuICAgICAgICAgIG9uS2V5Ym9hcmRGb2N1czogdGhpcy5oYW5kbGVLZXlib2FyZEZvY3VzLFxuICAgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXAsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5yb290XG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuYnV0dG9uU3RhdGUpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMubGFiZWwpIH0sXG4gICAgICAgICAgbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgICAgICAgICAgZGF5OiAnbnVtZXJpYydcbiAgICAgICAgICB9KS5mb3JtYXQoZGF0ZSlcbiAgICAgICAgKVxuICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXlCdXR0b247XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EYXlCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBzZWxlY3RlZDogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZVxufTtcbkRheUJ1dHRvbi5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRGF5QnV0dG9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgRGF0ZVRpbWVGb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbktleWJvYXJkRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEYXlCdXR0b247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RhdGVQaWNrZXIvRGF5QnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSA0MTBcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0VuaGFuY2VkQnV0dG9uJyk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkLFxuICAgICAgeWVhciA9IHByb3BzLnllYXIsXG4gICAgICB1dGlscyA9IHByb3BzLnV0aWxzO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgYmFzZVRoZW1lID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgZGF0ZVBpY2tlciA9IF9jb250ZXh0JG11aVRoZW1lLmRhdGVQaWNrZXI7XG4gIHZhciBob3ZlciA9IHN0YXRlLmhvdmVyO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIGNvbG9yOiB5ZWFyID09PSB1dGlscy5nZXRZZWFyKG5ldyBEYXRlKCkpICYmIGRhdGVQaWNrZXIuY29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICdpbmhlcml0JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IGhvdmVyIHx8IHNlbGVjdGVkID8gZGF0ZVBpY2tlci5jb2xvciA6IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBzZWxlY3RlZCA/IDI2IDogMTcsXG4gICAgICBmb250V2VpZ2h0OiBob3ZlciA/IDQ1MCA6IHNlbGVjdGVkID8gNTAwIDogNDAwLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0b3A6IC0xXG4gICAgfVxuICB9O1xufVxuXG52YXIgWWVhckJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFllYXJCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFllYXJCdXR0b24oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgWWVhckJ1dHRvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBZZWFyQnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShZZWFyQnV0dG9uKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcjogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogdHJ1ZSB9KTtcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogZmFsc2UgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoVGFwKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hUYXAoZXZlbnQsIF90aGlzLnByb3BzLnllYXIpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShZZWFyQnV0dG9uLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgb25Ub3VjaFRhcCA9IF9wcm9wcy5vblRvdWNoVGFwLFxuICAgICAgICAgIHNlbGVjdGVkID0gX3Byb3BzLnNlbGVjdGVkLFxuICAgICAgICAgIHllYXIgPSBfcHJvcHMueWVhcixcbiAgICAgICAgICB1dGlscyA9IF9wcm9wcy51dGlscyxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydjaGlsZHJlbicsICdjbGFzc05hbWUnLCAnb25Ub3VjaFRhcCcsICdzZWxlY3RlZCcsICd5ZWFyJywgJ3V0aWxzJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9FbmhhbmNlZEJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBkaXNhYmxlRm9jdXNSaXBwbGU6IHRydWUsXG4gICAgICAgICAgZGlzYWJsZVRvdWNoUmlwcGxlOiB0cnVlLFxuICAgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXAsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5yb290XG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMubGFiZWwpIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFllYXJCdXR0b247XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5ZZWFyQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2VsZWN0ZWQ6IGZhbHNlXG59O1xuWWVhckJ1dHRvbi5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuWWVhckJ1dHRvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZWxlY3RlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB1dGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgeWVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gWWVhckJ1dHRvbjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9ZZWFyQnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSA0MTFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UaW1lRGlzcGxheSA9IHJlcXVpcmUoJy4vVGltZURpc3BsYXknKTtcblxudmFyIF9UaW1lRGlzcGxheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lRGlzcGxheSk7XG5cbnZhciBfQ2xvY2tIb3VycyA9IHJlcXVpcmUoJy4vQ2xvY2tIb3VycycpO1xuXG52YXIgX0Nsb2NrSG91cnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tIb3Vycyk7XG5cbnZhciBfQ2xvY2tNaW51dGVzID0gcmVxdWlyZSgnLi9DbG9ja01pbnV0ZXMnKTtcblxudmFyIF9DbG9ja01pbnV0ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tNaW51dGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENsb2NrID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2xvY2ssIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENsb2NrKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENsb2NrLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDbG9jaykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2VsZWN0ZWRUaW1lOiBudWxsLFxuICAgICAgbW9kZTogJ2hvdXInXG4gICAgfSwgX3RoaXMuc2V0TW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfSk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sIF90aGlzLmhhbmRsZVNlbGVjdEFmZml4ID0gZnVuY3Rpb24gKGFmZml4KSB7XG4gICAgICBpZiAoYWZmaXggPT09IF90aGlzLmdldEFmZml4KCkpIHJldHVybjtcblxuICAgICAgdmFyIGhvdXJzID0gX3RoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLmdldEhvdXJzKCk7XG5cbiAgICAgIGlmIChhZmZpeCA9PT0gJ2FtJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VIb3Vycyhob3VycyAtIDEyLCBhZmZpeCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlSG91cnMoaG91cnMgKyAxMiwgYWZmaXgpO1xuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZUhvdXJzID0gZnVuY3Rpb24gKGhvdXJzLCBmaW5pc2hlZCkge1xuICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShfdGhpcy5zdGF0ZS5zZWxlY3RlZFRpbWUpO1xuICAgICAgdmFyIGFmZml4ID0gdm9pZCAwO1xuXG4gICAgICBpZiAodHlwZW9mIGZpbmlzaGVkID09PSAnc3RyaW5nJykge1xuICAgICAgICBhZmZpeCA9IGZpbmlzaGVkO1xuICAgICAgICBmaW5pc2hlZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICghYWZmaXgpIHtcbiAgICAgICAgYWZmaXggPSBfdGhpcy5nZXRBZmZpeCgpO1xuICAgICAgfVxuICAgICAgaWYgKGFmZml4ID09PSAncG0nICYmIGhvdXJzIDwgMTIpIHtcbiAgICAgICAgaG91cnMgKz0gMTI7XG4gICAgICB9XG5cbiAgICAgIHRpbWUuc2V0SG91cnMoaG91cnMpO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZFRpbWU6IHRpbWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbW9kZTogJ21pbnV0ZSdcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBvbkNoYW5nZUhvdXJzID0gX3RoaXMucHJvcHMub25DaGFuZ2VIb3VycztcblxuICAgICAgICAgIGlmIChvbkNoYW5nZUhvdXJzKSB7XG4gICAgICAgICAgICBvbkNoYW5nZUhvdXJzKHRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2VNaW51dGVzID0gZnVuY3Rpb24gKG1pbnV0ZXMsIGZpbmlzaGVkKSB7XG4gICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKF90aGlzLnN0YXRlLnNlbGVjdGVkVGltZSk7XG4gICAgICB0aW1lLnNldE1pbnV0ZXMobWludXRlcyk7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVGltZTogdGltZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBvbkNoYW5nZU1pbnV0ZXMgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZU1pbnV0ZXM7XG5cbiAgICAgIGlmIChvbkNoYW5nZU1pbnV0ZXMgJiYgZmluaXNoZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25DaGFuZ2VNaW51dGVzKHRpbWUpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2xvY2ssIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdmFyIHNlbGVjdGVkVGltZSA9IHRoaXMucHJvcHMuaW5pdGlhbFRpbWUgfHwgbmV3IERhdGUoKTtcbiAgICAgIHZhciBtaW51dGVzID0gc2VsZWN0ZWRUaW1lLmdldE1pbnV0ZXMoKTtcbiAgICAgIHNlbGVjdGVkVGltZS5zZXRNaW51dGVzKG1pbnV0ZXMgLSBtaW51dGVzICUgdGhpcy5wcm9wcy5taW51dGVzU3RlcCk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZFRpbWU6IHNlbGVjdGVkVGltZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0QWZmaXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBZmZpeCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdCAhPT0gJ2FtcG0nKSByZXR1cm4gJyc7XG5cbiAgICAgIHZhciBob3VycyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLmdldEhvdXJzKCk7XG4gICAgICBpZiAoaG91cnMgPCAxMikge1xuICAgICAgICByZXR1cm4gJ2FtJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdwbSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2VsZWN0ZWRUaW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUaW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjbG9jayA9IG51bGw7XG5cbiAgICAgIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IHRoaXMuY29udGV4dC5tdWlUaGVtZSxcbiAgICAgICAgICBwcmVwYXJlU3R5bGVzID0gX2NvbnRleHQkbXVpVGhlbWUucHJlcGFyZVN0eWxlcyxcbiAgICAgICAgICB0aW1lUGlja2VyID0gX2NvbnRleHQkbXVpVGhlbWUudGltZVBpY2tlcjtcblxuXG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgIGhlaWdodDogMjgwLFxuICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94J1xuICAgICAgICB9LFxuICAgICAgICBjaXJjbGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgIHdpZHRoOiAyNjAsXG4gICAgICAgICAgaGVpZ2h0OiAyNjAsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aW1lUGlja2VyLmNsb2NrQ2lyY2xlQ29sb3JcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ2hvdXInKSB7XG4gICAgICAgIGNsb2NrID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrSG91cnMyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6ICdob3VycycsXG4gICAgICAgICAgZm9ybWF0OiB0aGlzLnByb3BzLmZvcm1hdCxcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VIb3VycyxcbiAgICAgICAgICBpbml0aWFsSG91cnM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRUaW1lLmdldEhvdXJzKClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9jayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja01pbnV0ZXMyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6ICdtaW51dGVzJyxcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNaW51dGVzLFxuICAgICAgICAgIGluaXRpYWxNaW51dGVzOiB0aGlzLnN0YXRlLnNlbGVjdGVkVGltZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgc3RlcDogdGhpcy5wcm9wcy5taW51dGVzU3RlcFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVEaXNwbGF5Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgc2VsZWN0ZWRUaW1lOiB0aGlzLnN0YXRlLnNlbGVjdGVkVGltZSxcbiAgICAgICAgICBtb2RlOiB0aGlzLnN0YXRlLm1vZGUsXG4gICAgICAgICAgZm9ybWF0OiB0aGlzLnByb3BzLmZvcm1hdCxcbiAgICAgICAgICBhZmZpeDogdGhpcy5nZXRBZmZpeCgpLFxuICAgICAgICAgIG9uU2VsZWN0QWZmaXg6IHRoaXMuaGFuZGxlU2VsZWN0QWZmaXgsXG4gICAgICAgICAgb25TZWxlY3RIb3VyOiB0aGlzLnNldE1vZGUuYmluZCh0aGlzLCAnaG91cicpLFxuICAgICAgICAgIG9uU2VsZWN0TWluOiB0aGlzLnNldE1vZGUuYmluZCh0aGlzLCAnbWludXRlJylcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmNvbnRhaW5lcikgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuY2lyY2xlKSB9KSxcbiAgICAgICAgICBjbG9ja1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xvY2s7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxUaW1lOiBuZXcgRGF0ZSgpXG59O1xuQ2xvY2suY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNsb2NrLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICBpbml0aWFsVGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbnV0ZXNTdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb25DaGFuZ2VIb3VyczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkNoYW5nZU1pbnV0ZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xvY2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2suanNcbi8vIG1vZHVsZSBpZCA9IDQzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX0Nsb2NrTnVtYmVyID0gcmVxdWlyZSgnLi9DbG9ja051bWJlcicpO1xuXG52YXIgX0Nsb2NrTnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb2NrTnVtYmVyKTtcblxudmFyIF9DbG9ja1BvaW50ZXIgPSByZXF1aXJlKCcuL0Nsb2NrUG9pbnRlcicpO1xuXG52YXIgX0Nsb2NrUG9pbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9ja1BvaW50ZXIpO1xuXG52YXIgX3RpbWVVdGlscyA9IHJlcXVpcmUoJy4vdGltZVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBDbG9ja0hvdXJzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2xvY2tIb3VycywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tIb3VycygpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDbG9ja0hvdXJzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENsb2NrSG91cnMuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrSG91cnMpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50Lm5hdGl2ZUV2ZW50LCB0cnVlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVNb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKF90aGlzLmlzTW91c2VQcmVzc2VkKGV2ZW50KSAhPT0gMSkgcmV0dXJuO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaE1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5jaGFuZ2VkVG91Y2hlc1swXSwgZmFsc2UpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIHRydWUpO1xuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDbG9ja0hvdXJzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgY2xvY2tFbGVtZW50ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5tYXNrKTtcblxuICAgICAgdGhpcy5jZW50ZXIgPSB7XG4gICAgICAgIHg6IGNsb2NrRWxlbWVudC5vZmZzZXRXaWR0aCAvIDIsXG4gICAgICAgIHk6IGNsb2NrRWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmJhc2VQb2ludCA9IHtcbiAgICAgICAgeDogdGhpcy5jZW50ZXIueCxcbiAgICAgICAgeTogMFxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc01vdXNlUHJlc3NlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTW91c2VQcmVzc2VkKGV2ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50LmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBldmVudC5uYXRpdmVFdmVudC53aGljaDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZW50LmJ1dHRvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2xvY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbG9jayhldmVudCwgZmluaXNoKSB7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50Lm9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSAoMCwgX3RpbWVVdGlscy5nZXRUb3VjaEV2ZW50T2Zmc2V0VmFsdWVzKShldmVudCk7XG5cbiAgICAgICAgZXZlbnQub2Zmc2V0WCA9IG9mZnNldC5vZmZzZXRYO1xuICAgICAgICBldmVudC5vZmZzZXRZID0gb2Zmc2V0Lm9mZnNldFk7XG4gICAgICB9XG5cbiAgICAgIHZhciBob3VycyA9IHRoaXMuZ2V0SG91cnMoZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WSk7XG5cbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaG91cnMsIGZpbmlzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SG91cnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIb3VycyhvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICB2YXIgc3RlcCA9IDMwO1xuICAgICAgdmFyIHggPSBvZmZzZXRYIC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciB5ID0gb2Zmc2V0WSAtIHRoaXMuY2VudGVyLnk7XG4gICAgICB2YXIgY3ggPSB0aGlzLmJhc2VQb2ludC54IC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciBjeSA9IHRoaXMuYmFzZVBvaW50LnkgLSB0aGlzLmNlbnRlci55O1xuXG4gICAgICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG5cbiAgICAgIHZhciBkZWcgPSAoMCwgX3RpbWVVdGlscy5yYWQyZGVnKShhdGFuKTtcbiAgICAgIGRlZyA9IE1hdGgucm91bmQoZGVnIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgZGVnICU9IDM2MDtcblxuICAgICAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuXG4gICAgICB2YXIgZGVsdGEgPSBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xuICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhKTtcblxuICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAxMjtcbiAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdCA9PT0gJzI0aHInKSB7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IDkwKSB7XG4gICAgICAgICAgdmFsdWUgKz0gMTI7XG4gICAgICAgICAgdmFsdWUgJT0gMjQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlICU9IDEyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2VsZWN0ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZCgpIHtcbiAgICAgIHZhciBob3VyID0gdGhpcy5wcm9wcy5pbml0aWFsSG91cnM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgICAgIGhvdXIgJT0gMTI7XG4gICAgICAgIGhvdXIgPSBob3VyIHx8IDEyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIb3VyTnVtYmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhvdXJOdW1iZXJzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgICB9O1xuICAgICAgdmFyIGhvdXJTaXplID0gdGhpcy5wcm9wcy5mb3JtYXQgPT09ICdhbXBtJyA/IDEyIDogMjQ7XG5cbiAgICAgIHZhciBob3VycyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gaG91clNpemU7IGkrKykge1xuICAgICAgICBob3Vycy5wdXNoKGkgJSAyNCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBob3Vycy5tYXAoZnVuY3Rpb24gKGhvdXIpIHtcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBfdGhpczIuZ2V0U2VsZWN0ZWQoKSA9PT0gaG91cjtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja051bWJlcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogaG91cixcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICB0eXBlOiAnaG91cicsXG4gICAgICAgICAgdmFsdWU6IGhvdXJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICAgICAgfSxcblxuICAgICAgICBoaXRNYXNrOiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIGhvdXJzID0gdGhpcy5nZXRTZWxlY3RlZCgpO1xuICAgICAgdmFyIG51bWJlcnMgPSB0aGlzLmdldEhvdXJOdW1iZXJzKCk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiAnY2xvY2snLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrUG9pbnRlcjIuZGVmYXVsdCwgeyBoYXNTZWxlY3RlZDogdHJ1ZSwgdmFsdWU6IGhvdXJzLCB0eXBlOiAnaG91cicgfSksXG4gICAgICAgIG51bWJlcnMsXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgcmVmOiAnbWFzaycsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5oaXRNYXNrKSwgb25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsIG9uTW91c2VVcDogdGhpcy5oYW5kbGVVcCwgb25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW92ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsb2NrSG91cnM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja0hvdXJzLmRlZmF1bHRQcm9wcyA9IHtcbiAgaW5pdGlhbEhvdXJzOiBuZXcgRGF0ZSgpLmdldEhvdXJzKCksXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICBmb3JtYXQ6ICdhbXBtJ1xufTtcbkNsb2NrSG91cnMuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNsb2NrSG91cnMucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIGluaXRpYWxIb3VyczogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENsb2NrSG91cnM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tIb3Vycy5qc1xuLy8gbW9kdWxlIGlkID0gNDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfQ2xvY2tOdW1iZXIgPSByZXF1aXJlKCcuL0Nsb2NrTnVtYmVyJyk7XG5cbnZhciBfQ2xvY2tOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2tOdW1iZXIpO1xuXG52YXIgX0Nsb2NrUG9pbnRlciA9IHJlcXVpcmUoJy4vQ2xvY2tQb2ludGVyJyk7XG5cbnZhciBfQ2xvY2tQb2ludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb2NrUG9pbnRlcik7XG5cbnZhciBfdGltZVV0aWxzID0gcmVxdWlyZSgnLi90aW1lVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIENsb2NrTWludXRlcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENsb2NrTWludXRlcywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2xvY2tNaW51dGVzKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENsb2NrTWludXRlcyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDbG9ja01pbnV0ZXMuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENsb2NrTWludXRlcykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuc2V0Q2xvY2soZXZlbnQubmF0aXZlRXZlbnQsIHRydWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoX3RoaXMuaXNNb3VzZVByZXNzZWQoZXZlbnQpICE9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldENsb2NrKGV2ZW50Lm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdGhpcy5zZXRDbG9jayhldmVudC5jaGFuZ2VkVG91Y2hlc1swXSwgZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJyk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENsb2NrTWludXRlcywgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIGNsb2NrRWxlbWVudCA9IHRoaXMucmVmcy5tYXNrO1xuXG4gICAgICB0aGlzLmNlbnRlciA9IHtcbiAgICAgICAgeDogY2xvY2tFbGVtZW50Lm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2xvY2tFbGVtZW50Lm9mZnNldEhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYmFzZVBvaW50ID0ge1xuICAgICAgICB4OiB0aGlzLmNlbnRlci54LFxuICAgICAgICB5OiAwXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTW91c2VQcmVzc2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNb3VzZVByZXNzZWQoZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZXZlbnQuYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV2ZW50LmJ1dHRvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2xvY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbG9jayhldmVudCwgZmluaXNoKSB7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50Lm9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSAoMCwgX3RpbWVVdGlscy5nZXRUb3VjaEV2ZW50T2Zmc2V0VmFsdWVzKShldmVudCk7XG5cbiAgICAgICAgZXZlbnQub2Zmc2V0WCA9IG9mZnNldC5vZmZzZXRYO1xuICAgICAgICBldmVudC5vZmZzZXRZID0gb2Zmc2V0Lm9mZnNldFk7XG4gICAgICB9XG5cbiAgICAgIHZhciBtaW51dGVzID0gdGhpcy5nZXRNaW51dGVzKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xuXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG1pbnV0ZXMsIGZpbmlzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWludXRlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbnV0ZXMob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgdmFyIHN0ZXAgPSA2ICogdGhpcy5wcm9wcy5zdGVwO1xuICAgICAgdmFyIHggPSBvZmZzZXRYIC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciB5ID0gb2Zmc2V0WSAtIHRoaXMuY2VudGVyLnk7XG4gICAgICB2YXIgY3ggPSB0aGlzLmJhc2VQb2ludC54IC0gdGhpcy5jZW50ZXIueDtcbiAgICAgIHZhciBjeSA9IHRoaXMuYmFzZVBvaW50LnkgLSB0aGlzLmNlbnRlci55O1xuXG4gICAgICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG5cbiAgICAgIHZhciBkZWcgPSAoMCwgX3RpbWVVdGlscy5yYWQyZGVnKShhdGFuKTtcbiAgICAgIGRlZyA9IE1hdGgucm91bmQoZGVnIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgZGVnICU9IDM2MDtcblxuICAgICAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuXG4gICAgICByZXR1cm4gdmFsdWUgKiB0aGlzLnByb3BzLnN0ZXA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWludXRlTnVtYmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbnV0ZU51bWJlcnMoKSB7XG4gICAgICB2YXIgbWludXRlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIG1pbnV0ZXMucHVzaChpICogNSk7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWRNaW51dGVzID0gdGhpcy5wcm9wcy5pbml0aWFsTWludXRlcztcbiAgICAgIHZhciBoYXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICB2YXIgbnVtYmVycyA9IG1pbnV0ZXMubWFwKGZ1bmN0aW9uIChtaW51dGUpIHtcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE1pbnV0ZXMgPT09IG1pbnV0ZTtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBoYXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9ja051bWJlcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogbWludXRlLFxuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgICAgdHlwZTogJ21pbnV0ZScsXG4gICAgICAgICAgdmFsdWU6IG1pbnV0ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBudW1iZXJzOiBudW1iZXJzLFxuICAgICAgICBoYXNTZWxlY3RlZDogaGFzU2VsZWN0ZWQsXG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZE1pbnV0ZXNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgICAgIH0sXG5cbiAgICAgICAgaGl0TWFzazoge1xuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBtaW51dGVzID0gdGhpcy5nZXRNaW51dGVOdW1iZXJzKCk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiAnY2xvY2snLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb2NrUG9pbnRlcjIuZGVmYXVsdCwgeyB2YWx1ZTogbWludXRlcy5zZWxlY3RlZCwgdHlwZTogJ21pbnV0ZScsIGhhc1NlbGVjdGVkOiBtaW51dGVzLmhhc1NlbGVjdGVkIH0pLFxuICAgICAgICBtaW51dGVzLm51bWJlcnMsXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgcmVmOiAnbWFzaycsXG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLmhpdE1hc2spLFxuICAgICAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoLFxuICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2gsXG4gICAgICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZVVwLFxuICAgICAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbG9ja01pbnV0ZXM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DbG9ja01pbnV0ZXMuZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsTWludXRlczogbmV3IERhdGUoKS5nZXRNaW51dGVzKCksXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICBzdGVwOiAxXG59O1xuQ2xvY2tNaW51dGVzLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DbG9ja01pbnV0ZXMucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBpbml0aWFsTWludXRlczogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHN0ZXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDbG9ja01pbnV0ZXM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1RpbWVQaWNrZXIvQ2xvY2tNaW51dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5Jyk7XG5cbnZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGltZURpc3BsYXkgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGltZURpc3BsYXkoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGltZURpc3BsYXkpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZURpc3BsYXkuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRpbWVEaXNwbGF5KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uOiAndXAnXG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVEaXNwbGF5LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZFRpbWUgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBuZXh0UHJvcHMuc2VsZWN0ZWRUaW1lID4gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUgPyAndXAnIDogJ2Rvd24nO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRyYW5zaXRpb25EaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzYW5pdGl6ZVRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYW5pdGl6ZVRpbWUoKSB7XG4gICAgICB2YXIgaG91ciA9IHRoaXMucHJvcHMuc2VsZWN0ZWRUaW1lLmdldEhvdXJzKCk7XG4gICAgICB2YXIgbWluID0gdGhpcy5wcm9wcy5zZWxlY3RlZFRpbWUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgICAgIGhvdXIgJT0gMTI7XG4gICAgICAgIGhvdXIgPSBob3VyIHx8IDEyO1xuICAgICAgfVxuXG4gICAgICBob3VyID0gaG91ci50b1N0cmluZygpO1xuICAgICAgaWYgKGhvdXIubGVuZ3RoIDwgMikgaG91ciA9ICcwJyArIGhvdXI7XG4gICAgICBpZiAobWluLmxlbmd0aCA8IDIpIG1pbiA9ICcwJyArIG1pbjtcblxuICAgICAgcmV0dXJuIFtob3VyLCBtaW5dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFmZml4ID0gX3Byb3BzLmFmZml4LFxuICAgICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQsXG4gICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgIG9uU2VsZWN0QWZmaXggPSBfcHJvcHMub25TZWxlY3RBZmZpeCxcbiAgICAgICAgICBvblNlbGVjdEhvdXIgPSBfcHJvcHMub25TZWxlY3RIb3VyLFxuICAgICAgICAgIG9uU2VsZWN0TWluID0gX3Byb3BzLm9uU2VsZWN0TWluLFxuICAgICAgICAgIHNlbGVjdGVkVGltZSA9IF9wcm9wcy5zZWxlY3RlZFRpbWUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYWZmaXgnLCAnZm9ybWF0JywgJ21vZGUnLCAnb25TZWxlY3RBZmZpeCcsICdvblNlbGVjdEhvdXInLCAnb25TZWxlY3RNaW4nLCAnc2VsZWN0ZWRUaW1lJ10pO1xuICAgICAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICAgIHByZXBhcmVTdHlsZXMgPSBfY29udGV4dCRtdWlUaGVtZS5wcmVwYXJlU3R5bGVzLFxuICAgICAgICAgIHRpbWVQaWNrZXIgPSBfY29udGV4dCRtdWlUaGVtZS50aW1lUGlja2VyO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBwYWRkaW5nOiAnMTRweCAwJyxcbiAgICAgICAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiAyLFxuICAgICAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiAyLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGltZVBpY2tlci5oZWFkZXJDb2xvcixcbiAgICAgICAgICBjb2xvcjogdGltZVBpY2tlci50ZXh0Q29sb3JcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIG1hcmdpbjogJzZweCAwJyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnNThweCcsXG4gICAgICAgICAgaGVpZ2h0OiA1OCxcbiAgICAgICAgICBmb250U2l6ZTogNTgsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnYmFzZWxpbmUnXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICBtYXJnaW46ICcwIDEwcHgnXG4gICAgICAgIH0sXG4gICAgICAgIGFmZml4OiB7XG4gICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAnMTdweCcsXG4gICAgICAgICAgaGVpZ2h0OiAxNyxcbiAgICAgICAgICBmb250U2l6ZTogMTdcbiAgICAgICAgfSxcbiAgICAgICAgYWZmaXhUb3A6IHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IC0yMCxcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGNsaWNrYWJsZToge1xuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgIH0sXG4gICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgb3BhY2l0eTogMC43XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBfc2FuaXRpemVUaW1lID0gdGhpcy5zYW5pdGl6ZVRpbWUoKSxcbiAgICAgICAgICBfc2FuaXRpemVUaW1lMiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3Nhbml0aXplVGltZSwgMiksXG4gICAgICAgICAgaG91ciA9IF9zYW5pdGl6ZVRpbWUyWzBdLFxuICAgICAgICAgIG1pbiA9IF9zYW5pdGl6ZVRpbWUyWzFdO1xuXG4gICAgICB2YXIgYnV0dG9ucyA9IFtdO1xuICAgICAgaWYgKGZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgICAgIGJ1dHRvbnMgPSBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAncG0nLFxuICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuY2xpY2thYmxlLCBhZmZpeCA9PT0gJ3BtJyA/IHt9IDogc3R5bGVzLmluYWN0aXZlKSksXG4gICAgICAgICAgICBvblRvdWNoVGFwOiBmdW5jdGlvbiBvblRvdWNoVGFwKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb25TZWxlY3RBZmZpeCgncG0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICdQTSdcbiAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAnYW0nLFxuICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWZmaXhUb3AsIHN0eWxlcy5jbGlja2FibGUsIGFmZml4ID09PSAnYW0nID8ge30gOiBzdHlsZXMuaW5hY3RpdmUpKSxcbiAgICAgICAgICAgIG9uVG91Y2hUYXA6IGZ1bmN0aW9uIG9uVG91Y2hUYXAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvblNlbGVjdEFmZml4KCdhbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0FNJ1xuICAgICAgICApXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50ZXh0KSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmFmZml4KSkgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnRpbWUpIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuY2xpY2thYmxlLCBtb2RlID09PSAnaG91cicgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXA6IG9uU2VsZWN0SG91clxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBob3VyXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgJzonXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLmNsaWNrYWJsZSwgbW9kZSA9PT0gJ21pbnV0ZScgPyB7fSA6IHN0eWxlcy5pbmFjdGl2ZSkpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hUYXA6IG9uU2VsZWN0TWluXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1pblxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWZmaXgpKSB9LFxuICAgICAgICAgICAgYnV0dG9uc1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpbWVEaXNwbGF5O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZURpc3BsYXkuZGVmYXVsdFByb3BzID0ge1xuICBhZmZpeDogJycsXG4gIG1vZGU6ICdob3VyJ1xufTtcblRpbWVEaXNwbGF5LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UaW1lRGlzcGxheS5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGFmZml4OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnJywgJ3BtJywgJ2FtJ10pLFxuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydhbXBtJywgJzI0aHInXSksXG4gIG1vZGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydob3VyJywgJ21pbnV0ZSddKSxcbiAgb25TZWxlY3RBZmZpeDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblNlbGVjdEhvdXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TZWxlY3RNaW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2VsZWN0ZWRUaW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lRGlzcGxheTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9UaW1lRGlzcGxheS5qc1xuLy8gbW9kdWxlIGlkID0gNDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RpbWVQaWNrZXJEaWFsb2cgPSByZXF1aXJlKCcuL1RpbWVQaWNrZXJEaWFsb2cnKTtcblxudmFyIF9UaW1lUGlja2VyRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXJEaWFsb2cpO1xuXG52YXIgX1RleHRGaWVsZCA9IHJlcXVpcmUoJy4uL1RleHRGaWVsZCcpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX3RpbWVVdGlscyA9IHJlcXVpcmUoJy4vdGltZVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBlbXB0eVRpbWUgPSBuZXcgRGF0ZSgpO1xuZW1wdHlUaW1lLnNldEhvdXJzKDApO1xuZW1wdHlUaW1lLnNldE1pbnV0ZXMoMCk7XG5lbXB0eVRpbWUuc2V0U2Vjb25kcygwKTtcbmVtcHR5VGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cbnZhciBUaW1lUGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoVGltZVBpY2tlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUaW1lUGlja2VyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFRpbWVQaWNrZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRpbWVQaWNrZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpbWU6IG51bGwsXG4gICAgICBkaWFsb2dUaW1lOiBuZXcgRGF0ZSgpXG4gICAgfSwgX3RoaXMuaGFuZGxlQWNjZXB0RGlhbG9nID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdGltZTogdGltZVxuICAgICAgfSk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIF90aGlzLnByb3BzLm9uQ2hhbmdlKG51bGwsIHRpbWUpO1xuICAgIH0sIF90aGlzLmhhbmRsZUZvY3VzSW5wdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaFRhcElucHV0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIF90aGlzLm9wZW5EaWFsb2coKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hUYXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFRhcChldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRpbWU6IHRoaXMuaXNDb250cm9sbGVkKCkgPyB0aGlzLmdldENvbnRyb2xsZWRUaW1lKCkgOiB0aGlzLnByb3BzLmRlZmF1bHRUaW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMudmFsdWUgIT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdGltZTogdGhpcy5nZXRDb250cm9sbGVkVGltZShuZXh0UHJvcHMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgb3BlbkRpYWxvZygpYCBmb3IgYW4gYXBpIGNvbnNpc3RlbnQgd2l0aCBUZXh0RmllbGQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB0aGlzLm9wZW5EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRpYWxvZygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaWFsb2dUaW1lOiB0aGlzLnN0YXRlLnRpbWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWZzLmRpYWxvZ1dpbmRvdy5zaG93KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNDb250cm9sbGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb250cm9sbGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudmFsdWUgIT09IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q29udHJvbGxlZFRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250cm9sbGVkVGltZSgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcblxuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBpZiAocHJvcHMudmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IHByb3BzLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIGNhbmNlbExhYmVsID0gX3Byb3BzLmNhbmNlbExhYmVsLFxuICAgICAgICAgIGRlZmF1bHRUaW1lID0gX3Byb3BzLmRlZmF1bHRUaW1lLFxuICAgICAgICAgIGRpYWxvZ0JvZHlTdHlsZSA9IF9wcm9wcy5kaWFsb2dCb2R5U3R5bGUsXG4gICAgICAgICAgZGlhbG9nU3R5bGUgPSBfcHJvcHMuZGlhbG9nU3R5bGUsXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgICBva0xhYmVsID0gX3Byb3BzLm9rTGFiZWwsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uVG91Y2hUYXAgPSBfcHJvcHMub25Ub3VjaFRhcCxcbiAgICAgICAgICBvblNob3cgPSBfcHJvcHMub25TaG93LFxuICAgICAgICAgIG9uRGlzbWlzcyA9IF9wcm9wcy5vbkRpc21pc3MsXG4gICAgICAgICAgcGVkYW50aWMgPSBfcHJvcHMucGVkYW50aWMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGV4dEZpZWxkU3R5bGUgPSBfcHJvcHMudGV4dEZpZWxkU3R5bGUsXG4gICAgICAgICAgbWludXRlc1N0ZXAgPSBfcHJvcHMubWludXRlc1N0ZXAsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYXV0b09rJywgJ2NhbmNlbExhYmVsJywgJ2RlZmF1bHRUaW1lJywgJ2RpYWxvZ0JvZHlTdHlsZScsICdkaWFsb2dTdHlsZScsICdmb3JtYXQnLCAnb2tMYWJlbCcsICdvbkZvY3VzJywgJ29uVG91Y2hUYXAnLCAnb25TaG93JywgJ29uRGlzbWlzcycsICdwZWRhbnRpYycsICdzdHlsZScsICd0ZXh0RmllbGRTdHlsZScsICdtaW51dGVzU3RlcCddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG4gICAgICB2YXIgdGltZSA9IHRoaXMuc3RhdGUudGltZTtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGUpKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICAgIHN0eWxlOiB0ZXh0RmllbGRTdHlsZSxcbiAgICAgICAgICByZWY6ICdpbnB1dCcsXG4gICAgICAgICAgdmFsdWU6IHRpbWUgPT09IGVtcHR5VGltZSA/IG51bGwgOiAoMCwgX3RpbWVVdGlscy5mb3JtYXRUaW1lKSh0aW1lLCBmb3JtYXQsIHBlZGFudGljKSxcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzSW5wdXQsXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcElucHV0XG4gICAgICAgIH0pKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXJEaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICByZWY6ICdkaWFsb2dXaW5kb3cnLFxuICAgICAgICAgIGJvZHlTdHlsZTogZGlhbG9nQm9keVN0eWxlLFxuICAgICAgICAgIGluaXRpYWxUaW1lOiB0aGlzLnN0YXRlLmRpYWxvZ1RpbWUsXG4gICAgICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0RGlhbG9nLFxuICAgICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICAgIG9uRGlzbWlzczogb25EaXNtaXNzLFxuICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgICAgIGF1dG9PazogYXV0b09rLFxuICAgICAgICAgIHN0eWxlOiBkaWFsb2dTdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcDogbWludXRlc1N0ZXBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9PazogZmFsc2UsXG4gIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgZGVmYXVsdFRpbWU6IG51bGwsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgZm9ybWF0OiAnYW1wbScsXG4gIG9rTGFiZWw6ICdPSycsXG4gIHBlZGFudGljOiBmYWxzZSxcbiAgc3R5bGU6IHt9LFxuICB2YWx1ZTogbnVsbCxcbiAgbWludXRlc1N0ZXA6IDFcbn07XG5UaW1lUGlja2VyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UaW1lUGlja2VyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIGF1dG9tYXRpY2FsbHkgYWNjZXB0IGFuZCBjbG9zZSB0aGUgcGlja2VyIG9uIHNldCBtaW51dGVzLlxuICAgKi9cbiAgYXV0b09rOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgbGFiZWwgb2YgdGhlICdDYW5jZWwnIGJ1dHRvbi5cbiAgICovXG4gIGNhbmNlbExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCB0aW1lIHZhbHVlIG9mIHRoZSBUaW1lUGlja2VyLlxuICAgKi9cbiAgZGVmYXVsdFRpbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgVGltZVBpY2tlckRpYWxvZydzIGJvZHkgZWxlbWVudC5cbiAgICovXG4gIGRpYWxvZ0JvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyRGlhbG9nJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgZGlhbG9nU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIFRpbWVQaWNrZXIgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGVsbHMgdGhlIGNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBwaWNrZXIgaW4gYGFtcG1gICgxMmhyKSBmb3JtYXQgb3IgYDI0aHJgIGZvcm1hdC5cbiAgICovXG4gIGZvcm1hdDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2FtcG0nLCAnMjRociddKSxcbiAgLyoqXG4gICAqIEhvdyBtYW55IG1pbnV0ZXMgc2hvdWxkIGJlIGFkZGVkL3N1YnRyYWN0ZWQgd2hlbiBtb3ZpbmcgdGhlIGNsb2NrIHBvaW50ZXIuXG4gICAqL1xuICBtaW51dGVzU3RlcDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgbGFiZWwgb2YgdGhlICdPSycgYnV0dG9uLlxuICAgKi9cbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSB0aW1lIHZhbHVlIGNoYW5nZXMuIFRoZSB0aW1lIHZhbHVlIGlzIHBhc3NlZCBpbiBhIERhdGUgT2JqZWN0LlxuICAgKiBTaW5jZSB0aGVyZSBpcyBubyBwYXJ0aWN1bGFyIGV2ZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhbmdlIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGFsd2F5cyBiZSBudWxsXG4gICAqIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IHdpbGwgYmUgdGhlIG5ldyBEYXRlIGluc3RhbmNlLlxuICAgKi9cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgZGlhbG9nIGlzIGRpc21pc3NlZC5cbiAgICovXG4gIG9uRGlzbWlzczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgVGltZVBpY2tlciBgVGV4dEZpZWxkYCBnYWlucyBmb2N1cy5cbiAgICovXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIFRpbWVQaWNrZXIgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBUaW1lUGlja2VyIGlzIHRhcHBlZCBvciBjbGlja2VkLlxuICAgKi9cbiAgb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdXNlcyAoXCJub29uXCIgLyBcIm1pZG5pZ2h0XCIpIGluc3RlYWQgb2YgKFwiMTIgYS5tLlwiIC8gXCIxMiBwLm0uXCIpLlxuICAgKlxuICAgKiBJdCdzIHRlY2huaWNhbGx5IG1vcmUgY29ycmVjdCB0byByZWZlciB0byBcIjEyIG5vb25cIiBhbmQgXCIxMiBtaWRuaWdodFwiIHJhdGhlciB0aGFuIFwiMTIgYS5tLlwiIGFuZCBcIjEyIHAubS5cIlxuICAgKiBhbmQgaXQgYXZvaWRzIGNvbmZ1c2lvbiBiZXR3ZWVuIGRpZmZlcmVudCBsb2NhbGVzLiBCeSBkZWZhdWx0IChmb3IgY29tcGF0aWJpbGl0eSByZWFzb25zKSBUaW1lUGlja2VyIHVzZXNcbiAgICogKFwiMTIgYS5tLlwiIC8gXCIxMiBwLm0uXCIpLlxuICAgKi9cbiAgcGVkYW50aWM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiBUaW1lUGlja2VyJ3MgVGV4dEZpZWxkIGVsZW1lbnQuXG4gICAqL1xuICB0ZXh0RmllbGRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIGZvciB0aGUgVGltZSBQaWNrZXIgcHJvZ3JhbW1hdGljYWxseS5cbiAgICovXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gVGltZVBpY2tlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9UaW1lUGlja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzZcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfQ2xvY2sgPSByZXF1aXJlKCcuL0Nsb2NrJyk7XG5cbnZhciBfQ2xvY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvY2spO1xuXG52YXIgX0RpYWxvZyA9IHJlcXVpcmUoJy4uL0RpYWxvZycpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSByZXF1aXJlKCcuLi9GbGF0QnV0dG9uJyk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRpbWVQaWNrZXJEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUaW1lUGlja2VyRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyRGlhbG9nKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWVQaWNrZXJEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVGltZVBpY2tlckRpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoVGltZVBpY2tlckRpYWxvZykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kaXNtaXNzKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hUYXBPSyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFjY2VwdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdChfdGhpcy5yZWZzLmNsb2NrLmdldFNlbGVjdGVkVGltZSgpKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKCgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBfdGhpcy5oYW5kbGVUb3VjaFRhcE9LKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWVQaWNrZXJEaWFsb2csIFt7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblNob3cgJiYgIXRoaXMuc3RhdGUub3BlbikgdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNtaXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uRGlzbWlzcyAmJiB0aGlzLnN0YXRlLm9wZW4pIHRoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wcy5ib2R5U3R5bGUsXG4gICAgICAgICAgaW5pdGlhbFRpbWUgPSBfcHJvcHMuaW5pdGlhbFRpbWUsXG4gICAgICAgICAgb25BY2NlcHQgPSBfcHJvcHMub25BY2NlcHQsXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgICBhdXRvT2sgPSBfcHJvcHMuYXV0b09rLFxuICAgICAgICAgIG9rTGFiZWwgPSBfcHJvcHMub2tMYWJlbCxcbiAgICAgICAgICBjYW5jZWxMYWJlbCA9IF9wcm9wcy5jYW5jZWxMYWJlbCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBtaW51dGVzU3RlcCA9IF9wcm9wcy5taW51dGVzU3RlcCxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydib2R5U3R5bGUnLCAnaW5pdGlhbFRpbWUnLCAnb25BY2NlcHQnLCAnZm9ybWF0JywgJ2F1dG9PaycsICdva0xhYmVsJywgJ2NhbmNlbExhYmVsJywgJ3N0eWxlJywgJ21pbnV0ZXNTdGVwJ10pO1xuXG5cbiAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgICAgY29sb3I6IHRoaXMuY29udGV4dC5tdWlUaGVtZS50aW1lUGlja2VyLmNsb2NrQ29sb3JcbiAgICAgICAgfSxcbiAgICAgICAgZGlhbG9nQ29udGVudDoge1xuICAgICAgICAgIHdpZHRoOiAyODBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHBhZGRpbmc6IDBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGFjdGlvbnMgPSBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAwLFxuICAgICAgICBsYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBDYW5jZWxcbiAgICAgIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6IDEsXG4gICAgICAgIGxhYmVsOiBva0xhYmVsLFxuICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICBvblRvdWNoVGFwOiB0aGlzLmhhbmRsZVRvdWNoVGFwT0tcbiAgICAgIH0pXTtcblxuICAgICAgdmFyIG9uQ2xvY2tDaGFuZ2VNaW51dGVzID0gYXV0b09rID09PSB0cnVlID8gdGhpcy5oYW5kbGVUb3VjaFRhcE9LIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgYm9keVN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSksXG4gICAgICAgICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICAgICAgICBjb250ZW50U3R5bGU6IHN0eWxlcy5kaWFsb2dDb250ZW50LFxuICAgICAgICAgIHJlcG9zaXRpb25PblVwZGF0ZTogZmFsc2UsXG4gICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICBvblJlcXVlc3RDbG9zZTogdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2VcbiAgICAgICAgfSksXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwgeyB0YXJnZXQ6ICd3aW5kb3cnLCBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwIH0pLFxuICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9jazIuZGVmYXVsdCwge1xuICAgICAgICAgIHJlZjogJ2Nsb2NrJyxcbiAgICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgICBpbml0aWFsVGltZTogaW5pdGlhbFRpbWUsXG4gICAgICAgICAgb25DaGFuZ2VNaW51dGVzOiBvbkNsb2NrQ2hhbmdlTWludXRlcyxcbiAgICAgICAgICBtaW51dGVzU3RlcDogbWludXRlc1N0ZXBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaW1lUGlja2VyRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVGltZVBpY2tlckRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIG9rTGFiZWw6ICdPSycsXG4gIGNhbmNlbExhYmVsOiAnQ2FuY2VsJ1xufTtcblRpbWVQaWNrZXJEaWFsb2cuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRpbWVQaWNrZXJEaWFsb2cucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBhdXRvT2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2FuY2VsTGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYW1wbScsICcyNGhyJ10pLFxuICBpbml0aWFsVGltZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1pbnV0ZXNTdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgb2tMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBvbkFjY2VwdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbkRpc21pc3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25TaG93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gVGltZVBpY2tlckRpYWxvZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci9UaW1lUGlja2VyRGlhbG9nLmpzXG4vLyBtb2R1bGUgaWQgPSA0Mzdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfYXV0b1ByZWZpeCA9IHJlcXVpcmUoJy4uL3V0aWxzL2F1dG9QcmVmaXgnKTtcblxudmFyIF9hdXRvUHJlZml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F1dG9QcmVmaXgpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gcmVxdWlyZSgnLi4vc3R5bGVzL3RyYW5zaXRpb25zJyk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU2xpZGVJbkNoaWxkID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2xpZGVJbkNoaWxkLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbGlkZUluQ2hpbGQoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU2xpZGVJbkNoaWxkKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoU2xpZGVJbkNoaWxkLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShTbGlkZUluQ2hpbGQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNsaWRlSW5DaGlsZCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50ZXJUaW1lcik7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sZWF2ZVRpbWVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsRW50ZXIoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHZhciB4ID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICdsZWZ0JyA/ICcxMDAlJyA6IHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSAncmlnaHQnID8gJy0xMDAlJyA6ICcwJztcbiAgICAgIHZhciB5ID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICd1cCcgPyAnMTAwJScgOiB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJy0xMDAlJyA6ICcwJztcblxuICAgICAgc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIF9hdXRvUHJlZml4Mi5kZWZhdWx0LnNldChzdHlsZSwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHggKyAnLCAnICsgeSArICcpJyk7XG5cbiAgICAgIHRoaXMuZW50ZXJUaW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRoaXMucHJvcHMuZW50ZXJEZWxheSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRFbnRlcigpIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICBfYXV0b1ByZWZpeDIuZGVmYXVsdC5zZXQoc3R5bGUsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMCknKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTGVhdmUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKS5zdHlsZTtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnByb3BzLmdldExlYXZlRGlyZWN0aW9uKCk7XG4gICAgICB2YXIgeCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gJy0xMDAlJyA6IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/ICcxMDAlJyA6ICcwJztcbiAgICAgIHZhciB5ID0gZGlyZWN0aW9uID09PSAndXAnID8gJy0xMDAlJyA6IGRpcmVjdGlvbiA9PT0gJ2Rvd24nID8gJzEwMCUnIDogJzAnO1xuXG4gICAgICBzdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgX2F1dG9QcmVmaXgyLmRlZmF1bHQuc2V0KHN0eWxlLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknKTtcblxuICAgICAgdGhpcy5sZWF2ZVRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBlbnRlckRlbGF5ID0gX3Byb3BzLmVudGVyRGVsYXksXG4gICAgICAgICAgZ2V0TGVhdmVEaXJlY3Rpb24gPSBfcHJvcHMuZ2V0TGVhdmVEaXJlY3Rpb24sXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnY2hpbGRyZW4nLCAnZW50ZXJEZWxheScsICdnZXRMZWF2ZURpcmVjdGlvbicsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cblxuICAgICAgdmFyIG1lcmdlZFJvb3RTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KG51bGwsIFsndHJhbnNmb3JtJywgJ29wYWNpdHknXSlcbiAgICAgIH0sIHN0eWxlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMobWVyZ2VkUm9vdFN0eWxlcykgfSksXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2xpZGVJbkNoaWxkO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuU2xpZGVJbkNoaWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgZW50ZXJEZWxheTogMFxufTtcblNsaWRlSW5DaGlsZC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU2xpZGVJbkNoaWxkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgZGlyZWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZW50ZXJEZWxheTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8vIFRoaXMgY2FsbGJhY2sgaXMgbmVlZGVkIGJhY2F1c2UgdGhlIGRpcmVjdGlvbiBjb3VsZCBjaGFuZ2Ugd2hlbiBsZWF2aW5nIHRoZSBET01cbiAgZ2V0TGVhdmVEaXJlY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNsaWRlSW5DaGlsZDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvU2xpZGVJbkNoaWxkLmpzXG4vLyBtb2R1bGUgaWQgPSA0NDJcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0RpYWxvZyA9IHJlcXVpcmUoJy4vRGlhbG9nJyk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9EaWFsb2cyLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RpYWxvZy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5hdmlnYXRpb25DaGV2cm9uTGVmdCA9IGZ1bmN0aW9uIE5hdmlnYXRpb25DaGV2cm9uTGVmdChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnonIH0pXG4gICk7XG59O1xuTmF2aWdhdGlvbkNoZXZyb25MZWZ0ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShOYXZpZ2F0aW9uQ2hldnJvbkxlZnQpO1xuTmF2aWdhdGlvbkNoZXZyb25MZWZ0LmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25DaGV2cm9uTGVmdCc7XG5OYXZpZ2F0aW9uQ2hldnJvbkxlZnQubXVpTmFtZSA9ICdTdmdJY29uJztcblxuZXhwb3J0cy5kZWZhdWx0ID0gTmF2aWdhdGlvbkNoZXZyb25MZWZ0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9jaGV2cm9uLWxlZnQuanNcbi8vIG1vZHVsZSBpZCA9IDQ1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5hdmlnYXRpb25DaGV2cm9uUmlnaHQgPSBmdW5jdGlvbiBOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnonIH0pXG4gICk7XG59O1xuTmF2aWdhdGlvbkNoZXZyb25SaWdodCA9ICgwLCBfcHVyZTIuZGVmYXVsdCkoTmF2aWdhdGlvbkNoZXZyb25SaWdodCk7XG5OYXZpZ2F0aW9uQ2hldnJvblJpZ2h0LmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25DaGV2cm9uUmlnaHQnO1xuTmF2aWdhdGlvbkNoZXZyb25SaWdodC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZpZ2F0aW9uQ2hldnJvblJpZ2h0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9jaGV2cm9uLXJpZ2h0LmpzXG4vLyBtb2R1bGUgaWQgPSA0NTRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0NoZWNrYm94ID0gcmVxdWlyZSgnLi9DaGVja2JveCcpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0NoZWNrYm94Mi5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9DaGVja2JveC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDIiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfU25hY2tiYXIgPSByZXF1aXJlKCcuL1NuYWNrYmFyJyk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfU25hY2tiYXIyLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdFV0aWxzID0gdW5kZWZpbmVkO1xuZXhwb3J0cy5kYXRlVGltZUZvcm1hdCA9IGRhdGVUaW1lRm9ybWF0O1xuZXhwb3J0cy5nZXRZZWFyID0gZ2V0WWVhcjtcbmV4cG9ydHMuc2V0WWVhciA9IHNldFllYXI7XG5leHBvcnRzLmFkZERheXMgPSBhZGREYXlzO1xuZXhwb3J0cy5hZGRNb250aHMgPSBhZGRNb250aHM7XG5leHBvcnRzLmFkZFllYXJzID0gYWRkWWVhcnM7XG5leHBvcnRzLmNsb25lRGF0ZSA9IGNsb25lRGF0ZTtcbmV4cG9ydHMuY2xvbmVBc0RhdGUgPSBjbG9uZUFzRGF0ZTtcbmV4cG9ydHMuZ2V0RGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcbmV4cG9ydHMuZ2V0Rmlyc3REYXlPZk1vbnRoID0gZ2V0Rmlyc3REYXlPZk1vbnRoO1xuZXhwb3J0cy5nZXRGaXJzdERheU9mV2VlayA9IGdldEZpcnN0RGF5T2ZXZWVrO1xuZXhwb3J0cy5nZXRXZWVrQXJyYXkgPSBnZXRXZWVrQXJyYXk7XG5leHBvcnRzLmxvY2FsaXplZFdlZWtkYXkgPSBsb2NhbGl6ZWRXZWVrZGF5O1xuZXhwb3J0cy5mb3JtYXRJc28gPSBmb3JtYXRJc287XG5leHBvcnRzLmlzRXF1YWxEYXRlID0gaXNFcXVhbERhdGU7XG5leHBvcnRzLmlzQmVmb3JlRGF0ZSA9IGlzQmVmb3JlRGF0ZTtcbmV4cG9ydHMuaXNBZnRlckRhdGUgPSBpc0FmdGVyRGF0ZTtcbmV4cG9ydHMuaXNCZXR3ZWVuRGF0ZXMgPSBpc0JldHdlZW5EYXRlcztcbmV4cG9ydHMubW9udGhEaWZmID0gbW9udGhEaWZmO1xuZXhwb3J0cy55ZWFyRGlmZiA9IHllYXJEaWZmO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRheUFiYnJldmlhdGlvbiA9IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddO1xudmFyIGRheUxpc3QgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xudmFyIG1vbnRoTGlzdCA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbnZhciBtb250aExvbmdMaXN0ID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG5cbmZ1bmN0aW9uIGRhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucykge1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGxvY2FsZSA9PT0gJ2VuLVVTJywgJ01hdGVyaWFsLVVJOiBUaGUgJyArIGxvY2FsZSArICcgbG9jYWxlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJ1aWx0LWluIERhdGVUaW1lRm9ybWF0LlxcbiAgVXNlIHRoZSBgRGF0ZVRpbWVGb3JtYXRgIHByb3AgdG8gc3VwcGx5IGFuIGFsdGVybmF0aXZlIGltcGxlbWVudGF0aW9uLicpIDogdm9pZCAwO1xuXG4gIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICBpZiAob3B0aW9ucy5tb250aCA9PT0gJ3Nob3J0JyAmJiBvcHRpb25zLndlZWtkYXkgPT09ICdzaG9ydCcgJiYgb3B0aW9ucy5kYXkgPT09ICcyLWRpZ2l0Jykge1xuICAgICAgcmV0dXJuIGRheUxpc3RbZGF0ZS5nZXREYXkoKV0gKyAnLCAnICsgbW9udGhMaXN0W2RhdGUuZ2V0TW9udGgoKV0gKyAnICcgKyBkYXRlLmdldERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMubW9udGggPT09ICdudW1lcmljJyAmJiBvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMSArICcvJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy8nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5tb250aCA9PT0gJ2xvbmcnKSB7XG4gICAgICByZXR1cm4gbW9udGhMb25nTGlzdFtkYXRlLmdldE1vbnRoKCldICsgJyAnICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy53ZWVrZGF5ID09PSAnbmFycm93Jykge1xuICAgICAgcmV0dXJuIGRheUFiYnJldmlhdGlvbltkYXRlLmdldERheSgpXTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogV3JvbmcgdXNhZ2Ugb2YgRGF0ZVRpbWVGb3JtYXQnKSA6IHZvaWQgMDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFllYXIoZCkge1xuICByZXR1cm4gZC5nZXRGdWxsWWVhcigpO1xufVxuXG5mdW5jdGlvbiBzZXRZZWFyKGQsIHllYXIpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoeWVhcik7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5mdW5jdGlvbiBhZGREYXlzKGQsIGRheXMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RGF0ZShkLmdldERhdGUoKSArIGRheXMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkTW9udGhzKGQsIG1vbnRocykge1xuICB2YXIgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRNb250aChkLmdldE1vbnRoKCkgKyBtb250aHMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkWWVhcnMoZCwgeWVhcnMpIHtcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoZC5nZXRGdWxsWWVhcigpICsgeWVhcnMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVEYXRlKGQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0VGltZSgpKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVBc0RhdGUoZCkge1xuICB2YXIgY2xvbmVkRGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgY2xvbmVkRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGNsb25lZERhdGU7XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoKGQpIHtcbiAgdmFyIHJlc3VsdERhdGUgPSBnZXRGaXJzdERheU9mTW9udGgoZCk7XG5cbiAgcmVzdWx0RGF0ZS5zZXRNb250aChyZXN1bHREYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgcmVzdWx0RGF0ZS5zZXREYXRlKHJlc3VsdERhdGUuZ2V0RGF0ZSgpIC0gMSk7XG5cbiAgcmV0dXJuIHJlc3VsdERhdGUuZ2V0RGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdERheU9mTW9udGgoZCkge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIDEpO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdERheU9mV2VlaygpIHtcbiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gIHJldHVybiBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gbm93LmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtBcnJheShkLCBmaXJzdERheU9mV2Vlaykge1xuICB2YXIgZGF5QXJyYXkgPSBbXTtcbiAgdmFyIGRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGgoZCk7XG4gIHZhciB3ZWVrQXJyYXkgPSBbXTtcbiAgdmFyIHdlZWsgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8PSBkYXlzSW5Nb250aDsgaSsrKSB7XG4gICAgZGF5QXJyYXkucHVzaChuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgaSkpO1xuICB9XG5cbiAgdmFyIGFkZFdlZWsgPSBmdW5jdGlvbiBhZGRXZWVrKHdlZWspIHtcbiAgICB2YXIgZW1wdHlEYXlzID0gNyAtIHdlZWsubGVuZ3RoO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBlbXB0eURheXM7ICsrX2kpIHtcbiAgICAgIHdlZWtbd2Vla0FycmF5Lmxlbmd0aCA/ICdwdXNoJyA6ICd1bnNoaWZ0J10obnVsbCk7XG4gICAgfVxuICAgIHdlZWtBcnJheS5wdXNoKHdlZWspO1xuICB9O1xuXG4gIGRheUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGRheSkge1xuICAgIGlmICh3ZWVrLmxlbmd0aCA+IDAgJiYgZGF5LmdldERheSgpID09PSBmaXJzdERheU9mV2Vlaykge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICAgIHdlZWsgPSBbXTtcbiAgICB9XG4gICAgd2Vlay5wdXNoKGRheSk7XG4gICAgaWYgKGRheUFycmF5LmluZGV4T2YoZGF5KSA9PT0gZGF5QXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB3ZWVrQXJyYXk7XG59XG5cbmZ1bmN0aW9uIGxvY2FsaXplZFdlZWtkYXkoRGF0ZVRpbWVGb3JtYXQsIGxvY2FsZSwgZGF5LCBmaXJzdERheU9mV2Vlaykge1xuICB2YXIgd2Vla2RheUZvcm1hdHRlciA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHsgd2Vla2RheTogJ25hcnJvdycgfSk7XG4gIHZhciBmaXJzdERheURhdGUgPSBnZXRGaXJzdERheU9mV2VlaygpO1xuXG4gIHJldHVybiB3ZWVrZGF5Rm9ybWF0dGVyLmZvcm1hdChhZGREYXlzKGZpcnN0RGF5RGF0ZSwgZGF5ICsgZmlyc3REYXlPZldlZWspKTtcbn1cblxuLy8gQ29udmVydCBkYXRlIHRvIElTTyA4NjAxIChZWVlZLU1NLUREKSBkYXRlIHN0cmluZywgYWNjb3VudGluZyBmb3IgY3VycmVudCB0aW1lem9uZVxuZnVuY3Rpb24gZm9ybWF0SXNvKGRhdGUpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUudG9EYXRlU3RyaW5nKCkgKyAnIDEyOjAwOjAwICswMDAwJykudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xufVxuXG5mdW5jdGlvbiBpc0VxdWFsRGF0ZShkMSwgZDIpIHtcbiAgcmV0dXJuIGQxICYmIGQyICYmIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCkgJiYgZDEuZ2V0TW9udGgoKSA9PT0gZDIuZ2V0TW9udGgoKSAmJiBkMS5nZXREYXRlKCkgPT09IGQyLmdldERhdGUoKTtcbn1cblxuZnVuY3Rpb24gaXNCZWZvcmVEYXRlKGQxLCBkMikge1xuICB2YXIgZGF0ZTEgPSBjbG9uZUFzRGF0ZShkMSk7XG4gIHZhciBkYXRlMiA9IGNsb25lQXNEYXRlKGQyKTtcblxuICByZXR1cm4gZGF0ZTEuZ2V0VGltZSgpIDwgZGF0ZTIuZ2V0VGltZSgpO1xufVxuXG5mdW5jdGlvbiBpc0FmdGVyRGF0ZShkMSwgZDIpIHtcbiAgdmFyIGRhdGUxID0gY2xvbmVBc0RhdGUoZDEpO1xuICB2YXIgZGF0ZTIgPSBjbG9uZUFzRGF0ZShkMik7XG5cbiAgcmV0dXJuIGRhdGUxLmdldFRpbWUoKSA+IGRhdGUyLmdldFRpbWUoKTtcbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuRGF0ZXMoZGF0ZVRvQ2hlY2ssIHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICByZXR1cm4gIWlzQmVmb3JlRGF0ZShkYXRlVG9DaGVjaywgc3RhcnREYXRlKSAmJiAhaXNBZnRlckRhdGUoZGF0ZVRvQ2hlY2ssIGVuZERhdGUpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYoZDEsIGQyKSB7XG4gIHZhciBtID0gdm9pZCAwO1xuICBtID0gKGQxLmdldEZ1bGxZZWFyKCkgLSBkMi5nZXRGdWxsWWVhcigpKSAqIDEyO1xuICBtICs9IGQxLmdldE1vbnRoKCk7XG4gIG0gLT0gZDIuZ2V0TW9udGgoKTtcbiAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIHllYXJEaWZmKGQxLCBkMikge1xuICByZXR1cm4gfn4obW9udGhEaWZmKGQxLCBkMikgLyAxMik7XG59XG5cbnZhciBkZWZhdWx0VXRpbHMgPSBleHBvcnRzLmRlZmF1bHRVdGlscyA9IHtcbiAgZ2V0WWVhcjogZ2V0WWVhcixcbiAgc2V0WWVhcjogc2V0WWVhcixcbiAgYWRkRGF5czogYWRkRGF5cyxcbiAgYWRkTW9udGhzOiBhZGRNb250aHMsXG4gIGFkZFllYXJzOiBhZGRZZWFycyxcbiAgZ2V0Rmlyc3REYXlPZk1vbnRoOiBnZXRGaXJzdERheU9mTW9udGgsXG4gIGdldFdlZWtBcnJheTogZ2V0V2Vla0FycmF5LFxuICBtb250aERpZmY6IG1vbnRoRGlmZlxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYWRkSG91cnMgPSBhZGRIb3VycztcbmV4cG9ydHMuYWRkTWludXRlcyA9IGFkZE1pbnV0ZXM7XG5leHBvcnRzLmFkZFNlY29uZHMgPSBhZGRTZWNvbmRzO1xuZXhwb3J0cy5mb3JtYXRUaW1lID0gZm9ybWF0VGltZTtcbmV4cG9ydHMucmFkMmRlZyA9IHJhZDJkZWc7XG5leHBvcnRzLmdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMgPSBnZXRUb3VjaEV2ZW50T2Zmc2V0VmFsdWVzO1xuZXhwb3J0cy5pc0lubmVyID0gaXNJbm5lcjtcbmZ1bmN0aW9uIGFkZEhvdXJzKGQsIGhvdXJzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0SG91cnMoZC5nZXRIb3VycygpICsgaG91cnMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkTWludXRlcyhkLCBtaW51dGVzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0TWludXRlcyhkLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gYWRkU2Vjb25kcyhkLCBzZWNvbmRzKSB7XG4gIHZhciBuZXdEYXRlID0gY2xvbmUoZCk7XG4gIG5ld0RhdGUuc2V0U2Vjb25kcyhkLmdldE1pbnV0ZXMoKSArIHNlY29uZHMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZnVuY3Rpb24gY2xvbmUoZCkge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRUaW1lKCkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBkYXRlIFtEYXRlXSBBIERhdGUgb2JqZWN0LlxuICogQHBhcmFtIGZvcm1hdCBbU3RyaW5nXSBPbmUgb2YgJ2FtcG0nLCAnMjRocicsIGRlZmF1bHRzIHRvICdhbXBtJy5cbiAqIEBwYXJhbSBwZWRhbnRpYyBbQm9vbGVhbl0gQ2hlY2sgdGltZS1waWNrZXIvdGltZS1waWNrZXIuanN4IGZpbGUuXG4gKlxuICogQHJldHVybiBTdHJpbmcgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmb3JtYXR0ZWQgdGltZS5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlKSB7XG4gIHZhciBmb3JtYXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhbXBtJztcbiAgdmFyIHBlZGFudGljID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICBpZiAoIWRhdGUpIHJldHVybiAnJztcbiAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICB2YXIgbWlucyA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCk7XG5cbiAgaWYgKGZvcm1hdCA9PT0gJ2FtcG0nKSB7XG4gICAgdmFyIGlzQU0gPSBob3VycyA8IDEyO1xuICAgIGhvdXJzID0gaG91cnMgJSAxMjtcbiAgICB2YXIgYWRkaXRpb25hbCA9IGlzQU0gPyAnIGFtJyA6ICcgcG0nO1xuICAgIGhvdXJzID0gKGhvdXJzIHx8IDEyKS50b1N0cmluZygpO1xuXG4gICAgaWYgKG1pbnMubGVuZ3RoIDwgMikgbWlucyA9ICcwJyArIG1pbnM7XG5cbiAgICBpZiAocGVkYW50aWMpIHtcbiAgICAgIC8vIFRyZWF0IG1pZGRheS9taWRuaWdodCBzcGVjaWFsbHkgaHR0cDovL3d3dy5uaXN0Lmdvdi9wbWwvZGl2Njg4L3RpbWVzLmNmbVxuICAgICAgaWYgKGhvdXJzID09PSAnMTInICYmIG1pbnMgPT09ICcwMCcpIHtcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWwgPT09ICcgcG0nID8gJzEyIG5vb24nIDogJzEyIG1pZG5pZ2h0JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaG91cnMgKyAobWlucyA9PT0gJzAwJyA/ICcnIDogJzonICsgbWlucykgKyBhZGRpdGlvbmFsO1xuICB9XG5cbiAgaG91cnMgPSBob3Vycy50b1N0cmluZygpO1xuXG4gIGlmIChob3Vycy5sZW5ndGggPCAyKSBob3VycyA9ICcwJyArIGhvdXJzO1xuICBpZiAobWlucy5sZW5ndGggPCAyKSBtaW5zID0gJzAnICsgbWlucztcblxuICByZXR1cm4gaG91cnMgKyAnOicgKyBtaW5zO1xufVxuXG5mdW5jdGlvbiByYWQyZGVnKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoRXZlbnRPZmZzZXRWYWx1ZXMoZXZlbnQpIHtcbiAgdmFyIGVsID0gZXZlbnQudGFyZ2V0O1xuICB2YXIgYm91bmRpbmdSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBvZmZzZXRYOiBldmVudC5jbGllbnRYIC0gYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgb2Zmc2V0WTogZXZlbnQuY2xpZW50WSAtIGJvdW5kaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNJbm5lcihwcm9wcykge1xuICBpZiAocHJvcHMudHlwZSAhPT0gJ2hvdXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBwcm9wcy52YWx1ZSA8IDEgfHwgcHJvcHMudmFsdWUgPiAxMjtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvVGltZVBpY2tlci90aW1lVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=