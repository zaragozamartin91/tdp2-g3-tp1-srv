webpackJsonp([0],{109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(350),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(351),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(365),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},218:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return r.default.createElement(b.default,{iconButtonElement:r.default.createElement(v.default,null,r.default.createElement(S.default,{className:"submenu-svg",style:{color:"white",fill:"white"}})),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"}},r.default.createElement(h.default,{primaryText:"Cerrar sesion",onClick:e.onLogout}))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),r=a(l),i=n(57),s=n(166),u=a(s),d=n(168),c=a(d),f=n(172),h=a(f),p=n(180),m=a(p),y=n(169),b=a(y),g=n(67),v=a(g),k=n(181),S=a(k);o.muiName="IconMenu";var E=r.default.createClass({displayName:"AdminBackofficeBar",getInitialState:function(){return{drawerOpen:!1}},getDefaultProps:function(){return{onLogout:function(){}}},closeDrawer:function(){this.setState({drawerOpen:!1})},toggleDrawer:function(){var e=!this.state.drawerOpen;this.setState({drawerOpen:e})},render:function(){var e=this;return r.default.createElement("div",null,r.default.createElement(u.default,{onLeftIconButtonTouchTap:this.toggleDrawer,iconElementRight:r.default.createElement(o,{onLogout:this.props.onLogout}),title:"Administracion HOY COMO"}),r.default.createElement(c.default,{open:this.state.drawerOpen,docked:!1,onRequestChange:function(t){return e.setState({drawerOpen:t})}},r.default.createElement(i.Link,{to:"/index",onClick:this.closeDrawer},r.default.createElement(h.default,null,"Principal")),r.default.createElement(h.default,{primaryText:"Comercios",rightIcon:r.default.createElement(m.default,null),menuItems:[r.default.createElement(i.Link,{to:"/shops/create",onClick:this.closeDrawer},r.default.createElement(h.default,null,"Crear")),r.default.createElement(i.Link,{to:"/shops/list",onClick:this.closeDrawer},r.default.createElement(h.default,null,"Ver"))]})))}});t.default=E},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),l=o.default.createClass({displayName:"AdminIndex",render:function(){return o.default.createElement("div",{className:"with-margin index"},o.default.createElement("h1",null,"Administracion de HOY COMO"),o.default.createElement("h2",null,"Configuracion y estadisticas"),o.default.createElement("p",null,"Desde aqui es posible monitorear a los usuarios registrados y comercios asociados a la aplicacion."))}});t.default=l},220:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=a(o),r=n(31),i=a(r),s=n(68),u=(a(s),n(69)),d=a(u),c=n(66),f=n(39),h=a(f),p=n(36),m=a(p),y=n(73),b=a(y),g=function(){},v=l.default.createClass({displayName:"AdminLogin",getInitialState:function(){return{username:"",password:"",errMsg:null}},getDefaultProps:function(){return{onSubmit:g}},submitForm:function(){var e=this,t=this.state.username,n=this.state.password,a=btoa(t+":"+n);(0,m.default)({method:"post",url:"/api/v1/admin/login",headers:{Authorization:"Basic "+a}}).then(function(t){console.log("Contenido:"),console.log(t.data),e.props.onSubmit(t.data.token)}).catch(function(t){console.error("Error"),e.setState({errMsg:"Credenciales invalidas"})})},handleKeyPress:function(e){"Enter"==e.key&&this.submitForm()},render:function(){var e=this,t=this.state.errMsg?l.default.createElement("p",{style:{color:"red"}},this.state.errMsg):l.default.createElement("div",null);return l.default.createElement("div",{onKeyPress:this.handleKeyPress},l.default.createElement(b.default,{title:"Admin HOY COMO"}),t,l.default.createElement(i.default,null,l.default.createElement(c.Card,null,l.default.createElement(c.CardHeader,{title:"Iniciar sesion",subtitle:"Ingrese credenciales"}),";",l.default.createElement(c.CardText,{expandable:!1},l.default.createElement(d.default,{name:"username",hint:"username",floatingLabelText:"username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(d.default,{name:"password",hintText:"Password",floatingLabelText:"Password",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),l.default.createElement("br",null)),l.default.createElement(c.CardActions,null,l.default.createElement(h.default,{label:"Iniciar sesion",onClick:this.submitForm})))))}});t.default=v},222:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=a(o),r=n(31),i=(a(r),n(68)),s=a(i),u=n(69),d=a(u),c=(n(66),n(109)),f=(a(c),n(39)),h=(a(f),n(110)),p=(a(h),n(111)),m=a(p),y=n(36),b=a(y),g=n(73),v=(a(g),l.default.createClass({displayName:"ShopForm",getDefaultProps:function(){return{token:""}},getInitialState:function(){return{msgSnackbarOpen:!1,name:"",address:"",phone:"",zone:""}},componentDidMount:function(){console.log("token: "+this.props.token)},openSnackbar:function(e){console.log("Abriendo snack bar"),this.setState({msgSnackbarOpen:!0,snackbarMessage:e})},handleSnackbarRequestClose:function(){this.setState({msgSnackbarOpen:!1})},handleShopCreateSuccess:function(e){var t=e.shop.id;this.openSnackbar("Comercio "+t+" creado")},handleShopCreateError:function(e){this.openSnackbar(e.response.data.message)},checkFields:function(){var e=this.state,t=e.name,n=e.address,a=e.phone,o=e.zone;return t&&n&&a&&o?{ok:!0}:{ok:!1,msg:"Parametros incompletos"}},createShop:function(){var e=this,t=this.checkFields();if(!t.ok)return this.openSnackbar(t.msg);var n=this.state,a=n.name,o=n.address,l=n.phone,r=n.zone,i={name:a,address:o,phone:l,zone:r},s={headers:{Authorization:"Bearer "+this.props.token}};b.default.post("/api/v1/shops",i,s).then(function(t){console.log(t.data),e.handleShopCreateSuccess(t.data)}).catch(function(t){console.error(t),e.handleShopCreateError(t)})},render:function(){var e=this;return l.default.createElement("div",{style:{paddingBottom:10,backgroundColor:"rgba(255,255,255,0.7)"}},l.default.createElement("div",{style:{margin:20}},l.default.createElement("h1",null,"Nuevo comercio"),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos del comercio"),l.default.createElement(d.default,{name:"Nombre",hint:"Nombre",floatingLabelText:"Nombre",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(d.default,{name:"Direccion",hint:"Direccion",floatingLabelText:"Direccion",value:this.state.address,onChange:function(t){return e.setState({address:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(d.default,{name:"Barrio",hint:"Barrio o distrito",floatingLabelText:"Barrio",value:this.state.zone,onChange:function(t){return e.setState({zone:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(d.default,{name:"Telefono",hint:"Telefono sin guion ni espacios",floatingLabelText:"Telefono",value:this.state.phone,onChange:function(t){return e.setState({phone:t.target.value})},type:"number"}),l.default.createElement("br",null),l.default.createElement("hr",null),l.default.createElement("h2",null,"Datos del administrador del comercio"),l.default.createElement(d.default,{name:"Nombre",hint:"Nombre",floatingLabelText:"Nombre",value:this.state.adminName,onChange:function(t){return e.setState({adminName:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(d.default,{name:"Email",hint:"Email",floatingLabelText:"Email",value:this.state.adminEmail,onChange:function(t){return e.setState({adminEmail:t.target.value})}}),l.default.createElement("br",null),l.default.createElement(s.default,{style:{marginTop:20},label:"Crear comercio",onClick:this.createShop,secondary:!0})),l.default.createElement(m.default,{open:this.state.msgSnackbarOpen,message:this.state.snackbarMessage,autoHideDuration:3e3,onRequestClose:this.handleSnackbarRequestClose}))}}));t.default=v},223:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(){var t=e.shop.id;e.shop.enabled=!1,(0,v.default)({url:"/api/v1/shops/"+t,method:"PUT",headers:{Authorization:"Bearer "+e.token},data:e.shop}).then(function(t){console.log(t.data),e.onSuccess()}).catch(function(t){console.error(t),e.onError()})}var n=[r.default.createElement(h.default,{label:"Cancelar",primary:!0,onClick:e.onClose}),r.default.createElement(h.default,{label:"Prohibir",primary:!0,onClick:t})];return r.default.createElement(m.default,{title:"Prohibir comercio "+e.shop.id,actions:n,modal:!0,open:e.open},"Â¿Desea Prohibir el comercio?")}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),r=a(l),i=n(31),s=(a(i),n(68)),u=(a(s),n(69)),d=(a(u),n(66)),c=n(109),f=(a(c),n(39)),h=a(f),p=n(110),m=a(p),y=n(111),b=a(y),g=n(36),v=a(g),k=n(73),S=(a(k),n(246)),E=a(S),C=r.default.createClass({displayName:"ShopList",getDefaultProps:function(){return{token:""}},getInitialState:function(){return{shops:[],errSnackbarOpen:!1,banShop:null,shopMenu:null}},loadShops:function(){var e=this;v.default.get("/api/v1/shops?token="+this.props.token).then(function(t){var n=t.data.shops;console.log("loadShops shops: "+n),console.log("shops:"),console.log(n),e.setState({shops:n})}).catch(function(t){console.error(t),e.openErrSnackbar("Error al obtener los comercios")})},componentDidMount:function(){console.log("token: "+this.props.token),this.loadShops(),console.log("ShopList DID MOUNT")},openErrSnackbar:function(e){console.log("Abriendo snack bar"),this.setState({errSnackbarOpen:!0,errSnackbarMessage:e})},handleErrSnackbarRequestClose:function(){this.setState({errSnackbarOpen:!1})},closeBanDialog:function(e){var t=this;return function(){t.setState({banShop:null})}},openBanDialog:function(e){var t=this;return function(){var n=e.id||e;t.setState({banShop:n})}},handleShopBanSuccess:function(e){var t=this;return function(){t.closeBanDialog(e)(),t.loadShops(),t.openErrSnackbar("Comercio baneado")}},enableShop:function(e){var t=this;return e.enabled=!0,function(){(0,v.default)({url:"/api/v1/shops/"+e.id,method:"PUT",headers:{Authorization:"Bearer "+t.props.token},data:e}).then(t.loadShops).catch(function(e){console.error(e),t.openErrSnackbar("Error al habilitar comercio")})}},showMenu:function(e){var t=this;return function(){(0,v.default)({url:"/api/v1/shops/"+e.id+"/menu",method:"GET",headers:{Authorization:"Bearer "+t.props.token}}).then(function(e){console.log("showMenu axios response: "),console.log(e.data),t.setState({shopMenu:e.data.menu})}).catch(function(e){console.error(e),t.openErrSnackbar("Error al obtener menu de comercio")})}},handleMenuClose:function(){this.setState({shopMenu:null})},render:function(){var e=this;if(console.log("this.state.shops: "+this.state.shops),0==this.state.shops.length)return r.default.createElement("div",null,"No hay comercios...");var t=null;if(this.state.banShop){console.log("Creando dialogo de baneo");var n=this.state.shops.find(function(t){return t.id==e.state.banShop});t=r.default.createElement(o,{shop:n,token:this.props.token,open:!0,onSuccess:this.handleShopBanSuccess(n),onClose:this.closeBanDialog(n),onError:function(){return e.openErrSnackbar("Error al Prohibir el comercio "+n.id)}})}var a=null;this.state.shopMenu&&(a=r.default.createElement(E.default,{menu:this.state.shopMenu,goBack:this.handleMenuClose}));var l=this.state.shops.map(function(t){return r.default.createElement(d.Card,{style:{backgroundColor:"rgba(255,255,255,0.8)",margin:10}},r.default.createElement(d.CardHeader,{title:"Comercio "+t.id,subtitle:t.name}),r.default.createElement(d.CardText,{expandable:!1},r.default.createElement("p",null,r.default.createElement("strong",null,"Nombre"),": ",t.name," "),r.default.createElement("p",null,r.default.createElement("strong",null,"Direccion"),": ",t.address," "),r.default.createElement("p",null,r.default.createElement("strong",null,"Barrio"),": ",t.zone," "),r.default.createElement("p",null,r.default.createElement("strong",null,"Telefono"),": ",t.phone," ")),r.default.createElement(d.CardActions,null,r.default.createElement(h.default,{label:"Prohibir",secondary:!0,disabled:!t.enabled,onClick:e.openBanDialog(t)}),r.default.createElement(h.default,{label:"Habilitar",disabled:t.enabled,onClick:e.enableShop(t)}),r.default.createElement(h.default,{label:"Menu",onClick:e.showMenu(t)})))}),i=t||a||l;return r.default.createElement("div",null,i,r.default.createElement(b.default,{open:this.state.errSnackbarOpen,message:this.state.errSnackbarMessage,autoHideDuration:3e3,onRequestClose:this.handleErrSnackbarRequestClose}))}});t.default=C},243:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=a(o),r=n(39),i=a(r),s=function(e){e.title;return l.default.createElement("div",{style:{color:"white",backgroundColor:"rgb(0, 188, 212)",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"border-box",fontFamily:"Roboto, sans-serif",borderRadius:"0px",position:"relative",zIndex:1100,width:"100%",display:"flex",paddingLeft:"24px",paddingRight:"24px"}},l.default.createElement(i.default,{style:{color:"white"},label:"Volver",onClick:e.onClick}))};t.default=s},244:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(0),l=a(o),r=n(17),i=a(r),s=n(57),u=n(31),d=a(u),c=n(36),f=(a(c),n(218)),h=a(f),p=n(219),m=a(p),y=n(220),b=a(y),g=n(223),v=a(g),k=n(222),S=a(k);(0,a(n(86)).default)(),console.log("Parseando cookie "+document.cookie);var E=document.cookie||"",C=E.split("; ").find(function(e){return e.startsWith("token=")}),T=C?C.replace("token=",""):null,w=l.default.createClass({displayName:"AdminBackoffice",getInitialState:function(){return{token:null,user:null,renderReady:!1}},componentDidMount:function(){console.log("AdminBackoffice MONTADA!"),T?this.setToken(T):this.setState({renderReady:!0})},setToken:function(e){e=e.token||e,console.log("Seteando token: "+e),this.setState({token:e,renderReady:!0})},render:function(){var e=this;console.log("RENDERING AdminBackoffice!");var t=this.state.token;return t?(console.log("window.location.hash: "+window.location.hash),"#/"==window.location.hash&&(console.log("REPLACING LOCATION"),window.location.replace("/admin#/index")),l.default.createElement(d.default,null,l.default.createElement("div",null,l.default.createElement(h.default,{onLogout:function(){return e.logoutForm.submit()}}),l.default.createElement(s.Route,{path:"/index",component:m.default}),l.default.createElement(s.Route,{path:"/shops/list",component:function(){return l.default.createElement(v.default,{token:t})}}),l.default.createElement(s.Route,{path:"/shops/create",component:function(){return l.default.createElement(S.default,{token:t})}}),l.default.createElement("form",{action:"/admin/logout",method:"POST",ref:function(t){return e.logoutForm=t},style:{display:"hidden"}})))):l.default.createElement(b.default,{onSubmit:this.setToken})}});i.default.render(l.default.createElement(s.HashRouter,null,l.default.createElement(w,null)),document.getElementById("root"))},246:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.menu,n=t.map(function(e){var t=e.dish;return r.default.createElement(d.Card,{style:{backgroundColor:"rgba(255,255,255,0.7)"}},r.default.createElement(d.CardHeader,{title:"Plato "+t.id,subtitle:t.name}),r.default.createElement(d.CardText,{expandable:!1},r.default.createElement("p",null,r.default.createElement("strong",null,"Descripcion:")," ",t.description," "),r.default.createElement("p",null,r.default.createElement("strong",null,"Costo:")," ",t.cost," ")))});return r.default.createElement("div",null,r.default.createElement(y.default,{onClick:e.goBack}),n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),r=a(l),i=n(31),s=(a(i),n(68)),u=(a(s),n(69)),d=(a(u),n(66)),c=n(109),f=(a(c),n(39)),h=(a(f),n(110)),p=(a(h),n(111)),m=(a(p),n(243)),y=a(m);t.default=o},350:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.muiTheme.checkbox;return{icon:{height:24,width:24},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:M.default.easeOut("450ms","opacity","0ms")+", "+M.default.easeOut("0ms","transform","450ms"),fill:n.checkedColor},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:M.default.easeOut("0ms","opacity","0ms")+", "+M.default.easeOut("800ms","transform","0ms")},checkWhenDisabled:{fill:n.disabledColor},box:{position:"absolute",opacity:1,fill:n.boxColor,transition:M.default.easeOut("1000ms","opacity","200ms")},boxWhenSwitched:{opacity:0,transition:M.default.easeOut("650ms","opacity","150ms"),fill:n.checkedColor},boxWhenDisabled:{fill:e.checked?"transparent":n.disabledColor},label:{color:e.disabled?n.labelDisabledColor:n.labelColor}}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),r=a(l),i=n(10),s=a(i),u=n(4),d=a(u),c=n(2),f=a(c),h=n(3),p=a(h),m=n(6),y=a(m),b=n(5),g=a(b),v=n(7),k=a(v),S=n(0),E=a(S),C=n(1),T=a(C),w=n(377),x=a(w),_=n(14),M=a(_),O=n(392),P=a(O),D=n(393),R=a(D),A=function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.state={switched:!1},a.handleStateChange=function(e){a.setState({switched:e})},a.handleCheck=function(e,t){a.props.onCheck&&a.props.onCheck(e,t)},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.checked,n=e.defaultChecked,a=e.valueLink;(t||n||a&&a.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.checked!==e.checked&&this.setState({switched:e.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(e){this.refs.enhancedSwitch.setSwitched(e)}},{key:"render",value:function(){var e=this.props,t=e.iconStyle,n=(e.onCheck,e.checkedIcon),a=e.uncheckedIcon,l=(0,s.default)(e,["iconStyle","onCheck","checkedIcon","uncheckedIcon"]),i=o(this.props,this.context),u=(0,k.default)(i.box,this.state.switched&&i.boxWhenSwitched,t,this.props.disabled&&i.boxWhenDisabled),d=(0,k.default)(i.check,this.state.switched&&i.checkWhenSwitched,t,this.props.disabled&&i.checkWhenDisabled),c=n?E.default.cloneElement(n,{style:(0,k.default)(d,n.props.style)}):E.default.createElement(R.default,{style:d}),f=a?E.default.cloneElement(a,{style:(0,k.default)(u,a.props.style)}):E.default.createElement(P.default,{style:u}),h=E.default.createElement("div",null,f,c),p=this.state.switched?d.fill:u.fill,m=(0,k.default)(i.icon,t),y=(0,k.default)(i.label,this.props.labelStyle),b={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:h,rippleColor:p,iconStyle:m,onSwitch:this.handleCheck,labelStyle:y,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return E.default.createElement(x.default,(0,r.default)({},l,b))}}]),t}(S.Component);A.defaultProps={labelPosition:"right",disabled:!1},A.contextTypes={muiTheme:T.default.object.isRequired},A.propTypes={},t.default=A},351:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.autoScrollBodyContent,a=e.open,o=t.muiTheme,l=o.baseTheme,r=l.spacing,i=l.palette,s=o.dialog,u=o.zIndex,d=r.desktopGutter,c="1px solid "+i.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:u.dialog,top:0,left:a?0:-1e4,width:"100%",height:"100%",transition:a?R.default.easeOut("0ms","left","0ms"):R.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:R.default.easeOut(),position:"relative",width:"75%",maxWidth:12*r.desktopKeylineIncrement,margin:"0 auto",zIndex:u.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:n?-1:0},overlay:{zIndex:u.dialogOverlay},title:{margin:0,padding:d+"px "+d+"px 20px "+d+"px",color:i.textColor,fontSize:s.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:n?-1:0},body:{fontSize:s.bodyFontSize,color:s.bodyColor,padding:(e.title?0:d)+"px "+d+"px "+d+"px",boxSizing:"border-box",overflowY:n?"auto":"hidden",borderTop:n?c:"none",borderBottom:n?c:"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),r=a(l),i=n(10),s=a(i),u=n(4),d=a(u),c=n(2),f=a(c),h=n(3),p=a(h),m=n(6),y=a(m),b=n(5),g=a(b),v=n(7),k=a(v),S=n(0),E=a(S),C=n(1),T=a(C),w=n(17),x=a(w),_=n(54),M=a(_),O=n(65),P=a(O),D=n(14),R=a(D),A=n(177),N=a(A),L=n(178),I=a(L),z=n(35),B=a(z),H=n(134),W=a(H),U=function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.state={style:{}},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(e){this.componentWillAppear(e)}},{key:"componentWillAppear",value:function(e){var t=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+t.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(e,450)}},{key:"componentWillLeave",value:function(e){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.children,a=(0,s.default)(e,["style","children"]),o=this.context.muiTheme.prepareStyles;return E.default.createElement("div",(0,r.default)({},a,{style:o((0,k.default)({},this.state.style,t))}),n)}}]),t}(S.Component);U.contextTypes={muiTheme:T.default.object.isRequired},U.propTypes={};var F=function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.handleTouchTapOverlay=function(){a.requestClose(!1)},a.handleKeyUp=function(e){"esc"===(0,P.default)(e)&&a.requestClose(!1)},a.handleResize=function(){a.positionDialog()},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var e=this.props,t=e.actions,n=e.autoDetectWindowHeight,a=e.autoScrollBodyContent,l=e.bodyStyle,r=e.open,i=e.repositionOnUpdate,s=e.title;if(r){var u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=x.default.findDOMNode(this),c=x.default.findDOMNode(this.refs.dialogWindow),f=x.default.findDOMNode(this.refs.dialogContent);c.style.height="",f.style.height="";var h=c.offsetHeight,p=(u-h)/2-64;if(p<16&&(p=16),!i&&d.style.paddingTop||(d.style.paddingTop=p+"px"),n||a){var m=o(this.props,this.context);m.body=(0,k.default)(m.body,l);var y=u-128;s&&(y-=f.previousSibling.offsetHeight),E.default.Children.count(t)&&(y-=f.nextSibling.offsetHeight),f.style.maxHeight=y+"px",y>h&&(f.style.borderBottom="none",f.style.borderTop="none")}}}},{key:"requestClose",value:function(e){!e&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!e)}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.actionsContainerClassName,a=e.actionsContainerStyle,l=e.bodyClassName,i=e.bodyStyle,s=e.children,u=e.className,d=e.contentClassName,c=e.contentStyle,f=e.overlayClassName,h=e.overlayStyle,p=e.open,m=e.paperClassName,y=e.paperProps,b=e.style,g=e.titleClassName,v=e.titleStyle,S=e.title,C=this.context.muiTheme.prepareStyles,T=o(this.props,this.context);T.root=(0,k.default)(T.root,b),T.content=(0,k.default)(T.content,c),T.body=(0,k.default)(T.body,i),T.actionsContainer=(0,k.default)(T.actionsContainer,a),T.overlay=(0,k.default)(T.overlay,h),T.title=(0,k.default)(T.title,v);var w=E.default.Children.count(t)>0&&E.default.createElement("div",{className:n,style:C(T.actionsContainer)},E.default.Children.toArray(t)),x=S;return E.default.isValidElement(S)?x=E.default.cloneElement(S,{className:S.props.className||g,style:C((0,k.default)(T.title,S.props.style))}):"string"==typeof S&&(x=E.default.createElement("h3",{className:g,style:C(T.title)},S)),E.default.createElement("div",{className:u,style:C(T.root)},p&&E.default.createElement(M.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),E.default.createElement(W.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},p&&E.default.createElement(U,{className:d,style:T.content},E.default.createElement(B.default,(0,r.default)({className:m,zDepth:4},y),x,E.default.createElement("div",{ref:"dialogContent",className:l,style:C(T.body)},s),w))),E.default.createElement(N.default,{show:p,className:f,style:T.overlay,onTouchTap:this.handleTouchTapOverlay}))}}]),t}(S.Component);F.contextTypes={muiTheme:T.default.object.isRequired},F.propTypes={};var q=function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.renderLayer=function(){return E.default.createElement(F,a.props)},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return E.default.createElement(I.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),t}(S.Component);q.contextTypes={muiTheme:T.default.object.isRequired},q.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},q.propTypes={},t.default=q},365:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var a=t.muiTheme,o=a.baseTheme.spacing.desktopSubheaderHeight,l=a.zIndex,r=n.open;return{root:{position:"fixed",left:"50%",display:"flex",bottom:0,zIndex:l.snackbar,visibility:r?"visible":"hidden",transform:r?"translate(-50%, 0)":"translate(-50%, "+o+"px)",transition:x.default.easeOut("400ms","transform")+", "+x.default.easeOut("400ms","visibility")}}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),r=a(l),i=n(10),s=a(i),u=n(4),d=a(u),c=n(2),f=a(c),h=n(3),p=a(h),m=n(6),y=a(m),b=n(5),g=a(b),v=n(7),k=a(v),S=n(0),E=a(S),C=n(1),T=a(C),w=n(14),x=a(w),_=n(175),M=a(_),O=n(366),P=a(O),D=function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.componentClickAway=function(){a.timerTransitionId||(null!==a.props.open&&a.props.onRequestClose?a.props.onRequestClose("clickaway"):a.setState({open:!1}))},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.open&&e.open&&(e.message!==this.props.message||e.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){t.setState({message:e.message,action:e.action,open:!0})},400);else{var n=e.open;this.setState({open:null!==n?n:this.state.open,message:e.message,action:e.action})}}},{key:"componentDidUpdate",value:function(e,t){t.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var e=this,t=this.props.autoHideDuration;t>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==e.props.open&&e.props.onRequestClose?e.props.onRequestClose("timeout"):e.setState({open:!1})},t))}},{key:"setTransitionTimer",value:function(){var e=this;this.timerTransitionId=setTimeout(function(){e.timerTransitionId=void 0},400)}},{key:"render",value:function(){var e=this.props,t=(e.autoHideDuration,e.contentStyle),n=e.bodyStyle,a=(e.message,e.onRequestClose,e.onActionTouchTap),l=e.style,i=(0,s.default)(e,["autoHideDuration","contentStyle","bodyStyle","message","onRequestClose","onActionTouchTap","style"]),u=this.state,d=u.action,c=u.message,f=u.open,h=this.context.muiTheme.prepareStyles,p=o(this.props,this.context,this.state);return E.default.createElement(M.default,{onClickAway:f?this.componentClickAway:null},E.default.createElement("div",(0,r.default)({},i,{style:h((0,k.default)(p.root,l))}),E.default.createElement(P.default,{action:d,contentStyle:t,message:c,open:f,onActionTouchTap:a,style:n})))}}]),t}(S.Component);D.contextTypes={muiTheme:T.default.object.isRequired},D.propTypes={},t.default=D},366:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.open,a=e.width,o=t.muiTheme,l=o.baseTheme,r=l.spacing,i=r.desktopGutter,s=r.desktopSubheaderHeight,u=l.fontFamily,d=o.snackbar,c=d.backgroundColor,f=d.textColor,h=d.actionColor,p=o.borderRadius,m=a===b.SMALL;return{root:{fontFamily:u,backgroundColor:c,padding:"0 "+i+"px",height:s,lineHeight:s+"px",borderRadius:m?0:p,maxWidth:m?"inherit":568,minWidth:m?"inherit":288,width:m?"calc(100vw - "+2*i+"px)":"auto",flexGrow:m?1:0},content:{fontSize:14,color:f,opacity:n?1:0,transition:n?y.default.easeOut("500ms","opacity","100ms"):y.default.easeOut("400ms","opacity")},action:{color:h,float:"right",marginTop:6,marginRight:-16,marginLeft:i,backgroundColor:"transparent"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarBody=void 0;var l=n(9),r=a(l),i=n(10),s=a(i),u=n(7),d=a(u),c=n(0),f=a(c),h=n(1),p=a(h),m=n(14),y=a(m),b=n(400),g=a(b),v=n(39),k=a(v),S=function(e,t){var n=e.action,a=e.contentStyle,l=e.message,i=(e.open,e.onActionTouchTap),u=e.style,c=(0,s.default)(e,["action","contentStyle","message","open","onActionTouchTap","style"]),h=t.muiTheme.prepareStyles,p=o(e,t),m=n&&f.default.createElement(k.default,{style:p.action,label:n,onTouchTap:i});return f.default.createElement("div",(0,r.default)({},c,{style:h((0,d.default)(p.root,u))}),f.default.createElement("div",{style:h((0,d.default)(p.content,a))},f.default.createElement("span",null,l),m))};t.SnackbarBody=S,S.propTypes={},S.contextTypes={muiTheme:p.default.object.isRequired},t.default=(0,g.default)()(S)},377:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.muiTheme.baseTheme;return{root:{cursor:e.disabled?"not-allowed":"pointer",position:"relative",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:"inherit",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:n.palette.textColor,fontFamily:n.fontFamily},wrap:{transition:P.default.easeOut(),float:"left",position:"relative",display:"block",flexShrink:0,width:60-n.spacing.desktopGutterLess,marginRight:"right"===e.labelPosition?n.spacing.desktopGutterLess:0,marginLeft:"left"===e.labelPosition?n.spacing.desktopGutterLess:0},ripple:{color:e.rippleColor||n.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),r=a(l),i=n(10),s=a(i),u=n(4),d=a(u),c=n(2),f=a(c),h=n(3),p=a(h),m=n(6),y=a(m),b=n(5),g=a(b),v=n(7),k=a(v),S=n(0),E=a(S),C=n(1),T=a(C),w=n(54),x=a(w),_=n(65),M=a(_),O=n(14),P=a(O),D=n(176),R=a(D),A=n(179),N=a(A),L=n(35),I=a(L),z=n(13),B=(a(z),function(e){function t(){var e,n,a,o;(0,f.default)(this,t);for(var l=arguments.length,r=Array(l),i=0;i<l;i++)r[i]=arguments[i];return n=a=(0,y.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),a.state={isKeyboardFocused:!1},a.handleChange=function(e){a.tabPressed=!1,a.setState({isKeyboardFocused:!1});var t=a.refs.checkbox.checked;!a.props.hasOwnProperty("checked")&&a.props.onParentShouldUpdate&&a.props.onParentShouldUpdate(t),a.props.onSwitch&&a.props.onSwitch(e,t)},a.handleKeyDown=function(e){var t=(0,M.default)(e);"tab"===t&&(a.tabPressed=!0),a.state.isKeyboardFocused&&"space"===t&&a.handleChange(e)},a.handleKeyUp=function(e){a.state.isKeyboardFocused&&"space"===(0,M.default)(e)&&a.handleChange(e)},a.handleMouseDown=function(e){0===e.button&&a.refs.touchRipple.start(e)},a.handleMouseUp=function(){a.refs.touchRipple.end()},a.handleMouseLeave=function(){a.refs.touchRipple.end()},a.handleTouchStart=function(e){a.refs.touchRipple.start(e)},a.handleTouchEnd=function(){a.refs.touchRipple.end()},a.handleBlur=function(e){a.setState({isKeyboardFocused:!1}),a.props.onBlur&&a.props.onBlur(e)},a.handleFocus=function(e){setTimeout(function(){a.tabPressed&&a.setState({isKeyboardFocused:!0})},150),a.props.onFocus&&a.props.onFocus(e)},o=n,(0,y.default)(a,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.checkbox;this.props.switched&&e.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(e.checked)}},{key:"componentWillReceiveProps",value:function(e){var t=e.hasOwnProperty("checked"),n=e.hasOwnProperty("defaultChecked")&&e.defaultChecked!==this.props.defaultChecked;if(t||n){var a=e.checked||e.defaultChecked||!1;this.setState({switched:a}),this.props.onParentShouldUpdate&&a!==this.props.switched&&this.props.onParentShouldUpdate(a)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(e){this.props.hasOwnProperty("checked")&&!1!==this.props.checked||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(e),this.refs.checkbox.checked=e)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.iconStyle,l=e.inputStyle,i=e.inputType,u=e.label,d=e.labelStyle,c=e.labelPosition,f=(e.onSwitch,e.onBlur,e.onFocus,e.onMouseUp,e.onMouseDown,e.onMouseLeave,e.onTouchStart,e.onTouchEnd,e.onParentShouldUpdate,e.disabled),h=e.disableTouchRipple,p=e.disableFocusRipple,m=e.className,y=(e.rippleColor,e.rippleStyle),b=e.style,g=(e.switched,e.switchElement),v=e.thumbStyle,S=e.trackStyle,C=(0,s.default)(e,["name","value","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),T=this.context.muiTheme.prepareStyles,w=o(this.props,this.context),_=(0,k.default)(w.wrap,a),M=(0,k.default)(w.ripple,y);v&&(_.marginLeft/=2,_.marginRight/=2);var O=u&&E.default.createElement("label",{style:T((0,k.default)(w.label,d))},u),P=!f&&!h,D=!f&&!p,A=E.default.createElement(N.default,{ref:"touchRipple",key:"touchRipple",style:M,color:M.color,muiTheme:this.context.muiTheme,centerRipple:!0}),L=E.default.createElement(R.default,{key:"focusRipple",innerStyle:M,color:M.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),z=[P?A:null,D?L:null],B=E.default.createElement("input",(0,r.default)({},C,{ref:"checkbox",type:i,style:T((0,k.default)(w.input,l)),name:t,value:n,disabled:f,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onMouseUp:P&&this.handleMouseUp,onMouseDown:P&&this.handleMouseDown,onMouseLeave:P&&this.handleMouseLeave,onTouchStart:P&&this.handleTouchStart,onTouchEnd:P&&this.handleTouchEnd})),H=v?E.default.createElement("div",{style:T(_)},E.default.createElement("div",{style:T((0,k.default)({},S))}),E.default.createElement(I.default,{style:v,zDepth:1,circle:!0}," ",z," ")):E.default.createElement("div",{style:T(_)},g,z),W="right"===c?E.default.createElement("div",{style:w.controls},H,O):E.default.createElement("div",{style:w.controls},O,H);return E.default.createElement("div",{ref:"root",className:m,style:T((0,k.default)(w.root,b))},E.default.createElement(x.default,{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),B,W)}}]),t}(S.Component));B.contextTypes={muiTheme:T.default.object.isRequired},B.propTypes={},t.default=B},392:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=a(o),r=n(27),i=a(r),s=n(25),u=a(s),d=function(e){return l.default.createElement(u.default,e,l.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};d=(0,i.default)(d),d.displayName="ToggleCheckBoxOutlineBlank",d.muiName="SvgIcon",t.default=d},393:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=a(o),r=n(27),i=a(r),s=n(25),u=a(s),d=function(e){return l.default.createElement(u.default,e,l.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};d=(0,i.default)(d),d.displayName="ToggleCheckBox",d.muiName="SvgIcon",t.default=d},400:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.largeWidth,n=void 0===t?992:t,a=e.mediumWidth,o=void 0===a?768:a,l=e.resizeInterval,i=void 0===l?166:l;return function(e){return function(t){function a(){var e,t,n,o;(0,d.default)(this,a);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return t=n=(0,p.default)(this,(e=a.__proto__||(0,s.default)(a)).call.apply(e,[this].concat(r))),n.state={width:null},n.handleResize=function(){clearTimeout(n.deferTimer),n.deferTimer=setTimeout(function(){n.updateWidth()},i)},o=t,(0,p.default)(n,o)}return(0,y.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var e=window.innerWidth,t=void 0;(t=e>=n?C:e>=o?E:S)!==this.state.width&&this.setState({width:t})}},{key:"render",value:function(){var t=this.state.width;return null===t?null:g.default.createElement(k.default,{target:"window",onResize:this.handleResize},g.default.createElement(e,(0,r.default)({width:t},this.props)))}}]),a}(b.Component)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LARGE=t.MEDIUM=t.SMALL=void 0;var l=n(9),r=a(l),i=n(4),s=a(i),u=n(2),d=a(u),c=n(3),f=a(c),h=n(6),p=a(h),m=n(5),y=a(m);t.default=o;var b=n(0),g=a(b),v=n(54),k=a(v),S=t.SMALL=1,E=t.MEDIUM=2,C=t.LARGE=3}},[244]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYWRtaW5iYWNrb2ZmaWNlLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGlhbG9nL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BZG1pbkJhY2tvZmZpY2VCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BZG1pbkluZGV4LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQWRtaW5Mb2dpbi5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1Nob3BGb3JtLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvU2hvcExpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BY3Rpb25IZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BZG1pbkJhY2tvZmZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9TaG9wTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0NoZWNrYm94L0NoZWNrYm94LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvRGlhbG9nL0RpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL1NuYWNrYmFyL1NuYWNrYmFyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvU25hY2tiYXJCb2R5LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvaW50ZXJuYWwvRW5oYW5jZWRTd2l0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveC1vdXRsaW5lLWJsYW5rLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL3RvZ2dsZS9jaGVjay1ib3guanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS91dGlscy93aXRoV2lkdGguanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMTA5IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZGVmYXVsdCIsInVuZGVmaW5lZCIsIl9DaGVja2JveCIsIl9DaGVja2JveDIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiMTEwIiwiX0RpYWxvZyIsIl9EaWFsb2cyIiwiMTExIiwiX1NuYWNrYmFyIiwiX1NuYWNrYmFyMiIsIjIxOCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJTdWJNZW51IiwicHJvcHMiLCJfcmVhY3QyIiwiY3JlYXRlRWxlbWVudCIsIl9JY29uTWVudTIiLCJpY29uQnV0dG9uRWxlbWVudCIsIl9JY29uQnV0dG9uMiIsIl9tb3JlVmVydDIiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNvbG9yIiwiZmlsbCIsInRhcmdldE9yaWdpbiIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsImFuY2hvck9yaWdpbiIsIl9NZW51SXRlbTIiLCJwcmltYXJ5VGV4dCIsIm9uQ2xpY2siLCJvbkxvZ291dCIsIl9yZWFjdCIsIl9yZWFjdFJvdXRlckRvbSIsIl9BcHBCYXIiLCJfQXBwQmFyMiIsIl9EcmF3ZXIiLCJfRHJhd2VyMiIsIl9NZW51SXRlbSIsIl9uYXZpZ2F0aW9uQXJyb3dEcm9wUmlnaHQiLCJfbmF2aWdhdGlvbkFycm93RHJvcFJpZ2h0MiIsIl9JY29uTWVudSIsIl9JY29uQnV0dG9uIiwiX21vcmVWZXJ0IiwibXVpTmFtZSIsIkFkbWluQmFja29mZmljZUJhciIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsU3RhdGUiLCJkcmF3ZXJPcGVuIiwiZ2V0RGVmYXVsdFByb3BzIiwiY2xvc2VEcmF3ZXIiLCJ0aGlzIiwic2V0U3RhdGUiLCJ0b2dnbGVEcmF3ZXIiLCJzdGF0ZSIsInJlbmRlciIsIl90aGlzIiwib25MZWZ0SWNvbkJ1dHRvblRvdWNoVGFwIiwiaWNvbkVsZW1lbnRSaWdodCIsInRpdGxlIiwib3BlbiIsImRvY2tlZCIsIm9uUmVxdWVzdENoYW5nZSIsIkxpbmsiLCJ0byIsInJpZ2h0SWNvbiIsIm1lbnVJdGVtcyIsIjIxOSIsIkFkbWluSW5kZXgiLCIyMjAiLCJfTXVpVGhlbWVQcm92aWRlciIsIl9NdWlUaGVtZVByb3ZpZGVyMiIsIl9SYWlzZWRCdXR0b24iLCJfVGV4dEZpZWxkIiwiX1RleHRGaWVsZDIiLCJfQ2FyZCIsIl9GbGF0QnV0dG9uIiwiX0ZsYXRCdXR0b24yIiwiX2F4aW9zIiwiX2F4aW9zMiIsIl9IZWFkZXIiLCJfSGVhZGVyMiIsIkVNUFRZX0NBTExCQUNLIiwiQWRtaW5Mb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJlcnJNc2ciLCJvblN1Ym1pdCIsInN1Ym1pdEZvcm0iLCJlbmNvZGVkIiwiYnRvYSIsIm1ldGhvZCIsInVybCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwidGhlbiIsImNvbnRlbnRzIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJ0b2tlbiIsImNhdGNoIiwiY2F1c2UiLCJlcnJvciIsImhhbmRsZUtleVByZXNzIiwiZXZlbnQiLCJrZXkiLCJfdGhpczIiLCJtc2dFbGVtIiwib25LZXlQcmVzcyIsIkNhcmQiLCJDYXJkSGVhZGVyIiwic3VidGl0bGUiLCJDYXJkVGV4dCIsImV4cGFuZGFibGUiLCJuYW1lIiwiaGludCIsImZsb2F0aW5nTGFiZWxUZXh0Iiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiaGludFRleHQiLCJ0eXBlIiwiQ2FyZEFjdGlvbnMiLCJsYWJlbCIsIjIyMiIsIl9SYWlzZWRCdXR0b24yIiwiU2hvcEZvcm0iLCJtc2dTbmFja2Jhck9wZW4iLCJhZGRyZXNzIiwicGhvbmUiLCJ6b25lIiwiY29tcG9uZW50RGlkTW91bnQiLCJvcGVuU25hY2tiYXIiLCJtc2ciLCJzbmFja2Jhck1lc3NhZ2UiLCJoYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZSIsImhhbmRsZVNob3BDcmVhdGVTdWNjZXNzIiwic2hvcElkIiwic2hvcCIsImlkIiwiaGFuZGxlU2hvcENyZWF0ZUVycm9yIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwiY2hlY2tGaWVsZHMiLCJfc3RhdGUiLCJvayIsImNyZWF0ZVNob3AiLCJmaWVsZHNDaGVjayIsIl9zdGF0ZTIiLCJib2R5IiwiY29uZmlnIiwicG9zdCIsInBhZGRpbmdCb3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJtYXJnaW4iLCJhZG1pbk5hbWUiLCJhZG1pbkVtYWlsIiwibWFyZ2luVG9wIiwic2Vjb25kYXJ5IiwiYXV0b0hpZGVEdXJhdGlvbiIsIm9uUmVxdWVzdENsb3NlIiwiMjIzIiwiQmFuU2hvcERpYWxvZyIsImJhblNob3AiLCJlbmFibGVkIiwib25TdWNjZXNzIiwib25FcnJvciIsImFjdGlvbnMiLCJwcmltYXJ5Iiwib25DbG9zZSIsIm1vZGFsIiwiX1Nob3BNZW51IiwiX1Nob3BNZW51MiIsIlNob3BMaXN0Iiwic2hvcHMiLCJlcnJTbmFja2Jhck9wZW4iLCJzaG9wTWVudSIsImxvYWRTaG9wcyIsImdldCIsIm9wZW5FcnJTbmFja2JhciIsImVyclNuYWNrYmFyTWVzc2FnZSIsImhhbmRsZUVyclNuYWNrYmFyUmVxdWVzdENsb3NlIiwiY2xvc2VCYW5EaWFsb2ciLCJzZWxmIiwib3BlbkJhbkRpYWxvZyIsImhhbmRsZVNob3BCYW5TdWNjZXNzIiwiZW5hYmxlU2hvcCIsInNob3dNZW51IiwibWVudSIsImhhbmRsZU1lbnVDbG9zZSIsImxlbmd0aCIsImJhblNob3BEaWFsb2ciLCJmaW5kIiwicyIsInNob3BNZW51RWxlbSIsImdvQmFjayIsInNob3BDYXJkcyIsIm1hcCIsImRpc2FibGVkIiwibWFpbkVsZW0iLCIyNDMiLCJBY3Rpb25IZWFkZXIiLCJ0cmFuc2l0aW9uIiwiYm94U2l6aW5nIiwiZm9udEZhbWlseSIsImJvcmRlclJhZGl1cyIsInBvc2l0aW9uIiwiekluZGV4Iiwid2lkdGgiLCJkaXNwbGF5IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCIyNDQiLCJfcmVhY3REb20iLCJfcmVhY3REb20yIiwiX0FkbWluQmFja29mZmljZUJhciIsIl9BZG1pbkJhY2tvZmZpY2VCYXIyIiwiX0FkbWluSW5kZXgiLCJfQWRtaW5JbmRleDIiLCJfQWRtaW5Mb2dpbiIsIl9BZG1pbkxvZ2luMiIsIl9TaG9wTGlzdCIsIl9TaG9wTGlzdDIiLCJfU2hvcEZvcm0iLCJfU2hvcEZvcm0yIiwiZG9jdW1lbnQiLCJjb29raWUiLCJjb29raWVUb2tlblN0ciIsInNwbGl0Iiwic3RhcnRzV2l0aCIsImNvb2tpZVRva2VuIiwicmVwbGFjZSIsIkFkbWluQmFja29mZmljZSIsInVzZXIiLCJyZW5kZXJSZWFkeSIsInNldFRva2VuIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwibG9nb3V0Rm9ybSIsInN1Ym1pdCIsIlJvdXRlIiwicGF0aCIsImNvbXBvbmVudCIsImFjdGlvbiIsInJlZiIsImYiLCJIYXNoUm91dGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCIyNDYiLCJTaG9wTWVudSIsIm1lbnVDYXJkcyIsIml0ZW0iLCJkaXNoIiwiZGVzY3JpcHRpb24iLCJjb3N0IiwiX0FjdGlvbkhlYWRlcjIiLCJfQWN0aW9uSGVhZGVyIiwiMzUwIiwiZ2V0U3R5bGVzIiwiY29udGV4dCIsImNoZWNrYm94IiwibXVpVGhlbWUiLCJpY29uIiwiaGVpZ2h0IiwiY2hlY2siLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbk9yaWdpbiIsIl90cmFuc2l0aW9uczIiLCJlYXNlT3V0IiwiY2hlY2tlZENvbG9yIiwiY2hlY2tXaGVuU3dpdGNoZWQiLCJjaGVja1doZW5EaXNhYmxlZCIsImRpc2FibGVkQ29sb3IiLCJib3giLCJib3hDb2xvciIsImJveFdoZW5Td2l0Y2hlZCIsImJveFdoZW5EaXNhYmxlZCIsImNoZWNrZWQiLCJsYWJlbERpc2FibGVkQ29sb3IiLCJsYWJlbENvbG9yIiwiX2V4dGVuZHMyIiwiX2V4dGVuZHMzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczMiLCJfZ2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX3NpbXBsZUFzc2lnbiIsIl9zaW1wbGVBc3NpZ24yIiwiX3Byb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwiX0VuaGFuY2VkU3dpdGNoIiwiX0VuaGFuY2VkU3dpdGNoMiIsIl90cmFuc2l0aW9ucyIsIl9jaGVja0JveE91dGxpbmVCbGFuayIsIl9jaGVja0JveE91dGxpbmVCbGFuazIiLCJfY2hlY2tCb3giLCJfY2hlY2tCb3gyIiwiQ2hlY2tib3giLCJfQ29tcG9uZW50IiwiX3JlZiIsIl90ZW1wIiwiX3JldCIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiX19wcm90b19fIiwiY2FsbCIsImFwcGx5IiwiY29uY2F0Iiwic3dpdGNoZWQiLCJoYW5kbGVTdGF0ZUNoYW5nZSIsIm5ld1N3aXRjaGVkIiwiaGFuZGxlQ2hlY2siLCJpc0lucHV0Q2hlY2tlZCIsIm9uQ2hlY2siLCJfcHJvcHMiLCJkZWZhdWx0Q2hlY2tlZCIsInZhbHVlTGluayIsIm5leHRQcm9wcyIsInJlZnMiLCJlbmhhbmNlZFN3aXRjaCIsImlzU3dpdGNoZWQiLCJuZXdDaGVja2VkVmFsdWUiLCJzZXRTd2l0Y2hlZCIsIl9wcm9wczIiLCJpY29uU3R5bGUiLCJjaGVja2VkSWNvbiIsInVuY2hlY2tlZEljb24iLCJvdGhlciIsInN0eWxlcyIsImJveFN0eWxlcyIsImNoZWNrU3R5bGVzIiwiY2hlY2tlZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJ1bkNoZWNrZWRFbGVtZW50IiwiY2hlY2tib3hFbGVtZW50IiwicmlwcGxlQ29sb3IiLCJtZXJnZWRJY29uU3R5bGUiLCJsYWJlbFN0eWxlIiwiZW5oYW5jZWRTd2l0Y2hQcm9wcyIsImlucHV0VHlwZSIsInN3aXRjaEVsZW1lbnQiLCJvblN3aXRjaCIsIm9uUGFyZW50U2hvdWxkVXBkYXRlIiwibGFiZWxQb3NpdGlvbiIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsImNvbnRleHRUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJwcm9wVHlwZXMiLCIzNTEiLCJhdXRvU2Nyb2xsQm9keUNvbnRlbnQiLCJfY29udGV4dCRtdWlUaGVtZSIsIl9jb250ZXh0JG11aVRoZW1lJGJhcyIsImJhc2VUaGVtZSIsInNwYWNpbmciLCJwYWxldHRlIiwiZGlhbG9nIiwiZ3V0dGVyIiwiZGVza3RvcEd1dHRlciIsImJvcmRlclNjcm9sbCIsImJvcmRlckNvbG9yIiwicm9vdCIsIldlYmtpdFRhcEhpZ2hsaWdodENvbG9yIiwidG9wIiwibGVmdCIsImNvbnRlbnQiLCJtYXhXaWR0aCIsImRlc2t0b3BLZXlsaW5lSW5jcmVtZW50IiwiYWN0aW9uc0NvbnRhaW5lciIsInBhZGRpbmciLCJ0ZXh0QWxpZ24iLCJvdmVybGF5IiwiZGlhbG9nT3ZlcmxheSIsInRleHRDb2xvciIsImZvbnRTaXplIiwidGl0bGVGb250U2l6ZSIsImxpbmVIZWlnaHQiLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwiYm9keUZvbnRTaXplIiwiYm9keUNvbG9yIiwib3ZlcmZsb3dZIiwiYm9yZGVyVG9wIiwiYm9yZGVyQm90dG9tIiwiX3JlYWN0RXZlbnRMaXN0ZW5lciIsIl9yZWFjdEV2ZW50TGlzdGVuZXIyIiwiX2tleWNvZGUiLCJfa2V5Y29kZTIiLCJfT3ZlcmxheSIsIl9PdmVybGF5MiIsIl9SZW5kZXJUb0xheWVyIiwiX1JlbmRlclRvTGF5ZXIyIiwiX1BhcGVyIiwiX1BhcGVyMiIsIl9UcmFuc2l0aW9uR3JvdXAiLCJfVHJhbnNpdGlvbkdyb3VwMiIsIlRyYW5zaXRpb25JdGVtIiwiY2xlYXJUaW1lb3V0IiwiZW50ZXJUaW1lb3V0IiwibGVhdmVUaW1lb3V0IiwiY2FsbGJhY2siLCJjb21wb25lbnRXaWxsQXBwZWFyIiwic2V0VGltZW91dCIsImNoaWxkcmVuIiwicHJlcGFyZVN0eWxlcyIsIkRpYWxvZ0lubGluZSIsIl9Db21wb25lbnQyIiwiX3JlZjIiLCJfdGVtcDIiLCJfcmV0MiIsIl9sZW4yIiwiX2tleTIiLCJoYW5kbGVUb3VjaFRhcE92ZXJsYXkiLCJyZXF1ZXN0Q2xvc2UiLCJoYW5kbGVLZXlVcCIsImhhbmRsZVJlc2l6ZSIsInBvc2l0aW9uRGlhbG9nIiwiYXV0b0RldGVjdFdpbmRvd0hlaWdodCIsImJvZHlTdHlsZSIsInJlcG9zaXRpb25PblVwZGF0ZSIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY29udGFpbmVyIiwiZmluZERPTU5vZGUiLCJkaWFsb2dXaW5kb3ciLCJkaWFsb2dDb250ZW50IiwiZGlhbG9nV2luZG93SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwicGFkZGluZ1RvcCIsIm1heERpYWxvZ0NvbnRlbnRIZWlnaHQiLCJwcmV2aW91c1NpYmxpbmciLCJDaGlsZHJlbiIsImNvdW50IiwibmV4dFNpYmxpbmciLCJtYXhIZWlnaHQiLCJidXR0b25DbGlja2VkIiwiX3Byb3BzMyIsImFjdGlvbnNDb250YWluZXJDbGFzc05hbWUiLCJhY3Rpb25zQ29udGFpbmVyU3R5bGUiLCJib2R5Q2xhc3NOYW1lIiwiY29udGVudENsYXNzTmFtZSIsImNvbnRlbnRTdHlsZSIsIm92ZXJsYXlDbGFzc05hbWUiLCJvdmVybGF5U3R5bGUiLCJwYXBlckNsYXNzTmFtZSIsInBhcGVyUHJvcHMiLCJ0aXRsZUNsYXNzTmFtZSIsInRpdGxlU3R5bGUiLCJ0b0FycmF5IiwidGl0bGVFbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJvbktleVVwIiwib25SZXNpemUiLCJ0cmFuc2l0aW9uQXBwZWFyIiwidHJhbnNpdGlvbkFwcGVhclRpbWVvdXQiLCJ0cmFuc2l0aW9uRW50ZXIiLCJ0cmFuc2l0aW9uRW50ZXJUaW1lb3V0IiwiekRlcHRoIiwic2hvdyIsIm9uVG91Y2hUYXAiLCJEaWFsb2ciLCJfQ29tcG9uZW50MyIsIl9yZWYzIiwiX3RlbXAzIiwiX3RoaXMzIiwiX3JldDMiLCJfbGVuMyIsIl9rZXkzIiwicmVuZGVyTGF5ZXIiLCJ1c2VMYXllckZvckNsaWNrQXdheSIsIjM2NSIsImRlc2t0b3BTdWJoZWFkZXJIZWlnaHQiLCJib3R0b20iLCJzbmFja2JhciIsInZpc2liaWxpdHkiLCJfQ2xpY2tBd2F5TGlzdGVuZXIiLCJfQ2xpY2tBd2F5TGlzdGVuZXIyIiwiX1NuYWNrYmFyQm9keSIsIl9TbmFja2JhckJvZHkyIiwiU25hY2tiYXIiLCJjb21wb25lbnRDbGlja0F3YXkiLCJ0aW1lclRyYW5zaXRpb25JZCIsInNldEF1dG9IaWRlVGltZXIiLCJzZXRUcmFuc2l0aW9uVGltZXIiLCJ0aW1lck9uZUF0VGhlVGltZUlkIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwidGltZXJBdXRvSGlkZUlkIiwiX3RoaXM0Iiwib25BY3Rpb25Ub3VjaFRhcCIsIm9uQ2xpY2tBd2F5IiwiMzY2IiwiX2NvbnRleHQkbXVpVGhlbWUkYmFzMiIsIl9jb250ZXh0JG11aVRoZW1lJHNuYSIsImFjdGlvbkNvbG9yIiwiaXNTbWFsbCIsIl93aXRoV2lkdGgiLCJTTUFMTCIsIm1pbldpZHRoIiwiZmxleEdyb3ciLCJmbG9hdCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luTGVmdCIsIlNuYWNrYmFyQm9keSIsIl93aXRoV2lkdGgyIiwiYWN0aW9uQnV0dG9uIiwiMzc3IiwiY3Vyc29yIiwib3ZlcmZsb3ciLCJpbnB1dCIsInBvaW50ZXJFdmVudHMiLCJjb250cm9scyIsIndyYXAiLCJmbGV4U2hyaW5rIiwiZGVza3RvcEd1dHRlckxlc3MiLCJyaXBwbGUiLCJwcmltYXJ5MUNvbG9yIiwiX0ZvY3VzUmlwcGxlIiwiX0ZvY3VzUmlwcGxlMiIsIl9Ub3VjaFJpcHBsZSIsIl9Ub3VjaFJpcHBsZTIiLCJfd2FybmluZyIsIkVuaGFuY2VkU3dpdGNoIiwiaXNLZXlib2FyZEZvY3VzZWQiLCJoYW5kbGVDaGFuZ2UiLCJ0YWJQcmVzc2VkIiwiaGFzT3duUHJvcGVydHkiLCJoYW5kbGVLZXlEb3duIiwiY29kZSIsImhhbmRsZU1vdXNlRG93biIsImJ1dHRvbiIsInRvdWNoUmlwcGxlIiwic3RhcnQiLCJoYW5kbGVNb3VzZVVwIiwiZW5kIiwiaGFuZGxlTW91c2VMZWF2ZSIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZUJsdXIiLCJvbkJsdXIiLCJoYW5kbGVGb2N1cyIsIm9uRm9jdXMiLCJpbnB1dE5vZGUiLCJoYXNDaGVja2VkUHJvcCIsImhhc05ld0RlZmF1bHRQcm9wIiwibmV3U3dpdGNoZWRWYWx1ZSIsImlucHV0U3R5bGUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlRG93biIsIm9uTW91c2VMZWF2ZSIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJkaXNhYmxlVG91Y2hSaXBwbGUiLCJkaXNhYmxlRm9jdXNSaXBwbGUiLCJyaXBwbGVTdHlsZSIsInRodW1iU3R5bGUiLCJ0cmFja1N0eWxlIiwid3JhcFN0eWxlcyIsIm1lcmdlZFJpcHBsZVN0eWxlIiwibGFiZWxFbGVtZW50Iiwic2hvd1RvdWNoUmlwcGxlIiwic2hvd0ZvY3VzUmlwcGxlIiwiY2VudGVyUmlwcGxlIiwiZm9jdXNSaXBwbGUiLCJpbm5lclN0eWxlIiwicmlwcGxlcyIsImlucHV0RWxlbWVudCIsInN3aXRjaE9yVGh1bWJFbGVtZW50IiwiY2lyY2xlIiwiZWxlbWVudHNJbk9yZGVyIiwib25LZXlEb3duIiwiMzkyIiwiX3B1cmUiLCJfcHVyZTIiLCJfU3ZnSWNvbiIsIl9TdmdJY29uMiIsIlRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rIiwiZCIsIjM5MyIsIlRvZ2dsZUNoZWNrQm94IiwiNDAwIiwid2l0aFdpZHRoIiwib3B0aW9ucyIsIl9vcHRpb25zJGxhcmdlV2lkdGgiLCJsYXJnZVdpZHRoIiwiX29wdGlvbnMkbWVkaXVtV2lkdGgiLCJtZWRpdW1XaWR0aCIsIl9vcHRpb25zJHJlc2l6ZUludGVydiIsInJlc2l6ZUludGVydmFsIiwiTXlDb21wb25lbnQiLCJXaXRoV2lkdGgiLCJkZWZlclRpbWVyIiwidXBkYXRlV2lkdGgiLCJpbm5lcldpZHRoIiwiTEFSR0UiLCJNRURJVU0iXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLElBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFakMsWUNIQUMsUUFBQUMsZUFBQUgsRUFBQSxjQUNBSSxPQUFBLElBRUFKLEVBQUFLLFlBQUFDLEVBRUEsSUFBQUMsR0FBQU4sRUFBQSxLQUVBTyxFQUVBLFNBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDSixRQUFBSSxJQUY3RUYsRUFJQVAsR0FBQUssUUFBQUcsRUFBQUgsU0RVTU0sSUFDQSxTQUFVWixFQUFRQyxFQUFTQyxHQUVqQyxZRXhCQUMsUUFBQUMsZUFBQUgsRUFBQSxjQUNBSSxPQUFBLElBRUFKLEVBQUFLLFlBQUFDLEVBRUEsSUFBQU0sR0FBQVgsRUFBQSxLQUVBWSxFQUVBLFNBQUFKLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDSixRQUFBSSxJQUY3RUcsRUFJQVosR0FBQUssUUFBQVEsRUFBQVIsU0YrQk1TLElBQ0EsU0FBVWYsRUFBUUMsRUFBU0MsR0FFakMsWUc3Q0FDLFFBQUFDLGVBQUFILEVBQUEsY0FDQUksT0FBQSxJQUVBSixFQUFBSyxZQUFBQyxFQUVBLElBQUFTLEdBQUFkLEVBQUEsS0FFQWUsRUFFQSxTQUFBUCxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0osUUFBQUksSUFGN0VNLEVBSUFmLEdBQUFLLFFBQUFXLEVBQUFYLFNIb0RNWSxJQUNBLFNBQVVsQixFQUFRQyxFQUFTQyxHQUVqQyxZQXlDQSxTQUFTaUIsR0FBdUJULEdBQU8sTUFBT0Es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aVIsR0FFQUksRUFBQXRTLEVBQUEsR0FFQXVTLEVBQUF0UixFQUFBcVIsR0FFQUUsRUFBQXhTLEVBQUEsR0FFQXlTLEVBQUF4UixFQUFBdVIsR0FFQUUsRUFBQTFTLEVBQUEsR0FFQTJTLEVBQUExUixFQUFBeVIsR0FFQUUsRUFBQTVTLEVBQUEsR0FFQTZTLEVBQUE1UixFQUFBMlIsR0FFQUUsRUFBQTlTLEVBQUEsR0FFQStTLEVBQUE5UixFQUFBNlIsRUFFQS9TLEdBQUFLLFFBQUF3bEIsQ0FFQSxJQUFBdGpCLEdBQUF0QyxFQUFBLEdBRUFvQixFQUFBSCxFQUFBcUIsR0FFQWdYLEVBQUF0WixFQUFBLElBRUF1WixFQUFBdFksRUFBQXFZLEdBSUFrSCxFQUFBemdCLEVBQUF5Z0IsTUFBQSxFQUNBa0csRUFBQTNtQixFQUFBMm1CLE9BQUEsRUFDQUQsRUFBQTFtQixFQUFBMG1CLE1BQUEsS25CcXNHRyIsImZpbGUiOiJhZG1pbmJhY2tvZmZpY2UuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDEwOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUwKTtcblxudmFyIF9DaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGVja2JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9DaGVja2JveDIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDExMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MSk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9EaWFsb2cyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxMTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NSk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfU25hY2tiYXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyMTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cbnZhciBfQXBwQmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX0FwcEJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBCYXIpO1xuXG52YXIgX0RyYXdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9EcmF3ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJhd2VyKTtcblxudmFyIF9NZW51SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblxudmFyIF9NZW51SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbSk7XG5cbnZhciBfbmF2aWdhdGlvbkFycm93RHJvcFJpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXG52YXIgX25hdmlnYXRpb25BcnJvd0Ryb3BSaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9uYXZpZ2F0aW9uQXJyb3dEcm9wUmlnaHQpO1xuXG52YXIgX0ljb25NZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0ljb25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25NZW51KTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9tb3JlVmVydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgxKTtcblxudmFyIF9tb3JlVmVydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb3JlVmVydCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIFN1Yk1lbnUocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9JY29uTWVudTIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbkJ1dHRvbkVsZW1lbnQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21vcmVWZXJ0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N1Ym1lbnUtc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6ICd3aGl0ZScsIGZpbGw6ICd3aGl0ZScgfSB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRhcmdldE9yaWdpbjogeyBob3Jpem9udGFsOiAncmlnaHQnLCB2ZXJ0aWNhbDogJ3RvcCcgfSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogeyBob3Jpem9udGFsOiAncmlnaHQnLCB2ZXJ0aWNhbDogJ3RvcCcgfSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTWVudUl0ZW0yLmRlZmF1bHQsIHsgcHJpbWFyeVRleHQ6ICdDZXJyYXIgc2VzaW9uJywgb25DbGljazogcHJvcHMub25Mb2dvdXQgfSlcbiAgICApO1xufVxuXG5TdWJNZW51Lm11aU5hbWUgPSAnSWNvbk1lbnUnO1xuXG52YXIgQWRtaW5CYWNrb2ZmaWNlQmFyID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogJ0FkbWluQmFja29mZmljZUJhcicsXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkcmF3ZXJPcGVuOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvbkxvZ291dDogZnVuY3Rpb24gb25Mb2dvdXQoKSB7fVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY2xvc2VEcmF3ZXI6IGZ1bmN0aW9uIGNsb3NlRHJhd2VyKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZHJhd2VyT3BlbjogZmFsc2UgfSk7XG4gICAgfSxcbiAgICB0b2dnbGVEcmF3ZXI6IGZ1bmN0aW9uIHRvZ2dsZURyYXdlcigpIHtcbiAgICAgICAgdmFyIGRyYXdlck9wZW4gPSAhdGhpcy5zdGF0ZS5kcmF3ZXJPcGVuO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZHJhd2VyT3BlbjogZHJhd2VyT3BlbiB9KTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BcHBCYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBvbkxlZnRJY29uQnV0dG9uVG91Y2hUYXA6IHRoaXMudG9nZ2xlRHJhd2VyLFxuICAgICAgICAgICAgICAgIGljb25FbGVtZW50UmlnaHQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN1Yk1lbnUsIHsgb25Mb2dvdXQ6IHRoaXMucHJvcHMub25Mb2dvdXQgfSksXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBZG1pbmlzdHJhY2lvbiBIT1kgQ09NTycgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfRHJhd2VyMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgb3BlbjogdGhpcy5zdGF0ZS5kcmF3ZXJPcGVuLCBkb2NrZWQ6IGZhbHNlLCBvblJlcXVlc3RDaGFuZ2U6IGZ1bmN0aW9uIG9uUmVxdWVzdENoYW5nZShvcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBkcmF3ZXJPcGVuOiBvcGVuIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlckRvbS5MaW5rLFxuICAgICAgICAgICAgICAgICAgICB7IHRvOiAnL2luZGV4Jywgb25DbGljazogdGhpcy5jbG9zZURyYXdlciB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJpbmNpcGFsJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTWVudUl0ZW0yLmRlZmF1bHQsIHsgcHJpbWFyeVRleHQ6ICdDb21lcmNpb3MnLFxuICAgICAgICAgICAgICAgICAgICByaWdodEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9uYXZpZ2F0aW9uQXJyb3dEcm9wUmlnaHQyLmRlZmF1bHQsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbXM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlckRvbS5MaW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0bzogJy9zaG9wcy9jcmVhdGUnLCBvbkNsaWNrOiB0aGlzLmNsb3NlRHJhd2VyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ3JlYXInXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRvOiAnL3Nob3BzL2xpc3QnLCBvbkNsaWNrOiB0aGlzLmNsb3NlRHJhd2VyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXSB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBZG1pbkJhY2tvZmZpY2VCYXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyMTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiogQ29tcG9uZW50ZSBpbmRpY2UgZGUgYWRtaW5pc3RyYWNpb24gZGUgSE9ZIENPTU8gKi9cbnZhciBBZG1pbkluZGV4ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogXCJBZG1pbkluZGV4XCIsXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcIndpdGgtbWFyZ2luIGluZGV4XCIgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwiaDFcIixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIFwiQWRtaW5pc3RyYWNpb24gZGUgSE9ZIENPTU9cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwiaDJcIixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIFwiQ29uZmlndXJhY2lvbiB5IGVzdGFkaXN0aWNhc1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgXCJwXCIsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBcIkRlc2RlIGFxdWkgZXMgcG9zaWJsZSBtb25pdG9yZWFyIGEgbG9zIHVzdWFyaW9zIHJlZ2lzdHJhZG9zIHkgY29tZXJjaW9zIGFzb2NpYWRvcyBhIGxhIGFwbGljYWNpb24uXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQWRtaW5JbmRleDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDIyMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTXVpVGhlbWVQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXG52YXIgX011aVRoZW1lUHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTXVpVGhlbWVQcm92aWRlcik7XG5cbnZhciBfUmFpc2VkQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfUmFpc2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhaXNlZEJ1dHRvbik7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfQ2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0hlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXG52YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vL2ltcG9ydCBtYWluQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9tYWluLWNvbmZpZyc7XG5cbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnZhciBFTVBUWV9DQUxMQkFDSyA9IGZ1bmN0aW9uIEVNUFRZX0NBTExCQUNLKCkge307XG5cbnZhciBBZG1pbkxvZ2luID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogJ0FkbWluTG9naW4nLFxuXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VybmFtZTogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBlcnJNc2c6IG51bGxcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7IG9uU3VibWl0OiBFTVBUWV9DQUxMQkFDSyB9O1xuICAgIH0sXG5cbiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHRoaXMuc3RhdGUudXNlcm5hbWU7XG4gICAgICAgIHZhciBwYXNzd29yZCA9IHRoaXMuc3RhdGUucGFzc3dvcmQ7XG5cbiAgICAgICAgLy9oYWdvIGVuY29kaW5nIGJhc2U2NCBwYXJhIHBhc2FyIGxhcyBjcmVkZW5jaWFsZXNcbiAgICAgICAgdmFyIGVuY29kZWQgPSBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuXG4gICAgICAgICgwLCBfYXhpb3MyLmRlZmF1bHQpKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLCAvL3lvdSBjYW4gc2V0IHdoYXQgcmVxdWVzdCB5b3Ugd2FudCB0byBiZVxuICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9hZG1pbi9sb2dpbicsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246ICdCYXNpYyAnICsgZW5jb2RlZCB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udGVuaWRvOicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29udGVudHMuZGF0YSk7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vblN1Ym1pdChjb250ZW50cy5kYXRhLnRva2VuKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGNhdXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcicpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlcnJNc2c6ICdDcmVkZW5jaWFsZXMgaW52YWxpZGFzJyB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhhbmRsZUtleVByZXNzOiBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09ICdFbnRlcicpIHRoaXMuc3VibWl0Rm9ybSgpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG1zZ0VsZW0gPSB0aGlzLnN0YXRlLmVyck1zZyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogJ3JlZCcgfSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5lcnJNc2dcbiAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBudWxsKTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgb25LZXlQcmVzczogdGhpcy5oYW5kbGVLZXlQcmVzcyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0hlYWRlcjIuZGVmYXVsdCwgeyB0aXRsZTogJ0FkbWluIEhPWSBDT01PJyB9KSxcbiAgICAgICAgICAgIG1zZ0VsZW0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTXVpVGhlbWVQcm92aWRlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfQ2FyZC5DYXJkLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FyZC5DYXJkSGVhZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0luaWNpYXIgc2VzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnSW5ncmVzZSBjcmVkZW5jaWFsZXMnIH0pLFxuICAgICAgICAgICAgICAgICAgICAnOycsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0NhcmQuQ2FyZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGV4cGFuZGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VzZXJuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50OiAndXNlcm5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAndXNlcm5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyB1c2VybmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ6ICdQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9DYXJkLkNhcmRBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7IGxhYmVsOiAnSW5pY2lhciBzZXNpb24nLCBvbkNsaWNrOiB0aGlzLnN1Ym1pdEZvcm0gfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQWRtaW5Mb2dpbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDIyMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTXVpVGhlbWVQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXG52YXIgX011aVRoZW1lUHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTXVpVGhlbWVQcm92aWRlcik7XG5cbnZhciBfUmFpc2VkQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfUmFpc2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhaXNlZEJ1dHRvbik7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfQ2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgX0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0hlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXG52YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiBGSU4gREUgSU1QT1JUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG52YXIgU2hvcEZvcm0gPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICAgIGRpc3BsYXlOYW1lOiAnU2hvcEZvcm0nLFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgICAgICByZXR1cm4geyB0b2tlbjogJycgfTtcbiAgICB9LFxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbXNnU25hY2tiYXJPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICBwaG9uZTogJycsXG4gICAgICAgICAgICB6b25lOiAnJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW46ICcgKyB0aGlzLnByb3BzLnRva2VuKTtcbiAgICB9LFxuICAgIG9wZW5TbmFja2JhcjogZnVuY3Rpb24gb3BlblNuYWNrYmFyKG1zZykge1xuICAgICAgICBjb25zb2xlLmxvZygnQWJyaWVuZG8gc25hY2sgYmFyJyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtc2dTbmFja2Jhck9wZW46IHRydWUsIHNuYWNrYmFyTWVzc2FnZTogbXNnIH0pO1xuICAgIH0sXG4gICAgaGFuZGxlU25hY2tiYXJSZXF1ZXN0Q2xvc2U6IGZ1bmN0aW9uIGhhbmRsZVNuYWNrYmFyUmVxdWVzdENsb3NlKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbXNnU25hY2tiYXJPcGVuOiBmYWxzZSB9KTtcbiAgICB9LFxuICAgIGhhbmRsZVNob3BDcmVhdGVTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVTaG9wQ3JlYXRlU3VjY2VzcyhkYXRhKSB7XG4gICAgICAgIHZhciBzaG9wSWQgPSBkYXRhLnNob3AuaWQ7XG4gICAgICAgIHRoaXMub3BlblNuYWNrYmFyKCdDb21lcmNpbyAnICsgc2hvcElkICsgJyBjcmVhZG8nKTtcbiAgICB9LFxuICAgIGhhbmRsZVNob3BDcmVhdGVFcnJvcjogZnVuY3Rpb24gaGFuZGxlU2hvcENyZWF0ZUVycm9yKGNhdXNlKSB7XG4gICAgICAgIHRoaXMub3BlblNuYWNrYmFyKGNhdXNlLnJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgfSxcbiAgICBjaGVja0ZpZWxkczogZnVuY3Rpb24gY2hlY2tGaWVsZHMoKSB7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgbmFtZSA9IF9zdGF0ZS5uYW1lLFxuICAgICAgICAgICAgYWRkcmVzcyA9IF9zdGF0ZS5hZGRyZXNzLFxuICAgICAgICAgICAgcGhvbmUgPSBfc3RhdGUucGhvbmUsXG4gICAgICAgICAgICB6b25lID0gX3N0YXRlLnpvbmU7XG5cbiAgICAgICAgaWYgKCFuYW1lIHx8ICFhZGRyZXNzIHx8ICFwaG9uZSB8fCAhem9uZSkgcmV0dXJuIHsgb2s6IGZhbHNlLCBtc2c6ICdQYXJhbWV0cm9zIGluY29tcGxldG9zJyB9O2Vsc2UgcmV0dXJuIHsgb2s6IHRydWUgfTtcbiAgICB9LFxuICAgIGNyZWF0ZVNob3A6IGZ1bmN0aW9uIGNyZWF0ZVNob3AoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpZWxkc0NoZWNrID0gdGhpcy5jaGVja0ZpZWxkcygpO1xuICAgICAgICBpZiAoIWZpZWxkc0NoZWNrLm9rKSByZXR1cm4gdGhpcy5vcGVuU25hY2tiYXIoZmllbGRzQ2hlY2subXNnKTtcblxuICAgICAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBuYW1lID0gX3N0YXRlMi5uYW1lLFxuICAgICAgICAgICAgYWRkcmVzcyA9IF9zdGF0ZTIuYWRkcmVzcyxcbiAgICAgICAgICAgIHBob25lID0gX3N0YXRlMi5waG9uZSxcbiAgICAgICAgICAgIHpvbmUgPSBfc3RhdGUyLnpvbmU7XG5cbiAgICAgICAgdmFyIGJvZHkgPSB7IG5hbWU6IG5hbWUsIGFkZHJlc3M6IGFkZHJlc3MsIHBob25lOiBwaG9uZSwgem9uZTogem9uZSB9O1xuICAgICAgICB2YXIgY29uZmlnID0geyBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdGhpcy5wcm9wcy50b2tlbiB9IH07XG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KCcvYXBpL3YxL3Nob3BzJywgYm9keSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29udGVudHMuZGF0YSk7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVTaG9wQ3JlYXRlU3VjY2Vzcyhjb250ZW50cy5kYXRhKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGNhdXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGNhdXNlKTtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVNob3BDcmVhdGVFcnJvcihjYXVzZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nQm90dG9tOiAxMCwgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJyB9IH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbjogMjAgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAnTnVldm8gY29tZXJjaW8nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaHInLCBudWxsKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ0RhdG9zIGRlbCBjb21lcmNpbydcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ05vbWJyZScsXG4gICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdOb21icmUnLFxuICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dDogJ05vbWJyZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGlyZWNjaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgaGludDogJ0RpcmVjY2lvbicsXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnRGlyZWNjaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyBhZGRyZXNzOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdCYXJyaW8nLFxuICAgICAgICAgICAgICAgICAgICBoaW50OiAnQmFycmlvIG8gZGlzdHJpdG8nLFxuICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dDogJ0JhcnJpbycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnpvbmUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgem9uZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGVsZWZvbm8nLFxuICAgICAgICAgICAgICAgICAgICBoaW50OiAnVGVsZWZvbm8gc2luIGd1aW9uIG5pIGVzcGFjaW9zJyxcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdUZWxlZm9ubycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnBob25lLFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7IHBob25lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2hyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICdEYXRvcyBkZWwgYWRtaW5pc3RyYWRvciBkZWwgY29tZXJjaW8nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOb21icmUnLFxuICAgICAgICAgICAgICAgICAgICBoaW50OiAnTm9tYnJlJyxcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdOb21icmUnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5hZG1pbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFN0YXRlKHsgYWRtaW5OYW1lOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgIGhpbnQ6ICdFbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0OiAnRW1haWwnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5hZG1pbkVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7IGFkbWluRW1haWw6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9SYWlzZWRCdXR0b24yLmRlZmF1bHQsIHsgc3R5bGU6IHsgbWFyZ2luVG9wOiAyMCB9LCBsYWJlbDogJ0NyZWFyIGNvbWVyY2lvJywgb25DbGljazogdGhpcy5jcmVhdGVTaG9wLCBzZWNvbmRhcnk6IHRydWUgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm1zZ1NuYWNrYmFyT3BlbixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnN0YXRlLnNuYWNrYmFyTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAzMDAwLFxuICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZVNuYWNrYmFyUmVxdWVzdENsb3NlIH0pXG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNob3BGb3JtO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjIzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfTXVpVGhlbWVQcm92aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWlUaGVtZVByb3ZpZGVyKTtcblxudmFyIF9SYWlzZWRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9SYWlzZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFpc2VkQnV0dG9uKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF9DYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cbnZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cbnZhciBfU2hvcE1lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Nik7XG5cbnZhciBfU2hvcE1lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hvcE1lbnUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKiBGSU4gREUgSU1QT1JUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG52YXIgRU1QVFlfQ0FMTEJBQ0sgPSBmdW5jdGlvbiBFTVBUWV9DQUxMQkFDSygpIHt9O1xuXG5mdW5jdGlvbiBCYW5TaG9wRGlhbG9nKHByb3BzKSB7XG4gICAgZnVuY3Rpb24gYmFuU2hvcCgpIHtcbiAgICAgICAgdmFyIHNob3BJZCA9IHByb3BzLnNob3AuaWQ7XG4gICAgICAgIHByb3BzLnNob3AuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAoMCwgX2F4aW9zMi5kZWZhdWx0KSh7XG4gICAgICAgICAgICB1cmw6ICcvYXBpL3YxL3Nob3BzLycgKyBzaG9wSWQsXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHByb3BzLnRva2VuIH0sXG4gICAgICAgICAgICBkYXRhOiBwcm9wcy5zaG9wXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb250ZW50cy5kYXRhKTtcbiAgICAgICAgICAgIHByb3BzLm9uU3VjY2VzcygpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoY2F1c2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xuICAgICAgICAgICAgcHJvcHMub25FcnJvcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgYWN0aW9ucyA9IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBsYWJlbDogJ0NhbmNlbGFyJyxcbiAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgb25DbGljazogcHJvcHMub25DbG9zZVxuICAgIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwge1xuICAgICAgICBsYWJlbDogJ1Byb2hpYmlyJyxcbiAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgb25DbGljazogYmFuU2hvcFxuICAgIH0pXTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6ICdQcm9oaWJpciBjb21lcmNpbyAnICsgcHJvcHMuc2hvcC5pZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgICAgIG9wZW46IHByb3BzLm9wZW4gfSxcbiAgICAgICAgJ1xceEJGRGVzZWEgUHJvaGliaXIgZWwgY29tZXJjaW8/J1xuICAgICk7XG59XG5cbnZhciBTaG9wTGlzdCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdTaG9wTGlzdCcsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7IHRva2VuOiAnJyB9O1xuICAgIH0sXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaG9wczogW10sXG4gICAgICAgICAgICBlcnJTbmFja2Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgYmFuU2hvcDogbnVsbCxcbiAgICAgICAgICAgIHNob3BNZW51OiBudWxsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBsb2FkU2hvcHM6IGZ1bmN0aW9uIGxvYWRTaG9wcygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KCcvYXBpL3YxL3Nob3BzP3Rva2VuPScgKyB0aGlzLnByb3BzLnRva2VuKS50aGVuKGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICAgICAgdmFyIHNob3BzID0gY29udGVudHMuZGF0YS5zaG9wcztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkU2hvcHMgc2hvcHM6ICcgKyBzaG9wcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvcHM6Jyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzaG9wcyk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNob3BzOiBzaG9wcyB9KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGNhdXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGNhdXNlKTtcbiAgICAgICAgICAgIF90aGlzLm9wZW5FcnJTbmFja2JhcignRXJyb3IgYWwgb2J0ZW5lciBsb3MgY29tZXJjaW9zJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW46ICcgKyB0aGlzLnByb3BzLnRva2VuKTtcbiAgICAgICAgdGhpcy5sb2FkU2hvcHMoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1Nob3BMaXN0IERJRCBNT1VOVCcpO1xuICAgIH0sXG4gICAgb3BlbkVyclNuYWNrYmFyOiBmdW5jdGlvbiBvcGVuRXJyU25hY2tiYXIobXNnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBYnJpZW5kbyBzbmFjayBiYXInKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVyclNuYWNrYmFyT3BlbjogdHJ1ZSwgZXJyU25hY2tiYXJNZXNzYWdlOiBtc2cgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVFcnJTbmFja2JhclJlcXVlc3RDbG9zZTogZnVuY3Rpb24gaGFuZGxlRXJyU25hY2tiYXJSZXF1ZXN0Q2xvc2UoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJTbmFja2Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH0sXG4gICAgY2xvc2VCYW5EaWFsb2c6IGZ1bmN0aW9uIGNsb3NlQmFuRGlhbG9nKHNob3ApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGJhblNob3A6IG51bGwgfSk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBvcGVuQmFuRGlhbG9nOiBmdW5jdGlvbiBvcGVuQmFuRGlhbG9nKHNob3ApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNob3BJZCA9IHNob3AuaWQgfHwgc2hvcDtcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBiYW5TaG9wOiBzaG9wSWQgfSk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVTaG9wQmFuU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU2hvcEJhblN1Y2Nlc3Moc2hvcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmNsb3NlQmFuRGlhbG9nKHNob3ApKCk7XG4gICAgICAgICAgICBzZWxmLmxvYWRTaG9wcygpO1xuICAgICAgICAgICAgc2VsZi5vcGVuRXJyU25hY2tiYXIoJ0NvbWVyY2lvIGJhbmVhZG8nKTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGVuYWJsZVNob3A6IGZ1bmN0aW9uIGVuYWJsZVNob3Aoc2hvcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNob3AuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAoMCwgX2F4aW9zMi5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9zaG9wcy8nICsgc2hvcC5pZCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBzZWxmLnByb3BzLnRva2VuIH0sXG4gICAgICAgICAgICAgICAgZGF0YTogc2hvcFxuICAgICAgICAgICAgfSkudGhlbihzZWxmLmxvYWRTaG9wcykuY2F0Y2goZnVuY3Rpb24gKGNhdXNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjYXVzZSk7XG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuRXJyU25hY2tiYXIoJ0Vycm9yIGFsIGhhYmlsaXRhciBjb21lcmNpbycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzaG93TWVudTogZnVuY3Rpb24gc2hvd01lbnUoc2hvcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAoMCwgX2F4aW9zMi5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9zaG9wcy8nICsgc2hvcC5pZCArICcvbWVudScsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgc2VsZi5wcm9wcy50b2tlbiB9XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93TWVudSBheGlvcyByZXNwb25zZTogJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHNob3BNZW51OiByZXNwb25zZS5kYXRhLm1lbnUgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoY2F1c2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNhdXNlKTtcbiAgICAgICAgICAgICAgICBzZWxmLm9wZW5FcnJTbmFja2JhcignRXJyb3IgYWwgb2J0ZW5lciBtZW51IGRlIGNvbWVyY2lvJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZU1lbnVDbG9zZTogZnVuY3Rpb24gaGFuZGxlTWVudUNsb3NlKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvcE1lbnU6IG51bGwgfSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLnN0YXRlLnNob3BzOiBcIiArIHRoaXMuc3RhdGUuc2hvcHMpO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3BzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAnTm8gaGF5IGNvbWVyY2lvcy4uLidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFuU2hvcERpYWxvZyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmJhblNob3ApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhbmRvIGRpYWxvZ28gZGUgYmFuZW8nKTtcbiAgICAgICAgICAgIHZhciBzaG9wID0gdGhpcy5zdGF0ZS5zaG9wcy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuaWQgPT0gX3RoaXMyLnN0YXRlLmJhblNob3A7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhblNob3BEaWFsb2cgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChCYW5TaG9wRGlhbG9nLCB7XG4gICAgICAgICAgICAgICAgc2hvcDogc2hvcCxcbiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy5wcm9wcy50b2tlbixcbiAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogdGhpcy5oYW5kbGVTaG9wQmFuU3VjY2VzcyhzaG9wKSxcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQmFuRGlhbG9nKHNob3ApLFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub3BlbkVyclNuYWNrYmFyKCdFcnJvciBhbCBQcm9oaWJpciBlbCBjb21lcmNpbyAnICsgc2hvcC5pZCk7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9wTWVudUVsZW0gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG9wTWVudSkge1xuICAgICAgICAgICAgc2hvcE1lbnVFbGVtID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1Nob3BNZW51Mi5kZWZhdWx0LCB7IG1lbnU6IHRoaXMuc3RhdGUuc2hvcE1lbnUsIGdvQmFjazogdGhpcy5oYW5kbGVNZW51Q2xvc2UgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hvcENhcmRzID0gdGhpcy5zdGF0ZS5zaG9wcy5tYXAoZnVuY3Rpb24gKHNob3ApIHtcbiAgICAgICAgICAgIHZhciBiYWNrQ29sb3JzID0gWycjMUE5Mzg2JywgJ3JnYigyMSwgMTE0LCAxMDUpJywgJyMxMzRFNDgnXTtcbiAgICAgICAgICAgIHZhciBjb2xJZHggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0NhcmQuQ2FyZCxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiwgbWFyZ2luOiAxMCB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhcmQuQ2FyZEhlYWRlciwge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbWVyY2lvICcgKyBzaG9wLmlkLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogc2hvcC5uYW1lXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9DYXJkLkNhcmRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB7IGV4cGFuZGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJvbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ05vbWJyZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAnOiAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJvbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RpcmVjY2lvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAnOiAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJvbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0JhcnJpbydcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAnOiAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcC56b25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJvbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RlbGVmb25vJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc6ICcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9wLnBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfQ2FyZC5DYXJkQWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHsgbGFiZWw6ICdQcm9oaWJpcicsIHNlY29uZGFyeTogdHJ1ZSwgZGlzYWJsZWQ6ICFzaG9wLmVuYWJsZWQsIG9uQ2xpY2s6IF90aGlzMi5vcGVuQmFuRGlhbG9nKHNob3ApIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwgeyBsYWJlbDogJ0hhYmlsaXRhcicsIGRpc2FibGVkOiBzaG9wLmVuYWJsZWQsIG9uQ2xpY2s6IF90aGlzMi5lbmFibGVTaG9wKHNob3ApIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwgeyBsYWJlbDogJ01lbnUnLCBvbkNsaWNrOiBfdGhpczIuc2hvd01lbnUoc2hvcCkgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbWFpbkVsZW0gPSBiYW5TaG9wRGlhbG9nIHx8IHNob3BNZW51RWxlbSB8fCBzaG9wQ2FyZHM7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbWFpbkVsZW0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmVyclNuYWNrYmFyT3BlbixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnN0YXRlLmVyclNuYWNrYmFyTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAzMDAwLFxuICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmhhbmRsZUVyclNuYWNrYmFyUmVxdWVzdENsb3NlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaG9wTGlzdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDI0Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfRmxhdEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXG52YXIgX0ZsYXRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxhdEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBBY3Rpb25IZWFkZXIgPSBmdW5jdGlvbiBBY3Rpb25IZWFkZXIocHJvcHMpIHtcbiAgICB2YXIgdGl0bGUgPSBwcm9wcy50aXRsZSB8fCAnU2hhcmVkIHNlcnZlcic7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogJ3doaXRlJywgYmFja2dyb3VuZENvbG9yOiAncmdiKDAsIDE4OCwgMjEyKScsIHRyYW5zaXRpb246ICdhbGwgNDUwbXMgY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpIDBtcycsIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCBmb250RmFtaWx5OiAnUm9ib3RvLCBzYW5zLXNlcmlmJywgYm9yZGVyUmFkaXVzOiAnMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHpJbmRleDogMTEwMCwgd2lkdGg6ICcxMDAlJywgZGlzcGxheTogJ2ZsZXgnLCBwYWRkaW5nTGVmdDogJzI0cHgnLCBwYWRkaW5nUmlnaHQ6ICcyNHB4JyB9IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7IHN0eWxlOiB7IGNvbG9yOiAnd2hpdGUnIH0sIGxhYmVsOiAnVm9sdmVyJywgb25DbGljazogcHJvcHMub25DbGljayB9KVxuICAgICk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBY3Rpb25IZWFkZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyNDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG52YXIgX011aVRoZW1lUHJvdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011aVRoZW1lUHJvdmlkZXIpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0FkbWluQmFja29mZmljZUJhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjE4KTtcblxudmFyIF9BZG1pbkJhY2tvZmZpY2VCYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRtaW5CYWNrb2ZmaWNlQmFyKTtcblxudmFyIF9BZG1pbkluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTkpO1xuXG52YXIgX0FkbWluSW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRtaW5JbmRleCk7XG5cbnZhciBfQWRtaW5Mb2dpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIwKTtcblxudmFyIF9BZG1pbkxvZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FkbWluTG9naW4pO1xuXG52YXIgX1Nob3BMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjMpO1xuXG52YXIgX1Nob3BMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nob3BMaXN0KTtcblxudmFyIF9TaG9wRm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIyKTtcblxudmFyIF9TaG9wRm9ybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaG9wRm9ybSk7XG5cbnZhciBfcmVhY3RUYXBFdmVudFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG52YXIgX3JlYWN0VGFwRXZlbnRQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RUYXBFdmVudFBsdWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbigwLCBfcmVhY3RUYXBFdmVudFBsdWdpbjIuZGVmYXVsdCkoKTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qIEVTVEUgRlJBR01FTlRPIERFIENPRElHTyBFUyBSRVFVRVJJRE8gUEFSQSBMT1MgRVZFTlRPUyBERSBUSVBPIFRPVUNIIE8gQ0xJQ0sgRU4gQ09NUE9ORU5URVMgTUFURVJJQUwtVUkgKi9cbmNvbnNvbGUubG9nKCdQYXJzZWFuZG8gY29va2llICcgKyBkb2N1bWVudC5jb29raWUpO1xudmFyIGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZSB8fCAnJztcbnZhciBjb29raWVUb2tlblN0ciA9IGNvb2tpZS5zcGxpdCgnOyAnKS5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMuc3RhcnRzV2l0aCgndG9rZW49Jyk7XG59KTtcbnZhciBjb29raWVUb2tlbiA9IGNvb2tpZVRva2VuU3RyID8gY29va2llVG9rZW5TdHIucmVwbGFjZSgndG9rZW49JywgJycpIDogbnVsbDtcblxudmFyIEFkbWluQmFja29mZmljZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdBZG1pbkJhY2tvZmZpY2UnLFxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW46IG51bGwsXG4gICAgICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICAgICAgcmVuZGVyUmVhZHk6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIC8qIFNFIENBUkdBTiBMQVMgQ0FOQ0lPTkVTIERFU1BVRVMgUVVFIEVMIENPTVBPTkVOVEUgSEFZQSBTSURPIE1PTlRBRE8gKi9cbiAgICAgICAgY29uc29sZS5sb2coJ0FkbWluQmFja29mZmljZSBNT05UQURBIScpO1xuICAgICAgICAvKiBTaSBzZSBlbmN1ZW50cmEgdW4gdG9rZW4gZW4gbGFzIGNvb2tpZXMgZW50b25jZXMgc2Ugc2V0ZWEgZWwgbWlzbW8geSBzZSBvYnRpZW5lIGVsIHVzdWFyaW9cclxuICAgICAgICBDYXNvIGNvbnRyYXJpbywgc2UgbWFyY2EgYWwgY29tcG9uZW50ZSBjb21vIGxpc3RvIHBhcmEgcmVuZGVyaXphciAqL1xuICAgICAgICBpZiAoY29va2llVG9rZW4pIHRoaXMuc2V0VG9rZW4oY29va2llVG9rZW4pO2Vsc2UgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlclJlYWR5OiB0cnVlIH0pO1xuICAgIH0sXG4gICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHRva2VuKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW4udG9rZW4gfHwgdG9rZW47XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXRlYW5kbyB0b2tlbjogJyArIHRva2VuKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRva2VuOiB0b2tlbiwgcmVuZGVyUmVhZHk6IHRydWUgfSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBjb25zb2xlLmxvZygnUkVOREVSSU5HIEFkbWluQmFja29mZmljZSEnKTtcblxuICAgICAgICAvL2lmICghdGhpcy5zdGF0ZS5yZW5kZXJSZWFkeSkgcmV0dXJuICg8c3Bhbj5Fc3BlcmUuLi48L3NwYW4+KTtcblxuICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLnN0YXRlLnRva2VuO1xuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FkbWluTG9naW4yLmRlZmF1bHQsIHsgb25TdWJtaXQ6IHRoaXMuc2V0VG9rZW4gfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3dpbmRvdy5sb2NhdGlvbi5oYXNoOiAnICsgd2luZG93LmxvY2F0aW9uLmhhc2gpO1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT0gJyMvJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JFUExBQ0lORyBMT0NBVElPTicpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9hZG1pbiMvaW5kZXgnKTtcbiAgICAgICAgICAgIC8vcmV0dXJuIDxzcGFuPlJlZGlyZWNjaW9uYW5kby4uLjwvc3Bhbj47XG4gICAgICAgIH1cblxuICAgICAgICAvKiBTaSB1biB1c3VhcmlvIGluaWNpbyBzZXNpb24sIHJlbmRlcml6byBsYSBhcHAgbm9ybWFsICovXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9NdWlUaGVtZVByb3ZpZGVyMi5kZWZhdWx0LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FkbWluQmFja29mZmljZUJhcjIuZGVmYXVsdCwgeyBvbkxvZ291dDogZnVuY3Rpb24gb25Mb2dvdXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubG9nb3V0Rm9ybS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUm91dGUsIHsgcGF0aDogJy9pbmRleCcsIGNvbXBvbmVudDogX0FkbWluSW5kZXgyLmRlZmF1bHQgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyRG9tLlJvdXRlLCB7IHBhdGg6ICcvc2hvcHMvbGlzdCcsIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TaG9wTGlzdDIuZGVmYXVsdCwgeyB0b2tlbjogdG9rZW4gfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyRG9tLlJvdXRlLCB7IHBhdGg6ICcvc2hvcHMvY3JlYXRlJywgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1Nob3BGb3JtMi5kZWZhdWx0LCB7IHRva2VuOiB0b2tlbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZm9ybScsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnL2FkbWluL2xvZ291dCcsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubG9nb3V0Rm9ybSA9IGY7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6ICdoaWRkZW4nIH0gfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuX3JlYWN0RG9tMi5kZWZhdWx0LnJlbmRlcihfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfcmVhY3RSb3V0ZXJEb20uSGFzaFJvdXRlcixcbiAgICBudWxsLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFkbWluQmFja29mZmljZSwgbnVsbClcbiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjQ2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfTXVpVGhlbWVQcm92aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWlUaGVtZVByb3ZpZGVyKTtcblxudmFyIF9SYWlzZWRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9SYWlzZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFpc2VkQnV0dG9uKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF9DYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0ZsYXRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9GbGF0QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZsYXRCdXR0b24pO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfQWN0aW9uSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDMpO1xuXG52YXIgX0FjdGlvbkhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25IZWFkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBTaG9wTWVudShwcm9wcykge1xuICAgIHZhciBtZW51ID0gcHJvcHMubWVudTtcblxuICAgIHZhciBtZW51Q2FyZHMgPSBtZW51Lm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgZGlzaCA9IGl0ZW0uZGlzaDtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0NhcmQuQ2FyZCxcbiAgICAgICAgICAgIHsgc3R5bGU6IHsgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiIH0gfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYXJkLkNhcmRIZWFkZXIsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1BsYXRvICcgKyBkaXNoLmlkLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBkaXNoLm5hbWUgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfQ2FyZC5DYXJkVGV4dCxcbiAgICAgICAgICAgICAgICB7IGV4cGFuZGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3Ryb25nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGVzY3JpcGNpb246J1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgIGRpc2guZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICcgJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3Ryb25nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29zdG86J1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgIGRpc2guY29zdCxcbiAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FjdGlvbkhlYWRlcjIuZGVmYXVsdCwgeyBvbkNsaWNrOiBwcm9wcy5nb0JhY2sgfSksXG4gICAgICAgIG1lbnVDYXJkc1xuICAgICk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNob3BNZW51O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0VuaGFuY2VkU3dpdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzcpO1xuXG52YXIgX0VuaGFuY2VkU3dpdGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuaGFuY2VkU3dpdGNoKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9jaGVja0JveE91dGxpbmVCbGFuayA9IF9fd2VicGFja19yZXF1aXJlX18oMzkyKTtcblxudmFyIF9jaGVja0JveE91dGxpbmVCbGFuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0JveE91dGxpbmVCbGFuayk7XG5cbnZhciBfY2hlY2tCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5Myk7XG5cbnZhciBfY2hlY2tCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tCb3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGNoZWNrYm94ID0gY29udGV4dC5tdWlUaGVtZS5jaGVja2JveDtcblxuICB2YXIgY2hlY2tib3hTaXplID0gMjQ7XG5cbiAgcmV0dXJuIHtcbiAgICBpY29uOiB7XG4gICAgICBoZWlnaHQ6IGNoZWNrYm94U2l6ZSxcbiAgICAgIHdpZHRoOiBjaGVja2JveFNpemVcbiAgICB9LFxuICAgIGNoZWNrOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwKScsXG4gICAgICB0cmFuc2l0aW9uT3JpZ2luOiAnNTAlIDUwJScsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDUwbXMnLCAnb3BhY2l0eScsICcwbXMnKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMG1zJywgJ3RyYW5zZm9ybScsICc0NTBtcycpLFxuICAgICAgZmlsbDogY2hlY2tib3guY2hlY2tlZENvbG9yXG4gICAgfSxcbiAgICBjaGVja1doZW5Td2l0Y2hlZDoge1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnb3BhY2l0eScsICcwbXMnKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnODAwbXMnLCAndHJhbnNmb3JtJywgJzBtcycpXG4gICAgfSxcbiAgICBjaGVja1doZW5EaXNhYmxlZDoge1xuICAgICAgZmlsbDogY2hlY2tib3guZGlzYWJsZWRDb2xvclxuICAgIH0sXG4gICAgYm94OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBmaWxsOiBjaGVja2JveC5ib3hDb2xvcixcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcxMDAwbXMnLCAnb3BhY2l0eScsICcyMDBtcycpXG4gICAgfSxcbiAgICBib3hXaGVuU3dpdGNoZWQ6IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNjUwbXMnLCAnb3BhY2l0eScsICcxNTBtcycpLFxuICAgICAgZmlsbDogY2hlY2tib3guY2hlY2tlZENvbG9yXG4gICAgfSxcbiAgICBib3hXaGVuRGlzYWJsZWQ6IHtcbiAgICAgIGZpbGw6IHByb3BzLmNoZWNrZWQgPyAndHJhbnNwYXJlbnQnIDogY2hlY2tib3guZGlzYWJsZWRDb2xvclxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy5kaXNhYmxlZCA/IGNoZWNrYm94LmxhYmVsRGlzYWJsZWRDb2xvciA6IGNoZWNrYm94LmxhYmVsQ29sb3JcbiAgICB9XG4gIH07XG59XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENoZWNrYm94LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGVja2JveCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDaGVja2JveCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDaGVja2JveC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2hlY2tib3gpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN3aXRjaGVkOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZVN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKG5ld1N3aXRjaGVkKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN3aXRjaGVkOiBuZXdTd2l0Y2hlZFxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuaGFuZGxlQ2hlY2sgPSBmdW5jdGlvbiAoZXZlbnQsIGlzSW5wdXRDaGVja2VkKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGVjaykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoZWNrKGV2ZW50LCBpc0lucHV0Q2hlY2tlZCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENoZWNrYm94LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICB2YWx1ZUxpbmsgPSBfcHJvcHMudmFsdWVMaW5rO1xuXG5cbiAgICAgIGlmIChjaGVja2VkIHx8IGRlZmF1bHRDaGVja2VkIHx8IHZhbHVlTGluayAmJiB2YWx1ZUxpbmsudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3dpdGNoZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jaGVja2VkICE9PSBuZXh0UHJvcHMuY2hlY2tlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNDaGVja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGVja2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5lbmhhbmNlZFN3aXRjaC5pc1N3aXRjaGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2hlY2tlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoZWNrZWQobmV3Q2hlY2tlZFZhbHVlKSB7XG4gICAgICB0aGlzLnJlZnMuZW5oYW5jZWRTd2l0Y2guc2V0U3dpdGNoZWQobmV3Q2hlY2tlZFZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzMi5pY29uU3R5bGUsXG4gICAgICAgICAgb25DaGVjayA9IF9wcm9wczIub25DaGVjayxcbiAgICAgICAgICBjaGVja2VkSWNvbiA9IF9wcm9wczIuY2hlY2tlZEljb24sXG4gICAgICAgICAgdW5jaGVja2VkSWNvbiA9IF9wcm9wczIudW5jaGVja2VkSWNvbixcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wczIsIFsnaWNvblN0eWxlJywgJ29uQ2hlY2snLCAnY2hlY2tlZEljb24nLCAndW5jaGVja2VkSWNvbiddKTtcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIGJveFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm94LCB0aGlzLnN0YXRlLnN3aXRjaGVkICYmIHN0eWxlcy5ib3hXaGVuU3dpdGNoZWQsIGljb25TdHlsZSwgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBzdHlsZXMuYm94V2hlbkRpc2FibGVkKTtcbiAgICAgIHZhciBjaGVja1N0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuY2hlY2ssIHRoaXMuc3RhdGUuc3dpdGNoZWQgJiYgc3R5bGVzLmNoZWNrV2hlblN3aXRjaGVkLCBpY29uU3R5bGUsIHRoaXMucHJvcHMuZGlzYWJsZWQgJiYgc3R5bGVzLmNoZWNrV2hlbkRpc2FibGVkKTtcblxuICAgICAgdmFyIGNoZWNrZWRFbGVtZW50ID0gY2hlY2tlZEljb24gPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoZWNrZWRJY29uLCB7XG4gICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoY2hlY2tTdHlsZXMsIGNoZWNrZWRJY29uLnByb3BzLnN0eWxlKVxuICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hlY2tCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IGNoZWNrU3R5bGVzXG4gICAgICB9KTtcblxuICAgICAgdmFyIHVuQ2hlY2tlZEVsZW1lbnQgPSB1bmNoZWNrZWRJY29uID8gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudCh1bmNoZWNrZWRJY29uLCB7XG4gICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoYm94U3R5bGVzLCB1bmNoZWNrZWRJY29uLnByb3BzLnN0eWxlKVxuICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY2hlY2tCb3hPdXRsaW5lQmxhbmsyLmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IGJveFN0eWxlc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjaGVja2JveEVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHVuQ2hlY2tlZEVsZW1lbnQsXG4gICAgICAgIGNoZWNrZWRFbGVtZW50XG4gICAgICApO1xuXG4gICAgICB2YXIgcmlwcGxlQ29sb3IgPSB0aGlzLnN0YXRlLnN3aXRjaGVkID8gY2hlY2tTdHlsZXMuZmlsbCA6IGJveFN0eWxlcy5maWxsO1xuICAgICAgdmFyIG1lcmdlZEljb25TdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaWNvbiwgaWNvblN0eWxlKTtcblxuICAgICAgdmFyIGxhYmVsU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmxhYmVsLCB0aGlzLnByb3BzLmxhYmVsU3R5bGUpO1xuXG4gICAgICB2YXIgZW5oYW5jZWRTd2l0Y2hQcm9wcyA9IHtcbiAgICAgICAgcmVmOiAnZW5oYW5jZWRTd2l0Y2gnLFxuICAgICAgICBpbnB1dFR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgIHN3aXRjaGVkOiB0aGlzLnN0YXRlLnN3aXRjaGVkLFxuICAgICAgICBzd2l0Y2hFbGVtZW50OiBjaGVja2JveEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZUNvbG9yOiByaXBwbGVDb2xvcixcbiAgICAgICAgaWNvblN0eWxlOiBtZXJnZWRJY29uU3R5bGUsXG4gICAgICAgIG9uU3dpdGNoOiB0aGlzLmhhbmRsZUNoZWNrLFxuICAgICAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxuICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZTogdGhpcy5oYW5kbGVTdGF0ZUNoYW5nZSxcbiAgICAgICAgbGFiZWxQb3NpdGlvbjogdGhpcy5wcm9wcy5sYWJlbFBvc2l0aW9uXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0VuaGFuY2VkU3dpdGNoMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgZW5oYW5jZWRTd2l0Y2hQcm9wcykpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2hlY2tib3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG4gIGxhYmVsUG9zaXRpb246ICdyaWdodCcsXG4gIGRpc2FibGVkOiBmYWxzZVxufTtcbkNoZWNrYm94LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DaGVja2JveC5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBDaGVja2JveCBpcyBjaGVja2VkIGlmIHRydWUuXG4gICAqL1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgU3ZnSWNvbiB0byB1c2UgZm9yIHRoZSBjaGVja2VkIHN0YXRlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBjcmVhdGUgaWNvbiB0b2dnbGVzLlxuICAgKi9cbiAgY2hlY2tlZEljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCxcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHN0YXRlIG9mIG91ciBjaGVja2JveCBjb21wb25lbnQuXG4gICAqICoqV2FybmluZzoqKiBUaGlzIGNhbm5vdCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYGNoZWNrZWRgLlxuICAgKiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuXG4gICAqIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHNcbiAgICovXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBEaXNhYmxlZCBpZiB0cnVlLlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgaWNvbiBlbGVtZW50LlxuICAgKi9cbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICovXG4gIGlucHV0U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogV2hlcmUgdGhlIGxhYmVsIHdpbGwgYmUgcGxhY2VkIG5leHQgdG8gdGhlIGNoZWNrYm94LlxuICAgKi9cbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIENoZWNrYm94IGVsZW1lbnQgbGFiZWwuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IGBjaGFuZ2VgIGV2ZW50IHRhcmdldGluZyB0aGUgdW5kZXJseWluZyBjaGVja2JveCBgaW5wdXRgLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSW5wdXRDaGVja2VkIFRoZSBgY2hlY2tlZGAgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgY2hlY2tib3ggYGlucHV0YC5cbiAgICovXG4gIG9uQ2hlY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgU3ZnSWNvbiB0byB1c2UgZm9yIHRoZSB1bmNoZWNrZWQgc3RhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBpY29uIHRvZ2dsZXMuXG4gICAqL1xuICB1bmNoZWNrZWRJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsXG4gIC8qKlxuICAgKiBWYWx1ZUxpbmsgZm9yIHdoZW4gdXNpbmcgY29udHJvbGxlZCBjaGVja2JveC5cbiAgICovXG4gIHZhbHVlTGluazogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENoZWNrYm94O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX092ZXJsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cbnZhciBfT3ZlcmxheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PdmVybGF5KTtcblxudmFyIF9SZW5kZXJUb0xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXG52YXIgX1JlbmRlclRvTGF5ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVG9MYXllcik7XG5cbnZhciBfUGFwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2l0aW9uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVHJhbnNpdGlvbkl0ZW0gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkl0ZW0oKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVHJhbnNpdGlvbkl0ZW0pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gVHJhbnNpdGlvbkl0ZW0uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdHlsZToge31cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0sIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVudGVyVGltZW91dCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sZWF2ZVRpbWVvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihjYWxsYmFjaykge1xuICAgICAgdGhpcy5jb21wb25lbnRXaWxsQXBwZWFyKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsQXBwZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEFwcGVhcihjYWxsYmFjaykge1xuICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmc7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsICcgKyBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICsgJ3B4KSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZW50ZXJUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbExlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbExlYXZlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAwKSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGVhdmVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgNDUwKTsgLy8gbWF0Y2hlcyB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnc3R5bGUnLCAnY2hpbGRyZW4nXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgdGhpcy5zdGF0ZS5zdHlsZSwgc3R5bGUpKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUcmFuc2l0aW9uSXRlbTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25JdGVtLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UcmFuc2l0aW9uSXRlbS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuXG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gcHJvcHMuYXV0b1Njcm9sbEJvZHlDb250ZW50LFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW47XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBzcGFjaW5nID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnNwYWNpbmcsXG4gICAgICBwYWxldHRlID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnBhbGV0dGUsXG4gICAgICBkaWFsb2cgPSBfY29udGV4dCRtdWlUaGVtZS5kaWFsb2csXG4gICAgICB6SW5kZXggPSBfY29udGV4dCRtdWlUaGVtZS56SW5kZXg7XG5cblxuICB2YXIgZ3V0dGVyID0gc3BhY2luZy5kZXNrdG9wR3V0dGVyO1xuICB2YXIgYm9yZGVyU2Nyb2xsID0gJzFweCBzb2xpZCAnICsgcGFsZXR0ZS5ib3JkZXJDb2xvcjtcblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogb3BlbiA/IDAgOiAtMTAwMDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB0cmFuc2l0aW9uOiBvcGVuID8gX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzBtcycpIDogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICdsZWZ0JywgJzQ1MG1zJylcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnNzUlJyxcbiAgICAgIG1heFdpZHRoOiBzcGFjaW5nLmRlc2t0b3BLZXlsaW5lSW5jcmVtZW50ICogMTIsXG4gICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nXG4gICAgfSxcbiAgICBhY3Rpb25zQ29udGFpbmVyOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpblRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICB6SW5kZXg6IHpJbmRleC5kaWFsb2dPdmVybGF5XG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcGFkZGluZzogZ3V0dGVyICsgJ3B4ICcgKyBndXR0ZXIgKyAncHggMjBweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGNvbG9yOiBwYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBkaWFsb2cudGl0bGVGb250U2l6ZSxcbiAgICAgIGxpbmVIZWlnaHQ6ICczMnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICAgIG1hcmdpbkJvdHRvbTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gLTEgOiAwXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBmb250U2l6ZTogZGlhbG9nLmJvZHlGb250U2l6ZSxcbiAgICAgIGNvbG9yOiBkaWFsb2cuYm9keUNvbG9yLFxuICAgICAgcGFkZGluZzogKHByb3BzLnRpdGxlID8gMCA6IGd1dHRlcikgKyAncHggJyArIGd1dHRlciArICdweCAnICsgZ3V0dGVyICsgJ3B4JyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgb3ZlcmZsb3dZOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyAnYXV0bycgOiAnaGlkZGVuJyxcbiAgICAgIGJvcmRlclRvcDogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gYm9yZGVyU2Nyb2xsIDogJ25vbmUnLFxuICAgICAgYm9yZGVyQm90dG9tOiBhdXRvU2Nyb2xsQm9keUNvbnRlbnQgPyBib3JkZXJTY3JvbGwgOiAnbm9uZSdcbiAgICB9XG4gIH07XG59XG5cbnZhciBEaWFsb2dJbmxpbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nSW5saW5lLCBfQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gRGlhbG9nSW5saW5lKCkge1xuICAgIHZhciBfcmVmMjtcblxuICAgIHZhciBfdGVtcDIsIF90aGlzMiwgX3JldDI7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2dJbmxpbmUpO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDIgPSAoX3RlbXAyID0gKF90aGlzMiA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYyID0gRGlhbG9nSW5saW5lLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2dJbmxpbmUpKS5jYWxsLmFwcGx5KF9yZWYyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMiksIF90aGlzMi5oYW5kbGVUb3VjaFRhcE92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucmVxdWVzdENsb3NlKGZhbHNlKTtcbiAgICB9LCBfdGhpczIuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICgoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSA9PT0gJ2VzYycpIHtcbiAgICAgICAgX3RoaXMyLnJlcXVlc3RDbG9zZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMyLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH0sIF90ZW1wMiksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMyLCBfcmV0Mik7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaWFsb2dJbmxpbmUsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucG9zaXRpb25EaWFsb2coKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9zaXRpb25EaWFsb2cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbkRpYWxvZygpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3Rpb25zID0gX3Byb3BzMi5hY3Rpb25zLFxuICAgICAgICAgIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQgPSBfcHJvcHMyLmF1dG9EZXRlY3RXaW5kb3dIZWlnaHQsXG4gICAgICAgICAgYXV0b1Njcm9sbEJvZHlDb250ZW50ID0gX3Byb3BzMi5hdXRvU2Nyb2xsQm9keUNvbnRlbnQsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzMi5ib2R5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczIub3BlbixcbiAgICAgICAgICByZXBvc2l0aW9uT25VcGRhdGUgPSBfcHJvcHMyLnJlcG9zaXRpb25PblVwZGF0ZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wczIudGl0bGU7XG5cblxuICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsaWVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIGNvbnRhaW5lciA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciBkaWFsb2dXaW5kb3cgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZ1dpbmRvdyk7XG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZGlhbG9nQ29udGVudCk7XG4gICAgICB2YXIgbWluUGFkZGluZ1RvcCA9IDE2O1xuXG4gICAgICAvLyBSZXNldCB0aGUgaGVpZ2h0IGluIGNhc2UgdGhlIHdpbmRvdyB3YXMgcmVzaXplZC5cbiAgICAgIGRpYWxvZ1dpbmRvdy5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cbiAgICAgIHZhciBkaWFsb2dXaW5kb3dIZWlnaHQgPSBkaWFsb2dXaW5kb3cub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIHBhZGRpbmdUb3AgPSAoY2xpZW50SGVpZ2h0IC0gZGlhbG9nV2luZG93SGVpZ2h0KSAvIDIgLSA2NDtcbiAgICAgIGlmIChwYWRkaW5nVG9wIDwgbWluUGFkZGluZ1RvcCkgcGFkZGluZ1RvcCA9IG1pblBhZGRpbmdUb3A7XG5cbiAgICAgIC8vIFZlcnRpY2FsbHkgY2VudGVyIHRoZSBkaWFsb2cgd2luZG93LCBidXQgbWFrZSBzdXJlIGl0IGRvZXNuJ3RcbiAgICAgIC8vIHRyYW5zaXRpb24gdG8gdGhhdCBwb3NpdGlvbi5cbiAgICAgIGlmIChyZXBvc2l0aW9uT25VcGRhdGUgfHwgIWNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wKSB7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvcmNlIGEgaGVpZ2h0IGlmIHRoZSBkaWFsb2cgaXMgdGFsbGVyIHRoYW4gY2xpZW50SGVpZ2h0XG4gICAgICBpZiAoYXV0b0RldGVjdFdpbmRvd0hlaWdodCB8fCBhdXRvU2Nyb2xsQm9keUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgICAgdmFyIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgPSBjbGllbnRIZWlnaHQgLSAyICogNjQ7XG5cbiAgICAgICAgaWYgKHRpdGxlKSBtYXhEaWFsb2dDb250ZW50SGVpZ2h0IC09IGRpYWxvZ0NvbnRlbnQucHJldmlvdXNTaWJsaW5nLm9mZnNldEhlaWdodDtcblxuICAgICAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGFjdGlvbnMpKSB7XG4gICAgICAgICAgbWF4RGlhbG9nQ29udGVudEhlaWdodCAtPSBkaWFsb2dDb250ZW50Lm5leHRTaWJsaW5nLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gbWF4RGlhbG9nQ29udGVudEhlaWdodCArICdweCc7XG4gICAgICAgIGlmIChtYXhEaWFsb2dDb250ZW50SGVpZ2h0ID4gZGlhbG9nV2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJCb3R0b20gPSAnbm9uZSc7XG4gICAgICAgICAgZGlhbG9nQ29udGVudC5zdHlsZS5ib3JkZXJUb3AgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXF1ZXN0Q2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0Q2xvc2UoYnV0dG9uQ2xpY2tlZCkge1xuICAgICAgaWYgKCFidXR0b25DbGlja2VkICYmIHRoaXMucHJvcHMubW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCEhYnV0dG9uQ2xpY2tlZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdGlvbnMgPSBfcHJvcHMzLmFjdGlvbnMsXG4gICAgICAgICAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSA9IF9wcm9wczMuYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyU3R5bGUgPSBfcHJvcHMzLmFjdGlvbnNDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBib2R5Q2xhc3NOYW1lID0gX3Byb3BzMy5ib2R5Q2xhc3NOYW1lLFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wczMuYm9keVN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICBjb250ZW50Q2xhc3NOYW1lID0gX3Byb3BzMy5jb250ZW50Q2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wczMuY29udGVudFN0eWxlLFxuICAgICAgICAgIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMzLm92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3Byb3BzMy5vdmVybGF5U3R5bGUsXG4gICAgICAgICAgb3BlbiA9IF9wcm9wczMub3BlbixcbiAgICAgICAgICBwYXBlckNsYXNzTmFtZSA9IF9wcm9wczMucGFwZXJDbGFzc05hbWUsXG4gICAgICAgICAgcGFwZXJQcm9wcyA9IF9wcm9wczMucGFwZXJQcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczMuc3R5bGUsXG4gICAgICAgICAgdGl0bGVDbGFzc05hbWUgPSBfcHJvcHMzLnRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHRpdGxlU3R5bGUgPSBfcHJvcHMzLnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMzLnRpdGxlO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICBzdHlsZXMucm9vdCA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgc3R5bGVzLmNvbnRlbnQgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZSk7XG4gICAgICBzdHlsZXMuYm9keSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYm9keSwgYm9keVN0eWxlKTtcbiAgICAgIHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyLCBhY3Rpb25zQ29udGFpbmVyU3R5bGUpO1xuICAgICAgc3R5bGVzLm92ZXJsYXkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLm92ZXJsYXksIG92ZXJsYXlTdHlsZSk7XG4gICAgICBzdHlsZXMudGl0bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRpdGxlLCB0aXRsZVN0eWxlKTtcblxuICAgICAgdmFyIGFjdGlvbnNDb250YWluZXIgPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoYWN0aW9ucykgPiAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGFjdGlvbnNDb250YWluZXJDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5hY3Rpb25zQ29udGFpbmVyKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShhY3Rpb25zKVxuICAgICAgKTtcblxuICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IHRpdGxlO1xuICAgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudCh0aXRsZSkpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudCh0aXRsZSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGUucHJvcHMuY2xhc3NOYW1lIHx8IHRpdGxlQ2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlLnByb3BzLnN0eWxlKSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGl0bGVFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2gzJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogdGl0bGVDbGFzc05hbWUsIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy50aXRsZSkgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMucm9vdCkgfSxcbiAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RFdmVudExpc3RlbmVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgdGFyZ2V0OiAnd2luZG93JyxcbiAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwLFxuICAgICAgICAgIG9uUmVzaXplOiB0aGlzLmhhbmRsZVJlc2l6ZVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1RyYW5zaXRpb25Hcm91cDIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICAgICAgcmVmOiAnZGlhbG9nV2luZG93JyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyVGltZW91dDogNDUwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNDUwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGVuICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgVHJhbnNpdGlvbkl0ZW0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy5jb250ZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGNsYXNzTmFtZTogcGFwZXJDbGFzc05hbWUsIHpEZXB0aDogNCB9LCBwYXBlclByb3BzKSxcbiAgICAgICAgICAgICAgdGl0bGVFbGVtZW50LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZWY6ICdkaWFsb2dDb250ZW50JyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYm9keUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKHN0eWxlcy5ib2R5KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgYWN0aW9uc0NvbnRhaW5lclxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX092ZXJsYXkyLmRlZmF1bHQsIHtcbiAgICAgICAgICBzaG93OiBvcGVuLFxuICAgICAgICAgIGNsYXNzTmFtZTogb3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGVzLm92ZXJsYXksXG4gICAgICAgICAgb25Ub3VjaFRhcDogdGhpcy5oYW5kbGVUb3VjaFRhcE92ZXJsYXlcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2dJbmxpbmU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2dJbmxpbmUuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZ0lubGluZS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGFjdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGlvbnNDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGJvZHlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBjb250ZW50Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvdmVybGF5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBwYXBlckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHBhcGVyUHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICByZXBvc2l0aW9uT25VcGRhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0aXRsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICB0aXRsZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5cbnZhciBEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDMpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGlhbG9nLCBfQ29tcG9uZW50Myk7XG5cbiAgZnVuY3Rpb24gRGlhbG9nKCkge1xuICAgIHZhciBfcmVmMztcblxuICAgIHZhciBfdGVtcDMsIF90aGlzMywgX3JldDM7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaWFsb2cpO1xuXG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldDMgPSAoX3RlbXAzID0gKF90aGlzMyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYzID0gRGlhbG9nLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShEaWFsb2cpKS5jYWxsLmFwcGx5KF9yZWYzLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMyksIF90aGlzMy5yZW5kZXJMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChEaWFsb2dJbmxpbmUsIF90aGlzMy5wcm9wcyk7XG4gICAgfSwgX3RlbXAzKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpczMsIF9yZXQzKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpYWxvZywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JlbmRlclRvTGF5ZXIyLmRlZmF1bHQsIHsgcmVuZGVyOiB0aGlzLnJlbmRlckxheWVyLCBvcGVuOiB0cnVlLCB1c2VMYXllckZvckNsaWNrQXdheTogZmFsc2UgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5EaWFsb2cuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkRpYWxvZy5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IHRydWUsXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogZmFsc2UsXG4gIG1vZGFsOiBmYWxzZSxcbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiB0cnVlXG59O1xuRGlhbG9nLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIEFjdGlvbiBidXR0b25zIHRvIGRpc3BsYXkgYmVsb3cgdGhlIERpYWxvZyBjb250ZW50IChgY2hpbGRyZW5gKS5cbiAgICogVGhpcyBwcm9wZXJ0eSBhY2NlcHRzIGVpdGhlciBhIFJlYWN0IGVsZW1lbnQsIG9yIGFuIGFycmF5IG9mIFJlYWN0IGVsZW1lbnRzLlxuICAgKi9cbiAgYWN0aW9uczogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYWN0aW9ucyBjb250YWluZXIncyByb290IGVsZW1lbnQuXG4gICAqL1xuICBhY3Rpb25zQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBoZWlnaHQgb2YgdGhlIGBEaWFsb2dgIHdpbGwgYmUgYXV0byBkZXRlY3RlZC4gQSBtYXggaGVpZ2h0XG4gICAqIHdpbGwgYmUgZW5mb3JjZWQgc28gdGhhdCB0aGUgY29udGVudCBkb2VzIG5vdCBleHRlbmQgYmV5b25kIHRoZSB2aWV3cG9ydC5cbiAgICovXG4gIGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgYm9keSBjb250ZW50IG9mIHRoZSBgRGlhbG9nYCB3aWxsIGJlIHNjcm9sbGFibGUuXG4gICAqL1xuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQncyByb290IGVsZW1lbnQgdW5kZXIgdGhlIHRpdGxlLlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgY29udGFpbmVyLlxuICAgKi9cbiAgY29udGVudFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIEZvcmNlIHRoZSB1c2VyIHRvIHVzZSBvbmUgb2YgdGhlIGFjdGlvbnMgaW4gdGhlIGBEaWFsb2dgLlxuICAgKiBDbGlja2luZyBvdXRzaWRlIHRoZSBgRGlhbG9nYCB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBgb25SZXF1ZXN0Q2xvc2VgLlxuICAgKi9cbiAgbW9kYWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGBEaWFsb2dgIGlzIHJlcXVlc3RlZCB0byBiZSBjbG9zZWQgYnkgYSBjbGljayBvdXRzaWRlIHRoZSBgRGlhbG9nYCBvciBvbiB0aGUgYnV0dG9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sfSBidXR0b25DbGlja2VkIERldGVybWluZXMgd2hldGhlciBhIGJ1dHRvbiBjbGljayB0cmlnZ2VyZWQgdGhpcyByZXF1ZXN0LlxuICAgKi9cbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIERpYWxvZyBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBgT3ZlcmxheWAgY29tcG9uZW50IHRoYXQgaXMgcmVuZGVyZWQgYmVoaW5kIHRoZSBgRGlhbG9nYC5cbiAgICovXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgQ1NTIGNsYXNzIG5hbWUgb2YgdGhlIGBQYXBlcmAgZWxlbWVudC5cbiAgICovXG4gIHBhcGVyQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBlbGVtZW50LlxuICAgKi9cbiAgcGFwZXJQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBEaWFsb2dgIHNob3VsZCBiZSByZXBvc2l0aW9uZWQgd2hlbiBpdCdzIGNvbnRlbnRzIGFyZSB1cGRhdGVkLlxuICAgKi9cbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIHRpdGxlIHRvIGRpc3BsYXkgb24gdGhlIGBEaWFsb2dgLiBDb3VsZCBiZSBudW1iZXIsIHN0cmluZywgZWxlbWVudCBvciBhbiBhcnJheSBjb250YWluaW5nIHRoZXNlIHR5cGVzLlxuICAgKi9cbiAgdGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIHRpdGxlJ3Mgcm9vdCBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIHRpdGxlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdGl0bGUncyByb290IGNvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgdGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IERpYWxvZztcblxuLyoqKi8gfSksXG5cbi8qKiovIDM2NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGlja0F3YXlMaXN0ZW5lcik7XG5cbnZhciBfU25hY2tiYXJCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuXG52YXIgX1NuYWNrYmFyQm9keTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2JhckJvZHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQsIHN0YXRlKSB7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIHpJbmRleCA9IF9jb250ZXh0JG11aVRoZW1lLnpJbmRleDtcbiAgdmFyIG9wZW4gPSBzdGF0ZS5vcGVuO1xuXG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgekluZGV4OiB6SW5kZXguc25hY2tiYXIsXG4gICAgICB2aXNpYmlsaXR5OiBvcGVuID8gJ3Zpc2libGUnIDogJ2hpZGRlbicsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAndHJhbnNsYXRlKC01MCUsIDApJyA6ICd0cmFuc2xhdGUoLTUwJSwgJyArIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgKyAncHgpJyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICd0cmFuc2Zvcm0nKSArICcsICcgKyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNDAwbXMnLCAndmlzaWJpbGl0eScpXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBTbmFja2JhciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFNuYWNrYmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbmFja2JhcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTbmFja2Jhcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBTbmFja2Jhci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoU25hY2tiYXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5jb21wb25lbnRDbGlja0F3YXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMudGltZXJUcmFuc2l0aW9uSWQpIHtcbiAgICAgICAgLy8gSWYgdHJhbnNpdGlvbmluZywgZG9uJ3QgY2xvc2UgdGhlIHNuYWNrYmFyLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlKCdjbGlja2F3YXknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNuYWNrYmFyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0aGlzLnByb3BzLm9wZW4sXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMucHJvcHMubWVzc2FnZSxcbiAgICAgICAgYWN0aW9uOiB0aGlzLnByb3BzLmFjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zZXRBdXRvSGlkZVRpbWVyKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMub3BlbiAmJiBuZXh0UHJvcHMub3BlbiAmJiAobmV4dFByb3BzLm1lc3NhZ2UgIT09IHRoaXMucHJvcHMubWVzc2FnZSB8fCBuZXh0UHJvcHMuYWN0aW9uICE9PSB0aGlzLnByb3BzLmFjdGlvbikpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgICAgIHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgIGFjdGlvbjogbmV4dFByb3BzLmFjdGlvbixcbiAgICAgICAgICAgIG9wZW46IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcGVuID0gbmV4dFByb3BzLm9wZW47XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3Blbjogb3BlbiAhPT0gbnVsbCA/IG9wZW4gOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgbWVzc2FnZTogbmV4dFByb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uOiBuZXh0UHJvcHMuYWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKHByZXZTdGF0ZS5vcGVuICE9PSB0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICAgIHRoaXMuc2V0QXV0b0hpZGVUaW1lcigpO1xuICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvblRpbWVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJUcmFuc2l0aW9uSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJPbmVBdFRoZVRpbWVJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0QXV0b0hpZGVUaW1lcicsXG5cblxuICAgIC8vIFRpbWVyIHRoYXQgY29udHJvbHMgZGVsYXkgYmVmb3JlIHNuYWNrYmFyIGF1dG8gaGlkZXNcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0hpZGVUaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgYXV0b0hpZGVEdXJhdGlvbiA9IHRoaXMucHJvcHMuYXV0b0hpZGVEdXJhdGlvbjtcblxuICAgICAgaWYgKGF1dG9IaWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICAgIHRoaXMudGltZXJBdXRvSGlkZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5vcGVuICE9PSBudWxsICYmIF90aGlzMy5wcm9wcy5vblJlcXVlc3RDbG9zZSkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uUmVxdWVzdENsb3NlKCd0aW1lb3V0Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgYXV0b0hpZGVEdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGltZXIgdGhhdCBjb250cm9scyBkZWxheSBiZWZvcmUgY2xpY2stYXdheSBldmVudHMgYXJlIGNhcHR1cmVkIChiYXNlZCBvbiB3aGVuIGFuaW1hdGlvbiBjb21wbGV0ZXMpXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFRyYW5zaXRpb25UaW1lcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25UaW1lcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRpbWVyVHJhbnNpdGlvbklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC50aW1lclRyYW5zaXRpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIDQwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbiA9IF9wcm9wcy5hdXRvSGlkZUR1cmF0aW9uLFxuICAgICAgICAgIGNvbnRlbnRTdHlsZSA9IF9wcm9wcy5jb250ZW50U3R5bGUsXG4gICAgICAgICAgYm9keVN0eWxlID0gX3Byb3BzLmJvZHlTdHlsZSxcbiAgICAgICAgICBtZXNzYWdlUHJvcCA9IF9wcm9wcy5tZXNzYWdlLFxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlID0gX3Byb3BzLm9uUmVxdWVzdENsb3NlLFxuICAgICAgICAgIG9uQWN0aW9uVG91Y2hUYXAgPSBfcHJvcHMub25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhdXRvSGlkZUR1cmF0aW9uJywgJ2NvbnRlbnRTdHlsZScsICdib2R5U3R5bGUnLCAnbWVzc2FnZScsICdvblJlcXVlc3RDbG9zZScsICdvbkFjdGlvblRvdWNoVGFwJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aW9uID0gX3N0YXRlLmFjdGlvbixcbiAgICAgICAgICBtZXNzYWdlID0gX3N0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgb3BlbiA9IF9zdGF0ZS5vcGVuO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMuc3RhdGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9DbGlja0F3YXlMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgeyBvbkNsaWNrQXdheTogb3BlbiA/IHRoaXMuY29tcG9uZW50Q2xpY2tBd2F5IDogbnVsbCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyQm9keTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBjb250ZW50U3R5bGU6IGNvbnRlbnRTdHlsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgb25BY3Rpb25Ub3VjaFRhcDogb25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgICAgICAgIHN0eWxlOiBib2R5U3R5bGVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU25hY2tiYXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5TbmFja2Jhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuU25hY2tiYXIucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogVGhlIGxhYmVsIGZvciB0aGUgYWN0aW9uIG9uIHRoZSBzbmFja2Jhci5cbiAgICovXG4gIGFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYXV0b21hdGljYWxseSBkaXNtaXNzaW5nLlxuICAgKiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQgdGhlIHNuYWNrYmFyIHdpbGwgZGlzbWlzcyBub3JtYWxseS5cbiAgICogSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCB0aGUgc25hY2tiYXIgY2FuIHN0aWxsIGJlIGRpc21pc3NlZCBub3JtYWxseS5cbiAgICogSWYgYSBzbmFja2JhciBpcyBkaXNtaXNzZWQgYmVmb3JlIHRoZSB0aW1lciBleHBpcmVzLCB0aGUgdGltZXIgd2lsbCBiZSBjbGVhcmVkLlxuICAgKi9cbiAgYXV0b0hpZGVEdXJhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYm9keSBlbGVtZW50LlxuICAgKi9cbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiAoTm90ZTogSWYgdGhlIG1lc3NhZ2UgaXMgYW4gZWxlbWVudCBvciBhcnJheSwgYW5kIHRoZSBgU25hY2tiYXJgIG1heSByZS1yZW5kZXIgd2hpbGUgaXQgaXMgc3RpbGwgb3BlbixcbiAgICogZW5zdXJlIHRoYXQgdGhlIHNhbWUgb2JqZWN0IHJlbWFpbnMgYXMgdGhlIGBtZXNzYWdlYCBwcm9wZXJ0eSBpZiB5b3Ugd2FudCB0byBhdm9pZCB0aGUgYFNuYWNrYmFyYCBoaWRpbmcgYW5kXG4gICAqIHNob3dpbmcgYWdhaW4pXG4gICAqL1xuICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGFjdGlvbiBidXR0b24gaXMgdG91Y2h0YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBY3Rpb24gYnV0dG9uIGV2ZW50LlxuICAgKi9cbiAgb25BY3Rpb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYFNuYWNrYmFyYCBpcyByZXF1ZXN0ZWQgdG8gYmUgY2xvc2VkIGJ5IGEgY2xpY2sgb3V0c2lkZSB0aGUgYFNuYWNrYmFyYCwgb3IgYWZ0ZXIgdGhlXG4gICAqIGBhdXRvSGlkZUR1cmF0aW9uYCB0aW1lciBleHBpcmVzLlxuICAgKlxuICAgKiBUeXBpY2FsbHkgYG9uUmVxdWVzdENsb3NlYCBpcyB1c2VkIHRvIHNldCBzdGF0ZSBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCwgd2hpY2ggaXMgdXNlZCB0byBjb250cm9sIHRoZSBgU25hY2tiYXJgXG4gICAqIGBvcGVuYCBwcm9wLlxuICAgKlxuICAgKiBUaGUgYHJlYXNvbmAgcGFyYW1ldGVyIGNhbiBvcHRpb25hbGx5IGJlIHVzZWQgdG8gY29udHJvbCB0aGUgcmVzcG9uc2UgdG8gYG9uUmVxdWVzdENsb3NlYCxcbiAgICogZm9yIGV4YW1wbGUgaWdub3JpbmcgYGNsaWNrYXdheWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQ2FuIGJlOmBcInRpbWVvdXRcImAgKGBhdXRvSGlkZUR1cmF0aW9uYCBleHBpcmVkKSBvcjogYFwiY2xpY2thd2F5XCJgXG4gICAqL1xuICBvblJlcXVlc3RDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciB0aGUgYFNuYWNrYmFyYCBpcyBvcGVuZWQgb3Igbm90LlxuICAgKi9cbiAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBTbmFja2JhcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDM2Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU25hY2tiYXJCb2R5ID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX3dpdGhXaWR0aCA9IF9fd2VicGFja19yZXF1aXJlX18oNDAwKTtcblxudmFyIF93aXRoV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2l0aFdpZHRoKTtcblxudmFyIF9GbGF0QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBfRmxhdEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GbGF0QnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIHdpZHRoID0gcHJvcHMud2lkdGg7XG4gIHZhciBfY29udGV4dCRtdWlUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUsXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRiYXMyID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLnNwYWNpbmcsXG4gICAgICBkZXNrdG9wR3V0dGVyID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzMi5kZXNrdG9wR3V0dGVyLFxuICAgICAgZGVza3RvcFN1YmhlYWRlckhlaWdodCA9IF9jb250ZXh0JG11aVRoZW1lJGJhczIuZGVza3RvcFN1YmhlYWRlckhlaWdodCxcbiAgICAgIGZvbnRGYW1pbHkgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMuZm9udEZhbWlseSxcbiAgICAgIF9jb250ZXh0JG11aVRoZW1lJHNuYSA9IF9jb250ZXh0JG11aVRoZW1lLnNuYWNrYmFyLFxuICAgICAgYmFja2dyb3VuZENvbG9yID0gX2NvbnRleHQkbXVpVGhlbWUkc25hLmJhY2tncm91bmRDb2xvcixcbiAgICAgIHRleHRDb2xvciA9IF9jb250ZXh0JG11aVRoZW1lJHNuYS50ZXh0Q29sb3IsXG4gICAgICBhY3Rpb25Db2xvciA9IF9jb250ZXh0JG11aVRoZW1lJHNuYS5hY3Rpb25Db2xvcixcbiAgICAgIGJvcmRlclJhZGl1cyA9IF9jb250ZXh0JG11aVRoZW1lLmJvcmRlclJhZGl1cztcblxuXG4gIHZhciBpc1NtYWxsID0gd2lkdGggPT09IF93aXRoV2lkdGguU01BTEw7XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBwYWRkaW5nOiAnMCAnICsgZGVza3RvcEd1dHRlciArICdweCcsXG4gICAgICBoZWlnaHQ6IGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQsXG4gICAgICBsaW5lSGVpZ2h0OiBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0ICsgJ3B4JyxcbiAgICAgIGJvcmRlclJhZGl1czogaXNTbWFsbCA/IDAgOiBib3JkZXJSYWRpdXMsXG4gICAgICBtYXhXaWR0aDogaXNTbWFsbCA/ICdpbmhlcml0JyA6IDU2OCxcbiAgICAgIG1pbldpZHRoOiBpc1NtYWxsID8gJ2luaGVyaXQnIDogMjg4LFxuICAgICAgd2lkdGg6IGlzU21hbGwgPyAnY2FsYygxMDB2dyAtICcgKyBkZXNrdG9wR3V0dGVyICogMiArICdweCknIDogJ2F1dG8nLFxuICAgICAgZmxleEdyb3c6IGlzU21hbGwgPyAxIDogMFxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgY29sb3I6IHRleHRDb2xvcixcbiAgICAgIG9wYWNpdHk6IG9wZW4gPyAxIDogMCxcbiAgICAgIHRyYW5zaXRpb246IG9wZW4gPyBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnNTAwbXMnLCAnb3BhY2l0eScsICcxMDBtcycpIDogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQwMG1zJywgJ29wYWNpdHknKVxuICAgIH0sXG4gICAgYWN0aW9uOiB7XG4gICAgICBjb2xvcjogYWN0aW9uQ29sb3IsXG4gICAgICBmbG9hdDogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpblRvcDogNixcbiAgICAgIG1hcmdpblJpZ2h0OiAtMTYsXG4gICAgICBtYXJnaW5MZWZ0OiBkZXNrdG9wR3V0dGVyLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBTbmFja2JhckJvZHkgPSBmdW5jdGlvbiBTbmFja2JhckJvZHkocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGFjdGlvbiA9IHByb3BzLmFjdGlvbixcbiAgICAgIGNvbnRlbnRTdHlsZSA9IHByb3BzLmNvbnRlbnRTdHlsZSxcbiAgICAgIG1lc3NhZ2UgPSBwcm9wcy5tZXNzYWdlLFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICBvbkFjdGlvblRvdWNoVGFwID0gcHJvcHMub25BY3Rpb25Ub3VjaFRhcCxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKHByb3BzLCBbJ2FjdGlvbicsICdjb250ZW50U3R5bGUnLCAnbWVzc2FnZScsICdvcGVuJywgJ29uQWN0aW9uVG91Y2hUYXAnLCAnc3R5bGUnXSk7XG4gIHZhciBwcmVwYXJlU3R5bGVzID0gY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gIHZhciBzdHlsZXMgPSBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpO1xuXG4gIHZhciBhY3Rpb25CdXR0b24gPSBhY3Rpb24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZsYXRCdXR0b24yLmRlZmF1bHQsIHtcbiAgICBzdHlsZTogc3R5bGVzLmFjdGlvbixcbiAgICBsYWJlbDogYWN0aW9uLFxuICAgIG9uVG91Y2hUYXA6IG9uQWN0aW9uVG91Y2hUYXBcbiAgfSk7XG5cbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpKSB9KSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZSkpIH0sXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICBudWxsLFxuICAgICAgICBtZXNzYWdlXG4gICAgICApLFxuICAgICAgYWN0aW9uQnV0dG9uXG4gICAgKVxuICApO1xufTtcblxuZXhwb3J0cy5TbmFja2JhckJvZHkgPSBTbmFja2JhckJvZHk7XG5TbmFja2JhckJvZHkucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogVGhlIGxhYmVsIGZvciB0aGUgYWN0aW9uIG9uIHRoZSBzbmFja2Jhci5cbiAgICovXG4gIGFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqXG4gICAqIChOb3RlOiBJZiB0aGUgbWVzc2FnZSBpcyBhbiBlbGVtZW50IG9yIGFycmF5LCBhbmQgdGhlIGBTbmFja2JhcmAgbWF5IHJlLXJlbmRlciB3aGlsZSBpdCBpcyBzdGlsbCBvcGVuLFxuICAgKiBlbnN1cmUgdGhhdCB0aGUgc2FtZSBvYmplY3QgcmVtYWlucyBhcyB0aGUgYG1lc3NhZ2VgIHByb3BlcnR5IGlmIHlvdSB3YW50IHRvIGF2b2lkIHRoZSBgU25hY2tiYXJgIGhpZGluZyBhbmRcbiAgICogc2hvd2luZyBhZ2FpbilcbiAgICovXG4gIG1lc3NhZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYWN0aW9uIGJ1dHRvbiBpcyB0b3VjaHRhcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFjdGlvbiBidXR0b24gZXZlbnQuXG4gICAqL1xuICBvbkFjdGlvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIGBTbmFja2JhcmAgaXMgb3BlbmVkIG9yIG5vdC5cbiAgICovXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogV2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICovXG4gIHdpZHRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkXG59IDoge307XG5cblNuYWNrYmFyQm9keS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3dpdGhXaWR0aDIuZGVmYXVsdCkoKShTbmFja2JhckJvZHkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzc3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxudmFyIF9rZXljb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWNvZGUpO1xuXG52YXIgX3RyYW5zaXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbnZhciBfdHJhbnNpdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhbnNpdGlvbnMpO1xuXG52YXIgX0ZvY3VzUmlwcGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXG52YXIgX0ZvY3VzUmlwcGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZvY3VzUmlwcGxlKTtcblxudmFyIF9Ub3VjaFJpcHBsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblxudmFyIF9Ub3VjaFJpcHBsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub3VjaFJpcHBsZSk7XG5cbnZhciBfUGFwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgYmFzZVRoZW1lID0gY29udGV4dC5tdWlUaGVtZS5iYXNlVGhlbWU7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGN1cnNvcjogcHJvcHMuZGlzYWJsZWQgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuICAgICAgZGlzcGxheTogJ3RhYmxlJyxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgY3Vyc29yOiAnaW5oZXJpdCcsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYWxsJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWFyZ2luOiAwXG4gICAgfSxcbiAgICBjb250cm9sczoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHdpZHRoOiAnY2FsYygxMDAlIC0gNjBweCknLFxuICAgICAgbGluZUhlaWdodDogJzI0cHgnLFxuICAgICAgY29sb3I6IGJhc2VUaGVtZS5wYWxldHRlLnRleHRDb2xvcixcbiAgICAgIGZvbnRGYW1pbHk6IGJhc2VUaGVtZS5mb250RmFtaWx5XG4gICAgfSxcbiAgICB3cmFwOiB7XG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICB3aWR0aDogNjAgLSBiYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wR3V0dGVyTGVzcyxcbiAgICAgIG1hcmdpblJpZ2h0OiBwcm9wcy5sYWJlbFBvc2l0aW9uID09PSAncmlnaHQnID8gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MgOiAwLFxuICAgICAgbWFyZ2luTGVmdDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ2xlZnQnID8gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MgOiAwXG4gICAgfSxcbiAgICByaXBwbGU6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy5yaXBwbGVDb2xvciB8fCBiYXNlVGhlbWUucGFsZXR0ZS5wcmltYXJ5MUNvbG9yLFxuICAgICAgaGVpZ2h0OiAnMjAwJScsXG4gICAgICB3aWR0aDogJzIwMCUnLFxuICAgICAgdG9wOiAtMTIsXG4gICAgICBsZWZ0OiAtMTJcbiAgICB9XG4gIH07XG59XG5cbnZhciBFbmhhbmNlZFN3aXRjaCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBFbmhhbmNlZFN3aXRjaCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBFbmhhbmNlZFN3aXRjaCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBFbmhhbmNlZFN3aXRjaC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRW5oYW5jZWRTd2l0Y2gpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgIH0sIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgaXNJbnB1dENoZWNrZWQgPSBfdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQ7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ2NoZWNrZWQnKSAmJiBfdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZShpc0lucHV0Q2hlY2tlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblN3aXRjaCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblN3aXRjaChldmVudCwgaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjb2RlID0gKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCk7XG5cbiAgICAgIGlmIChjb2RlID09PSAndGFiJykge1xuICAgICAgICBfdGhpcy50YWJQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc0tleWJvYXJkRm9jdXNlZCAmJiBjb2RlID09PSAnc3BhY2UnKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZShldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc0tleWJvYXJkRm9jdXNlZCAmJiAoMCwgX2tleWNvZGUyLmRlZmF1bHQpKGV2ZW50KSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gb25seSBsaXN0ZW4gdG8gbGVmdCBjbGlja3NcbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IDApIHtcbiAgICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5zdGFydChldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuZW5kKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuZW5kKCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5zdGFydChldmVudCk7XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQmx1cikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBzZXRUaW1lb3V0IGlzIG5lZWRlZCBiZWN1YXNlIHRoZSBmb2N1cyBldmVudCBmaXJlcyBmaXJzdFxuICAgICAgLy8gV2FpdCBzbyB0aGF0IHdlIGNhbiBjYXB0dXJlIGlmIHRoaXMgd2FzIGEga2V5Ym9hcmQgZm9jdXNcbiAgICAgIC8vIG9yIHRvdWNoIGZvY3VzXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLnRhYlByZXNzZWQpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0tleWJvYXJkRm9jdXNlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCAxNTApO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRW5oYW5jZWRTd2l0Y2gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBpbnB1dE5vZGUgPSB0aGlzLnJlZnMuY2hlY2tib3g7XG4gICAgICBpZiAoKCF0aGlzLnByb3BzLnN3aXRjaGVkIHx8IGlucHV0Tm9kZS5jaGVja2VkICE9PSB0aGlzLnByb3BzLnN3aXRjaGVkKSAmJiB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaW5wdXROb2RlLmNoZWNrZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIGhhc0NoZWNrZWRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJyk7XG4gICAgICB2YXIgaGFzTmV3RGVmYXVsdFByb3AgPSBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRDaGVja2VkJykgJiYgbmV4dFByb3BzLmRlZmF1bHRDaGVja2VkICE9PSB0aGlzLnByb3BzLmRlZmF1bHRDaGVja2VkO1xuXG4gICAgICBpZiAoaGFzQ2hlY2tlZFByb3AgfHwgaGFzTmV3RGVmYXVsdFByb3ApIHtcbiAgICAgICAgdmFyIHN3aXRjaGVkID0gbmV4dFByb3BzLmNoZWNrZWQgfHwgbmV4dFByb3BzLmRlZmF1bHRDaGVja2VkIHx8IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiBzd2l0Y2hlZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSAmJiBzd2l0Y2hlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoc3dpdGNoZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3dpdGNoZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgLy8gbm8gY2FsbGJhY2sgaGVyZSBiZWNhdXNlIHRoZXJlIGlzIG5vIGV2ZW50XG5cbiAgfSwge1xuICAgIGtleTogJ3NldFN3aXRjaGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3dpdGNoZWQobmV3U3dpdGNoZWRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgfHwgdGhpcy5wcm9wcy5jaGVja2VkID09PSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUobmV3U3dpdGNoZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZzLmNoZWNrYm94LmNoZWNrZWQgPSBuZXdTd2l0Y2hlZFZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIGZhbHNlID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ01hdGVyaWFsLVVJOiBDYW5ub3QgY2FsbCBzZXQgbWV0aG9kIHdoaWxlIGNoZWNrZWQgaXMgZGVmaW5lZCBhcyBhIHByb3BlcnR5LicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZzLmNoZWNrYm94LnZhbHVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrYm94IGlucHV0cyBvbmx5IHVzZSBTUEFDRSB0byBjaGFuZ2UgdGhlaXIgc3RhdGUuIFVzaW5nIEVOVEVSIHdpbGxcbiAgICAvLyB1cGRhdGUgdGhlIHVpIGJ1dCBub3QgdGhlIGlucHV0LlxuXG5cbiAgICAvKipcbiAgICAgKiBCZWNhdXNlIGJvdGggdGhlIHJpcHBsZXMgYW5kIHRoZSBjaGVja2JveCBpbnB1dCBjYW5ub3Qgc2hhcmUgcG9pbnRlclxuICAgICAqIGV2ZW50cywgdGhlIGNoZWNrYm94IGlucHV0IHRha2VzIGNvbnRyb2wgb2YgcG9pbnRlciBldmVudHMgYW5kIGNhbGxzXG4gICAgICogcmlwcGxlIGFuaW1hdGlvbnMgbWFudWFsbHkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG5hbWUgPSBfcHJvcHMubmFtZSxcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgICBpY29uU3R5bGUgPSBfcHJvcHMuaWNvblN0eWxlLFxuICAgICAgICAgIGlucHV0U3R5bGUgPSBfcHJvcHMuaW5wdXRTdHlsZSxcbiAgICAgICAgICBpbnB1dFR5cGUgPSBfcHJvcHMuaW5wdXRUeXBlLFxuICAgICAgICAgIGxhYmVsID0gX3Byb3BzLmxhYmVsLFxuICAgICAgICAgIGxhYmVsU3R5bGUgPSBfcHJvcHMubGFiZWxTdHlsZSxcbiAgICAgICAgICBsYWJlbFBvc2l0aW9uID0gX3Byb3BzLmxhYmVsUG9zaXRpb24sXG4gICAgICAgICAgb25Td2l0Y2ggPSBfcHJvcHMub25Td2l0Y2gsXG4gICAgICAgICAgb25CbHVyID0gX3Byb3BzLm9uQmx1cixcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25Nb3VzZVVwID0gX3Byb3BzLm9uTW91c2VVcCxcbiAgICAgICAgICBvbk1vdXNlRG93biA9IF9wcm9wcy5vbk1vdXNlRG93bixcbiAgICAgICAgICBvbk1vdXNlTGVhdmUgPSBfcHJvcHMub25Nb3VzZUxlYXZlLFxuICAgICAgICAgIG9uVG91Y2hTdGFydCA9IF9wcm9wcy5vblRvdWNoU3RhcnQsXG4gICAgICAgICAgb25Ub3VjaEVuZCA9IF9wcm9wcy5vblRvdWNoRW5kLFxuICAgICAgICAgIG9uUGFyZW50U2hvdWxkVXBkYXRlID0gX3Byb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVUb3VjaFJpcHBsZSA9IF9wcm9wcy5kaXNhYmxlVG91Y2hSaXBwbGUsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzUmlwcGxlID0gX3Byb3BzLmRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIHJpcHBsZUNvbG9yID0gX3Byb3BzLnJpcHBsZUNvbG9yLFxuICAgICAgICAgIHJpcHBsZVN0eWxlID0gX3Byb3BzLnJpcHBsZVN0eWxlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN3aXRjaGVkID0gX3Byb3BzLnN3aXRjaGVkLFxuICAgICAgICAgIHN3aXRjaEVsZW1lbnQgPSBfcHJvcHMuc3dpdGNoRWxlbWVudCxcbiAgICAgICAgICB0aHVtYlN0eWxlID0gX3Byb3BzLnRodW1iU3R5bGUsXG4gICAgICAgICAgdHJhY2tTdHlsZSA9IF9wcm9wcy50cmFja1N0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ25hbWUnLCAndmFsdWUnLCAnaWNvblN0eWxlJywgJ2lucHV0U3R5bGUnLCAnaW5wdXRUeXBlJywgJ2xhYmVsJywgJ2xhYmVsU3R5bGUnLCAnbGFiZWxQb3NpdGlvbicsICdvblN3aXRjaCcsICdvbkJsdXInLCAnb25Gb2N1cycsICdvbk1vdXNlVXAnLCAnb25Nb3VzZURvd24nLCAnb25Nb3VzZUxlYXZlJywgJ29uVG91Y2hTdGFydCcsICdvblRvdWNoRW5kJywgJ29uUGFyZW50U2hvdWxkVXBkYXRlJywgJ2Rpc2FibGVkJywgJ2Rpc2FibGVUb3VjaFJpcHBsZScsICdkaXNhYmxlRm9jdXNSaXBwbGUnLCAnY2xhc3NOYW1lJywgJ3JpcHBsZUNvbG9yJywgJ3JpcHBsZVN0eWxlJywgJ3N0eWxlJywgJ3N3aXRjaGVkJywgJ3N3aXRjaEVsZW1lbnQnLCAndGh1bWJTdHlsZScsICd0cmFja1N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIHdyYXBTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLndyYXAsIGljb25TdHlsZSk7XG4gICAgICB2YXIgbWVyZ2VkUmlwcGxlU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJpcHBsZSwgcmlwcGxlU3R5bGUpO1xuXG4gICAgICBpZiAodGh1bWJTdHlsZSkge1xuICAgICAgICB3cmFwU3R5bGVzLm1hcmdpbkxlZnQgLz0gMjtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5SaWdodCAvPSAyO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGFiZWxFbGVtZW50ID0gbGFiZWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsYWJlbCcsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5sYWJlbCwgbGFiZWxTdHlsZSkpIH0sXG4gICAgICAgIGxhYmVsXG4gICAgICApO1xuXG4gICAgICB2YXIgc2hvd1RvdWNoUmlwcGxlID0gIWRpc2FibGVkICYmICFkaXNhYmxlVG91Y2hSaXBwbGU7XG4gICAgICB2YXIgc2hvd0ZvY3VzUmlwcGxlID0gIWRpc2FibGVkICYmICFkaXNhYmxlRm9jdXNSaXBwbGU7XG5cbiAgICAgIHZhciB0b3VjaFJpcHBsZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Ub3VjaFJpcHBsZTIuZGVmYXVsdCwge1xuICAgICAgICByZWY6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIGtleTogJ3RvdWNoUmlwcGxlJyxcbiAgICAgICAgc3R5bGU6IG1lcmdlZFJpcHBsZVN0eWxlLFxuICAgICAgICBjb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGUuY29sb3IsXG4gICAgICAgIG11aVRoZW1lOiB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgIGNlbnRlclJpcHBsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBmb2N1c1JpcHBsZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Gb2N1c1JpcHBsZTIuZGVmYXVsdCwge1xuICAgICAgICBrZXk6ICdmb2N1c1JpcHBsZScsXG4gICAgICAgIGlubmVyU3R5bGU6IG1lcmdlZFJpcHBsZVN0eWxlLFxuICAgICAgICBjb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGUuY29sb3IsXG4gICAgICAgIG11aVRoZW1lOiB0aGlzLmNvbnRleHQubXVpVGhlbWUsXG4gICAgICAgIHNob3c6IHRoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcmlwcGxlcyA9IFtzaG93VG91Y2hSaXBwbGUgPyB0b3VjaFJpcHBsZSA6IG51bGwsIHNob3dGb2N1c1JpcHBsZSA/IGZvY3VzUmlwcGxlIDogbnVsbF07XG5cbiAgICAgIHZhciBpbnB1dEVsZW1lbnQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwge1xuICAgICAgICByZWY6ICdjaGVja2JveCcsXG4gICAgICAgIHR5cGU6IGlucHV0VHlwZSxcbiAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pbnB1dCwgaW5wdXRTdHlsZSkpLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgb25Nb3VzZVVwOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZVVwLFxuICAgICAgICBvbk1vdXNlRG93bjogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VEb3duLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgIG9uVG91Y2hTdGFydDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcbiAgICAgICAgb25Ub3VjaEVuZDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlVG91Y2hFbmRcbiAgICAgIH0pKTtcblxuICAgICAgLy8gSWYgdG9nZ2xlIGNvbXBvbmVudCAoaW5kaWNhdGVkIGJ5IHdoZXRoZXIgdGhlIHN0eWxlIGluY2x1ZGVzIHRodW1iKSBtYW51YWxseSBsYXkgb3V0XG4gICAgICAvLyBlbGVtZW50cyBpbiBvcmRlciB0byBuZXN0IHJpcHBsZSBlbGVtZW50c1xuICAgICAgdmFyIHN3aXRjaE9yVGh1bWJFbGVtZW50ID0gIXRodW1iU3R5bGUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgc3dpdGNoRWxlbWVudCxcbiAgICAgICAgcmlwcGxlc1xuICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyh3cmFwU3R5bGVzKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHRyYWNrU3R5bGUpKSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1BhcGVyMi5kZWZhdWx0LFxuICAgICAgICAgIHsgc3R5bGU6IHRodW1iU3R5bGUsIHpEZXB0aDogMSwgY2lyY2xlOiB0cnVlIH0sXG4gICAgICAgICAgJyAnLFxuICAgICAgICAgIHJpcHBsZXMsXG4gICAgICAgICAgJyAnXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIHZhciBlbGVtZW50c0luT3JkZXIgPSBsYWJlbFBvc2l0aW9uID09PSAncmlnaHQnID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZXMuY29udHJvbHMgfSxcbiAgICAgICAgc3dpdGNoT3JUaHVtYkVsZW1lbnQsXG4gICAgICAgIGxhYmVsRWxlbWVudFxuICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIGxhYmVsRWxlbWVudCxcbiAgICAgICAgc3dpdGNoT3JUaHVtYkVsZW1lbnRcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiAncm9vdCcsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcFxuICAgICAgICB9KSxcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBlbGVtZW50c0luT3JkZXJcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBFbmhhbmNlZFN3aXRjaDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkVuaGFuY2VkU3dpdGNoLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5FbmhhbmNlZFN3aXRjaC5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZGVmYXVsdENoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZUZvY3VzUmlwcGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVUb3VjaFJpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBpY29uU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBpbnB1dFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBsYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnbGVmdCcsICdyaWdodCddKSxcbiAgbGFiZWxTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG5hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBvbkJsdXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlRG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZVVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uUGFyZW50U2hvdWxkVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uU3dpdGNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hFbmQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Ub3VjaFN0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHJpcHBsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgcmlwcGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHN3aXRjaEVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBzd2l0Y2hlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIHRodW1iU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICB0cmFja1N0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBFbmhhbmNlZFN3aXRjaDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDM5Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSBmdW5jdGlvbiBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayhwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTkgNXYxNEg1VjVoMTRtMC0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rKTtcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rJztcblRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzkzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXG52YXIgX3B1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHVyZSk7XG5cbnZhciBfU3ZnSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUb2dnbGVDaGVja0JveCA9IGZ1bmN0aW9uIFRvZ2dsZUNoZWNrQm94KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6JyB9KVxuICApO1xufTtcblRvZ2dsZUNoZWNrQm94ID0gKDAsIF9wdXJlMi5kZWZhdWx0KShUb2dnbGVDaGVja0JveCk7XG5Ub2dnbGVDaGVja0JveC5kaXNwbGF5TmFtZSA9ICdUb2dnbGVDaGVja0JveCc7XG5Ub2dnbGVDaGVja0JveC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVDaGVja0JveDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQwMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTEFSR0UgPSBleHBvcnRzLk1FRElVTSA9IGV4cG9ydHMuU01BTEwgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3aXRoV2lkdGg7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNNQUxMID0gZXhwb3J0cy5TTUFMTCA9IDE7XG52YXIgTUVESVVNID0gZXhwb3J0cy5NRURJVU0gPSAyO1xudmFyIExBUkdFID0gZXhwb3J0cy5MQVJHRSA9IDM7XG5cbmZ1bmN0aW9uIHdpdGhXaWR0aCgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkbGFyZ2VXaWR0aCA9IG9wdGlvbnMubGFyZ2VXaWR0aCxcbiAgICAgIGxhcmdlV2lkdGggPSBfb3B0aW9ucyRsYXJnZVdpZHRoID09PSB1bmRlZmluZWQgPyA5OTIgOiBfb3B0aW9ucyRsYXJnZVdpZHRoLFxuICAgICAgX29wdGlvbnMkbWVkaXVtV2lkdGggPSBvcHRpb25zLm1lZGl1bVdpZHRoLFxuICAgICAgbWVkaXVtV2lkdGggPSBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9PT0gdW5kZWZpbmVkID8gNzY4IDogX29wdGlvbnMkbWVkaXVtV2lkdGgsXG4gICAgICBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPSBvcHRpb25zLnJlc2l6ZUludGVydmFsLFxuICAgICAgcmVzaXplSW50ZXJ2YWwgPSBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPT09IHVuZGVmaW5lZCA/IDE2NiA6IF9vcHRpb25zJHJlc2l6ZUludGVydjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoTXlDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFdpdGhXaWR0aCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhXaWR0aCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBXaXRoV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFdpdGhXaWR0aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoV2l0aFdpZHRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSwgX3RoaXMuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgICBfdGhpcy5kZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVXaWR0aCgpO1xuICAgICAgICAgIH0sIHJlc2l6ZUludGVydmFsKTtcbiAgICAgICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoV2l0aFdpZHRoLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVmZXJUaW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlV2lkdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgICAgICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAoaW5uZXJXaWR0aCA+PSBsYXJnZVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IExBUkdFO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5uZXJXaWR0aCA+PSBtZWRpdW1XaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBNRURJVU07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlubmVyV2lkdGggPCA3NjhcbiAgICAgICAgICAgIHdpZHRoID0gU01BTEw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hlbiByZW5kZXJpbmcgdGhlIGNvbXBvbmVudCBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgICAqIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB0aGUgc2NyZWVuIHdpZHRoLlxuICAgICAgICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgYmxpbmtzIGFuZCBoZWxwIHRoZSByZWNvbmNpbGlhdGlvblxuICAgICAgICAgICAqIHdlIGFyZSBub3QgcmVuZGVyaW5nIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBIGJldHRlciBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzZW5kIGNsaWVudCBoaW50cy5cbiAgICAgICAgICAgKiBCdXQgdGhlIGJyb3dzZXIgc3VwcG9ydCBvZiB0aGlzIEFQSSBpcyBsb3c6XG4gICAgICAgICAgICogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2xpZW50JTIwaGludFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAnd2luZG93Jywgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNeUNvbXBvbmVudCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIFdpdGhXaWR0aDtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICB9O1xufVxuXG4vKioqLyB9KVxuXG59LFsyNDRdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYWRtaW5iYWNrb2ZmaWNlLmJ1bmRsZS5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9DaGVja2JveCA9IHJlcXVpcmUoJy4vQ2hlY2tib3gnKTtcblxudmFyIF9DaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGVja2JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9DaGVja2JveDIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvQ2hlY2tib3gvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfRGlhbG9nID0gcmVxdWlyZSgnLi9EaWFsb2cnKTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0RpYWxvZzIuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvRGlhbG9nL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX1NuYWNrYmFyID0gcmVxdWlyZSgnLi9TbmFja2JhcicpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX1NuYWNrYmFyMi5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuXHJcbmltcG9ydCBBcHBCYXIgZnJvbSAnbWF0ZXJpYWwtdWkvQXBwQmFyJztcclxuaW1wb3J0IERyYXdlciBmcm9tICdtYXRlcmlhbC11aS9EcmF3ZXInO1xyXG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnbWF0ZXJpYWwtdWkvTWVudUl0ZW0nO1xyXG5pbXBvcnQgQXJyb3dEcm9wUmlnaHQgZnJvbSAnbWF0ZXJpYWwtdWkvc3ZnLWljb25zL25hdmlnYXRpb24tYXJyb3ctZHJvcC1yaWdodCc7XHJcblxyXG5pbXBvcnQgSWNvbk1lbnUgZnJvbSAnbWF0ZXJpYWwtdWkvSWNvbk1lbnUnO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9JY29uQnV0dG9uJztcclxuaW1wb3J0IE1vcmVWZXJ0SWNvbiBmcm9tICdtYXRlcmlhbC11aS9zdmctaWNvbnMvbmF2aWdhdGlvbi9tb3JlLXZlcnQnO1xyXG5cclxuXHJcbmZ1bmN0aW9uIFN1Yk1lbnUocHJvcHMpIHtcclxuICAgIHJldHVybiA8SWNvbk1lbnVcclxuICAgICAgICBpY29uQnV0dG9uRWxlbWVudD17XHJcbiAgICAgICAgICAgIDxJY29uQnV0dG9uID48TW9yZVZlcnRJY29uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N1Ym1lbnUtc3ZnJ1xyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZpbGw6ICd3aGl0ZScgfX0gLz5cclxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRPcmlnaW49e3sgaG9yaXpvbnRhbDogJ3JpZ2h0JywgdmVydGljYWw6ICd0b3AnIH19XHJcbiAgICAgICAgYW5jaG9yT3JpZ2luPXt7IGhvcml6b250YWw6ICdyaWdodCcsIHZlcnRpY2FsOiAndG9wJyB9fT5cclxuXHJcbiAgICAgICAgPE1lbnVJdGVtIHByaW1hcnlUZXh0PVwiQ2VycmFyIHNlc2lvblwiIG9uQ2xpY2s9e3Byb3BzLm9uTG9nb3V0fSAvPlxyXG4gICAgPC9JY29uTWVudT47XHJcbn1cclxuXHJcblN1Yk1lbnUubXVpTmFtZSA9ICdJY29uTWVudSc7XHJcblxyXG5jb25zdCBBZG1pbkJhY2tvZmZpY2VCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZHJhd2VyT3BlbjogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXREZWZhdWx0UHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb25Mb2dvdXQ6ICgpID0+IHsgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlRHJhd2VyKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3ZXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlRHJhd2VyKCkge1xyXG4gICAgICAgIGNvbnN0IGRyYXdlck9wZW4gPSAhdGhpcy5zdGF0ZS5kcmF3ZXJPcGVuO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3ZXJPcGVuIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiA+XHJcbiAgICAgICAgICAgICAgICA8QXBwQmFyXHJcbiAgICAgICAgICAgICAgICAgICAgb25MZWZ0SWNvbkJ1dHRvblRvdWNoVGFwPXt0aGlzLnRvZ2dsZURyYXdlcn1cclxuICAgICAgICAgICAgICAgICAgICBpY29uRWxlbWVudFJpZ2h0PXs8U3ViTWVudSBvbkxvZ291dD17dGhpcy5wcm9wcy5vbkxvZ291dH0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZG1pbmlzdHJhY2lvbiBIT1kgQ09NT1wiIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgPERyYXdlciBvcGVuPXt0aGlzLnN0YXRlLmRyYXdlck9wZW59IGRvY2tlZD17ZmFsc2V9IG9uUmVxdWVzdENoYW5nZT17b3BlbiA9PiB0aGlzLnNldFN0YXRlKHsgZHJhd2VyT3Blbjogb3BlbiB9KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL2luZGV4XCIgb25DbGljaz17dGhpcy5jbG9zZURyYXdlcn0+PE1lbnVJdGVtID5QcmluY2lwYWw8L01lbnVJdGVtPjwvTGluaz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHByaW1hcnlUZXh0PSdDb21lcmNpb3MnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0SWNvbj17PEFycm93RHJvcFJpZ2h0IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbXM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL3Nob3BzL2NyZWF0ZVwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VEcmF3ZXJ9PjxNZW51SXRlbSA+Q3JlYXI8L01lbnVJdGVtPjwvTGluaz4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9zaG9wcy9saXN0XCIgb25DbGljaz17dGhpcy5jbG9zZURyYXdlcn0+PE1lbnVJdGVtID5WZXI8L01lbnVJdGVtPjwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXX0gLz5cclxuICAgICAgICAgICAgICAgIDwvRHJhd2VyPlxyXG4gICAgICAgICAgICA8L2RpdiA+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBZG1pbkJhY2tvZmZpY2VCYXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9BZG1pbkJhY2tvZmZpY2VCYXIuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuLyoqIENvbXBvbmVudGUgaW5kaWNlIGRlIGFkbWluaXN0cmFjaW9uIGRlIEhPWSBDT01PICovXHJcbmNvbnN0IEFkbWluSW5kZXggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpdGgtbWFyZ2luIGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8aDE+QWRtaW5pc3RyYWNpb24gZGUgSE9ZIENPTU88L2gxPlxyXG4gICAgICAgICAgICAgICAgPGgyPkNvbmZpZ3VyYWNpb24geSBlc3RhZGlzdGljYXM8L2gyPlxyXG4gICAgICAgICAgICAgICAgPHA+RGVzZGUgYXF1aSBlcyBwb3NpYmxlIG1vbml0b3JlYXIgYSBsb3MgdXN1YXJpb3MgcmVnaXN0cmFkb3MgeSBjb21lcmNpb3MgXHJcbiAgICAgICAgICAgICAgICAgICAgYXNvY2lhZG9zIGEgbGEgYXBsaWNhY2lvbi5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBZG1pbkluZGV4O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQWRtaW5JbmRleC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgTXVpVGhlbWVQcm92aWRlciBmcm9tICdtYXRlcmlhbC11aS9zdHlsZXMvTXVpVGhlbWVQcm92aWRlcic7XHJcbmltcG9ydCBSYWlzZWRCdXR0b24gZnJvbSAnbWF0ZXJpYWwtdWkvUmFpc2VkQnV0dG9uJztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdtYXRlcmlhbC11aS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkQWN0aW9ucywgQ2FyZEhlYWRlciwgQ2FyZFRleHQgfSBmcm9tICdtYXRlcmlhbC11aS9DYXJkJztcclxuaW1wb3J0IEZsYXRCdXR0b24gZnJvbSAnbWF0ZXJpYWwtdWkvRmxhdEJ1dHRvbic7XHJcblxyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7XHJcbi8vaW1wb3J0IG1haW5Db25maWcgZnJvbSAnLi4vY29uZmlnL21haW4tY29uZmlnJztcclxuXHJcbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCBFTVBUWV9DQUxMQkFDSyA9ICgpID0+IHsgfTtcclxuXHJcbmNvbnN0IEFkbWluTG9naW4gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1c2VybmFtZTogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICAgICAgZXJyTXNnOiBudWxsLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7IG9uU3VibWl0OiBFTVBUWV9DQUxMQkFDSyB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnN0YXRlLnVzZXJuYW1lO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5zdGF0ZS5wYXNzd29yZDtcclxuXHJcbiAgICAgICAgLy9oYWdvIGVuY29kaW5nIGJhc2U2NCBwYXJhIHBhc2FyIGxhcyBjcmVkZW5jaWFsZXNcclxuICAgICAgICBjb25zdCBlbmNvZGVkID0gYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcclxuXHJcbiAgICAgICAgYXhpb3Moe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywgLy95b3UgY2FuIHNldCB3aGF0IHJlcXVlc3QgeW91IHdhbnQgdG8gYmVcclxuICAgICAgICAgICAgdXJsOiAnL2FwaS92MS9hZG1pbi9sb2dpbicsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBlbmNvZGVkIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihjb250ZW50cyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udGVuaWRvOicpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29udGVudHMuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0KGNvbnRlbnRzLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goY2F1c2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3InKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJNc2c6ICdDcmVkZW5jaWFsZXMgaW52YWxpZGFzJyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGhhbmRsZUtleVByZXNzOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5ID09ICdFbnRlcicpIHRoaXMuc3VibWl0Rm9ybSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgbXNnRWxlbSA9IHRoaXMuc3RhdGUuZXJyTXNnID8gPHAgc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19ID57dGhpcy5zdGF0ZS5lcnJNc2d9PC9wPiA6IDxkaXYgLz47XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgb25LZXlQcmVzcz17dGhpcy5oYW5kbGVLZXlQcmVzc30+XHJcbiAgICAgICAgICAgICAgICA8SGVhZGVyIHRpdGxlPVwiQWRtaW4gSE9ZIENPTU9cIiAvPlxyXG4gICAgICAgICAgICAgICAge21zZ0VsZW19XHJcbiAgICAgICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiSW5pY2lhciBzZXNpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU9J0luZ3Jlc2UgY3JlZGVuY2lhbGVzJyAvPjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGV4dCBleHBhbmRhYmxlPXtmYWxzZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInVzZXJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwidXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwidXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyB1c2VybmFtZTogZS50YXJnZXQudmFsdWUgfSl9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludFRleHQ9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlIH0pfSAvPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUZXh0PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZsYXRCdXR0b24gbGFiZWw9XCJJbmljaWFyIHNlc2lvblwiIG9uQ2xpY2s9e3RoaXMuc3VibWl0Rm9ybX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9NdWlUaGVtZVByb3ZpZGVyID5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBZG1pbkxvZ2luO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQWRtaW5Mb2dpbi5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgTXVpVGhlbWVQcm92aWRlciBmcm9tICdtYXRlcmlhbC11aS9zdHlsZXMvTXVpVGhlbWVQcm92aWRlcic7XHJcbmltcG9ydCBSYWlzZWRCdXR0b24gZnJvbSAnbWF0ZXJpYWwtdWkvUmFpc2VkQnV0dG9uJztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdtYXRlcmlhbC11aS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkQWN0aW9ucywgQ2FyZEhlYWRlciwgQ2FyZFRleHQgfSBmcm9tICdtYXRlcmlhbC11aS9DYXJkJztcclxuaW1wb3J0IENoZWNrYm94IGZyb20gJ21hdGVyaWFsLXVpL0NoZWNrYm94JztcclxuaW1wb3J0IEZsYXRCdXR0b24gZnJvbSAnbWF0ZXJpYWwtdWkvRmxhdEJ1dHRvbic7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnbWF0ZXJpYWwtdWkvRGlhbG9nJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ21hdGVyaWFsLXVpL1NuYWNrYmFyJztcclxuXHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vSGVhZGVyJztcclxuXHJcbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCBTaG9wRm9ybSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldERlZmF1bHRQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4geyB0b2tlbjogJycgfTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0SW5pdGlhbFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1zZ1NuYWNrYmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICBhZGRyZXNzOiAnJyxcclxuICAgICAgICAgICAgcGhvbmU6ICcnLFxyXG4gICAgICAgICAgICB6b25lOiAnJ1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbjogJyArIHRoaXMucHJvcHMudG9rZW4pO1xyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuU25hY2tiYXIobXNnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FicmllbmRvIHNuYWNrIGJhcicpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtc2dTbmFja2Jhck9wZW46IHRydWUsIHNuYWNrYmFyTWVzc2FnZTogbXNnIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBoYW5kbGVTbmFja2JhclJlcXVlc3RDbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbXNnU25hY2tiYXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgaGFuZGxlU2hvcENyZWF0ZVN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHNob3BJZCA9IGRhdGEuc2hvcC5pZDtcclxuICAgICAgICB0aGlzLm9wZW5TbmFja2JhcihgQ29tZXJjaW8gJHtzaG9wSWR9IGNyZWFkb2ApO1xyXG4gICAgfSxcclxuXHJcbiAgICBoYW5kbGVTaG9wQ3JlYXRlRXJyb3IoY2F1c2UpIHtcclxuICAgICAgICB0aGlzLm9wZW5TbmFja2JhcihjYXVzZS5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgfSxcclxuXHJcbiAgICBjaGVja0ZpZWxkcygpIHtcclxuICAgICAgICBjb25zdCB7IG5hbWUsIGFkZHJlc3MsIHBob25lLCB6b25lIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGlmICghbmFtZSB8fCAhYWRkcmVzcyB8fCAhcGhvbmUgfHwgIXpvbmUpIHJldHVybiB7IG9rOiBmYWxzZSwgbXNnOiAnUGFyYW1ldHJvcyBpbmNvbXBsZXRvcycgfTtcclxuICAgICAgICBlbHNlIHJldHVybiB7IG9rOiB0cnVlIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGNyZWF0ZVNob3AoKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGRzQ2hlY2sgPSB0aGlzLmNoZWNrRmllbGRzKCk7XHJcbiAgICAgICAgaWYgKCFmaWVsZHNDaGVjay5vaykgcmV0dXJuIHRoaXMub3BlblNuYWNrYmFyKGZpZWxkc0NoZWNrLm1zZyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHpvbmUgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHsgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHpvbmUgfTtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7IGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5wcm9wcy50b2tlbn1gIH0gfTtcclxuICAgICAgICBheGlvcy5wb3N0KCcvYXBpL3YxL3Nob3BzJywgYm9keSwgY29uZmlnKVxyXG4gICAgICAgICAgICAudGhlbihjb250ZW50cyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb250ZW50cy5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2hvcENyZWF0ZVN1Y2Nlc3MoY29udGVudHMuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGNhdXNlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTaG9wQ3JlYXRlRXJyb3IoY2F1c2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7cGFkZGluZ0JvdHRvbToxMCAsIGJhY2tncm91bmRDb2xvcjoncmdiYSgyNTUsMjU1LDI1NSwwLjcpJ319PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW46IDIwIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMT5OdWV2byBjb21lcmNpbzwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgPGhyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxoMj5EYXRvcyBkZWwgY29tZXJjaW88L2gyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJOb21icmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiTm9tYnJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJOb21icmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSl9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkRpcmVjY2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJEaXJlY2Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIkRpcmVjY2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyBhZGRyZXNzOiBlLnRhcmdldC52YWx1ZSB9KX0gLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiQmFycmlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIkJhcnJpbyBvIGRpc3RyaXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJCYXJyaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS56b25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnNldFN0YXRlKHsgem9uZTogZS50YXJnZXQudmFsdWUgfSl9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIlRlbGVmb25vXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIlRlbGVmb25vIHNpbiBndWlvbiBuaSBlc3BhY2lvc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nTGFiZWxUZXh0PVwiVGVsZWZvbm9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5waG9uZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IHBob25lOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nbnVtYmVyJyAvPjxiciAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGgyPkRhdG9zIGRlbCBhZG1pbmlzdHJhZG9yIGRlbCBjb21lcmNpbzwvaDI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIk5vbWJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ9XCJOb21icmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cIk5vbWJyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFkbWluTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5zZXRTdGF0ZSh7IGFkbWluTmFtZTogZS50YXJnZXQudmFsdWUgfSl9IC8+PGJyIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGludD1cIkVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFkbWluRW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyBhZG1pbkVtYWlsOiBlLnRhcmdldC52YWx1ZSB9KX0gLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPFJhaXNlZEJ1dHRvbiBzdHlsZT17eyBtYXJnaW5Ub3A6IDIwIH19IGxhYmVsPVwiQ3JlYXIgY29tZXJjaW9cIiBvbkNsaWNrPXt0aGlzLmNyZWF0ZVNob3B9IHNlY29uZGFyeT17dHJ1ZX0gLz5cclxuXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm1zZ1NuYWNrYmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLnNuYWNrYmFyTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXszMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmhhbmRsZVNuYWNrYmFyUmVxdWVzdENsb3NlfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNob3BGb3JtO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvU2hvcEZvcm0uanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IE11aVRoZW1lUHJvdmlkZXIgZnJvbSAnbWF0ZXJpYWwtdWkvc3R5bGVzL011aVRoZW1lUHJvdmlkZXInO1xyXG5pbXBvcnQgUmFpc2VkQnV0dG9uIGZyb20gJ21hdGVyaWFsLXVpL1JhaXNlZEJ1dHRvbic7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnbWF0ZXJpYWwtdWkvVGV4dEZpZWxkJztcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZEFjdGlvbnMsIENhcmRIZWFkZXIsIENhcmRUZXh0IH0gZnJvbSAnbWF0ZXJpYWwtdWkvQ2FyZCc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdtYXRlcmlhbC11aS9DaGVja2JveCc7XHJcbmltcG9ydCBGbGF0QnV0dG9uIGZyb20gJ21hdGVyaWFsLXVpL0ZsYXRCdXR0b24nO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJ21hdGVyaWFsLXVpL0RpYWxvZyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdtYXRlcmlhbC11aS9TbmFja2Jhcic7XHJcblxyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7XHJcbmltcG9ydCBTaG9wTWVudSBmcm9tICcuL1Nob3BNZW51JztcclxuXHJcbi8qIEZJTiBERSBJTVBPUlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCBFTVBUWV9DQUxMQkFDSyA9ICgpID0+IHsgfTtcclxuXHJcbmZ1bmN0aW9uIEJhblNob3BEaWFsb2cocHJvcHMpIHtcclxuICAgIGZ1bmN0aW9uIGJhblNob3AoKSB7XHJcbiAgICAgICAgY29uc3Qgc2hvcElkID0gcHJvcHMuc2hvcC5pZDtcclxuICAgICAgICBwcm9wcy5zaG9wLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBheGlvcyh7XHJcbiAgICAgICAgICAgIHVybDogYC9hcGkvdjEvc2hvcHMvJHtzaG9wSWR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtwcm9wcy50b2tlbn1gIH0sXHJcbiAgICAgICAgICAgIGRhdGE6IHByb3BzLnNob3BcclxuICAgICAgICB9KS50aGVuKGNvbnRlbnRzID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29udGVudHMuZGF0YSk7XHJcbiAgICAgICAgICAgIHByb3BzLm9uU3VjY2VzcygpO1xyXG4gICAgICAgIH0pLmNhdGNoKGNhdXNlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihjYXVzZSk7XHJcbiAgICAgICAgICAgIHByb3BzLm9uRXJyb3IoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY3Rpb25zID0gW1xyXG4gICAgICAgIDxGbGF0QnV0dG9uXHJcbiAgICAgICAgICAgIGxhYmVsPVwiQ2FuY2VsYXJcIlxyXG4gICAgICAgICAgICBwcmltYXJ5PXt0cnVlfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsb3NlfVxyXG4gICAgICAgIC8+LFxyXG4gICAgICAgIDxGbGF0QnV0dG9uXHJcbiAgICAgICAgICAgIGxhYmVsPVwiUHJvaGliaXJcIlxyXG4gICAgICAgICAgICBwcmltYXJ5PXt0cnVlfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXtiYW5TaG9wfVxyXG4gICAgICAgIC8+LFxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgdGl0bGU9e2BQcm9oaWJpciBjb21lcmNpbyAke3Byb3BzLnNob3AuaWR9YH1cclxuICAgICAgICAgICAgYWN0aW9ucz17YWN0aW9uc31cclxuICAgICAgICAgICAgbW9kYWw9e3RydWV9XHJcbiAgICAgICAgICAgIG9wZW49e3Byb3BzLm9wZW59PlxyXG4gICAgICAgICAgICDCv0Rlc2VhIFByb2hpYmlyIGVsIGNvbWVyY2lvP1xyXG4gICAgICAgIDwvRGlhbG9nPlxyXG4gICAgKTtcclxufVxyXG5cclxuY29uc3QgU2hvcExpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXREZWZhdWx0UHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdG9rZW46ICcnIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGdldEluaXRpYWxTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzaG9wczogW10sXHJcbiAgICAgICAgICAgIGVyclNuYWNrYmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGJhblNob3A6IG51bGwsXHJcbiAgICAgICAgICAgIHNob3BNZW51OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZFNob3BzKCkge1xyXG4gICAgICAgIGF4aW9zLmdldChgL2FwaS92MS9zaG9wcz90b2tlbj0ke3RoaXMucHJvcHMudG9rZW59YClcclxuICAgICAgICAgICAgLnRoZW4oY29udGVudHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvcHMgPSBjb250ZW50cy5kYXRhLnNob3BzO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvYWRTaG9wcyBzaG9wczogJyArIHNob3BzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG9wczonKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNob3BzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG9wcyB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGNhdXNlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuRXJyU25hY2tiYXIoJ0Vycm9yIGFsIG9idGVuZXIgbG9zIGNvbWVyY2lvcycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuOiAnICsgdGhpcy5wcm9wcy50b2tlbik7XHJcbiAgICAgICAgdGhpcy5sb2FkU2hvcHMoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2hvcExpc3QgRElEIE1PVU5UJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5FcnJTbmFja2Jhcihtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQWJyaWVuZG8gc25hY2sgYmFyJyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVyclNuYWNrYmFyT3BlbjogdHJ1ZSwgZXJyU25hY2tiYXJNZXNzYWdlOiBtc2cgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGhhbmRsZUVyclNuYWNrYmFyUmVxdWVzdENsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJTbmFja2Jhck9wZW46IGZhbHNlIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBjbG9zZUJhbkRpYWxvZyhzaG9wKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGJhblNob3A6IG51bGwgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgb3BlbkJhbkRpYWxvZyhzaG9wKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hvcElkID0gc2hvcC5pZCB8fCBzaG9wO1xyXG4gICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgYmFuU2hvcDogc2hvcElkIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGhhbmRsZVNob3BCYW5TdWNjZXNzKHNob3ApIHtcclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlQmFuRGlhbG9nKHNob3ApKCk7XHJcbiAgICAgICAgICAgIHNlbGYubG9hZFNob3BzKCk7XHJcbiAgICAgICAgICAgIHNlbGYub3BlbkVyclNuYWNrYmFyKCdDb21lcmNpbyBiYW5lYWRvJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgZW5hYmxlU2hvcChzaG9wKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2hvcC5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBheGlvcyh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGAvYXBpL3YxL3Nob3BzLyR7c2hvcC5pZH1gLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c2VsZi5wcm9wcy50b2tlbn1gIH0sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBzaG9wXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihzZWxmLmxvYWRTaG9wcylcclxuICAgICAgICAgICAgICAgIC5jYXRjaChjYXVzZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjYXVzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGVuRXJyU25hY2tiYXIoJ0Vycm9yIGFsIGhhYmlsaXRhciBjb21lcmNpbycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgc2hvd01lbnUoc2hvcCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGF4aW9zKHtcclxuICAgICAgICAgICAgICAgIHVybDogYC9hcGkvdjEvc2hvcHMvJHtzaG9wLmlkfS9tZW51YCxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3NlbGYucHJvcHMudG9rZW59YCB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3dNZW51IGF4aW9zIHJlc3BvbnNlOiAnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc2hvcE1lbnU6IHJlc3BvbnNlLmRhdGEubWVudSB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goY2F1c2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2F1c2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYub3BlbkVyclNuYWNrYmFyKCdFcnJvciBhbCBvYnRlbmVyIG1lbnUgZGUgY29tZXJjaW8nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGhhbmRsZU1lbnVDbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvcE1lbnU6IG51bGwgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMuc3RhdGUuc2hvcHM6IFwiICsgdGhpcy5zdGF0ZS5zaG9wcyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3BzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2Pk5vIGhheSBjb21lcmNpb3MuLi48L2Rpdj47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYmFuU2hvcERpYWxvZyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYmFuU2hvcCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYW5kbyBkaWFsb2dvIGRlIGJhbmVvJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3AgPSB0aGlzLnN0YXRlLnNob3BzLmZpbmQocyA9PiBzLmlkID09IHRoaXMuc3RhdGUuYmFuU2hvcCk7XHJcbiAgICAgICAgICAgIGJhblNob3BEaWFsb2cgPSA8QmFuU2hvcERpYWxvZ1xyXG4gICAgICAgICAgICAgICAgc2hvcD17c2hvcH1cclxuICAgICAgICAgICAgICAgIHRva2VuPXt0aGlzLnByb3BzLnRva2VufVxyXG4gICAgICAgICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTaG9wQmFuU3VjY2VzcyhzaG9wKX1cclxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VCYW5EaWFsb2coc2hvcCl9XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yPXsoKSA9PiB0aGlzLm9wZW5FcnJTbmFja2JhcihgRXJyb3IgYWwgUHJvaGliaXIgZWwgY29tZXJjaW8gJHtzaG9wLmlkfWApfSAvPjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzaG9wTWVudUVsZW0gPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3BNZW51KSB7XHJcbiAgICAgICAgICAgIHNob3BNZW51RWxlbSA9IDxTaG9wTWVudSBtZW51PXt0aGlzLnN0YXRlLnNob3BNZW51fSBnb0JhY2s9e3RoaXMuaGFuZGxlTWVudUNsb3NlfSAvPjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNob3BDYXJkcyA9IHRoaXMuc3RhdGUuc2hvcHMubWFwKHNob3AgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBiYWNrQ29sb3JzID0gWycjMUE5Mzg2JywgJ3JnYigyMSwgMTE0LCAxMDUpJywgJyMxMzRFNDgnXTtcclxuICAgICAgICAgICAgbGV0IGNvbElkeCA9IDA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKDxDYXJkIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIiwgbWFyZ2luOiAxMCB9fSA+XHJcbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQ29tZXJjaW8gJHtzaG9wLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU9e3Nob3AubmFtZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8Q2FyZFRleHQgZXhwYW5kYWJsZT17ZmFsc2V9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+Tm9tYnJlPC9zdHJvbmc+OiB7c2hvcC5uYW1lfSA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5EaXJlY2Npb248L3N0cm9uZz46IHtzaG9wLmFkZHJlc3N9IDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkJhcnJpbzwvc3Ryb25nPjoge3Nob3Auem9uZX0gPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+VGVsZWZvbm88L3N0cm9uZz46IHtzaG9wLnBob25lfSA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L0NhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgPENhcmRBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGbGF0QnV0dG9uIGxhYmVsPVwiUHJvaGliaXJcIiBzZWNvbmRhcnk9e3RydWV9IGRpc2FibGVkPXshc2hvcC5lbmFibGVkfSBvbkNsaWNrPXt0aGlzLm9wZW5CYW5EaWFsb2coc2hvcCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZsYXRCdXR0b24gbGFiZWw9XCJIYWJpbGl0YXJcIiBkaXNhYmxlZD17c2hvcC5lbmFibGVkfSBvbkNsaWNrPXt0aGlzLmVuYWJsZVNob3Aoc2hvcCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZsYXRCdXR0b24gbGFiZWw9XCJNZW51XCIgb25DbGljaz17dGhpcy5zaG93TWVudShzaG9wKX0gLz5cclxuICAgICAgICAgICAgICAgIDwvQ2FyZEFjdGlvbnM+XHJcbiAgICAgICAgICAgIDwvQ2FyZD4pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtYWluRWxlbSA9IGJhblNob3BEaWFsb2cgfHwgc2hvcE1lbnVFbGVtIHx8IHNob3BDYXJkcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiA+XHJcbiAgICAgICAgICAgICAgICB7bWFpbkVsZW19XHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmVyclNuYWNrYmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVyclNuYWNrYmFyTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXszMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmhhbmRsZUVyclNuYWNrYmFyUmVxdWVzdENsb3NlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXYgPlxyXG4gICAgICAgICk7XHJcbiAgICB9LFxyXG5cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaG9wTGlzdDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL1Nob3BMaXN0LmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEZsYXRCdXR0b24gZnJvbSAnbWF0ZXJpYWwtdWkvRmxhdEJ1dHRvbic7XHJcblxyXG5cclxuY29uc3QgQWN0aW9uSGVhZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICBsZXQgdGl0bGUgPSBwcm9wcy50aXRsZSB8fCAnU2hhcmVkIHNlcnZlcic7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGJhY2tncm91bmRDb2xvcjogJ3JnYigwLCAxODgsIDIxMiknLCB0cmFuc2l0aW9uOiAnYWxsIDQ1MG1zIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKSAwbXMnLCBib3hTaXppbmc6ICdib3JkZXItYm94JywgZm9udEZhbWlseTogJ1JvYm90bywgc2Fucy1zZXJpZicsIGJvcmRlclJhZGl1czogJzBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCB6SW5kZXg6IDExMDAsIHdpZHRoOiAnMTAwJScsIGRpc3BsYXk6ICdmbGV4JywgcGFkZGluZ0xlZnQ6ICcyNHB4JywgcGFkZGluZ1JpZ2h0OiAnMjRweCcsIH19PlxyXG4gICAgICAgICAgICA8RmxhdEJ1dHRvbiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJyB9fSBsYWJlbD1cIlZvbHZlclwiIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uSGVhZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQWN0aW9uSGVhZGVyLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RG9tIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IEhhc2hSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgUm91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuXHJcbmltcG9ydCBNdWlUaGVtZVByb3ZpZGVyIGZyb20gJ21hdGVyaWFsLXVpL3N0eWxlcy9NdWlUaGVtZVByb3ZpZGVyJztcclxuXHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5pbXBvcnQgQWRtaW5CYWNrb2ZmaWNlQmFyIGZyb20gJy4vQWRtaW5CYWNrb2ZmaWNlQmFyJztcclxuaW1wb3J0IEFkbWluSW5kZXggZnJvbSAnLi9BZG1pbkluZGV4JztcclxuaW1wb3J0IEFkbWluTG9naW4gZnJvbSAnLi9BZG1pbkxvZ2luJztcclxuaW1wb3J0IFNob3BMaXN0IGZyb20gJy4vU2hvcExpc3QnO1xyXG5pbXBvcnQgU2hvcEZvcm0gZnJvbSAnLi9TaG9wRm9ybSc7XHJcblxyXG4vKiBFU1RFIEZSQUdNRU5UTyBERSBDT0RJR08gRVMgUkVRVUVSSURPIFBBUkEgTE9TIEVWRU5UT1MgREUgVElQTyBUT1VDSCBPIENMSUNLIEVOIENPTVBPTkVOVEVTIE1BVEVSSUFMLVVJICovXHJcbmltcG9ydCBpbmplY3RUYXBFdmVudFBsdWdpbiBmcm9tICdyZWFjdC10YXAtZXZlbnQtcGx1Z2luJztcclxuaW5qZWN0VGFwRXZlbnRQbHVnaW4oKTtcclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmNvbnNvbGUubG9nKCdQYXJzZWFuZG8gY29va2llICcgKyBkb2N1bWVudC5jb29raWUpO1xyXG5jb25zdCBjb29raWUgPSBkb2N1bWVudC5jb29raWUgfHwgJyc7XHJcbmNvbnN0IGNvb2tpZVRva2VuU3RyID0gY29va2llLnNwbGl0KCc7ICcpLmZpbmQocyA9PiBzLnN0YXJ0c1dpdGgoJ3Rva2VuPScpKTtcclxuY29uc3QgY29va2llVG9rZW4gPSBjb29raWVUb2tlblN0ciA/IGNvb2tpZVRva2VuU3RyLnJlcGxhY2UoJ3Rva2VuPScsICcnKSA6IG51bGw7XHJcblxyXG5jb25zdCBBZG1pbkJhY2tvZmZpY2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9rZW46IG51bGwsXHJcbiAgICAgICAgICAgIHVzZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHJlbmRlclJlYWR5OiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIC8qIFNFIENBUkdBTiBMQVMgQ0FOQ0lPTkVTIERFU1BVRVMgUVVFIEVMIENPTVBPTkVOVEUgSEFZQSBTSURPIE1PTlRBRE8gKi9cclxuICAgICAgICBjb25zb2xlLmxvZygnQWRtaW5CYWNrb2ZmaWNlIE1PTlRBREEhJyk7XHJcbiAgICAgICAgLyogU2kgc2UgZW5jdWVudHJhIHVuIHRva2VuIGVuIGxhcyBjb29raWVzIGVudG9uY2VzIHNlIHNldGVhIGVsIG1pc21vIHkgc2Ugb2J0aWVuZSBlbCB1c3VhcmlvXHJcbiAgICAgICAgQ2FzbyBjb250cmFyaW8sIHNlIG1hcmNhIGFsIGNvbXBvbmVudGUgY29tbyBsaXN0byBwYXJhIHJlbmRlcml6YXIgKi9cclxuICAgICAgICBpZiAoY29va2llVG9rZW4pIHRoaXMuc2V0VG9rZW4oY29va2llVG9rZW4pO1xyXG4gICAgICAgIGVsc2UgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlclJlYWR5OiB0cnVlIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRUb2tlbih0b2tlbikge1xyXG4gICAgICAgIHRva2VuID0gdG9rZW4udG9rZW4gfHwgdG9rZW47XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NldGVhbmRvIHRva2VuOiAnICsgdG9rZW4pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b2tlbiwgIHJlbmRlclJlYWR5OiB0cnVlIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfSxcclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JFTkRFUklORyBBZG1pbkJhY2tvZmZpY2UhJyk7XHJcblxyXG4gICAgICAgIC8vaWYgKCF0aGlzLnN0YXRlLnJlbmRlclJlYWR5KSByZXR1cm4gKDxzcGFuPkVzcGVyZS4uLjwvc3Bhbj4pO1xyXG5cclxuICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuc3RhdGUudG9rZW47XHJcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIDxBZG1pbkxvZ2luIG9uU3VibWl0PXt0aGlzLnNldFRva2VufSAvPjtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3dpbmRvdy5sb2NhdGlvbi5oYXNoOiAnICsgd2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PSAnIy8nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSRVBMQUNJTkcgTE9DQVRJT04nKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9hZG1pbiMvaW5kZXgnKTtcclxuICAgICAgICAgICAgLy9yZXR1cm4gPHNwYW4+UmVkaXJlY2Npb25hbmRvLi4uPC9zcGFuPjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIFNpIHVuIHVzdWFyaW8gaW5pY2lvIHNlc2lvbiwgcmVuZGVyaXpvIGxhIGFwcCBub3JtYWwgKi9cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkbWluQmFja29mZmljZUJhciBvbkxvZ291dD17KCkgPT4gdGhpcy5sb2dvdXRGb3JtLnN1Ym1pdCgpfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9pbmRleFwiIGNvbXBvbmVudD17QWRtaW5JbmRleH0gLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvc2hvcHMvbGlzdFwiIGNvbXBvbmVudD17KCkgPT4gPFNob3BMaXN0IHRva2VuPXt0b2tlbn0gLz59IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvc2hvcHMvY3JlYXRlXCIgY29tcG9uZW50PXsoKSA9PiA8U2hvcEZvcm0gdG9rZW49e3Rva2VufSAvPn0gLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uPScvYWRtaW4vbG9nb3V0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q9J1BPU1QnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17ZiA9PiB0aGlzLmxvZ291dEZvcm0gPSBmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnaGlkZGVuJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9NdWlUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuUmVhY3REb20ucmVuZGVyKFxyXG4gICAgPEhhc2hSb3V0ZXI+XHJcbiAgICAgICAgPEFkbWluQmFja29mZmljZSAvPlxyXG4gICAgPC9IYXNoUm91dGVyPixcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQWRtaW5CYWNrb2ZmaWNlLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCBNdWlUaGVtZVByb3ZpZGVyIGZyb20gJ21hdGVyaWFsLXVpL3N0eWxlcy9NdWlUaGVtZVByb3ZpZGVyJztcclxuaW1wb3J0IFJhaXNlZEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9SYWlzZWRCdXR0b24nO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ21hdGVyaWFsLXVpL1RleHRGaWVsZCc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRBY3Rpb25zLCBDYXJkSGVhZGVyLCBDYXJkVGV4dCB9IGZyb20gJ21hdGVyaWFsLXVpL0NhcmQnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnbWF0ZXJpYWwtdWkvQ2hlY2tib3gnO1xyXG5pbXBvcnQgRmxhdEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9GbGF0QnV0dG9uJztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdtYXRlcmlhbC11aS9EaWFsb2cnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnbWF0ZXJpYWwtdWkvU25hY2tiYXInO1xyXG5cclxuaW1wb3J0IEFjdGlvbkhlYWRlciBmcm9tICcuL0FjdGlvbkhlYWRlcic7XHJcblxyXG5mdW5jdGlvbiBTaG9wTWVudShwcm9wcykge1xyXG4gICAgY29uc3QgbWVudSA9IHByb3BzLm1lbnU7XHJcblxyXG4gICAgY29uc3QgbWVudUNhcmRzID0gbWVudS5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGlzaCA9IGl0ZW0uZGlzaDtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q2FyZCBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIgfX0gPlxyXG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17YFBsYXRvICR7ZGlzaC5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlPXtkaXNoLm5hbWV9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q2FyZFRleHQgZXhwYW5kYWJsZT17ZmFsc2V9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RGVzY3JpcGNpb246PC9zdHJvbmc+IHtkaXNoLmRlc2NyaXB0aW9ufSA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5Db3N0bzo8L3N0cm9uZz4ge2Rpc2guY29zdH0gPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9DYXJkVGV4dD5cclxuICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gPGRpdj5cclxuICAgICAgICA8QWN0aW9uSGVhZGVyIG9uQ2xpY2s9e3Byb3BzLmdvQmFja30gLz5cclxuICAgICAgICB7bWVudUNhcmRzfVxyXG4gICAgPC9kaXY+O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaG9wTWVudTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL1Nob3BNZW51LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfRW5oYW5jZWRTd2l0Y2ggPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9FbmhhbmNlZFN3aXRjaCcpO1xuXG52YXIgX0VuaGFuY2VkU3dpdGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuaGFuY2VkU3dpdGNoKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9jaGVja0JveE91dGxpbmVCbGFuayA9IHJlcXVpcmUoJy4uL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LW91dGxpbmUtYmxhbmsnKTtcblxudmFyIF9jaGVja0JveE91dGxpbmVCbGFuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0JveE91dGxpbmVCbGFuayk7XG5cbnZhciBfY2hlY2tCb3ggPSByZXF1aXJlKCcuLi9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveCcpO1xuXG52YXIgX2NoZWNrQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrQm94KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBjaGVja2JveCA9IGNvbnRleHQubXVpVGhlbWUuY2hlY2tib3g7XG5cbiAgdmFyIGNoZWNrYm94U2l6ZSA9IDI0O1xuXG4gIHJldHVybiB7XG4gICAgaWNvbjoge1xuICAgICAgaGVpZ2h0OiBjaGVja2JveFNpemUsXG4gICAgICB3aWR0aDogY2hlY2tib3hTaXplXG4gICAgfSxcbiAgICBjaGVjazoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMCknLFxuICAgICAgdHJhbnNpdGlvbk9yaWdpbjogJzUwJSA1MCUnLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQ1MG1zJywgJ29wYWNpdHknLCAnMG1zJykgKyAnLCAnICsgX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzBtcycsICd0cmFuc2Zvcm0nLCAnNDUwbXMnKSxcbiAgICAgIGZpbGw6IGNoZWNrYm94LmNoZWNrZWRDb2xvclxuICAgIH0sXG4gICAgY2hlY2tXaGVuU3dpdGNoZWQ6IHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMG1zJywgJ29wYWNpdHknLCAnMG1zJykgKyAnLCAnICsgX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzgwMG1zJywgJ3RyYW5zZm9ybScsICcwbXMnKVxuICAgIH0sXG4gICAgY2hlY2tXaGVuRGlzYWJsZWQ6IHtcbiAgICAgIGZpbGw6IGNoZWNrYm94LmRpc2FibGVkQ29sb3JcbiAgICB9LFxuICAgIGJveDoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgZmlsbDogY2hlY2tib3guYm94Q29sb3IsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgnMTAwMG1zJywgJ29wYWNpdHknLCAnMjAwbXMnKVxuICAgIH0sXG4gICAgYm94V2hlblN3aXRjaGVkOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzY1MG1zJywgJ29wYWNpdHknLCAnMTUwbXMnKSxcbiAgICAgIGZpbGw6IGNoZWNrYm94LmNoZWNrZWRDb2xvclxuICAgIH0sXG4gICAgYm94V2hlbkRpc2FibGVkOiB7XG4gICAgICBmaWxsOiBwcm9wcy5jaGVja2VkID8gJ3RyYW5zcGFyZW50JyA6IGNoZWNrYm94LmRpc2FibGVkQ29sb3JcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjb2xvcjogcHJvcHMuZGlzYWJsZWQgPyBjaGVja2JveC5sYWJlbERpc2FibGVkQ29sb3IgOiBjaGVja2JveC5sYWJlbENvbG9yXG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDaGVja2JveCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2hlY2tib3goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2hlY2tib3gpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gQ2hlY2tib3guX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENoZWNrYm94KSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzd2l0Y2hlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChuZXdTd2l0Y2hlZCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzd2l0Y2hlZDogbmV3U3dpdGNoZWRcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLmhhbmRsZUNoZWNrID0gZnVuY3Rpb24gKGV2ZW50LCBpc0lucHV0Q2hlY2tlZCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hlY2spIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGVjayhldmVudCwgaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDaGVja2JveCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGVja2VkID0gX3Byb3BzLmNoZWNrZWQsXG4gICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBfcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgdmFsdWVMaW5rID0gX3Byb3BzLnZhbHVlTGluaztcblxuXG4gICAgICBpZiAoY2hlY2tlZCB8fCBkZWZhdWx0Q2hlY2tlZCB8fCB2YWx1ZUxpbmsgJiYgdmFsdWVMaW5rLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN3aXRjaGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2hlY2tlZCAhPT0gbmV4dFByb3BzLmNoZWNrZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3dpdGNoZWQ6IG5leHRQcm9wcy5jaGVja2VkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzQ2hlY2tlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2hlY2tlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlZnMuZW5oYW5jZWRTd2l0Y2guaXNTd2l0Y2hlZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldENoZWNrZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGVja2VkKG5ld0NoZWNrZWRWYWx1ZSkge1xuICAgICAgdGhpcy5yZWZzLmVuaGFuY2VkU3dpdGNoLnNldFN3aXRjaGVkKG5ld0NoZWNrZWRWYWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wczIuaWNvblN0eWxlLFxuICAgICAgICAgIG9uQ2hlY2sgPSBfcHJvcHMyLm9uQ2hlY2ssXG4gICAgICAgICAgY2hlY2tlZEljb24gPSBfcHJvcHMyLmNoZWNrZWRJY29uLFxuICAgICAgICAgIHVuY2hlY2tlZEljb24gPSBfcHJvcHMyLnVuY2hlY2tlZEljb24sXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMyLCBbJ2ljb25TdHlsZScsICdvbkNoZWNrJywgJ2NoZWNrZWRJY29uJywgJ3VuY2hlY2tlZEljb24nXSk7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciBib3hTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJveCwgdGhpcy5zdGF0ZS5zd2l0Y2hlZCAmJiBzdHlsZXMuYm94V2hlblN3aXRjaGVkLCBpY29uU3R5bGUsIHRoaXMucHJvcHMuZGlzYWJsZWQgJiYgc3R5bGVzLmJveFdoZW5EaXNhYmxlZCk7XG4gICAgICB2YXIgY2hlY2tTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmNoZWNrLCB0aGlzLnN0YXRlLnN3aXRjaGVkICYmIHN0eWxlcy5jaGVja1doZW5Td2l0Y2hlZCwgaWNvblN0eWxlLCB0aGlzLnByb3BzLmRpc2FibGVkICYmIHN0eWxlcy5jaGVja1doZW5EaXNhYmxlZCk7XG5cbiAgICAgIHZhciBjaGVja2VkRWxlbWVudCA9IGNoZWNrZWRJY29uID8gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjaGVja2VkSWNvbiwge1xuICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKGNoZWNrU3R5bGVzLCBjaGVja2VkSWNvbi5wcm9wcy5zdHlsZSlcbiAgICAgIH0pIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZWNrQm94Mi5kZWZhdWx0LCB7XG4gICAgICAgIHN0eWxlOiBjaGVja1N0eWxlc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB1bkNoZWNrZWRFbGVtZW50ID0gdW5jaGVja2VkSWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQodW5jaGVja2VkSWNvbiwge1xuICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKGJveFN0eWxlcywgdW5jaGVja2VkSWNvbi5wcm9wcy5zdHlsZSlcbiAgICAgIH0pIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NoZWNrQm94T3V0bGluZUJsYW5rMi5kZWZhdWx0LCB7XG4gICAgICAgIHN0eWxlOiBib3hTdHlsZXNcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2hlY2tib3hFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICB1bkNoZWNrZWRFbGVtZW50LFxuICAgICAgICBjaGVja2VkRWxlbWVudFxuICAgICAgKTtcblxuICAgICAgdmFyIHJpcHBsZUNvbG9yID0gdGhpcy5zdGF0ZS5zd2l0Y2hlZCA/IGNoZWNrU3R5bGVzLmZpbGwgOiBib3hTdHlsZXMuZmlsbDtcbiAgICAgIHZhciBtZXJnZWRJY29uU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmljb24sIGljb25TdHlsZSk7XG5cbiAgICAgIHZhciBsYWJlbFN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5sYWJlbCwgdGhpcy5wcm9wcy5sYWJlbFN0eWxlKTtcblxuICAgICAgdmFyIGVuaGFuY2VkU3dpdGNoUHJvcHMgPSB7XG4gICAgICAgIHJlZjogJ2VuaGFuY2VkU3dpdGNoJyxcbiAgICAgICAgaW5wdXRUeXBlOiAnY2hlY2tib3gnLFxuICAgICAgICBzd2l0Y2hlZDogdGhpcy5zdGF0ZS5zd2l0Y2hlZCxcbiAgICAgICAgc3dpdGNoRWxlbWVudDogY2hlY2tib3hFbGVtZW50LFxuICAgICAgICByaXBwbGVDb2xvcjogcmlwcGxlQ29sb3IsXG4gICAgICAgIGljb25TdHlsZTogbWVyZ2VkSWNvblN0eWxlLFxuICAgICAgICBvblN3aXRjaDogdGhpcy5oYW5kbGVDaGVjayxcbiAgICAgICAgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSxcbiAgICAgICAgb25QYXJlbnRTaG91bGRVcGRhdGU6IHRoaXMuaGFuZGxlU3RhdGVDaGFuZ2UsXG4gICAgICAgIGxhYmVsUG9zaXRpb246IHRoaXMucHJvcHMubGFiZWxQb3NpdGlvblxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FbmhhbmNlZFN3aXRjaDIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIGVuaGFuY2VkU3dpdGNoUHJvcHMpKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENoZWNrYm94O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICBsYWJlbFBvc2l0aW9uOiAncmlnaHQnLFxuICBkaXNhYmxlZDogZmFsc2Vcbn07XG5DaGVja2JveC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2hlY2tib3gucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQ2hlY2tib3ggaXMgY2hlY2tlZCBpZiB0cnVlLlxuICAgKi9cbiAgY2hlY2tlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogVGhlIFN2Z0ljb24gdG8gdXNlIGZvciB0aGUgY2hlY2tlZCBzdGF0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGljb24gdG9nZ2xlcy5cbiAgICovXG4gIGNoZWNrZWRJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzdGF0ZSBvZiBvdXIgY2hlY2tib3ggY29tcG9uZW50LlxuICAgKiAqKldhcm5pbmc6KiogVGhpcyBjYW5ub3QgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGBjaGVja2VkYC5cbiAgICogRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLlxuICAgKiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzXG4gICAqL1xuICBkZWZhdWx0Q2hlY2tlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogRGlzYWJsZWQgaWYgdHJ1ZS5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGljb24gZWxlbWVudC5cbiAgICovXG4gIGljb25TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqL1xuICBpbnB1dFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFdoZXJlIHRoZSBsYWJlbCB3aWxsIGJlIHBsYWNlZCBuZXh0IHRvIHRoZSBjaGVja2JveC5cbiAgICovXG4gIGxhYmVsUG9zaXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBDaGVja2JveCBlbGVtZW50IGxhYmVsLlxuICAgKi9cbiAgbGFiZWxTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBgY2hhbmdlYCBldmVudCB0YXJnZXRpbmcgdGhlIHVuZGVybHlpbmcgY2hlY2tib3ggYGlucHV0YC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0lucHV0Q2hlY2tlZCBUaGUgYGNoZWNrZWRgIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIGNoZWNrYm94IGBpbnB1dGAuXG4gICAqL1xuICBvbkNoZWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIFN2Z0ljb24gdG8gdXNlIGZvciB0aGUgdW5jaGVja2VkIHN0YXRlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBjcmVhdGUgaWNvbiB0b2dnbGVzLlxuICAgKi9cbiAgdW5jaGVja2VkSWNvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LFxuICAvKipcbiAgICogVmFsdWVMaW5rIGZvciB3aGVuIHVzaW5nIGNvbnRyb2xsZWQgY2hlY2tib3guXG4gICAqL1xuICB2YWx1ZUxpbms6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDaGVja2JveDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvQ2hlY2tib3gvQ2hlY2tib3guanNcbi8vIG1vZHVsZSBpZCA9IDM1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyZWFjdC1ldmVudC1saXN0ZW5lcicpO1xuXG52YXIgX3JlYWN0RXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2tleWNvZGUgPSByZXF1aXJlKCdrZXljb2RlJyk7XG5cbnZhciBfa2V5Y29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXljb2RlKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9PdmVybGF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvT3ZlcmxheScpO1xuXG52YXIgX092ZXJsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3ZlcmxheSk7XG5cbnZhciBfUmVuZGVyVG9MYXllciA9IHJlcXVpcmUoJy4uL2ludGVybmFsL1JlbmRlclRvTGF5ZXInKTtcblxudmFyIF9SZW5kZXJUb0xheWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRvTGF5ZXIpO1xuXG52YXIgX1BhcGVyID0gcmVxdWlyZSgnLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gcmVxdWlyZSgncmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAnKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRyYW5zaXRpb25JdGVtID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoVHJhbnNpdGlvbkl0ZW0sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25JdGVtKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRyYW5zaXRpb25JdGVtKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFRyYW5zaXRpb25JdGVtLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShUcmFuc2l0aW9uSXRlbSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgc3R5bGU6IHt9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRyYW5zaXRpb25JdGVtLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVvdXQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lb3V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsRW50ZXIoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuY29tcG9uZW50V2lsbEFwcGVhcihjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbEFwcGVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxBcHBlYXIoY2FsbGJhY2spIHtcbiAgICAgIHZhciBzcGFjaW5nID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmJhc2VUaGVtZS5zcGFjaW5nO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAnICsgc3BhY2luZy5kZXNrdG9wS2V5bGluZUluY3JlbWVudCArICdweCknXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmVudGVyVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDQ1MCk7IC8vIG1hdGNoZXMgdHJhbnNpdGlvbiBkdXJhdGlvblxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxMZWF2ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgMCknXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxlYXZlVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIDQ1MCk7IC8vIG1hdGNoZXMgdHJhbnNpdGlvbiBkdXJhdGlvblxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ3N0eWxlJywgJ2NoaWxkcmVuJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHRoaXMuc3RhdGUuc3R5bGUsIHN0eWxlKSkgfSksXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVHJhbnNpdGlvbkl0ZW07XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uSXRlbS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVHJhbnNpdGlvbkl0ZW0ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcblxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGF1dG9TY3JvbGxCb2R5Q29udGVudCA9IHByb3BzLmF1dG9TY3JvbGxCb2R5Q29udGVudCxcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkYmFzID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgc3BhY2luZyA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5zcGFjaW5nLFxuICAgICAgcGFsZXR0ZSA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5wYWxldHRlLFxuICAgICAgZGlhbG9nID0gX2NvbnRleHQkbXVpVGhlbWUuZGlhbG9nLFxuICAgICAgekluZGV4ID0gX2NvbnRleHQkbXVpVGhlbWUuekluZGV4O1xuXG5cbiAgdmFyIGd1dHRlciA9IHNwYWNpbmcuZGVza3RvcEd1dHRlcjtcbiAgdmFyIGJvcmRlclNjcm9sbCA9ICcxcHggc29saWQgJyArIHBhbGV0dGUuYm9yZGVyQ29sb3I7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJywgLy8gUmVtb3ZlIG1vYmlsZSBjb2xvciBmbGFzaGluZyAoZGVwcmVjYXRlZClcbiAgICAgIHpJbmRleDogekluZGV4LmRpYWxvZyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IG9wZW4gPyAwIDogLTEwMDAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgdHJhbnNpdGlvbjogb3BlbiA/IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnbGVmdCcsICcwbXMnKSA6IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCcwbXMnLCAnbGVmdCcsICc0NTBtcycpXG4gICAgfSxcbiAgICBjb250ZW50OiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKScsIC8vIFJlbW92ZSBtb2JpbGUgY29sb3IgZmxhc2hpbmcgKGRlcHJlY2F0ZWQpXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB3aWR0aDogJzc1JScsXG4gICAgICBtYXhXaWR0aDogc3BhY2luZy5kZXNrdG9wS2V5bGluZUluY3JlbWVudCAqIDEyLFxuICAgICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICAgIHpJbmRleDogekluZGV4LmRpYWxvZ1xuICAgIH0sXG4gICAgYWN0aW9uc0NvbnRhaW5lcjoge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBXZWJraXRUYXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLCAvLyBSZW1vdmUgbW9iaWxlIGNvbG9yIGZsYXNoaW5nIChkZXByZWNhdGVkKVxuICAgICAgcGFkZGluZzogOCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB0ZXh0QWxpZ246ICdyaWdodCcsXG4gICAgICBtYXJnaW5Ub3A6IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IC0xIDogMFxuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgekluZGV4OiB6SW5kZXguZGlhbG9nT3ZlcmxheVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBhZGRpbmc6IGd1dHRlciArICdweCAnICsgZ3V0dGVyICsgJ3B4IDIwcHggJyArIGd1dHRlciArICdweCcsXG4gICAgICBjb2xvcjogcGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250U2l6ZTogZGlhbG9nLnRpdGxlRm9udFNpemUsXG4gICAgICBsaW5lSGVpZ2h0OiAnMzJweCcsXG4gICAgICBmb250V2VpZ2h0OiA0MDAsXG4gICAgICBtYXJnaW5Cb3R0b206IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IC0xIDogMFxuICAgIH0sXG4gICAgYm9keToge1xuICAgICAgZm9udFNpemU6IGRpYWxvZy5ib2R5Rm9udFNpemUsXG4gICAgICBjb2xvcjogZGlhbG9nLmJvZHlDb2xvcixcbiAgICAgIHBhZGRpbmc6IChwcm9wcy50aXRsZSA/IDAgOiBndXR0ZXIpICsgJ3B4ICcgKyBndXR0ZXIgKyAncHggJyArIGd1dHRlciArICdweCcsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIG92ZXJmbG93WTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gJ2F1dG8nIDogJ2hpZGRlbicsXG4gICAgICBib3JkZXJUb3A6IGF1dG9TY3JvbGxCb2R5Q29udGVudCA/IGJvcmRlclNjcm9sbCA6ICdub25lJyxcbiAgICAgIGJvcmRlckJvdHRvbTogYXV0b1Njcm9sbEJvZHlDb250ZW50ID8gYm9yZGVyU2Nyb2xsIDogJ25vbmUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgRGlhbG9nSW5saW5lID0gZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERpYWxvZ0lubGluZSwgX0NvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIERpYWxvZ0lubGluZSgpIHtcbiAgICB2YXIgX3JlZjI7XG5cbiAgICB2YXIgX3RlbXAyLCBfdGhpczIsIF9yZXQyO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlhbG9nSW5saW5lKTtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQyID0gKF90ZW1wMiA9IChfdGhpczIgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmMiA9IERpYWxvZ0lubGluZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGlhbG9nSW5saW5lKSkuY2FsbC5hcHBseShfcmVmMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpczIpLCBfdGhpczIuaGFuZGxlVG91Y2hUYXBPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMyLnJlcXVlc3RDbG9zZShmYWxzZSk7XG4gICAgfSwgX3RoaXMyLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdlc2MnKSB7XG4gICAgICAgIF90aGlzMi5yZXF1ZXN0Q2xvc2UoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIF90aGlzMi5oYW5kbGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucG9zaXRpb25EaWFsb2coKTtcbiAgICB9LCBfdGVtcDIpLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzMiwgX3JldDIpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGlhbG9nSW5saW5lLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uRGlhbG9nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5wb3NpdGlvbkRpYWxvZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Bvc2l0aW9uRGlhbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb25EaWFsb2coKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0aW9ucyA9IF9wcm9wczIuYWN0aW9ucyxcbiAgICAgICAgICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0ID0gX3Byb3BzMi5hdXRvRGV0ZWN0V2luZG93SGVpZ2h0LFxuICAgICAgICAgIGF1dG9TY3JvbGxCb2R5Q29udGVudCA9IF9wcm9wczIuYXV0b1Njcm9sbEJvZHlDb250ZW50LFxuICAgICAgICAgIGJvZHlTdHlsZSA9IF9wcm9wczIuYm9keVN0eWxlLFxuICAgICAgICAgIG9wZW4gPSBfcHJvcHMyLm9wZW4sXG4gICAgICAgICAgcmVwb3NpdGlvbk9uVXBkYXRlID0gX3Byb3BzMi5yZXBvc2l0aW9uT25VcGRhdGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMyLnRpdGxlO1xuXG5cbiAgICAgIGlmICghb3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcbiAgICAgIHZhciBjb250YWluZXIgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XG4gICAgICB2YXIgZGlhbG9nV2luZG93ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaWFsb2dXaW5kb3cpO1xuICAgICAgdmFyIGRpYWxvZ0NvbnRlbnQgPSBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZ0NvbnRlbnQpO1xuICAgICAgdmFyIG1pblBhZGRpbmdUb3AgPSAxNjtcblxuICAgICAgLy8gUmVzZXQgdGhlIGhlaWdodCBpbiBjYXNlIHRoZSB3aW5kb3cgd2FzIHJlc2l6ZWQuXG4gICAgICBkaWFsb2dXaW5kb3cuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICBkaWFsb2dDb250ZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuXG4gICAgICB2YXIgZGlhbG9nV2luZG93SGVpZ2h0ID0gZGlhbG9nV2luZG93Lm9mZnNldEhlaWdodDtcbiAgICAgIHZhciBwYWRkaW5nVG9wID0gKGNsaWVudEhlaWdodCAtIGRpYWxvZ1dpbmRvd0hlaWdodCkgLyAyIC0gNjQ7XG4gICAgICBpZiAocGFkZGluZ1RvcCA8IG1pblBhZGRpbmdUb3ApIHBhZGRpbmdUb3AgPSBtaW5QYWRkaW5nVG9wO1xuXG4gICAgICAvLyBWZXJ0aWNhbGx5IGNlbnRlciB0aGUgZGlhbG9nIHdpbmRvdywgYnV0IG1ha2Ugc3VyZSBpdCBkb2Vzbid0XG4gICAgICAvLyB0cmFuc2l0aW9uIHRvIHRoYXQgcG9zaXRpb24uXG4gICAgICBpZiAocmVwb3NpdGlvbk9uVXBkYXRlIHx8ICFjb250YWluZXIuc3R5bGUucGFkZGluZ1RvcCkge1xuICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3AgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3JjZSBhIGhlaWdodCBpZiB0aGUgZGlhbG9nIGlzIHRhbGxlciB0aGFuIGNsaWVudEhlaWdodFxuICAgICAgaWYgKGF1dG9EZXRlY3RXaW5kb3dIZWlnaHQgfHwgYXV0b1Njcm9sbEJvZHlDb250ZW50KSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgICAgc3R5bGVzLmJvZHkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSk7XG4gICAgICAgIHZhciBtYXhEaWFsb2dDb250ZW50SGVpZ2h0ID0gY2xpZW50SGVpZ2h0IC0gMiAqIDY0O1xuXG4gICAgICAgIGlmICh0aXRsZSkgbWF4RGlhbG9nQ29udGVudEhlaWdodCAtPSBkaWFsb2dDb250ZW50LnByZXZpb3VzU2libGluZy5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChhY3Rpb25zKSkge1xuICAgICAgICAgIG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgLT0gZGlhbG9nQ29udGVudC5uZXh0U2libGluZy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBkaWFsb2dDb250ZW50LnN0eWxlLm1heEhlaWdodCA9IG1heERpYWxvZ0NvbnRlbnRIZWlnaHQgKyAncHgnO1xuICAgICAgICBpZiAobWF4RGlhbG9nQ29udGVudEhlaWdodCA+IGRpYWxvZ1dpbmRvd0hlaWdodCkge1xuICAgICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuYm9yZGVyQm90dG9tID0gJ25vbmUnO1xuICAgICAgICAgIGRpYWxvZ0NvbnRlbnQuc3R5bGUuYm9yZGVyVG9wID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVxdWVzdENsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdENsb3NlKGJ1dHRvbkNsaWNrZWQpIHtcbiAgICAgIGlmICghYnV0dG9uQ2xpY2tlZCAmJiB0aGlzLnByb3BzLm1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSghIWJ1dHRvbkNsaWNrZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3Rpb25zID0gX3Byb3BzMy5hY3Rpb25zLFxuICAgICAgICAgIGFjdGlvbnNDb250YWluZXJDbGFzc05hbWUgPSBfcHJvcHMzLmFjdGlvbnNDb250YWluZXJDbGFzc05hbWUsXG4gICAgICAgICAgYWN0aW9uc0NvbnRhaW5lclN0eWxlID0gX3Byb3BzMy5hY3Rpb25zQ29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgYm9keUNsYXNzTmFtZSA9IF9wcm9wczMuYm9keUNsYXNzTmFtZSxcbiAgICAgICAgICBib2R5U3R5bGUgPSBfcHJvcHMzLmJvZHlTdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMy5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGVudENsYXNzTmFtZSA9IF9wcm9wczMuY29udGVudENsYXNzTmFtZSxcbiAgICAgICAgICBjb250ZW50U3R5bGUgPSBfcHJvcHMzLmNvbnRlbnRTdHlsZSxcbiAgICAgICAgICBvdmVybGF5Q2xhc3NOYW1lID0gX3Byb3BzMy5vdmVybGF5Q2xhc3NOYW1lLFxuICAgICAgICAgIG92ZXJsYXlTdHlsZSA9IF9wcm9wczMub3ZlcmxheVN0eWxlLFxuICAgICAgICAgIG9wZW4gPSBfcHJvcHMzLm9wZW4sXG4gICAgICAgICAgcGFwZXJDbGFzc05hbWUgPSBfcHJvcHMzLnBhcGVyQ2xhc3NOYW1lLFxuICAgICAgICAgIHBhcGVyUHJvcHMgPSBfcHJvcHMzLnBhcGVyUHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMzLnN0eWxlLFxuICAgICAgICAgIHRpdGxlQ2xhc3NOYW1lID0gX3Byb3BzMy50aXRsZUNsYXNzTmFtZSxcbiAgICAgICAgICB0aXRsZVN0eWxlID0gX3Byb3BzMy50aXRsZVN0eWxlLFxuICAgICAgICAgIHRpdGxlID0gX3Byb3BzMy50aXRsZTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgc3R5bGVzLnJvb3QgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKTtcbiAgICAgIHN0eWxlcy5jb250ZW50ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jb250ZW50LCBjb250ZW50U3R5bGUpO1xuICAgICAgc3R5bGVzLmJvZHkgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJvZHksIGJvZHlTdHlsZSk7XG4gICAgICBzdHlsZXMuYWN0aW9uc0NvbnRhaW5lciA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYWN0aW9uc0NvbnRhaW5lciwgYWN0aW9uc0NvbnRhaW5lclN0eWxlKTtcbiAgICAgIHN0eWxlcy5vdmVybGF5ID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5vdmVybGF5LCBvdmVybGF5U3R5bGUpO1xuICAgICAgc3R5bGVzLnRpdGxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy50aXRsZSwgdGl0bGVTdHlsZSk7XG5cbiAgICAgIHZhciBhY3Rpb25zQ29udGFpbmVyID0gX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGFjdGlvbnMpID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBhY3Rpb25zQ29udGFpbmVyQ2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuYWN0aW9uc0NvbnRhaW5lcikgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoYWN0aW9ucylcbiAgICAgICk7XG5cbiAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSB0aXRsZTtcbiAgICAgIGlmIChfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQodGl0bGUpKSB7XG4gICAgICAgIHRpdGxlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQodGl0bGUsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHRpdGxlLnByb3BzLmNsYXNzTmFtZSB8fCB0aXRsZUNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRpdGxlLCB0aXRsZS5wcm9wcy5zdHlsZSkpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRpdGxlRWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdoMycsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHRpdGxlQ2xhc3NOYW1lLCBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMudGl0bGUpIH0sXG4gICAgICAgICAgdGl0bGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoc3R5bGVzLnJvb3QpIH0sXG4gICAgICAgIG9wZW4gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5oYW5kbGVLZXlVcCxcbiAgICAgICAgICBvblJlc2l6ZTogdGhpcy5oYW5kbGVSZXNpemVcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tcG9uZW50OiAnZGl2JyxcbiAgICAgICAgICAgIHJlZjogJ2RpYWxvZ1dpbmRvdycsXG4gICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6IDQ1MCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6IDQ1MFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3BlbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIFRyYW5zaXRpb25JdGVtLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbGFzc05hbWUsXG4gICAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMuY29udGVudFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBjbGFzc05hbWU6IHBhcGVyQ2xhc3NOYW1lLCB6RGVwdGg6IDQgfSwgcGFwZXJQcm9wcyksXG4gICAgICAgICAgICAgIHRpdGxlRWxlbWVudCxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVmOiAnZGlhbG9nQ29udGVudCcsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJvZHlDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcyhzdHlsZXMuYm9keSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGFjdGlvbnNDb250YWluZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9PdmVybGF5Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgc2hvdzogb3BlbixcbiAgICAgICAgICBjbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlcy5vdmVybGF5LFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMuaGFuZGxlVG91Y2hUYXBPdmVybGF5XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGlhbG9nSW5saW5lO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGlhbG9nSW5saW5lLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EaWFsb2dJbmxpbmUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBhY3Rpb25zOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGFjdGlvbnNDb250YWluZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3Rpb25zQ29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGF1dG9TY3JvbGxCb2R5Q29udGVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBib2R5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYm9keVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY29udGVudENsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1vZGFsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBvdmVybGF5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb3ZlcmxheVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgcGFwZXJDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBwYXBlclByb3BzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgcmVwb3NpdGlvbk9uVXBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgdGl0bGVDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICB0aXRsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuXG52YXIgRGlhbG9nID0gZnVuY3Rpb24gKF9Db21wb25lbnQzKSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKERpYWxvZywgX0NvbXBvbmVudDMpO1xuXG4gIGZ1bmN0aW9uIERpYWxvZygpIHtcbiAgICB2YXIgX3JlZjM7XG5cbiAgICB2YXIgX3RlbXAzLCBfdGhpczMsIF9yZXQzO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlhbG9nKTtcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQzID0gKF90ZW1wMyA9IChfdGhpczMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmMyA9IERpYWxvZy5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGlhbG9nKSkuY2FsbC5hcHBseShfcmVmMywgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpczMpLCBfdGhpczMucmVuZGVyTGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nSW5saW5lLCBfdGhpczMucHJvcHMpO1xuICAgIH0sIF90ZW1wMyksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMzLCBfcmV0Myk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaWFsb2csIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9SZW5kZXJUb0xheWVyMi5kZWZhdWx0LCB7IHJlbmRlcjogdGhpcy5yZW5kZXJMYXllciwgb3BlbjogdHJ1ZSwgdXNlTGF5ZXJGb3JDbGlja0F3YXk6IGZhbHNlIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRGlhbG9nLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5EaWFsb2cuZGVmYXVsdFByb3BzID0ge1xuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiB0cnVlLFxuICBhdXRvU2Nyb2xsQm9keUNvbnRlbnQ6IGZhbHNlLFxuICBtb2RhbDogZmFsc2UsXG4gIHJlcG9zaXRpb25PblVwZGF0ZTogdHJ1ZVxufTtcbkRpYWxvZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBBY3Rpb24gYnV0dG9ucyB0byBkaXNwbGF5IGJlbG93IHRoZSBEaWFsb2cgY29udGVudCAoYGNoaWxkcmVuYCkuXG4gICAqIFRoaXMgcHJvcGVydHkgYWNjZXB0cyBlaXRoZXIgYSBSZWFjdCBlbGVtZW50LCBvciBhbiBhcnJheSBvZiBSZWFjdCBlbGVtZW50cy5cbiAgICovXG4gIGFjdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIFRoZSBgY2xhc3NOYW1lYCB0byBhZGQgdG8gdGhlIGFjdGlvbnMgY29udGFpbmVyJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgYWN0aW9uc0NvbnRhaW5lckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGFjdGlvbnMgY29udGFpbmVyJ3Mgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgYWN0aW9uc0NvbnRhaW5lclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgaGVpZ2h0IG9mIHRoZSBgRGlhbG9nYCB3aWxsIGJlIGF1dG8gZGV0ZWN0ZWQuIEEgbWF4IGhlaWdodFxuICAgKiB3aWxsIGJlIGVuZm9yY2VkIHNvIHRoYXQgdGhlIGNvbnRlbnQgZG9lcyBub3QgZXh0ZW5kIGJleW9uZCB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBhdXRvRGV0ZWN0V2luZG93SGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJvZHkgY29udGVudCBvZiB0aGUgYERpYWxvZ2Agd2lsbCBiZSBzY3JvbGxhYmxlLlxuICAgKi9cbiAgYXV0b1Njcm9sbEJvZHlDb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBjb250ZW50J3Mgcm9vdCBlbGVtZW50IHVuZGVyIHRoZSB0aXRsZS5cbiAgICovXG4gIGJvZHlDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50J3Mgcm9vdCBlbGVtZW50IHVuZGVyIHRoZSB0aXRsZS5cbiAgICovXG4gIGJvZHlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGBEaWFsb2dgLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSBjb250ZW50IGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRlbnRDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBGb3JjZSB0aGUgdXNlciB0byB1c2Ugb25lIG9mIHRoZSBhY3Rpb25zIGluIHRoZSBgRGlhbG9nYC5cbiAgICogQ2xpY2tpbmcgb3V0c2lkZSB0aGUgYERpYWxvZ2Agd2lsbCBub3QgdHJpZ2dlciB0aGUgYG9uUmVxdWVzdENsb3NlYC5cbiAgICovXG4gIG1vZGFsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBgRGlhbG9nYCBpcyByZXF1ZXN0ZWQgdG8gYmUgY2xvc2VkIGJ5IGEgY2xpY2sgb3V0c2lkZSB0aGUgYERpYWxvZ2Agb3Igb24gdGhlIGJ1dHRvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbH0gYnV0dG9uQ2xpY2tlZCBEZXRlcm1pbmVzIHdoZXRoZXIgYSBidXR0b24gY2xpY2sgdHJpZ2dlcmVkIHRoaXMgcmVxdWVzdC5cbiAgICovXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBEaWFsb2cgaXMgb3BlbmVkIG9yIG5vdC5cbiAgICovXG4gIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogVGhlIGBjbGFzc05hbWVgIHRvIGFkZCB0byB0aGUgYE92ZXJsYXlgIGNvbXBvbmVudCB0aGF0IGlzIHJlbmRlcmVkIGJlaGluZCB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBvdmVybGF5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYE92ZXJsYXlgIGNvbXBvbmVudCB0aGF0IGlzIHJlbmRlcmVkIGJlaGluZCB0aGUgYERpYWxvZ2AuXG4gICAqL1xuICBvdmVybGF5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBuYW1lIG9mIHRoZSBgUGFwZXJgIGVsZW1lbnQuXG4gICAqL1xuICBwYXBlckNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBQcm9wZXJ0aWVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgZWxlbWVudC5cbiAgICovXG4gIHBhcGVyUHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBgRGlhbG9nYCBzaG91bGQgYmUgcmVwb3NpdGlvbmVkIHdoZW4gaXQncyBjb250ZW50cyBhcmUgdXBkYXRlZC5cbiAgICovXG4gIHJlcG9zaXRpb25PblVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSB0aXRsZSB0byBkaXNwbGF5IG9uIHRoZSBgRGlhbG9nYC4gQ291bGQgYmUgbnVtYmVyLCBzdHJpbmcsIGVsZW1lbnQgb3IgYW4gYXJyYXkgY29udGFpbmluZyB0aGVzZSB0eXBlcy5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgYGNsYXNzTmFtZWAgdG8gYWRkIHRvIHRoZSB0aXRsZSdzIHJvb3QgY29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICB0aXRsZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHRpdGxlJ3Mgcm9vdCBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBEaWFsb2c7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0RpYWxvZy9EaWFsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDM1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF9DbGlja0F3YXlMaXN0ZW5lciA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0NsaWNrQXdheUxpc3RlbmVyJyk7XG5cbnZhciBfQ2xpY2tBd2F5TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xpY2tBd2F5TGlzdGVuZXIpO1xuXG52YXIgX1NuYWNrYmFyQm9keSA9IHJlcXVpcmUoJy4vU25hY2tiYXJCb2R5Jyk7XG5cbnZhciBfU25hY2tiYXJCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyQm9keSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgPSBfY29udGV4dCRtdWlUaGVtZS5iYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgekluZGV4ID0gX2NvbnRleHQkbXVpVGhlbWUuekluZGV4O1xuICB2YXIgb3BlbiA9IHN0YXRlLm9wZW47XG5cblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBib3R0b206IDAsXG4gICAgICB6SW5kZXg6IHpJbmRleC5zbmFja2JhcixcbiAgICAgIHZpc2liaWxpdHk6IG9wZW4gPyAndmlzaWJsZScgOiAnaGlkZGVuJyxcbiAgICAgIHRyYW5zZm9ybTogb3BlbiA/ICd0cmFuc2xhdGUoLTUwJSwgMCknIDogJ3RyYW5zbGF0ZSgtNTAlLCAnICsgZGVza3RvcFN1YmhlYWRlckhlaWdodCArICdweCknLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzQwMG1zJywgJ3RyYW5zZm9ybScpICsgJywgJyArIF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICd2aXNpYmlsaXR5JylcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxudmFyIFNuYWNrYmFyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU25hY2tiYXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNuYWNrYmFyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNuYWNrYmFyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFNuYWNrYmFyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShTbmFja2JhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudENsaWNrQXdheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy50aW1lclRyYW5zaXRpb25JZCkge1xuICAgICAgICAvLyBJZiB0cmFuc2l0aW9uaW5nLCBkb24ndCBjbG9zZSB0aGUgc25hY2tiYXIuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9wZW4gIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoJ2NsaWNrYXdheScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU25hY2tiYXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRoaXMucHJvcHMub3BlbixcbiAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy5tZXNzYWdlLFxuICAgICAgICBhY3Rpb246IHRoaXMucHJvcHMuYWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLnNldEF1dG9IaWRlVGltZXIoKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uVGltZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5vcGVuICYmIG5leHRQcm9wcy5vcGVuICYmIChuZXh0UHJvcHMubWVzc2FnZSAhPT0gdGhpcy5wcm9wcy5tZXNzYWdlIHx8IG5leHRQcm9wcy5hY3Rpb24gIT09IHRoaXMucHJvcHMuYWN0aW9uKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lck9uZUF0VGhlVGltZUlkKTtcbiAgICAgICAgdGhpcy50aW1lck9uZUF0VGhlVGltZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5leHRQcm9wcy5tZXNzYWdlLFxuICAgICAgICAgICAgYWN0aW9uOiBuZXh0UHJvcHMuYWN0aW9uLFxuICAgICAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9wZW4gPSBuZXh0UHJvcHMub3BlbjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBvcGVuICE9PSBudWxsID8gb3BlbiA6IHRoaXMuc3RhdGUub3BlbixcbiAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMubWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb246IG5leHRQcm9wcy5hY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAocHJldlN0YXRlLm9wZW4gIT09IHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGlkZVRpbWVyKCk7XG4gICAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uVGltZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckF1dG9IaWRlSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyQXV0b0hpZGVJZCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lclRyYW5zaXRpb25JZCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lck9uZUF0VGhlVGltZUlkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRBdXRvSGlkZVRpbWVyJyxcblxuXG4gICAgLy8gVGltZXIgdGhhdCBjb250cm9scyBkZWxheSBiZWZvcmUgc25hY2tiYXIgYXV0byBoaWRlc1xuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRvSGlkZVRpbWVyKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBhdXRvSGlkZUR1cmF0aW9uID0gdGhpcy5wcm9wcy5hdXRvSGlkZUR1cmF0aW9uO1xuXG4gICAgICBpZiAoYXV0b0hpZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJBdXRvSGlkZUlkKTtcbiAgICAgICAgdGhpcy50aW1lckF1dG9IaWRlSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLm9wZW4gIT09IG51bGwgJiYgX3RoaXMzLnByb3BzLm9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25SZXF1ZXN0Q2xvc2UoJ3RpbWVvdXQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBhdXRvSGlkZUR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaW1lciB0aGF0IGNvbnRyb2xzIGRlbGF5IGJlZm9yZSBjbGljay1hd2F5IGV2ZW50cyBhcmUgY2FwdHVyZWQgKGJhc2VkIG9uIHdoZW4gYW5pbWF0aW9uIGNvbXBsZXRlcylcblxuICB9LCB7XG4gICAga2V5OiAnc2V0VHJhbnNpdGlvblRpbWVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhbnNpdGlvblRpbWVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHRoaXMudGltZXJUcmFuc2l0aW9uSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnRpbWVyVHJhbnNpdGlvbklkID0gdW5kZWZpbmVkO1xuICAgICAgfSwgNDAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uID0gX3Byb3BzLmF1dG9IaWRlRHVyYXRpb24sXG4gICAgICAgICAgY29udGVudFN0eWxlID0gX3Byb3BzLmNvbnRlbnRTdHlsZSxcbiAgICAgICAgICBib2R5U3R5bGUgPSBfcHJvcHMuYm9keVN0eWxlLFxuICAgICAgICAgIG1lc3NhZ2VQcm9wID0gX3Byb3BzLm1lc3NhZ2UsXG4gICAgICAgICAgb25SZXF1ZXN0Q2xvc2UgPSBfcHJvcHMub25SZXF1ZXN0Q2xvc2UsXG4gICAgICAgICAgb25BY3Rpb25Ub3VjaFRhcCA9IF9wcm9wcy5vbkFjdGlvblRvdWNoVGFwLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2F1dG9IaWRlRHVyYXRpb24nLCAnY29udGVudFN0eWxlJywgJ2JvZHlTdHlsZScsICdtZXNzYWdlJywgJ29uUmVxdWVzdENsb3NlJywgJ29uQWN0aW9uVG91Y2hUYXAnLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBhY3Rpb24gPSBfc3RhdGUuYWN0aW9uLFxuICAgICAgICAgIG1lc3NhZ2UgPSBfc3RhdGUubWVzc2FnZSxcbiAgICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW47XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0NsaWNrQXdheUxpc3RlbmVyMi5kZWZhdWx0LFxuICAgICAgICB7IG9uQ2xpY2tBd2F5OiBvcGVuID8gdGhpcy5jb21wb25lbnRDbGlja0F3YXkgOiBudWxsIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpKSB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXJCb2R5Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZTogY29udGVudFN0eWxlLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICBvbkFjdGlvblRvdWNoVGFwOiBvbkFjdGlvblRvdWNoVGFwLFxuICAgICAgICAgICAgc3R5bGU6IGJvZHlTdHlsZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTbmFja2Jhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblNuYWNrYmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5TbmFja2Jhci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgZm9yIHRoZSBhY3Rpb24gb24gdGhlIHNuYWNrYmFyLlxuICAgKi9cbiAgYWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBhdXRvbWF0aWNhbGx5IGRpc21pc3NpbmcuXG4gICAqIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCB0aGUgc25hY2tiYXIgd2lsbCBkaXNtaXNzIG5vcm1hbGx5LlxuICAgKiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIHRoZSBzbmFja2JhciBjYW4gc3RpbGwgYmUgZGlzbWlzc2VkIG5vcm1hbGx5LlxuICAgKiBJZiBhIHNuYWNrYmFyIGlzIGRpc21pc3NlZCBiZWZvcmUgdGhlIHRpbWVyIGV4cGlyZXMsIHRoZSB0aW1lciB3aWxsIGJlIGNsZWFyZWQuXG4gICAqL1xuICBhdXRvSGlkZUR1cmF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBib2R5IGVsZW1lbnQuXG4gICAqL1xuICBib2R5U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIGNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQuXG4gICAqXG4gICAqIChOb3RlOiBJZiB0aGUgbWVzc2FnZSBpcyBhbiBlbGVtZW50IG9yIGFycmF5LCBhbmQgdGhlIGBTbmFja2JhcmAgbWF5IHJlLXJlbmRlciB3aGlsZSBpdCBpcyBzdGlsbCBvcGVuLFxuICAgKiBlbnN1cmUgdGhhdCB0aGUgc2FtZSBvYmplY3QgcmVtYWlucyBhcyB0aGUgYG1lc3NhZ2VgIHByb3BlcnR5IGlmIHlvdSB3YW50IHRvIGF2b2lkIHRoZSBgU25hY2tiYXJgIGhpZGluZyBhbmRcbiAgICogc2hvd2luZyBhZ2FpbilcbiAgICovXG4gIG1lc3NhZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgYWN0aW9uIGJ1dHRvbiBpcyB0b3VjaHRhcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEFjdGlvbiBidXR0b24gZXZlbnQuXG4gICAqL1xuICBvbkFjdGlvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBgU25hY2tiYXJgIGlzIHJlcXVlc3RlZCB0byBiZSBjbG9zZWQgYnkgYSBjbGljayBvdXRzaWRlIHRoZSBgU25hY2tiYXJgLCBvciBhZnRlciB0aGVcbiAgICogYGF1dG9IaWRlRHVyYXRpb25gIHRpbWVyIGV4cGlyZXMuXG4gICAqXG4gICAqIFR5cGljYWxseSBgb25SZXF1ZXN0Q2xvc2VgIGlzIHVzZWQgdG8gc2V0IHN0YXRlIGluIHRoZSBwYXJlbnQgY29tcG9uZW50LCB3aGljaCBpcyB1c2VkIHRvIGNvbnRyb2wgdGhlIGBTbmFja2JhcmBcbiAgICogYG9wZW5gIHByb3AuXG4gICAqXG4gICAqIFRoZSBgcmVhc29uYCBwYXJhbWV0ZXIgY2FuIG9wdGlvbmFsbHkgYmUgdXNlZCB0byBjb250cm9sIHRoZSByZXNwb25zZSB0byBgb25SZXF1ZXN0Q2xvc2VgLFxuICAgKiBmb3IgZXhhbXBsZSBpZ25vcmluZyBgY2xpY2thd2F5YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiBDYW4gYmU6YFwidGltZW91dFwiYCAoYGF1dG9IaWRlRHVyYXRpb25gIGV4cGlyZWQpIG9yOiBgXCJjbGlja2F3YXlcImBcbiAgICovXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBgU25hY2tiYXJgIGlzIG9wZW5lZCBvciBub3QuXG4gICAqL1xuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNuYWNrYmFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9TbmFja2Jhci9TbmFja2Jhci5qc1xuLy8gbW9kdWxlIGlkID0gMzY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU25hY2tiYXJCb2R5ID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF90cmFuc2l0aW9ucyA9IHJlcXVpcmUoJy4uL3N0eWxlcy90cmFuc2l0aW9ucycpO1xuXG52YXIgX3RyYW5zaXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb25zKTtcblxudmFyIF93aXRoV2lkdGggPSByZXF1aXJlKCcuLi91dGlscy93aXRoV2lkdGgnKTtcblxudmFyIF93aXRoV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2l0aFdpZHRoKTtcblxudmFyIF9GbGF0QnV0dG9uID0gcmVxdWlyZSgnLi4vRmxhdEJ1dHRvbicpO1xuXG52YXIgX0ZsYXRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxhdEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgb3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICB3aWR0aCA9IHByb3BzLndpZHRoO1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkYmFzID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgX2NvbnRleHQkbXVpVGhlbWUkYmFzMiA9IF9jb250ZXh0JG11aVRoZW1lJGJhcy5zcGFjaW5nLFxuICAgICAgZGVza3RvcEd1dHRlciA9IF9jb250ZXh0JG11aVRoZW1lJGJhczIuZGVza3RvcEd1dHRlcixcbiAgICAgIGRlc2t0b3BTdWJoZWFkZXJIZWlnaHQgPSBfY29udGV4dCRtdWlUaGVtZSRiYXMyLmRlc2t0b3BTdWJoZWFkZXJIZWlnaHQsXG4gICAgICBmb250RmFtaWx5ID0gX2NvbnRleHQkbXVpVGhlbWUkYmFzLmZvbnRGYW1pbHksXG4gICAgICBfY29udGV4dCRtdWlUaGVtZSRzbmEgPSBfY29udGV4dCRtdWlUaGVtZS5zbmFja2JhcixcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IF9jb250ZXh0JG11aVRoZW1lJHNuYS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICB0ZXh0Q29sb3IgPSBfY29udGV4dCRtdWlUaGVtZSRzbmEudGV4dENvbG9yLFxuICAgICAgYWN0aW9uQ29sb3IgPSBfY29udGV4dCRtdWlUaGVtZSRzbmEuYWN0aW9uQ29sb3IsXG4gICAgICBib3JkZXJSYWRpdXMgPSBfY29udGV4dCRtdWlUaGVtZS5ib3JkZXJSYWRpdXM7XG5cblxuICB2YXIgaXNTbWFsbCA9IHdpZHRoID09PSBfd2l0aFdpZHRoLlNNQUxMO1xuXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgZm9udEZhbWlseTogZm9udEZhbWlseSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgcGFkZGluZzogJzAgJyArIGRlc2t0b3BHdXR0ZXIgKyAncHgnLFxuICAgICAgaGVpZ2h0OiBkZXNrdG9wU3ViaGVhZGVySGVpZ2h0LFxuICAgICAgbGluZUhlaWdodDogZGVza3RvcFN1YmhlYWRlckhlaWdodCArICdweCcsXG4gICAgICBib3JkZXJSYWRpdXM6IGlzU21hbGwgPyAwIDogYm9yZGVyUmFkaXVzLFxuICAgICAgbWF4V2lkdGg6IGlzU21hbGwgPyAnaW5oZXJpdCcgOiA1NjgsXG4gICAgICBtaW5XaWR0aDogaXNTbWFsbCA/ICdpbmhlcml0JyA6IDI4OCxcbiAgICAgIHdpZHRoOiBpc1NtYWxsID8gJ2NhbGMoMTAwdncgLSAnICsgZGVza3RvcEd1dHRlciAqIDIgKyAncHgpJyA6ICdhdXRvJyxcbiAgICAgIGZsZXhHcm93OiBpc1NtYWxsID8gMSA6IDBcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgIGNvbG9yOiB0ZXh0Q29sb3IsXG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2l0aW9uOiBvcGVuID8gX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoJzUwMG1zJywgJ29wYWNpdHknLCAnMTAwbXMnKSA6IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCc0MDBtcycsICdvcGFjaXR5JylcbiAgICB9LFxuICAgIGFjdGlvbjoge1xuICAgICAgY29sb3I6IGFjdGlvbkNvbG9yLFxuICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICBtYXJnaW5Ub3A6IDYsXG4gICAgICBtYXJnaW5SaWdodDogLTE2LFxuICAgICAgbWFyZ2luTGVmdDogZGVza3RvcEd1dHRlcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG52YXIgU25hY2tiYXJCb2R5ID0gZnVuY3Rpb24gU25hY2tiYXJCb2R5KHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBhY3Rpb24gPSBwcm9wcy5hY3Rpb24sXG4gICAgICBjb250ZW50U3R5bGUgPSBwcm9wcy5jb250ZW50U3R5bGUsXG4gICAgICBtZXNzYWdlID0gcHJvcHMubWVzc2FnZSxcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgb25BY3Rpb25Ub3VjaFRhcCA9IHByb3BzLm9uQWN0aW9uVG91Y2hUYXAsXG4gICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShwcm9wcywgWydhY3Rpb24nLCAnY29udGVudFN0eWxlJywgJ21lc3NhZ2UnLCAnb3BlbicsICdvbkFjdGlvblRvdWNoVGFwJywgJ3N0eWxlJ10pO1xuICB2YXIgcHJlcGFyZVN0eWxlcyA9IGNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KTtcblxuICB2YXIgYWN0aW9uQnV0dG9uID0gYWN0aW9uICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GbGF0QnV0dG9uMi5kZWZhdWx0LCB7XG4gICAgc3R5bGU6IHN0eWxlcy5hY3Rpb24sXG4gICAgbGFiZWw6IGFjdGlvbixcbiAgICBvblRvdWNoVGFwOiBvbkFjdGlvblRvdWNoVGFwXG4gIH0pO1xuXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5jb250ZW50LCBjb250ZW50U3R5bGUpKSB9LFxuICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbWVzc2FnZVxuICAgICAgKSxcbiAgICAgIGFjdGlvbkJ1dHRvblxuICAgIClcbiAgKTtcbn07XG5cbmV4cG9ydHMuU25hY2tiYXJCb2R5ID0gU25hY2tiYXJCb2R5O1xuU25hY2tiYXJCb2R5LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIFRoZSBsYWJlbCBmb3IgdGhlIGFjdGlvbiBvbiB0aGUgc25hY2tiYXIuXG4gICAqL1xuICBhY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250ZW50IGVsZW1lbnQuXG4gICAqL1xuICBjb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiAoTm90ZTogSWYgdGhlIG1lc3NhZ2UgaXMgYW4gZWxlbWVudCBvciBhcnJheSwgYW5kIHRoZSBgU25hY2tiYXJgIG1heSByZS1yZW5kZXIgd2hpbGUgaXQgaXMgc3RpbGwgb3BlbixcbiAgICogZW5zdXJlIHRoYXQgdGhlIHNhbWUgb2JqZWN0IHJlbWFpbnMgYXMgdGhlIGBtZXNzYWdlYCBwcm9wZXJ0eSBpZiB5b3Ugd2FudCB0byBhdm9pZCB0aGUgYFNuYWNrYmFyYCBoaWRpbmcgYW5kXG4gICAqIHNob3dpbmcgYWdhaW4pXG4gICAqL1xuICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGFjdGlvbiBidXR0b24gaXMgdG91Y2h0YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBY3Rpb24gYnV0dG9uIGV2ZW50LlxuICAgKi9cbiAgb25BY3Rpb25Ub3VjaFRhcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBgU25hY2tiYXJgIGlzIG9wZW5lZCBvciBub3QuXG4gICAqL1xuICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAqL1xuICB3aWR0aDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxufSA6IHt9O1xuXG5TbmFja2JhckJvZHkuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF93aXRoV2lkdGgyLmRlZmF1bHQpKCkoU25hY2tiYXJCb2R5KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvU25hY2tiYXIvU25hY2tiYXJCb2R5LmpzXG4vLyBtb2R1bGUgaWQgPSAzNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxudmFyIF9rZXljb2RlID0gcmVxdWlyZSgna2V5Y29kZScpO1xuXG52YXIgX2tleWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Y29kZSk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfRm9jdXNSaXBwbGUgPSByZXF1aXJlKCcuL0ZvY3VzUmlwcGxlJyk7XG5cbnZhciBfRm9jdXNSaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9jdXNSaXBwbGUpO1xuXG52YXIgX1RvdWNoUmlwcGxlID0gcmVxdWlyZSgnLi9Ub3VjaFJpcHBsZScpO1xuXG52YXIgX1RvdWNoUmlwcGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvdWNoUmlwcGxlKTtcblxudmFyIF9QYXBlciA9IHJlcXVpcmUoJy4vLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGJhc2VUaGVtZSA9IGNvbnRleHQubXVpVGhlbWUuYmFzZVRoZW1lO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBjdXJzb3I6IHByb3BzLmRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgIGRpc3BsYXk6ICd0YWJsZScsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGN1cnNvcjogJ2luaGVyaXQnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ2FsbCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgekluZGV4OiAyLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMFxuICAgIH0sXG4gICAgY29udHJvbHM6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICB3aWR0aDogJ2NhbGMoMTAwJSAtIDYwcHgpJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyNHB4JyxcbiAgICAgIGNvbG9yOiBiYXNlVGhlbWUucGFsZXR0ZS50ZXh0Q29sb3IsXG4gICAgICBmb250RmFtaWx5OiBiYXNlVGhlbWUuZm9udEZhbWlseVxuICAgIH0sXG4gICAgd3JhcDoge1xuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgd2lkdGg6IDYwIC0gYmFzZVRoZW1lLnNwYWNpbmcuZGVza3RvcEd1dHRlckxlc3MsXG4gICAgICBtYXJnaW5SaWdodDogcHJvcHMubGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IHByb3BzLmxhYmVsUG9zaXRpb24gPT09ICdsZWZ0JyA/IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzIDogMFxuICAgIH0sXG4gICAgcmlwcGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMucmlwcGxlQ29sb3IgfHwgYmFzZVRoZW1lLnBhbGV0dGUucHJpbWFyeTFDb2xvcixcbiAgICAgIGhlaWdodDogJzIwMCUnLFxuICAgICAgd2lkdGg6ICcyMDAlJyxcbiAgICAgIHRvcDogLTEyLFxuICAgICAgbGVmdDogLTEyXG4gICAgfVxuICB9O1xufVxuXG52YXIgRW5oYW5jZWRTd2l0Y2ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShFbmhhbmNlZFN3aXRjaCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRW5oYW5jZWRTd2l0Y2goKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRW5oYW5jZWRTd2l0Y2gpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gRW5oYW5jZWRTd2l0Y2guX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc0tleWJvYXJkRm9jdXNlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGlzSW5wdXRDaGVja2VkID0gX3RoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdjaGVja2VkJykgJiYgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUoaXNJbnB1dENoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Td2l0Y2gpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Td2l0Y2goZXZlbnQsIGlzSW5wdXRDaGVja2VkKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY29kZSA9ICgwLCBfa2V5Y29kZTIuZGVmYXVsdCkoZXZlbnQpO1xuXG4gICAgICBpZiAoY29kZSA9PT0gJ3RhYicpIHtcbiAgICAgICAgX3RoaXMudGFiUHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgY29kZSA9PT0gJ3NwYWNlJykge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaXNLZXlib2FyZEZvY3VzZWQgJiYgKDAsIF9rZXljb2RlMi5kZWZhdWx0KShldmVudCkgPT09ICdzcGFjZScpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIG9ubHkgbGlzdGVuIHRvIGxlZnQgY2xpY2tzXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZWZzLnRvdWNoUmlwcGxlLmVuZCgpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnJlZnMudG91Y2hSaXBwbGUuc3RhcnQoZXZlbnQpO1xuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcy50b3VjaFJpcHBsZS5lbmQoKTtcbiAgICB9LCBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzS2V5Ym9hcmRGb2N1c2VkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gc2V0VGltZW91dCBpcyBuZWVkZWQgYmVjdWFzZSB0aGUgZm9jdXMgZXZlbnQgZmlyZXMgZmlyc3RcbiAgICAgIC8vIFdhaXQgc28gdGhhdCB3ZSBjYW4gY2FwdHVyZSBpZiB0aGlzIHdhcyBhIGtleWJvYXJkIGZvY3VzXG4gICAgICAvLyBvciB0b3VjaCBmb2N1c1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy50YWJQcmVzc2VkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNLZXlib2FyZEZvY3VzZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUwKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEVuaGFuY2VkU3dpdGNoLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5yZWZzLmNoZWNrYm94O1xuICAgICAgaWYgKCghdGhpcy5wcm9wcy5zd2l0Y2hlZCB8fCBpbnB1dE5vZGUuY2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5zd2l0Y2hlZCkgJiYgdGhpcy5wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKGlucHV0Tm9kZS5jaGVja2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBoYXNDaGVja2VkUHJvcCA9IG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpO1xuICAgICAgdmFyIGhhc05ld0RlZmF1bHRQcm9wID0gbmV4dFByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0Q2hlY2tlZCcpICYmIG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdGhpcy5wcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblxuICAgICAgaWYgKGhhc0NoZWNrZWRQcm9wIHx8IGhhc05ld0RlZmF1bHRQcm9wKSB7XG4gICAgICAgIHZhciBzd2l0Y2hlZCA9IG5leHRQcm9wcy5jaGVja2VkIHx8IG5leHRQcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fCBmYWxzZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzd2l0Y2hlZDogc3dpdGNoZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUgJiYgc3dpdGNoZWQgIT09IHRoaXMucHJvcHMuc3dpdGNoZWQpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKHN3aXRjaGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU3dpdGNoZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N3aXRjaGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkO1xuICAgIH1cblxuICAgIC8vIG5vIGNhbGxiYWNrIGhlcmUgYmVjYXVzZSB0aGVyZSBpcyBubyBldmVudFxuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTd2l0Y2hlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN3aXRjaGVkKG5ld1N3aXRjaGVkVmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpIHx8IHRoaXMucHJvcHMuY2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QYXJlbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uUGFyZW50U2hvdWxkVXBkYXRlKG5ld1N3aXRjaGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcy5jaGVja2JveC5jaGVja2VkID0gbmV3U3dpdGNoZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdNYXRlcmlhbC1VSTogQ2Fubm90IGNhbGwgc2V0IG1ldGhvZCB3aGlsZSBjaGVja2VkIGlzIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVmcy5jaGVja2JveC52YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVja2JveCBpbnB1dHMgb25seSB1c2UgU1BBQ0UgdG8gY2hhbmdlIHRoZWlyIHN0YXRlLiBVc2luZyBFTlRFUiB3aWxsXG4gICAgLy8gdXBkYXRlIHRoZSB1aSBidXQgbm90IHRoZSBpbnB1dC5cblxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSBib3RoIHRoZSByaXBwbGVzIGFuZCB0aGUgY2hlY2tib3ggaW5wdXQgY2Fubm90IHNoYXJlIHBvaW50ZXJcbiAgICAgKiBldmVudHMsIHRoZSBjaGVja2JveCBpbnB1dCB0YWtlcyBjb250cm9sIG9mIHBvaW50ZXIgZXZlbnRzIGFuZCBjYWxsc1xuICAgICAqIHJpcHBsZSBhbmltYXRpb25zIG1hbnVhbGx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgaWNvblN0eWxlID0gX3Byb3BzLmljb25TdHlsZSxcbiAgICAgICAgICBpbnB1dFN0eWxlID0gX3Byb3BzLmlucHV0U3R5bGUsXG4gICAgICAgICAgaW5wdXRUeXBlID0gX3Byb3BzLmlucHV0VHlwZSxcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbFN0eWxlID0gX3Byb3BzLmxhYmVsU3R5bGUsXG4gICAgICAgICAgbGFiZWxQb3NpdGlvbiA9IF9wcm9wcy5sYWJlbFBvc2l0aW9uLFxuICAgICAgICAgIG9uU3dpdGNoID0gX3Byb3BzLm9uU3dpdGNoLFxuICAgICAgICAgIG9uQmx1ciA9IF9wcm9wcy5vbkJsdXIsXG4gICAgICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgICAgIG9uTW91c2VVcCA9IF9wcm9wcy5vbk1vdXNlVXAsXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfcHJvcHMub25Nb3VzZURvd24sXG4gICAgICAgICAgb25Nb3VzZUxlYXZlID0gX3Byb3BzLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICBvblRvdWNoU3RhcnQgPSBfcHJvcHMub25Ub3VjaFN0YXJ0LFxuICAgICAgICAgIG9uVG91Y2hFbmQgPSBfcHJvcHMub25Ub3VjaEVuZCxcbiAgICAgICAgICBvblBhcmVudFNob3VsZFVwZGF0ZSA9IF9wcm9wcy5vblBhcmVudFNob3VsZFVwZGF0ZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBkaXNhYmxlVG91Y2hSaXBwbGUgPSBfcHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlLFxuICAgICAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcy5kaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICByaXBwbGVDb2xvciA9IF9wcm9wcy5yaXBwbGVDb2xvcixcbiAgICAgICAgICByaXBwbGVTdHlsZSA9IF9wcm9wcy5yaXBwbGVTdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBzd2l0Y2hlZCA9IF9wcm9wcy5zd2l0Y2hlZCxcbiAgICAgICAgICBzd2l0Y2hFbGVtZW50ID0gX3Byb3BzLnN3aXRjaEVsZW1lbnQsXG4gICAgICAgICAgdGh1bWJTdHlsZSA9IF9wcm9wcy50aHVtYlN0eWxlLFxuICAgICAgICAgIHRyYWNrU3R5bGUgPSBfcHJvcHMudHJhY2tTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWyduYW1lJywgJ3ZhbHVlJywgJ2ljb25TdHlsZScsICdpbnB1dFN0eWxlJywgJ2lucHV0VHlwZScsICdsYWJlbCcsICdsYWJlbFN0eWxlJywgJ2xhYmVsUG9zaXRpb24nLCAnb25Td2l0Y2gnLCAnb25CbHVyJywgJ29uRm9jdXMnLCAnb25Nb3VzZVVwJywgJ29uTW91c2VEb3duJywgJ29uTW91c2VMZWF2ZScsICdvblRvdWNoU3RhcnQnLCAnb25Ub3VjaEVuZCcsICdvblBhcmVudFNob3VsZFVwZGF0ZScsICdkaXNhYmxlZCcsICdkaXNhYmxlVG91Y2hSaXBwbGUnLCAnZGlzYWJsZUZvY3VzUmlwcGxlJywgJ2NsYXNzTmFtZScsICdyaXBwbGVDb2xvcicsICdyaXBwbGVTdHlsZScsICdzdHlsZScsICdzd2l0Y2hlZCcsICdzd2l0Y2hFbGVtZW50JywgJ3RodW1iU3R5bGUnLCAndHJhY2tTdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciB3cmFwU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy53cmFwLCBpY29uU3R5bGUpO1xuICAgICAgdmFyIG1lcmdlZFJpcHBsZVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yaXBwbGUsIHJpcHBsZVN0eWxlKTtcblxuICAgICAgaWYgKHRodW1iU3R5bGUpIHtcbiAgICAgICAgd3JhcFN0eWxlcy5tYXJnaW5MZWZ0IC89IDI7XG4gICAgICAgIHdyYXBTdHlsZXMubWFyZ2luUmlnaHQgLz0gMjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IGxhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGFiZWwnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIGxhYmVsU3R5bGUpKSB9LFxuICAgICAgICBsYWJlbFxuICAgICAgKTtcblxuICAgICAgdmFyIHNob3dUb3VjaFJpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZVRvdWNoUmlwcGxlO1xuICAgICAgdmFyIHNob3dGb2N1c1JpcHBsZSA9ICFkaXNhYmxlZCAmJiAhZGlzYWJsZUZvY3VzUmlwcGxlO1xuXG4gICAgICB2YXIgdG91Y2hSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVG91Y2hSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAgcmVmOiAndG91Y2hSaXBwbGUnLFxuICAgICAgICBrZXk6ICd0b3VjaFJpcHBsZScsXG4gICAgICAgIHN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBjZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZm9jdXNSaXBwbGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRm9jdXNSaXBwbGUyLmRlZmF1bHQsIHtcbiAgICAgICAga2V5OiAnZm9jdXNSaXBwbGUnLFxuICAgICAgICBpbm5lclN0eWxlOiBtZXJnZWRSaXBwbGVTdHlsZSxcbiAgICAgICAgY29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlLmNvbG9yLFxuICAgICAgICBtdWlUaGVtZTogdGhpcy5jb250ZXh0Lm11aVRoZW1lLFxuICAgICAgICBzaG93OiB0aGlzLnN0YXRlLmlzS2V5Ym9hcmRGb2N1c2VkXG4gICAgICB9KTtcblxuICAgICAgdmFyIHJpcHBsZXMgPSBbc2hvd1RvdWNoUmlwcGxlID8gdG91Y2hSaXBwbGUgOiBudWxsLCBzaG93Rm9jdXNSaXBwbGUgPyBmb2N1c1JpcHBsZSA6IG51bGxdO1xuXG4gICAgICB2YXIgaW5wdXRFbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHtcbiAgICAgICAgcmVmOiAnY2hlY2tib3gnLFxuICAgICAgICB0eXBlOiBpbnB1dFR5cGUsXG4gICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaW5wdXQsIGlucHV0U3R5bGUpKSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIG9uTW91c2VVcDogc2hvd1RvdWNoUmlwcGxlICYmIHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgICAgb25Nb3VzZURvd246IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZU1vdXNlRG93bixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBzaG93VG91Y2hSaXBwbGUgJiYgdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgIG9uVG91Y2hFbmQ6IHNob3dUb3VjaFJpcHBsZSAmJiB0aGlzLmhhbmRsZVRvdWNoRW5kXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIElmIHRvZ2dsZSBjb21wb25lbnQgKGluZGljYXRlZCBieSB3aGV0aGVyIHRoZSBzdHlsZSBpbmNsdWRlcyB0aHVtYikgbWFudWFsbHkgbGF5IG91dFxuICAgICAgLy8gZWxlbWVudHMgaW4gb3JkZXIgdG8gbmVzdCByaXBwbGUgZWxlbWVudHNcbiAgICAgIHZhciBzd2l0Y2hPclRodW1iRWxlbWVudCA9ICF0aHVtYlN0eWxlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHdyYXBTdHlsZXMpIH0sXG4gICAgICAgIHN3aXRjaEVsZW1lbnQsXG4gICAgICAgIHJpcHBsZXNcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMod3JhcFN0eWxlcykgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCB0cmFja1N0eWxlKSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICB7IHN0eWxlOiB0aHVtYlN0eWxlLCB6RGVwdGg6IDEsIGNpcmNsZTogdHJ1ZSB9LFxuICAgICAgICAgICcgJyxcbiAgICAgICAgICByaXBwbGVzLFxuICAgICAgICAgICcgJ1xuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICB2YXIgZWxlbWVudHNJbk9yZGVyID0gbGFiZWxQb3NpdGlvbiA9PT0gJ3JpZ2h0JyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLmNvbnRyb2xzIH0sXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50LFxuICAgICAgICBsYWJlbEVsZW1lbnRcbiAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHN0eWxlcy5jb250cm9scyB9LFxuICAgICAgICBsYWJlbEVsZW1lbnQsXG4gICAgICAgIHN3aXRjaE9yVGh1bWJFbGVtZW50XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogJ3Jvb3QnLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEV2ZW50TGlzdGVuZXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICB0YXJnZXQ6ICd3aW5kb3cnLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXBcbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgZWxlbWVudHNJbk9yZGVyXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRW5oYW5jZWRTd2l0Y2g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5FbmhhbmNlZFN3aXRjaC5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuRW5oYW5jZWRTd2l0Y2gucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRlZmF1bHRDaGVja2VkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGRpc2FibGVGb2N1c1JpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBkaXNhYmxlVG91Y2hSaXBwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaW5wdXRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGlucHV0VHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2xlZnQnLCAncmlnaHQnXSksXG4gIGxhYmVsU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgb25CbHVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25Nb3VzZUxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblBhcmVudFNob3VsZFVwZGF0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblN3aXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBvblRvdWNoRW5kOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG9uVG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICByaXBwbGVDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHJpcHBsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzd2l0Y2hFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc3dpdGNoZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICB0aHVtYlN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgdHJhY2tTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gRW5oYW5jZWRTd2l0Y2g7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL2ludGVybmFsL0VuaGFuY2VkU3dpdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IHJlcXVpcmUoJ3JlY29tcG9zZS9wdXJlJyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gcmVxdWlyZSgnLi4vLi4vU3ZnSWNvbicpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBUb2dnbGVDaGVja0JveE91dGxpbmVCbGFuayA9IGZ1bmN0aW9uIFRvZ2dsZUNoZWNrQm94T3V0bGluZUJsYW5rKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xOSA1djE0SDVWNWgxNG0wLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yeicgfSlcbiAgKTtcbn07XG5Ub2dnbGVDaGVja0JveE91dGxpbmVCbGFuayA9ICgwLCBfcHVyZTIuZGVmYXVsdCkoVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmspO1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsuZGlzcGxheU5hbWUgPSAnVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsnO1xuVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbmsubXVpTmFtZSA9ICdTdmdJY29uJztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVG9nZ2xlQ2hlY2tCb3hPdXRsaW5lQmxhbms7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy90b2dnbGUvY2hlY2stYm94LW91dGxpbmUtYmxhbmsuanNcbi8vIG1vZHVsZSBpZCA9IDM5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gcmVxdWlyZSgncmVjb21wb3NlL3B1cmUnKTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSByZXF1aXJlKCcuLi8uLi9TdmdJY29uJyk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFRvZ2dsZUNoZWNrQm94ID0gZnVuY3Rpb24gVG9nZ2xlQ2hlY2tCb3gocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9TdmdJY29uMi5kZWZhdWx0LFxuICAgIHByb3BzLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE5IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMTEgMCAyLS45IDItMlY1YzAtMS4xLS44OS0yLTItMnptLTkgMTRsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXonIH0pXG4gICk7XG59O1xuVG9nZ2xlQ2hlY2tCb3ggPSAoMCwgX3B1cmUyLmRlZmF1bHQpKFRvZ2dsZUNoZWNrQm94KTtcblRvZ2dsZUNoZWNrQm94LmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUNoZWNrQm94JztcblRvZ2dsZUNoZWNrQm94Lm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZUNoZWNrQm94O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvdG9nZ2xlL2NoZWNrLWJveC5qc1xuLy8gbW9kdWxlIGlkID0gMzkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTEFSR0UgPSBleHBvcnRzLk1FRElVTSA9IGV4cG9ydHMuU01BTEwgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gd2l0aFdpZHRoO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmVhY3QtZXZlbnQtbGlzdGVuZXInKTtcblxudmFyIF9yZWFjdEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RFdmVudExpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNNQUxMID0gZXhwb3J0cy5TTUFMTCA9IDE7XG52YXIgTUVESVVNID0gZXhwb3J0cy5NRURJVU0gPSAyO1xudmFyIExBUkdFID0gZXhwb3J0cy5MQVJHRSA9IDM7XG5cbmZ1bmN0aW9uIHdpdGhXaWR0aCgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkbGFyZ2VXaWR0aCA9IG9wdGlvbnMubGFyZ2VXaWR0aCxcbiAgICAgIGxhcmdlV2lkdGggPSBfb3B0aW9ucyRsYXJnZVdpZHRoID09PSB1bmRlZmluZWQgPyA5OTIgOiBfb3B0aW9ucyRsYXJnZVdpZHRoLFxuICAgICAgX29wdGlvbnMkbWVkaXVtV2lkdGggPSBvcHRpb25zLm1lZGl1bVdpZHRoLFxuICAgICAgbWVkaXVtV2lkdGggPSBfb3B0aW9ucyRtZWRpdW1XaWR0aCA9PT0gdW5kZWZpbmVkID8gNzY4IDogX29wdGlvbnMkbWVkaXVtV2lkdGgsXG4gICAgICBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPSBvcHRpb25zLnJlc2l6ZUludGVydmFsLFxuICAgICAgcmVzaXplSW50ZXJ2YWwgPSBfb3B0aW9ucyRyZXNpemVJbnRlcnYgPT09IHVuZGVmaW5lZCA/IDE2NiA6IF9vcHRpb25zJHJlc2l6ZUludGVydjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoTXlDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFdpdGhXaWR0aCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFdpdGhXaWR0aCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBXaXRoV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IFdpdGhXaWR0aC5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoV2l0aFdpZHRoKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSwgX3RoaXMuaGFuZGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWZlclRpbWVyKTtcbiAgICAgICAgICBfdGhpcy5kZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVXaWR0aCgpO1xuICAgICAgICAgIH0sIHJlc2l6ZUludGVydmFsKTtcbiAgICAgICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoV2l0aFdpZHRoLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVmZXJUaW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlV2lkdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2lkdGgoKSB7XG4gICAgICAgICAgdmFyIGlubmVyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAoaW5uZXJXaWR0aCA+PSBsYXJnZVdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IExBUkdFO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5uZXJXaWR0aCA+PSBtZWRpdW1XaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBNRURJVU07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlubmVyV2lkdGggPCA3NjhcbiAgICAgICAgICAgIHdpZHRoID0gU01BTEw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hlbiByZW5kZXJpbmcgdGhlIGNvbXBvbmVudCBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgICAqIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB0aGUgc2NyZWVuIHdpZHRoLlxuICAgICAgICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgYmxpbmtzIGFuZCBoZWxwIHRoZSByZWNvbmNpbGlhdGlvblxuICAgICAgICAgICAqIHdlIGFyZSBub3QgcmVuZGVyaW5nIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBIGJldHRlciBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBzZW5kIGNsaWVudCBoaW50cy5cbiAgICAgICAgICAgKiBCdXQgdGhlIGJyb3dzZXIgc3VwcG9ydCBvZiB0aGlzIEFQSSBpcyBsb3c6XG4gICAgICAgICAgICogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y2xpZW50JTIwaGludFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0RXZlbnRMaXN0ZW5lcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAnd2luZG93Jywgb25SZXNpemU6IHRoaXMuaGFuZGxlUmVzaXplIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChNeUNvbXBvbmVudCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSwgdGhpcy5wcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIFdpdGhXaWR0aDtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICB9O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS91dGlscy93aXRoV2lkdGguanNcbi8vIG1vZHVsZSBpZCA9IDQwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9